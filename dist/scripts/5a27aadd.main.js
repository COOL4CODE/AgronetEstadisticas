!function(){var requirejs,require,define;!function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=p.map,q=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,p.nodeIdCompat&&t.test(a[g])&&(a[g]=a[g].replace(t,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||q)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){return k.apply(a,s.call(arguments,0).concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice,t=/\.js$/;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[],v=typeof h;if(i=i||c,"undefined"===v||"function"===v){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h?h.apply(n[c],u):void 0,c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},requirejs=require=k=function(b,c,d,e,f){if("string"==typeof b)return m[b]?m[b](c):g(l(b,c).f);if(!b.splice){if(p=b,p.deps&&k(p.deps,p.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k},k.config=function(a){return k(a)},requirejs._defined=n,define=function(a,c,d){c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(b,c){var d=typeof c;if(b=b.cache,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:r+c;return b=(b=b[d])&&b[e],"object"==d?b&&a(b,c)>-1?0:-1:b?0:-1}function c(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:r+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=i();h["false"]=h["null"]=h["true"]=h.undefined=!1;var j=i();for(j.array=a,j.cache=h,j.push=c;++b<d;)j.push(a[b]);return j}function g(a){return"\\"+V[a]}function h(){return o.pop()||[]}function i(){return p.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function j(a){a.length=0,o.length<t&&o.push(a)}function k(a){var b=a.cache;b&&k(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,p.length<t&&p.push(a)}function l(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function m(c){function o(a){return a&&"object"==typeof a&&!Zc(a)&&Hc.call(a,"__wrapped__")?a:new p(a)}function p(a,b){this.__chain__=!!b,this.__wrapped__=a}function t(a){function b(){if(d){var a=l(d);Ic.apply(a,arguments)}if(this instanceof b){var f=X(c.prototype),g=c.apply(f,a||arguments);return Ea(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Yc(b,a),b}function V(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Ea(a);if(!g)return a;var i=Ac.call(a);if(!R[i])return a;var k=Wc[i];switch(i){case K:case L:return new k(+a);case N:case Q:return new k(a);case P:return f=k(a.source,z.exec(a)),f.lastIndex=a.lastIndex,f}var m=Zc(a);if(b){var n=!d;d||(d=h()),e||(e=h());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=m?k(a.length):{}}else f=m?l(a):ed({},a);return m&&(Hc.call(a,"index")&&(f.index=a.index),Hc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(m?Ya:hd)(a,function(a,g){f[g]=V(a,b,c,d,e)}),n&&(j(d),j(e)),f):f}function X(a,b){return Ea(a)?Nc(a):{}}function Y(a,b,c){if("function"!=typeof a)return Zb;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Xc.funcNames&&(d=!a.name),d=d||!Xc.funcDecomp,!d)){var e=Fc.call(a);Xc.funcNames||(d=!A.test(e)),d||(d=E.test(e),Yc(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Ib(a,b)}function Z(a){function b(){var a=i?g:this;if(e){var o=l(e);Ic.apply(o,arguments)}if((f||k)&&(o||(o=l(arguments)),f&&Ic.apply(o,f),k&&o.length<h))return d|=16,Z([c,m?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[n]),this instanceof b){a=X(c.prototype);var p=c.apply(a,o);return Ea(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,m=8&d,n=c;return Yc(b,a),b}function $(c,d){var e=-1,g=ia(),h=c?c.length:0,i=h>=s&&g===a,j=[];if(i){var l=f(d);l?(g=b,d=l):i=!1}for(;++e<h;){var m=c[e];g(d,m)<0&&j.push(m)}return i&&k(d),j}function aa(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zc(h)||ma(h))){b||(h=aa(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function ba(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var i=typeof a,k=typeof b;if(!(a!==a||a&&U[i]||b&&U[k]))return!1;if(null==a||null==b)return a===b;var l=Ac.call(a),m=Ac.call(b);if(l==I&&(l=O),m==I&&(m=O),l!=m)return!1;switch(l){case K:case L:return+a==+b;case N:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case P:case Q:return a==vc(b)}var n=l==J;if(!n){var o=Hc.call(a,"__wrapped__"),p=Hc.call(b,"__wrapped__");if(o||p)return ba(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(l!=O)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(Da(q)&&q instanceof q&&Da(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=h()),f||(f=h());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var v=t,w=b[u];if(d)for(;v--&&!(g=ba(a[v],w,c,d,e,f)););else if(!(g=ba(a[u],w,c,d,e,f)))break}}else gd(b,function(b,h,i){return Hc.call(i,h)?(u++,g=Hc.call(a,h)&&ba(a[h],b,c,d,e,f)):void 0}),g&&!d&&gd(a,function(a,b,c){return Hc.call(c,b)?g=--u>-1:void 0});return e.pop(),f.pop(),s&&(j(e),j(f)),g}function ca(a,b,c,d,e){(Zc(b)?Ya:hd)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zc(b))||id(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zc(j)?j:[]:id(j)?j:{}),d.push(b),e.push(j),l||ca(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function da(a,b){return a+Ec(Vc()*(b-a+1))}function ea(c,d,e){var g=-1,i=ia(),l=c?c.length:0,m=[],n=!d&&l>=s&&i===a,o=e||n?h():m;if(n){var p=f(o);i=b,o=p}for(;++g<l;){var q=c[g],r=e?e(q,g,c):q;(d?!g||o[o.length-1]!==r:i(o,r)<0)&&((e||n)&&o.push(r),m.push(q))}return n?(j(o.array),k(o)):e&&j(o),m}function fa(a){return function(b,c,d){var e={};c=o.createCallback(c,d,3);var f=-1,g=b?b.length:0;if("number"==typeof g)for(;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else hd(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function ga(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Da(a))throw new wc;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var m=a&&a.__bindData__;if(m&&m!==!0)return m=l(m),m[2]&&(m[2]=l(m[2])),m[3]&&(m[3]=l(m[3])),!g||1&m[1]||(m[4]=e),!g&&1&m[1]&&(b|=8),!i||4&m[1]||(m[5]=f),j&&Ic.apply(m[2]||(m[2]=[]),c),k&&Lc.apply(m[3]||(m[3]=[]),d),m[1]|=b,ga.apply(null,m);var n=1==b||17===b?t:Z;return n([a,b,c,d,e,f])}function ha(a){return ad[a]}function ia(){var b=(b=o.indexOf)===rb?a:b;return b}function ja(a){return"function"==typeof a&&Bc.test(a)}function ka(a){var b,c;return a&&Ac.call(a)==O&&(b=a.constructor,!Da(b)||b instanceof b)?(gd(a,function(a,b){c=b}),"undefined"==typeof c||Hc.call(a,c)):!1}function la(a){return bd[a]}function ma(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==I||!1}function na(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),V(a,b,"function"==typeof c&&Y(c,d,1))}function oa(a,b,c){return V(a,!0,"function"==typeof b&&Y(b,c,1))}function pa(a,b){var c=X(a);return b?ed(c,b):c}function qa(a,b,c){var d;return b=o.createCallback(b,c,3),hd(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function ra(a,b,c){var d;return b=o.createCallback(b,c,3),ta(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function sa(a,b,c){var d=[];gd(a,function(a,b){d.push(b,a)});var e=d.length;for(b=Y(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function ta(a,b,c){var d=_c(a),e=d.length;for(b=Y(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function ua(a){var b=[];return gd(a,function(a,c){Da(a)&&b.push(c)}),b.sort()}function va(a,b){return a?Hc.call(a,b):!1}function wa(a){for(var b=-1,c=_c(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function xa(a){return a===!0||a===!1||a&&"object"==typeof a&&Ac.call(a)==K||!1}function ya(a){return a&&"object"==typeof a&&Ac.call(a)==L||!1}function za(a){return a&&1===a.nodeType||!1}function Aa(a){var b=!0;if(!a)return b;var c=Ac.call(a),d=a.length;return c==J||c==Q||c==I||c==O&&"number"==typeof d&&Da(a.splice)?!d:(hd(a,function(){return b=!1}),b)}function Ba(a,b,c,d){return ba(a,b,"function"==typeof c&&Y(c,d,2))}function Ca(a){return Pc(a)&&!Qc(parseFloat(a))}function Da(a){return"function"==typeof a}function Ea(a){return!(!a||!U[typeof a])}function Fa(a){return Ha(a)&&a!=+a}function Ga(a){return null===a}function Ha(a){return"number"==typeof a||a&&"object"==typeof a&&Ac.call(a)==N||!1}function Ia(a){return a&&"object"==typeof a&&Ac.call(a)==P||!1}function Ja(a){return"string"==typeof a||a&&"object"==typeof a&&Ac.call(a)==Q||!1}function Ka(a){return"undefined"==typeof a}function La(a,b,c){var d={};return b=o.createCallback(b,c,3),hd(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Ma(a){var b=arguments,c=2;if(!Ea(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=Y(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=l(arguments,1,c),f=-1,g=h(),i=h();++f<c;)ca(a,e[f],d,g,i);return j(g),j(i),a}function Na(a,b,c){var d={};if("function"!=typeof b){var e=[];gd(a,function(a,b){e.push(b)}),e=$(e,aa(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=o.createCallback(b,c,3),gd(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function Oa(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Pa(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=aa(arguments,!0,!1,1),g=Ea(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=o.createCallback(b,c,3),gd(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Qa(a,b,c,d){var e=Zc(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=X(g)}return b&&(b=o.createCallback(b,d,4),(e?Ya:hd)(a,function(a,d,e){return b(c,a,d,e)})),c}function Ra(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;)e[b]=a[c[b]];return e}function Sa(a){for(var b=arguments,c=-1,d=aa(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=nc(e);++c<e;)f[c]=a[d[c]];return f}function Ta(a,b,c){var d=-1,e=ia(),f=a?a.length:0,g=!1;return c=(0>c?Sc(0,f+c):c)||0,Zc(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Ja(a)?a.indexOf(b,c):e(a,b,c))>-1:hd(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Ua(a,b,c){var d=!0;b=o.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else hd(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Va(a,b,c){var d=[];b=o.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else hd(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Wa(a,b,c){b=o.createCallback(b,c,3);var d=-1,e=a?a.length:0;if("number"!=typeof e){var f;return hd(a,function(a,c,d){return b(a,c,d)?(f=a,!1):void 0}),f}for(;++d<e;){var g=a[d];if(b(g,d,a))return g}}function Xa(a,b,c){var d;return b=o.createCallback(b,c,3),Za(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}function Ya(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else hd(a,b);return a}function Za(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_c(a);d=e.length,hd(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function $a(a,b){var c=l(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=nc("number"==typeof f?f:0);return Ya(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function _a(a,b,c){var d=-1,e=a?a.length:0;if(b=o.createCallback(b,c,3),"number"==typeof e)for(var f=nc(e);++d<e;)f[d]=b(a[d],d,a);else f=[],hd(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function ab(a,b,c){var e=-(1/0),f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zc(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=null==b&&Ja(a)?d:o.createCallback(b,c,3),Ya(a,function(a,c,d){var g=b(a,c,d);g>e&&(e=g,f=a)});return f}function bb(a,b,c){var e=1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zc(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];f>i&&(f=i)}else b=null==b&&Ja(a)?d:o.createCallback(b,c,3),Ya(a,function(a,c,d){var g=b(a,c,d);e>g&&(e=g,f=a)});return f}function cb(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=o.createCallback(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else hd(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function db(a,b,c,d){var e=arguments.length<3;return b=o.createCallback(b,d,4),Za(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function eb(a,b,c){return b=o.createCallback(b,c,3),Va(a,function(a,c,d){return!b(a,c,d)})}function fb(a,b,c){if(a&&"number"!=typeof a.length&&(a=Ra(a)),null==b||c)return a?a[da(0,a.length-1)]:n;var d=gb(a);return d.length=Tc(Sc(0,b),d.length),d}function gb(a){var b=-1,c=a?a.length:0,d=nc("number"==typeof c?c:0);return Ya(a,function(a){var c=da(0,++b);d[b]=d[c],d[c]=a}),d}function hb(a){var b=a?a.length:0;return"number"==typeof b?b:_c(a).length}function ib(a,b,c){var d;b=o.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&!(d=b(a[e],e,a)););else hd(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function jb(a,b,c){var d=-1,f=Zc(b),g=a?a.length:0,l=nc("number"==typeof g?g:0);for(f||(b=o.createCallback(b,c,3)),Ya(a,function(a,c,e){var g=l[++d]=i();f?g.criteria=_a(b,function(b){return a[b]}):(g.criteria=h())[0]=b(a,c,e),g.index=d,g.value=a}),g=l.length,l.sort(e);g--;){var m=l[g];l[g]=m.value,f||j(m.criteria),k(m)}return l}function kb(a){return a&&"number"==typeof a.length?l(a):Ra(a)}function lb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function mb(a){return $(a,aa(arguments,!0,!0,1))}function nb(a,b,c){var d=-1,e=a?a.length:0;for(b=o.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function ob(a,b,c){var d=a?a.length:0;for(b=o.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function pb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=o.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:n;return l(a,0,Tc(Sc(0,d),e))}function qb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=_a(a,c,d)),aa(a,b)}function rb(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?Sc(0,e+d):d||0}else if(d){var f=Ab(b,c);return b[f]===c?f:-1}return a(b,c,d)}function sb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=o.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return l(a,0,Tc(Sc(0,e-d),e))}function tb(){for(var c=[],d=-1,e=arguments.length,g=h(),i=ia(),l=i===a,m=h();++d<e;){var n=arguments[d];(Zc(n)||ma(n))&&(c.push(n),g.push(l&&n.length>=s&&f(d?c[d]:m)))}var o=c[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var t=g[0];if(n=o[p],(t?b(t,n):i(m,n))<0){for(d=e,(t||m).push(n);--d;)if(t=g[d],(t?b(t,n):i(c[d],n))<0)continue a;r.push(n)}}for(;e--;)t=g[e],t&&k(t);return j(g),j(m),r}function ub(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=o.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:n;return l(a,Sc(0,e-d))}function vb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Sc(0,d+c):Tc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wb(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Kc.call(a,f--,1),e--);return a}function xb(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Sc(0,Cc((b-a)/(c||1))),f=nc(e);++d<e;)f[d]=a,a+=c;return f}function yb(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=o.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Kc.call(a,d--,1),e--)}return f}function zb(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=o.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:Sc(0,b);return l(a,d)}function Ab(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?o.createCallback(c,d,1):Zb,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function Bb(){return ea(aa(arguments,!0,!0))}function Cb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=o.createCallback(c,d,3)),ea(a,b,c)}function Db(a){return $(a,l(arguments,1))}function Eb(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zc(c)||ma(c))var d=d?ea($(d,c).concat($(c,d))):c}return d||[]}function Fb(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?ab(md(a,"length")):0,d=nc(0>c?0:c);++b<c;)d[b]=md(a,b);return d}function Gb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zc(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Hb(a,b){if(!Da(b))throw new wc;return function(){return--a<1?b.apply(this,arguments):void 0}}function Ib(a,b){return arguments.length>2?ga(a,17,l(arguments,2),null,b):ga(a,1,null,null,b)}function Jb(a){for(var b=arguments.length>1?aa(arguments,!0,!1,1):ua(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ga(a[e],1,null,null,a)}return a}function Kb(a,b){return arguments.length>2?ga(b,19,l(arguments,2),null,a):ga(b,3,null,null,a)}function Lb(){for(var a=arguments,b=a.length;b--;)if(!Da(a[b]))throw new wc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Mb(a,b){return b="number"==typeof b?b:+b||a.length,ga(a,4,null,null,null,b)}function Nb(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Da(a))throw new wc;if(b=Sc(0,b)||0,c===!0){var o=!0;m=!1}else Ea(c)&&(o=c.leading,l="maxWait"in c&&(Sc(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var p=function(){var c=b-(od()-g);if(0>=c){e&&Dc(e);var l=j;e=i=j=n,l&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))}else i=Jc(p,c)},q=function(){i&&Dc(i),e=i=j=n,(m||l!==b)&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=od(),h=this,j=m&&(i||!o),l===!1)var c=o&&!i;else{e||o||(k=g);var n=l-(g-k),r=0>=n;r?(e&&(e=Dc(e)),k=g,f=a.apply(h,d)):e||(e=Jc(q,n))}return r&&i?i=Dc(i):i||b===l||(i=Jc(p,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Ob(a){if(!Da(a))throw new wc;var b=l(arguments,1);return Jc(function(){a.apply(n,b)},1)}function Pb(a,b){if(!Da(a))throw new wc;var c=l(arguments,2);return Jc(function(){a.apply(n,c)},b)}function Qb(a,b){if(!Da(a))throw new wc;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):r+arguments[0];return Hc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Rb(a){var b,c;if(!Da(a))throw new wc;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Sb(a){return ga(a,16,l(arguments,1))}function Tb(a){return ga(a,32,null,l(arguments,1))}function Ub(a,b,c){var d=!0,e=!0;if(!Da(a))throw new wc;return c===!1?d=!1:Ea(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),S.leading=d,S.maxWait=b,S.trailing=e,Nb(a,b,S)}function Vb(a,b){return ga(b,16,[a])}function Wb(a){return function(){return a}}function Xb(a,b,c){var d=typeof a;if(null==a||"function"==d)return Y(a,b,c);if("object"!=d)return bc(a);var e=_c(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Ea(g)?function(b){for(var c=e.length,d=!1;c--&&(d=ba(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Yb(a){return null==a?"":vc(a).replace(dd,ha)}function Zb(a){return a}function $b(a,b,c){var d=!0,e=b&&ua(b);b&&(c||e.length)||(null==c&&(c=b),f=p,b=a,a=o,e=ua(b)),c===!1?d=!1:Ea(c)&&"chain"in c&&(d=c.chain);var f=a,g=Da(f);Ya(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];Ic.apply(g,arguments);var h=e.apply(a,g);if(d||b){if(c===h&&Ea(h))return this;h=new f(h),h.__chain__=b}return h})})}function _b(){return c._=zc,this}function ac(){}function bc(a){return function(b){return b[a]}}function cc(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Vc();return Tc(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return da(a,b)}function dc(a,b){if(a){var c=a[b];return Da(c)?a[b]():c}}function ec(a,b,c){var d=o.templateSettings;a=vc(a||""),c=fd({},c,d);var e,f=fd({},c.imports,d.imports),h=_c(f),i=Ra(f),j=0,k=c.interpolate||D,l="__p += '",m=uc((c.escape||D).source+"|"+k.source+"|"+(k===B?y:D).source+"|"+(c.evaluate||D).source+"|$","g");a.replace(m,function(b,c,d,f,h,i){return d||(d=f),l+=a.slice(j,i).replace(F,g),c&&(l+="' +\n__e("+c+") +\n'"),h&&(e=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var p=c.variable,q=p;q||(p="obj",l="with ("+p+") {\n"+l+"\n}\n"),l=(e?l.replace(v,""):l).replace(w,"$1").replace(x,"$1;"),l="function("+p+") {\n"+(q?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+H++ +"]")+"\n*/";try{var s=qc(h,"return "+l+r).apply(n,i)}catch(t){throw t.source=l,t}return b?s(b):(s.source=l,s)}function fc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=nc(a);for(b=Y(b,c,1);++d<a;)e[d]=b(d);return e}function gc(a){return null==a?"":vc(a).replace(cd,la)}function hc(a){var b=++q;return vc(null==a?"":a)+b}function ic(a){return a=new p(a),a.__chain__=!0,a}function jc(a,b){return b(a),a}function kc(){return this.__chain__=!0,this}function lc(){return vc(this.__wrapped__)}function mc(){return this.__wrapped__}c=c?_.defaults(W.Object(),c,_.pick(W,G)):W;var nc=c.Array,oc=c.Boolean,pc=c.Date,qc=c.Function,rc=c.Math,sc=c.Number,tc=c.Object,uc=c.RegExp,vc=c.String,wc=c.TypeError,xc=[],yc=tc.prototype,zc=c._,Ac=yc.toString,Bc=uc("^"+vc(Ac).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Cc=rc.ceil,Dc=c.clearTimeout,Ec=rc.floor,Fc=qc.prototype.toString,Gc=ja(Gc=tc.getPrototypeOf)&&Gc,Hc=yc.hasOwnProperty,Ic=xc.push,Jc=c.setTimeout,Kc=xc.splice,Lc=xc.unshift,Mc=function(){try{var a={},b=ja(b=tc.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Nc=ja(Nc=tc.create)&&Nc,Oc=ja(Oc=nc.isArray)&&Oc,Pc=c.isFinite,Qc=c.isNaN,Rc=ja(Rc=tc.keys)&&Rc,Sc=rc.max,Tc=rc.min,Uc=c.parseInt,Vc=rc.random,Wc={};Wc[J]=nc,Wc[K]=oc,Wc[L]=pc,Wc[M]=qc,Wc[O]=tc,Wc[N]=sc,Wc[P]=uc,Wc[Q]=vc,p.prototype=o.prototype;var Xc=o.support={};Xc.funcDecomp=!ja(c.WinRTError)&&E.test(m),Xc.funcNames="string"==typeof qc.name,o.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:B,variable:"",imports:{_:o}},Nc||(X=function(){function a(){}return function(b){if(Ea(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}());var Yc=Mc?function(a,b){T.value=b,Mc(a,"__bindData__",T)}:ac,Zc=Oc||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==J||!1},$c=function(a){var b,c=a,d=[];if(!c)return d;if(!U[typeof a])return d;for(b in c)Hc.call(c,b)&&d.push(b);return d},_c=Rc?function(a){return Ea(a)?Rc(a):[]}:$c,ad={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bd=wa(ad),cd=uc("("+_c(bd).join("|")+")","g"),dd=uc("["+_c(ad).join("")+"]","g"),ed=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=Y(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&U[typeof e])for(var k=-1,l=U[typeof e]&&_c(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},fd=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&U[typeof e])for(var j=-1,k=U[typeof e]&&_c(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},gd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!U[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},hd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!U[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(var g=-1,h=U[typeof e]&&_c(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},id=Gc?function(a){if(!a||Ac.call(a)!=O)return!1;var b=a.valueOf,c=ja(b)&&(c=Gc(b))&&Gc(c);return c?a==c||Gc(a)==c:ka(a)}:ka,jd=fa(function(a,b,c){Hc.call(a,c)?a[c]++:a[c]=1}),kd=fa(function(a,b,c){(Hc.call(a,c)?a[c]:a[c]=[]).push(b)}),ld=fa(function(a,b,c){a[c]=b}),md=_a,nd=Va,od=ja(od=pc.now)&&od||function(){return(new pc).getTime()},pd=8==Uc(u+"08")?Uc:function(a,b){return Uc(Ja(a)?a.replace(C,""):a,b||0)};return o.after=Hb,o.assign=ed,o.at=Sa,o.bind=Ib,o.bindAll=Jb,o.bindKey=Kb,o.chain=ic,o.compact=lb,o.compose=Lb,o.constant=Wb,o.countBy=jd,o.create=pa,o.createCallback=Xb,o.curry=Mb,o.debounce=Nb,o.defaults=fd,o.defer=Ob,o.delay=Pb,o.difference=mb,o.filter=Va,o.flatten=qb,o.forEach=Ya,o.forEachRight=Za,o.forIn=gd,o.forInRight=sa,o.forOwn=hd,o.forOwnRight=ta,o.functions=ua,o.groupBy=kd,o.indexBy=ld,o.initial=sb,o.intersection=tb,o.invert=wa,o.invoke=$a,o.keys=_c,o.map=_a,o.mapValues=La,o.max=ab,o.memoize=Qb,o.merge=Ma,o.min=bb,o.omit=Na,o.once=Rb,o.pairs=Oa,o.partial=Sb,o.partialRight=Tb,o.pick=Pa,o.pluck=md,o.property=bc,o.pull=wb,o.range=xb,o.reject=eb,o.remove=yb,o.rest=zb,o.shuffle=gb,o.sortBy=jb,o.tap=jc,o.throttle=Ub,o.times=fc,o.toArray=kb,o.transform=Qa,o.union=Bb,o.uniq=Cb,o.values=Ra,o.where=nd,o.without=Db,o.wrap=Vb,o.xor=Eb,o.zip=Fb,o.zipObject=Gb,o.collect=_a,o.drop=zb,o.each=Ya,o.eachRight=Za,o.extend=ed,o.methods=ua,o.object=Gb,o.select=Va,o.tail=zb,o.unique=Cb,o.unzip=Fb,$b(o),o.clone=na,o.cloneDeep=oa,o.contains=Ta,o.escape=Yb,o.every=Ua,o.find=Wa,o.findIndex=nb,o.findKey=qa,o.findLast=Xa,o.findLastIndex=ob,o.findLastKey=ra,o.has=va,o.identity=Zb,o.indexOf=rb,o.isArguments=ma,o.isArray=Zc,o.isBoolean=xa,o.isDate=ya,o.isElement=za,o.isEmpty=Aa,o.isEqual=Ba,o.isFinite=Ca,o.isFunction=Da,o.isNaN=Fa,o.isNull=Ga,o.isNumber=Ha,o.isObject=Ea,o.isPlainObject=id,o.isRegExp=Ia,o.isString=Ja,o.isUndefined=Ka,o.lastIndexOf=vb,o.mixin=$b,o.noConflict=_b,o.noop=ac,o.now=od,o.parseInt=pd,o.random=cc,o.reduce=cb,o.reduceRight=db,o.result=dc,o.runInContext=m,o.size=hb,o.some=ib,o.sortedIndex=Ab,o.template=ec,o.unescape=gc,o.uniqueId=hc,o.all=Ua,o.any=ib,o.detect=Wa,o.findWhere=Wa,o.foldl=cb,o.foldr=db,o.include=Ta,o.inject=cb,$b(function(){var a={};return hd(o,function(b,c){o.prototype[c]||(a[c]=b)}),a}(),!1),o.first=pb,o.last=ub,o.sample=fb,o.take=pb,o.head=pb,hd(o,function(a,b){var c="sample"!==b;o.prototype[b]||(o.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new p(f,e):f})}),o.VERSION="2.4.1",o.prototype.chain=kc,o.prototype.toString=lc,o.prototype.value=mc,o.prototype.valueOf=mc,Ya(["join","pop","shift"],function(a){var b=xc[a];o.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new p(c,a):c}}),Ya(["push","reverse","sort","unshift"],function(a){var b=xc[a];o.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Ya(["concat","slice","splice"],function(a){var b=xc[a];o.prototype[a]=function(){return new p(b.apply(this.__wrapped__,arguments),this.__chain__)}}),o}var n,o=[],p=[],q=0,r=+new Date+"",s=75,t=40,u=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",v=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,z=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,B=/<%=([\s\S]+?)%>/g,C=RegExp("^["+u+"]*0+(?=.$)"),D=/($^)/,E=/\bthis\b/,F=/['\n\r\t\u2028\u2029\\]/g,G=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],H=0,I="[object Arguments]",J="[object Array]",K="[object Boolean]",L="[object Date]",M="[object Function]",N="[object Number]",O="[object Object]",P="[object RegExp]",Q="[object String]",R={};R[M]=!1,R[I]=R[J]=R[K]=R[L]=R[N]=R[O]=R[P]=R[Q]=!0;var S={leading:!1,maxWait:0,trailing:!1},T={configurable:!1,enumerable:!1,value:null,writable:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},V={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},W=U[typeof window]&&window||this,X=U[typeof exports]&&exports&&!exports.nodeType&&exports,Y=U[typeof module]&&module&&!module.nodeType&&module,Z=Y&&Y.exports===X&&X,$=U[typeof global]&&global;!$||$.global!==$&&$.window!==$||(W=$);var _=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(W._=_,define("underscore",[],function(){return _})):X&&Y?Z?(Y.exports=_)._=_:X._=_:W._=_}.call(this),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){
return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=oa[a]={};return _.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ua,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?_.parseJSON(c):c}catch(e){}sa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ka.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)ra.set(a[c],"globalEval",!b||ra.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ra.hasData(a)&&(f=ra.access(a),g=ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sa.hasData(a)&&(h=sa.access(a),i=_.extend({},h),sa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ya.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Oa[a];return c||(c=t(a,b),"none"!==c&&c||(Na=(Na||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Na[0].contentDocument,b.write(),b.close(),c=t(a,b),Na.detach()),Oa[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qa.test(g)&&Pa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xa.length;e--;)if(b=Xa[e]+c,b in a)return b;return d}function y(a,b,c){var d=Ta.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wa[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wa[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wa[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wa[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wa[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ra.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xa(d)&&(f[g]=ra.access(d,"olddisplay",u(d.nodeName)))):(e=xa(d),"none"===c&&e||ra.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Ya=void 0}),Ya=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cb[b]||[]).concat(cb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xa(a),p=ra.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?ra.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ra.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;ra.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bb.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ya||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bb[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.3",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ka=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);
if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};ka.prototype=_.fn,ia=_(Z);var la=/^(?:parents|prev(?:Until|All))/,ma={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(ma[a]||_.unique(e),la.test(a)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,oa={};_.Callbacks=function(a){a="string"==typeof a?oa[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pa||(pa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pa.promise(b)},_.ready.promise();var qa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(na)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ra=new h,sa=new h,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ua=/([A-Z])/g;_.extend({hasData:function(a){return sa.hasData(a)||ra.hasData(a)},data:function(a,b,c){return sa.access(a,b,c)},removeData:function(a,b){sa.remove(a,b)},_data:function(a,b,c){return ra.access(a,b,c)},_removeData:function(a,b){ra.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sa.get(f),1===f.nodeType&&!ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sa.set(this,a)}):qa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sa.get(f,a),void 0!==c)return c;if(c=sa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sa.get(this,d);sa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ra.get(a,b),c&&(!d||_.isArray(c)?d=ra.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ra.get(a,c)||ra.access(a,c,{empty:_.Callbacks("once memory").add(function(){ra.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],xa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},ya=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var za="undefined";Y.focusinBubbles="onfocusin"in a;var Aa=/^key/,Ba=/^(?:mouse|pointer|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==za&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(na)||[""],j=b.length;j--;)h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.hasData(a)&&ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,ra.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ca.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ca.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ra.get(g,"events")||{})[b.type]&&ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(ra.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ba.test(e)?this.mouseHooks:Aa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ra.access(d,b);e||d.addEventListener(a,c,!0),ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ra.access(d,b)-1;e?ra.access(d,b,e):(d.removeEventListener(a,c,!0),ra.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Ga=/<|&#?\w+;/,Ha=/<(?:script|style|link)/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/^$|\/(?:java|ecma)script/i,Ka=/^true\/(.*)/,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option,Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead,Ma.th=Ma.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Ga.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fa.exec(e)||["",""])[1].toLowerCase(),h=Ma[g]||Ma._default,f.innerHTML=h[1]+e.replace(Ea,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ja.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[ra.expando],e&&(b=ra.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);ra.cache[e]&&delete ra.cache[e]}delete sa.cache[c[sa.expando]]}}}),_.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ha.test(a)&&!Ma[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ia.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Ja.test(g.type||"")&&!ra.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(La,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Na,Oa={},Pa=/^margin/,Qa=new RegExp("^("+va+")(?!px)[a-z%]+$","i"),Ra=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sa=/^(none|table(?!-c[ea]).+)/,Ta=new RegExp("^("+va+")(.*)$","i"),Ua=new RegExp("^([+-])=("+va+")","i"),Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ua.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wa&&(e=Wa[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sa.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Va,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wa[d]+b]=f[d]||f[d-2]||f[0];return e}},Pa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=new RegExp("^(?:([+-])=|)("+va+")([a-z%]*)$","i"),ab=/queueHooks$/,bb=[G],cb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cb[c]=cb[c]||[],cb[c].unshift(b)},prefilter:function(a,b){b?bb.unshift(a):bb.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Ya=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),
Ya=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Za||(Za=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Za),Za=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var db,eb,fb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===za?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?eb:db)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),eb={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||_.find.attr;fb[b]=function(a,b,d){var e,f;return d||(f=fb[b],fb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fb[b]=f),e}});var gb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):_.isFunction(a)?this.each(function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===za||"boolean"===c)&&(this.className&&ra.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ra.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hb," ").indexOf(b)>=0)return!0;return!1}});var ib=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ib,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(Y.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jb=_.now(),kb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sb={},tb={},ub="*/".concat("*"),vb=a.location.href,wb=rb.exec(vb.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vb,type:"GET",isLocal:ob.test(wb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sb),ajaxTransport:J(tb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vb)+"").replace(lb,"").replace(qb,wb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(na)||[""],null==l.crossDomain&&(i=rb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wb[1]&&i[2]===wb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wb[3]||("http:"===wb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mb.test(e)?e.replace(mb,"$1_="+jb++):e+(kb.test(e)?"&":"?")+"_="+jb++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return _.isFunction(a)?this.each(function(b){_(this).wrapInner(a.call(this,b))}):this.each(function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xb=/%20/g,yb=/\[\]$/,zb=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bb.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!ya.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cb=0,Db={},Eb={0:200,1223:204},Fb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Db)Db[a]()}),Y.cors=!!Fb&&"withCredentials"in Fb,Y.ajax=Fb=!!Fb,_.ajaxTransport(function(a){var b;return Y.cors||Fb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Db[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Eb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Db[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gb=[],Hb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gb.pop()||_.expando+"_"+jb++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ib=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jb=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==za&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jb;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jb})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qa(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qa.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kb=a.jQuery,Lb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lb),b&&a.jQuery===_&&(a.jQuery=Kb),_},typeof b===za&&(a.jQuery=a.$=_),_}),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;
this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),function(a,b){if("function"==typeof define&&define.amd)define("backbone.marionette",["backbone","underscore"],function(c,d){return a.Marionette=b(a,c,d)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(a,c,d)}else a.Marionette=b(a,a.Backbone,a._)}(this,function(a,b,c){"use strict";!function(a,b){var c=a.ChildViewContainer;return a.ChildViewContainer=function(a,b){var c=function(a){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),b.each(a,this.add,this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;return this._views[c]=a,a.model&&(this._indexByModel[a.model.cid]=c),b&&(this._indexByCustom[b]=c),this._updateLength(),this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){var b=this._indexByModel[a];return this.findByCid(b)},findByCustom:function(a){var b=this._indexByCustom[a];return this.findByCid(b)},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=a.cid;return a.model&&delete this._indexByModel[a.model.cid],b.any(this._indexByCustom,function(a,b){return a===c?(delete this._indexByCustom[b],!0):void 0},this),delete this._views[c],this._updateLength(),this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(d){b.isFunction(d[a])&&d[a].apply(d,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return b.each(d,function(a){c.prototype[a]=function(){var c=b.values(this._views),d=[c].concat(b.toArray(arguments));return b[a].apply(b,d)}}),c}(a,b),a.ChildViewContainer.VERSION="0.1.4",a.ChildViewContainer.noConflict=function(){return a.ChildViewContainer=c,this},a.ChildViewContainer}(b,c),function(a,b){var c=a.Wreqr,d=a.Wreqr={};return a.Wreqr.VERSION="1.3.1",a.Wreqr.noConflict=function(){return a.Wreqr=c,this},d.Handlers=function(a,b){var c=function(a){this.options=a,this._wreqrHandlers={},b.isFunction(this.initialize)&&this.initialize(a)};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var d=null;b.isObject(a)&&!b.isFunction(a)&&(d=a.context,a=a.callback),this.setHandler(c,a,d)},this)},setHandler:function(a,b,c){var d={callback:b,context:c};this._wreqrHandlers[a]=d,this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(a,b),d.CommandStorage=function(){var c=function(a){this.options=a,this._commands={},b.isFunction(this.initialize)&&this.initialize(a)};return b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){var c=this.getCommands(a);c.instances.push(b)},clearCommands:function(a){var b=this.getCommands(a);b.instances=[]}}),c}(),d.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,c)},execute:function(a,b){a=arguments[0],b=Array.prototype.slice.call(arguments,1),this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,c,d){var e=this.storage.getCommands(a);b.each(e.instances,function(a){c.apply(d,a)}),this.storage.clearCommands(a)},_initializeStorage:function(a){var c,d=a.storageType||this.storageType;c=b.isFunction(d)?new d:d,this.storage=c}})}(d),d.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);return this.hasHandler(a)?this.getHandler(a).apply(this,b):void 0}})}(d),d.EventAggregator=function(a,b){var c=function(){};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events),c}(a,b),d.Channel=function(c){var d=function(b){this.vent=new a.Wreqr.EventAggregator,this.reqres=new a.Wreqr.RequestResponse,this.commands=new a.Wreqr.Commands,this.channelName=b};return b.extend(d.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(a,b){return this._connect("vent",a,b),this},connectCommands:function(a,b){return this._connect("commands",a,b),this},connectRequests:function(a,b){return this._connect("reqres",a,b),this},_connect:function(a,c,d){if(c){d=d||this;var e="vent"===a?"on":"setHandler";b.each(c,function(c,f){this[a][e](f,b.bind(c,d))},this)}}}),d}(d),d.radio=function(a){var c=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw new Error("Channel must receive a name");return this._getChannel(a)},_getChannel:function(b){var c=this._channels[b];return c||(c=new a.Channel(b),this._channels[b]=c),c},_proxyMethods:function(){b.each(["vent","commands","reqres"],function(a){b.each(d[a],function(b){this[a][b]=e(this,a,b)},this)},this)}});var d={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},e=function(a,b,c){return function(d){var e=a._getChannel(d)[b],f=Array.prototype.slice.call(arguments,1);return e[c].apply(e,f)}};return new c}(d),a.Wreqr}(b,c);var d=a.Marionette,e=b.Marionette={};e.VERSION="2.2.2",e.noConflict=function(){return a.Marionette=d,this},b.Marionette=e,e.Deferred=b.$.Deferred;var f=Array.prototype.slice;e.extend=b.Model.extend,e.getOption=function(a,b){if(a&&b){var c;return c=a.options&&void 0!==a.options[b]?a.options[b]:a[b]}},e.proxyGetOption=function(a){return e.getOption(this,a)},e.normalizeMethods=function(a){var b={};return c.each(a,function(a,d){c.isFunction(a)||(a=this[a]),a&&(b[d]=a)},this),b},e.normalizeUIString=function(a,b){return a.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(a){return b[a.slice(4)]})},e.normalizeUIKeys=function(a,b){return"undefined"!=typeof a?(a=c.clone(a),c.each(c.keys(a),function(c){var d=e.normalizeUIString(c,b);d!==c&&(a[d]=a[c],delete a[c])}),a):void 0},e.normalizeUIValues=function(a,b){return"undefined"!=typeof a?(c.each(a,function(d,f){c.isString(d)&&(a[f]=e.normalizeUIString(d,b))}),a):void 0},e.actAsCollection=function(a,b){var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];c.each(d,function(d){a[d]=function(){var a=c.values(c.result(this,b)),e=[a].concat(c.toArray(arguments));return c[d].apply(c,e)}})},e.triggerMethod=function(a){function b(a,b,c){return c.toUpperCase()}var d,e=/(^|:)(\w)/gi,f="on"+a.replace(e,b),g=this[f];return c.isFunction(g)&&(d=g.apply(this,c.tail(arguments))),c.isFunction(this.trigger)&&this.trigger.apply(this,arguments),d},e.triggerMethodOn=function(a,b){var d,f=c.tail(arguments,2);return d=c.isFunction(a.triggerMethod)?a.triggerMethod:e.triggerMethod,d.apply(a,[b].concat(f))},e.MonitorDOMRefresh=function(a){function d(a){a._isShown=!0,f(a)}function e(a){a._isRendered=!0,f(a)}function f(a){a._isShown&&a._isRendered&&g(a)&&c.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}function g(c){return b.$.contains(a,c.el)}return function(a){a.listenTo(a,"show",function(){d(a)}),a.listenTo(a,"render",function(){e(a)})}}(document.documentElement),function(a){function b(b,d,e,f){var g=f.split(/\s+/);c.each(g,function(c){var f=b[c];if(!f)throw new a.Error('Method "'+c+'" was configured as an event handler, but does not exist.');b.listenTo(d,e,f)})}function d(a,b,c,d){a.listenTo(b,c,d)}function e(a,b,d,e){var f=e.split(/\s+/);c.each(f,function(c){var e=a[c];a.stopListening(b,d,e)})}function f(a,b,c,d){a.stopListening(b,c,d)}function g(b,d,e,f,g){if(d&&e){if(!c.isFunction(e)&&!c.isObject(e))throw new a.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});c.isFunction(e)&&(e=e.call(b)),c.each(e,function(a,e){c.isFunction(a)?f(b,d,e,a):g(b,d,e,a)})}}a.bindEntityEvents=function(a,c,e){g(a,c,e,d,b)},a.unbindEntityEvents=function(a,b,c){g(a,b,c,f,e)},a.proxyBindEntityEvents=function(b,c){return a.bindEntityEvents(this,b,c)},a.proxyUnbindEntityEvents=function(b,c){return a.unbindEntityEvents(this,b,c)}}(e);var g=["description","fileName","lineNumber","name","message","number"];return e.Error=e.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+e.VERSION+"/",constructor:function(a,b){c.isObject(a)?(b=a,a=b.message):b||(b={});var d=Error.call(this,a);c.extend(this,c.pick(d,g),c.pick(b,g)),this.captureStackTrace(),b.url&&(this.url=this.urlRoot+b.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,e.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),e.Error.extend=e.extend,e.Callbacks=function(){this._deferred=e.Deferred(),this._callbacks=[]},c.extend(e.Callbacks.prototype,{add:function(a,b){var d=c.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b}),d.then(function(c){b&&(c.context=b),a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=e.Deferred(),this._callbacks=[],c.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),e.Controller=function(a){this.options=a||{},c.isFunction(this.initialize)&&this.initialize(this.options)},e.Controller.extend=e.extend,c.extend(e.Controller.prototype,b.Events,{destroy:function(){var a=f.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(a)),this.triggerMethod.apply(this,["destroy"].concat(a)),this.stopListening(),this.off(),this},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption}),e.Object=function(a){this.options=c.extend({},c.result(this,"options"),a),this.initialize.apply(this,arguments)},e.Object.extend=e.extend,c.extend(e.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption,bindEntityEvents:e.proxyBindEntityEvents,unbindEntityEvents:e.proxyUnbindEntityEvents}),c.extend(e.Object.prototype,b.Events),e.Region=function(a){if(this.options=a||{},this.el=this.getOption("el"),this.el=this.el instanceof b.$?this.el[0]:this.el,!this.el)throw new e.Error({name:"NoElError",message:'An "el" must be specified for a region.'});if(this.$el=this.getEl(this.el),this.initialize){var c=f.apply(arguments);this.initialize.apply(this,c)}},c.extend(e.Region,{buildRegion:function(a,b){if(c.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(c.isFunction(a))return this._buildRegionFromRegionClass(a);throw new e.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,d){var e=a.regionClass||d,f=c.omit(a,"selector","regionClass");a.selector&&!f.el&&(f.el=a.selector);var g=new e(f);return a.parentEl&&(g.getEl=function(d){if(c.isObject(d))return b.$(d);var e=a.parentEl;return c.isFunction(e)&&(e=e()),e.find(d)}),g},_buildRegionFromRegionClass:function(a){return new a}}),c.extend(e.Region.prototype,b.Events,{show:function(a,b){this._ensureElement();var c=b||{},d=a!==this.currentView,f=!!c.preventDestroy,g=!!c.forceShow,h=!!this.currentView,i=d&&!f,j=d||g;return h&&this.triggerMethod("before:swapOut",this.currentView),i&&this.empty(),j?(a.once("destroy",this.empty,this),a.render(),h&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),e.triggerMethodOn(a,"before:show"),this.attachHtml(a),h&&this.triggerMethod("swapOut",this.currentView),this.currentView=a,h&&this.triggerMethod("swap",a),this.triggerMethod("show",a),e.triggerMethodOn(a,"show"),this):this},_ensureElement:function(){if(c.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length)throw new e.Error('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(a){return b.$(a)},attachHtml:function(a){this.el.innerHTML="",this.el.appendChild(a.el)},empty:function(){var a=this.currentView;if(a)return a.off("destroy",this.empty,this),this.triggerMethod("before:empty",a),this._destroyView(),this.triggerMethod("empty",a),delete this.currentView,this},_destroyView:function(){var a=this.currentView;a.destroy&&!a.isDestroyed?a.destroy():a.remove&&a.remove()},attachView:function(a){return this.currentView=a,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:e.proxyGetOption,triggerMethod:e.triggerMethod}),e.Region.extend=e.extend,e.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={},a.Controller.call(this,b)},addRegions:function(a,b){c.isFunction(a)&&(a=a.apply(this,arguments));var d={};return c.each(a,function(a,e){c.isString(a)&&(a={selector:a}),a.selector&&(a=c.defaults({},a,b));var f=this.addRegion(e,a);d[e]=f},this),d},addRegion:function(b,c){var d;return d=c instanceof a.Region?c:a.Region.buildRegion(c,a.Region),this.triggerMethod("before:add:region",b,d),this._store(b,d),this.triggerMethod("add:region",b,d),d},get:function(a){return this._regions[a]},getRegions:function(){return c.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];return this._remove(a,b),b},removeRegions:function(){var a=this.getRegions();return c.each(this._regions,function(a,b){this._remove(b,a)},this),a},emptyRegions:function(){var a=this.getRegions();return c.each(a,function(a){a.empty()},this),a},destroy:function(){return this.removeRegions(),a.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]=b,this._setLength()},_remove:function(a,b){this.triggerMethod("before:remove:region",a,b),b.empty(),b.stopListening(),delete this._regions[a],this._setLength(),this.triggerMethod("remove:region",a,b)},_setLength:function(){this.length=c.size(this._regions)}});return a.actAsCollection(b.prototype,"_regions"),b}(e),e.TemplateCache=function(a){this.templateId=a},c.extend(e.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];return b||(b=new e.TemplateCache(a),this.templateCaches[a]=b),b.load()},clear:function(){var a,b=f.call(arguments),c=b.length;if(c>0)for(a=0;c>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),c.extend(e.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a),this.compiledTemplate},loadTemplate:function(a){var c=b.$(a).html();if(!c||0===c.length)throw new e.Error({name:"NoTemplateError",message:'Could not find template: "'+a+'"'});return c},compileTemplate:function(a){return c.template(a)}}),e.Renderer={render:function(a,b){if(!a)throw new e.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var c;return(c="function"==typeof a?a:e.TemplateCache.get(a))(b)}},e.View=b.View.extend({constructor:function(a){c.bindAll(this,"render"),this.options=c.extend({},c.result(this,"options"),c.isFunction(a)?a.call(this):a),this._behaviors=e.Behaviors(this),b.View.apply(this,arguments),e.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,f.call(arguments,1))},mixinTemplateHelpers:function(a){a=a||{};var b=this.getOption("templateHelpers");return c.isFunction(b)&&(b=b.call(this)),c.extend(a,b)},normalizeUIKeys:function(a){var b=c.result(this,"ui"),d=c.result(this,"_uiBindings");return e.normalizeUIKeys(a,d||b)},normalizeUIValues:function(a){var b=c.result(this,"ui"),d=c.result(this,"_uiBindings");return e.normalizeUIValues(a,d||b)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(c.result(this,"triggers"));return c.each(b,function(b,c){a[c]=this._buildViewTrigger(b)},this),a}},delegateEvents:function(a){return this._delegateDOMEvents(a),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),c.each(this._behaviors,function(a){a.bindEntityEvents(this.model,a.getOption("modelEvents")),a.bindEntityEvents(this.collection,a.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(a){var d=a||this.events;c.isFunction(d)&&(d=d.call(this)),d=this.normalizeUIKeys(d),c.isUndefined(a)&&(this.events=d);var e={},f=c.result(this,"behaviorEvents")||{},g=this.configureTriggers(),h=c.result(this,"behaviorTriggers")||{};c.extend(e,f,d,g,h),b.View.prototype.delegateEvents.call(this,e)},undelegateEvents:function(){var a=f.call(arguments);return b.View.prototype.undelegateEvents.apply(this,a),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),c.each(this._behaviors,function(a){a.unbindEntityEvents(this.model,a.getOption("modelEvents")),a.unbindEntityEvents(this.collection,a.getOption("collectionEvents"))},this),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new e.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(!this.isDestroyed){var a=f.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(a)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(a)),this.unbindUIElements(),this.remove(),c.invoke(this._behaviors,"destroy",a),this}},bindUIElements:function(){this._bindUIElements(),c.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,"_uiBindings");this.ui={},c.each(c.keys(a),function(b){var c=a[b];this.ui[b]=this.$(c)},this)}},unbindUIElements:function(){this._unbindUIElements(),c.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(a){var b=c.isObject(a),d=c.defaults({},b?a:{},{preventDefault:!0,stopPropagation:!0}),e=b?d.event:a;return function(a){a&&(a.preventDefault&&d.preventDefault&&a.preventDefault(),a.stopPropagation&&d.stopPropagation&&a.stopPropagation());var b={view:this,model:this.model,collection:this.collection};this.triggerMethod(e,b)}},setElement:function(){var a=b.View.prototype.setElement.apply(this,arguments);return c.invoke(this._behaviors,"proxyViewProperties",this),a},triggerMethod:function(){var a=arguments,b=e.triggerMethod,d=b.apply(this,a);return c.each(this._behaviors,function(c){b.apply(c,a)}),d},normalizeMethods:e.normalizeMethods,getOption:e.proxyGetOption,bindEntityEvents:e.proxyBindEntityEvents,unbindEntityEvents:e.proxyUnbindEntityEvents}),e.ItemView=e.View.extend({constructor:function(){e.View.apply(this,arguments)},serializeData:function(){var a={};return this.model?a=c.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(a={items:c.partial(this.serializeCollection,this.collection).apply(this,arguments)}),a},serializeCollection:function(a){return a.toJSON.apply(a,f.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var a=this.getTemplate();if(a!==!1){if(!a)throw new e.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var b=this.serializeData();b=this.mixinTemplateHelpers(b);var c=e.Renderer.render(a,b,this);return this.attachElContent(c),this}},attachElContent:function(a){return this.$el.html(a),this},destroy:function(){return this.isDestroyed?void 0:e.View.prototype.destroy.apply(this,arguments)}}),e.CollectionView=e.View.extend({childViewEventPrefix:"childview",constructor:function(a){var b=a||{};this.sort=c.isUndefined(b.sort)?!0:b.sort,this.once("render",this._initialEvents),this._initChildViewStorage(),e.View.apply(this,arguments),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&c.each(this._bufferedChildren,c.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(c.each(this._bufferedChildren,c.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(a,b){e.triggerMethodOn(b,a)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(a){this.destroyEmptyView();var b=this.getChildView(a),c=this.collection.indexOf(a);this.addChild(a,b,c)},_onCollectionRemove:function(a){var b=this.children.findByModel(a);this.removeChildView(b),this.checkEmpty()},onShowCalled:function(){this.children.each(c.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var a=this.collection.find(function(a,b){var c=this.children.findByModel(a);return!c||c._index!==b},this);a&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getChildView(b),this.addChild(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var c=new b.Model;this.addEmptyView(c,a),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,b){var d=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");c.isFunction(d)&&(d=d.call(this));var f=this.buildChildView(a,b,d);this.proxyChildEvents(f),this._isShown&&e.triggerMethodOn(f,"before:show"),this.children.add(f),this.renderChildView(f,-1),this._isShown&&e.triggerMethodOn(f,"show")},getChildView:function(a){var b=this.getOption("childView");if(!b)throw new e.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return b},addChild:function(a,b,d){var e=this.getOption("childViewOptions");c.isFunction(e)&&(e=e.call(this,a,d));var f=this.buildChildView(a,b,e);return this._updateIndices(f,!0,d),this._addChildView(f,d),f},_updateIndices:function(a,b,c){this.sort&&(b?(a._index=c,this.children.each(function(b){b._index>=a._index&&b._index++})):this.children.each(function(b){b._index>=a._index&&b._index--}))},_addChildView:function(a,b){this.proxyChildEvents(a),this.triggerMethod("before:add:child",a),this.children.add(a),this.renderChildView(a,b),this._isShown&&!this.isBuffering&&e.triggerMethodOn(a,"show"),this.triggerMethod("add:child",a)},renderChildView:function(a,b){return a.render(),this.attachHtml(this,a,b),a},buildChildView:function(a,b,d){var e=c.extend({model:a},d);return new b(e)},removeChildView:function(a){return a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1)),a},isEmpty:function(){
return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},attachHtml:function(a,b,c){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c,d=this.sort&&b<this.children.length-1;return d&&(c=this.children.find(function(a){return a._index===b+1})),c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},_initChildViewStorage:function(){this.children=new b.ChildViewContainer},destroy:function(){return this.isDestroyed?void 0:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),e.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var a=this.children.map(c.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),a},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var d=f.call(arguments),e=d[0],g=this.normalizeMethods(c.result(this,"childEvents"));d[0]=b+":"+e,d.splice(1,0,a),"undefined"!=typeof g&&c.isFunction(g[e])&&g[e].apply(this,d.slice(1)),this.triggerMethod.apply(this,d)},this)}}),e.CompositeView=e.CollectionView.extend({constructor:function(){e.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(a){var b=this.getOption("childView")||this.constructor;if(!b)throw new e.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return b},serializeData:function(){var a={};return this.model&&(a=c.partial(this.serializeModel,this.model).apply(this,arguments)),a},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&e.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a={};a=this.serializeData(),a=this.mixinTemplateHelpers(a),this.triggerMethod("before:render:template");var b=this.getTemplate(),c=e.Renderer.render(b,a,this);this.attachElContent(c),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(a){return this.$el.html(a),this},attachBuffer:function(a,b){var c=this.getChildViewContainer(a);c.append(b)},_insertAfter:function(a){var b=this.getChildViewContainer(this);b.append(a.el)},getChildViewContainer:function(a){if("$childViewContainer"in a)return a.$childViewContainer;var b,d=e.getOption(a,"childViewContainer");if(d){var f=c.isFunction(d)?d.call(a):d;if(b="@"===f.charAt(0)&&a.ui?a.ui[f.substr(4)]:a.$(f),b.length<=0)throw new e.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+a.childViewContainer})}else b=a.$el;return a.$childViewContainer=b,b},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),e.LayoutView=e.ItemView.extend({regionClass:e.Region,constructor:function(a){a=a||{},this._firstRender=!0,this._initializeRegions(a),e.ItemView.call(this,a)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),e.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),e.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(a,b){var c={};return c[a]=b,this._buildRegions(c)[a]},addRegions:function(a){return this.regions=c.extend({},this.regions,a),this._buildRegions(a)},removeRegion:function(a){return delete this.regions[a],this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b=this,c={regionClass:this.getOption("regionClass"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,c)},_initializeRegions:function(a){var b;this._initRegionManager(),b=c.isFunction(this.regions)?this.regions(a):this.regions||{};var d=this.getOption.call(a,"regions");c.isFunction(d)&&(d=d.call(this,a)),c.extend(b,d),b=this.normalizeUIValues(b),this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(a){a.reset()})},getRegionManager:function(){return new e.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",a)}),this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b,this.triggerMethod("add:region",a,b)}),this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)}),this.listenTo(this.regionManager,"remove:region",function(a,b){delete this[a],this.triggerMethod("remove:region",a,b)})}}),e.Behavior=function(a,b){function c(b,c){this.view=c,this.defaults=a.result(this,"defaults")||{},this.options=a.extend({},this.defaults,b),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return a.extend(c.prototype,b.Events,{initialize:function(){},destroy:function(){this.stopListening()},proxyViewProperties:function(a){this.$el=a.$el,this.el=a.el},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption,bindEntityEvents:e.proxyBindEntityEvents,unbindEntityEvents:e.proxyUnbindEntityEvents}),c.extend=e.extend,c}(c,b),e.Behaviors=function(a,b){function c(a,d){return b.isObject(a.behaviors)?(d=c.parseBehaviors(a,d||b.result(a,"behaviors")),c.wrap(a,d,b.keys(e)),d):{}}function d(a,c){this._view=a,this._viewUI=b.result(a,"ui"),this._behaviors=c,this._triggers={}}var e={behaviorTriggers:function(a,b){var c=new d(this,b);return c.buildBehaviorTriggers()},behaviorEvents:function(c,d){var e={},f=b.result(this,"ui");return b.each(d,function(c,d){var g={},h=b.clone(b.result(c,"events"))||{},i=b.result(c,"ui"),j=b.extend({},f,i);h=a.normalizeUIKeys(h,j),b.each(b.keys(h),function(a){var e=new Array(d+2).join(" "),f=a+e,i=b.isFunction(h[a])?h[a]:c[h[a]];g[f]=b.bind(i,c)}),e=b.extend(e,g)}),e}};return b.extend(c,{behaviorsLookup:function(){throw new a.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(a,d){return a.behaviorClass?a.behaviorClass:b.isFunction(c.behaviorsLookup)?c.behaviorsLookup.apply(this,arguments)[d]:c.behaviorsLookup[d]},parseBehaviors:function(a,d){return b.chain(d).map(function(d,e){var f=c.getBehaviorClass(d,e),g=new f(d,a),h=c.parseBehaviors(a,b.result(g,"behaviors"));return[g].concat(h)}).flatten().value()},wrap:function(a,c,d){b.each(d,function(d){a[d]=b.partial(e[d],a[d],c)})}}),b.extend(d.prototype,{buildBehaviorTriggers:function(){return b.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(c,d){var e=b.extend({},this._viewUI,b.result(c,"ui")),f=b.clone(b.result(c,"triggers"))||{};f=a.normalizeUIKeys(f,e),b.each(f,b.partial(this._setHandlerForBehavior,c,d),this)},_setHandlerForBehavior:function(a,b,c,d){var e=d.replace(/^\S+/,function(a){return a+".behaviortriggers"+b});this._triggers[e]=this._view._buildViewTrigger(c)}}),c}(e,c),e.AppRouter=b.Router.extend({constructor:function(a){b.Router.apply(this,arguments),this.options=a||{};var c=this.getOption("appRoutes"),d=this._getController();this.processAppRoutes(d,c),this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var d=c.invert(this.getOption("appRoutes"))[a];c.isFunction(this.onRoute)&&this.onRoute(a,d,b)},processAppRoutes:function(a,b){if(b){var d=c.keys(b).reverse();c.each(d,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(a,b,d){var f=a[d];if(!f)throw new e.Error('Method "'+d+'" was not found on the controller');this.route(b,d,c.bind(f,a))},getOption:e.proxyGetOption}),e.Application=function(a){this.options=a,this._initializeRegions(a),this._initCallbacks=new e.Callbacks,this.submodules={},c.extend(this,a),this._initChannel(),this.initialize.apply(this,arguments)},c.extend(e.Application.prototype,b.Events,{initialize:function(){},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("before:start",a),this._initCallbacks.run(a,this),this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var c=e.Module.getClass(b),d=f.call(arguments);return d.unshift(this),c.create.apply(c,d)},getRegionManager:function(){return new e.RegionManager},_initializeRegions:function(a){var b=c.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var d=e.getOption(a,"regions");return c.isFunction(d)&&(d=d.call(this,a)),c.extend(b,d),this.addRegions(b),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",a)}),this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b,this.triggerMethod("add:region",a,b)}),this.listenTo(this._regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)}),this.listenTo(this._regionManager,"remove:region",function(a,b){delete this[a],this.triggerMethod("remove:region",a,b)})},_initChannel:function(){this.channelName=c.result(this,"channelName")||"global",this.channel=c.result(this,"channel")||b.Wreqr.radio.channel(this.channelName),this.vent=c.result(this,"vent")||this.channel.vent,this.commands=c.result(this,"commands")||this.channel.commands,this.reqres=c.result(this,"reqres")||this.channel.reqres},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption}),e.Application.extend=e.extend,e.Module=function(a,b,d){this.moduleName=a,this.options=c.extend({},this.options,d),this.initialize=d.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=b,c.isFunction(this.initialize)&&this.initialize(a,b,this.options)},e.Module.extend=e.extend,c.extend(e.Module.prototype,b.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),c.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,d){if(a){var f=c.flatten([this,this.app,b,e,b.$,c,d]);a.apply(this,f)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new e.Callbacks,this._finalizerCallbacks=new e.Callbacks},triggerMethod:e.triggerMethod}),c.extend(e.Module,{create:function(a,b,d){var e=a,g=f.call(arguments);g.splice(0,3),b=b.split(".");var h=b.length,i=[];return i[h-1]=d,c.each(b,function(b,c){var f=e;e=this._getModule(f,b,a,d),this._addModuleDefinition(f,e,i[c],g)},this),e},_getModule:function(a,b,d,e,f){var g=c.extend({},e),h=this.getClass(e),i=a[b];return i||(i=new h(b,d,g),a[b]=i,a.submodules[b]=i),i},getClass:function(a){var b=e.Module;return a?a.prototype instanceof b?a:a.moduleClass||b:b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c),f=this._getStartWithParent(c,b);e&&b.addDefinition(e,d),this._addStartWithParent(a,b,f)},_getStartWithParent:function(a,b){var d;return c.isFunction(a)&&a.prototype instanceof e.Module?(d=b.constructor.prototype.startWithParent,c.isUndefined(d)?!0:d):c.isObject(a)?(d=a.startWithParent,c.isUndefined(d)?!0:d):!0},_getDefine:function(a){return!c.isFunction(a)||a.prototype instanceof e.Module?c.isObject(a)?a.define:null:a},_addStartWithParent:function(a,b,c){b.startWithParent=b.startWithParent&&c,b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),e}),define("text",["module"],function(a){"use strict";var b,c,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,f=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,g="undefined"!=typeof location&&location.href,h=g&&location.protocol&&location.protocol.replace(/\:/,""),i=g&&location.hostname,j=g&&(location.port||void 0),k=[],l=a.config&&a.config()||{};return b={version:"2.0.5",strip:function(a){if(a){a=a.replace(e,"");var b=a.match(f);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:l.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=d[b];try{a=new ActiveXObject(c)}catch(e){}if(a){d=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,l.isBuild&&(k[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();l.isBuild=e.isBuild;var f=b.parseName(a),k=f.moduleName+(f.ext?"."+f.ext:""),m=c.toUrl(k),n=l.useXhr||b.useXhr;!g||n(m,h,i,j)?b.get(m,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([k],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d,e){if(k.hasOwnProperty(c)){var f=b.jsEscape(k[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(c){var d=function(a){return e(j,a)};d.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,d,f)},f)}},"node"===l.env||!l.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("\ufeff")&&(d=d.substring(1)),b(d)}):"xhr"===l.env||!l.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);l.onXhr&&l.onXhr(g,a),g.onreadystatechange=function(b){var e,f;4===g.readyState&&(e=g.status,e>399&&600>e?(f=new Error(a+" HTTP status: "+e),f.xhr=g,d(f)):c(g.responseText))},g.send(null)}:("rhino"===l.env||!l.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}),b}),define("text!tpl/home.html",[],function(){return'<div class="main-nav row navbar navbar-default" role="navigation">\n  <div class="container-fluid">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#search-navbar-collapse">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>                  \n    </div>\n    <div class="navbar-collapse collapse in" id="search-navbar-collapse">      \n      <div class="navbar-form navbar-right" role="search">\n        <div class="input-group">\n          <input id="searchText" type="text" class="form-control" placeholder="Buscar">\n          <span class="input-group-btn">\n            <button id="searchBtn" class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n    \n<div class="main-content row">\n  <!-- CATEGORY -->\n  <div id="category" class="col-sm-12 col-md-1">\n                     \n  </div>\n\n  <!-- HOME REPORTS -->\n  <div id="homeReports" class="col-md-11 col-sm-12">\n    \n  </div>\n</div>'}),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),define("bootstrap/modal",["jquery"],function(a){return function(){var b;return b||a.jquery}}(this)),define("text!tpl/searchList.html",[],function(){return'<div class="modal-content">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title" id="searchLabel">Resultados de búsqueda que contienen: <%= title %></h4>\n  </div>\n  <div class="modal-body">\n    <% _.each(data, function(d){ %>                  \n	<div id="report<%= d.idReporte %>" class="media reportItemSearch" data-report="<%= d.idReporte %>">\n	    <div class="media-body">\n	      <h4 class="media-heading"><span class="title"><%= d.titulo %></span></h4>\n	      <p class="text"><%= d.descripcion %></p>\n	    </div>\n	    <div class="media-footer report-tags-left">\n	      <ul class="button-green">\n	    	  <% _.each(d.etiquetas, function(e){ %>\n		      <li><%= e %></li>\n		      <% }); %>\n    	  </ul>      \n	    </div>\n	</div>\n	<% }); %>\n  </div>\n</div>'}),define("views/searchList",["require","backbone.marionette","underscore","bootstrap/modal","text!tpl/searchList.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore");a("bootstrap/modal");var d=a("text!tpl/searchList.html");return b.ItemView.extend({tagName:"div",className:"modal-dialog",template:c.template(d),events:{"click .reportItemSearch":"openReport"},openReport:function(a){$("#search-region").modal("hide");var b=this.collection.where({idReporte:$(a.currentTarget).data("report")}),c=AgronetEstadisticas.Router.toFragment("reporte/"+b[0].get("idCategoria")+"/"+b[0].get("idReporte"),b[0].get("parametrosIniciales"));AgronetEstadisticas.Router.navigate(c,{trigger:!0})},render:function(){this.$el.html(this.template({title:this.data,data:this.collection.toJSON()})),$("#search-region").modal({keyboard:!1})}})}),define("text!tpl/loading.html",[],function(){return'<div class="row row-centered">\n	<div class="col-md-6 col-centered">		\n		<div class="progress">\n		  <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">\n		    <span>Cargando <%= message %>, un momento por favor.</span>\n		  </div>\n		</div>\n	</div>\n</div>'}),define("views/loading",["require","backbone.marionette","underscore","text!tpl/loading.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("text!tpl/loading.html");return b.ItemView.extend({tagName:"div",className:"container-fluid loading-state",template:c.template(d),onShow:function(){this.$el.height(this.height)},render:function(){this.$el.html(this.template({message:this.message}))}})}),define("json",["text"],function(text){function cacheBust(a){return a=a.replace(CACHE_BUST_FLAG,""),a+=a.indexOf("?")<0?"?":"&",a+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(a,b,c,d){d.isBuild&&(d.inlineJSON===!1||-1!==a.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===b.toUrl(a).indexOf("empty:")?c(null):text.get(b.toUrl(a),function(b){d.isBuild?(buildMap[a]=b,c(b)):c(jsonParse(b))},c.error,{accept:"application/json"})},normalize:function(a,b){return-1!==a.indexOf(CACHE_BUST_FLAG)&&(a=cacheBust(a)),b(a)},write:function(a,b,c){if(b in buildMap){var d=buildMap[b];c('define("'+a+"!"+b+'", function(){ return '+d+";});\n")}}}}),define("json!data/data.json",function(){return{categorias:[{idCategoria:1,ordernamiento:1,titulo:"AGROPECUARIO",tituloPrincipal:"<b>AGROPECUARIO</b> <small>Área, producción, rendimiento, inventario pecuario, y georreferenciación</small>",clase:"agro",reporteInicial:"#reporte/1/101?departamento=13&anio_inicial=2007&anio_final=2013&producto=112070310073",reportes:[101,102,103,104,105,106,107,108,109,110,111,112,113,114]},{idCategoria:5,ordernamiento:2,titulo:"PRECIOS",tituloPrincipal:"<b>PRECIOS</b> <small>Precios, abastecimiento, insumos, costos</small>",clase:"precios",reporteInicial:"#reporte/5/505?producto=432",reportes:[501,502,503,505,506,507,508,509,510,511,515,516,517,518,519,520,521,522,523,524,525,526]},{idCategoria:4,ordernamiento:3,titulo:"COMERCIO",tituloPrincipal:"<b>COMERCIO</b> <small>Importaciones, exportaciones, balanza comercial, contratos futuros y tasa de cambio</small>",clase:"comercio",reporteInicial:"#reporte/4/401?anio_inicial=2000&anio_final=2004&cadena=Caf%C3%A9&partida=|0901110000 - Café sin tostar, sin descafeinar.|0901111000 - Café sin tostar, sin descafeinar, para la siembra.",reportes:[401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,418,419,420,421,422]},{idCategoria:6,ordernamiento:4,titulo:"CREDITOS",tituloPrincipal:"<b>CREDITOS</b> <small>Crédito agropecuario</small>",clase:"creditos",reporteInicial:"#reporte/6/601?anio_inicial=2012&anio_final=2014",reportes:[601,602,603,604,605,606,607,608,609]},{idCategoria:2,ordernamiento:5,titulo:"GREMIOS",tituloPrincipal:"<b>GREMIOS</b> <small>Gremios de la producción</small>",clase:"gremio",reporteInicial:"#reporte/2/201?anio_inicial=2007&anio_final=2009&region=Interior",reportes:[201,202,203,204,205,206,207,208,209,210,211]},{idCategoria:8,ordernamiento:6,titulo:"INDICADORES",tituloPrincipal:"<b>INDICADORES</b> <small>Indicadores económicos</small>",clase:"indicadores",reporteInicial:"#reporte/8/801?anio_inicial=2001&anio_final=2004",reportes:[801,802,803,804,805,806,807,808,809,811,812,813,814,815]},{idCategoria:3,ordernamiento:7,titulo:"LACTEOS",tituloPrincipal:"<b>LACTEOS</b> <small>Productos lácteos</small>",clase:"lacteo",reporteInicial:"#reporte/3/301?anio_inicial=2008&anio_final=2009",reportes:[301,302,303,304,305,306,307,308,309]},{idCategoria:7,ordernamiento:8,titulo:"CLIMA Y PESCA",tituloPrincipal:"<b>PRECIPITACIONES Y PESCA</b> <small>Cifras del sector pesquero, acuícola y precipitaciones por departamento</small>",clase:"pesca",reporteInicial:"#reporte/7/701?fecha_inicial=2007&fecha_final=2009&especie=1156&municipio=|94001|97001",reportes:[701,702,703,704,705,706,707,708]}]}}),define("adapters/adapter",["require","jquery","json!data/data.json"],function(a){"use strict";function b(a,b){var d=c.Deferred();return c.getJSON("scripts/data/"+a+"/"+b+".json",function(a){d.resolve(a)}),d.promise()}var c=a("jquery"),d=a("json!data/data.json");return{findReport:function(a,d){var e=c.Deferred();return b(a,d).done(function(a){e.resolve(a)}),e.promise()},findReportsByIds:function(a){var e=c.Deferred(),f=[];return c.each(d.categorias,function(d,g){c.each(a,function(d,h){c.each(g.reportes,function(c,d){d===parseInt(h,0)&&b(g.idCategoria,d).done(function(b){f.push(b),f.length===a.length&&e.resolve(f)})})})}),e.promise()},findReportsByCategoryId:function(a){var e=c.Deferred(),f=[];return c.each(d.categorias,function(d,g){g.idCategoria===parseInt(a,0)&&c.each(g.reportes,function(a,c){b(g.idCategoria,c).done(function(a){f.push(a),f.length===g.reportes.length&&e.resolve(f)})})}),e.promise()},findChartsByReportId:function(a,d){var e=c.Deferred();return b(a,d).done(function(a){e.resolve(a.graficas)}),e.promise()},findFiltersByReportId:function(a,d){var e=c.Deferred();return b(a,d).done(function(a){e.resolve(a.parametros)}),e.promise()},findFilesByReportId:function(a,d){var e=c.Deferred();return b(a,d).done(function(a){e.resolve(a.archivos)}),e.promise()},findReportsByTagName:function(a){var e=c.Deferred(),f=[];return c.each(d.categorias,function(d,e){c.each(e.reportes,function(d,g){b(e.idCategoria,g).done(function(b){b.titulo.search(new RegExp(a,"i"))>=0||b.descripcion.search(new RegExp(a,"i"))>=0?f.push(b):c.map(b.etiquetas,function(c){c.search(new RegExp(a,"i"))>=0&&f.push(b)})})})}),setTimeout(function(){e.resolve(f)},1e3),e.promise()},findAll:function(){var a=c.Deferred();return a.resolve(d.categorias),a.promise()}}}),define("models/report",["require","backbone","views/loading","adapters/adapter"],function(a){
"use strict";var b=a("backbone"),c=(a("views/loading"),a("adapters/adapter")),d=b.Model.extend({sync:function(a,b,d){"read"===a&&"undefined"!=typeof this.idCategory&&"undefined"!=typeof this.idReport&&c.findReport(this.idCategory,this.idReport).done(function(a){d.success(a)})}}),e=b.Collection.extend({Model:d,sync:function(a,b,d){var e=this;"read"===a&&("undefined"!=typeof this.idCategory?c.findReportsByCategoryId(this.idCategory).done(function(a){a.sort(function(a,b){return a.ordenamiento-b.ordenamiento}),d.success(a)}):"undefined"!=typeof this.searchText?c.findReportsByTagName(this.searchText).done(function(a){a.sort(function(a,b){return a.ordenamiento-b.ordenamiento}),d.success(a)}):"undefined"!=typeof this.homeReports&&this.homeReports.length>0&&c.findReportsByIds(e.homeReports).done(function(a){d.success(a)}))}});return{Model:d,Collection:e}}),define("views/home",["require","underscore","text!tpl/home.html","views/searchList","models/report","backbone.marionette"],function(a){"use strict";var b=a("underscore"),c=a("text!tpl/home.html"),d=a("views/searchList"),e=a("models/report"),f=a("backbone.marionette");return f.LayoutView.extend({id:"main",tagName:"div",className:"container-fluid",template:b.template(c),events:{"click #searchBtn":"searchEvent"},searchEvent:function(a){var b=new e.Collection,c=$("#searchText").val(),f=new d;f.data=c,b.searchText=c,b.fetch({success:function(a){f.collection=a,AgronetEstadisticas.searchRegion.show(f)}})},regions:{categoriesRegion:"#category",homeReportsRegion:"#homeReports"}})}),define("text!tpl/categories.html",[],function(){return'<div class="row">        \n  <% _.each(data, function(d){ %>                  \n    <div class="col-md-12 col-sm-3 col-xs-6">\n   	<a id="category<%= d.idCategoria %>" href="<%= d.reporteInicial %>" class="<%= d.clase %>"><%= d.titulo %></a>\n    </div>    \n  <% }); %>   \n</div>     '}),define("views/categories",["require","backbone.marionette","underscore","text!tpl/categories.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("text!tpl/categories.html");return b.ItemView.extend({tagName:"div",className:"container-fluid",template:c.template(d),onShow:function(){$("#category"+AgronetEstadisticas.idCategory).addClass("activeItem")},render:function(){this.$el.html(this.template({data:this.collection.toJSON()}))}})}),define("text!tpl/homeReports.html",[],function(){return'<% _.each(data, function(d){ %>\n<div class="panel panel-default">\n  <div class="panel-heading text">\n    <div class="media">\n      <div class="media-body">\n        <h4 class="media-heading">\n          <a href="javascript:void(0);" data-report="<%= d.idReporte %>" class="reportItem title"><%= d.titulo %></a>\n        </h4>\n        <%= d.descripcion %> \n      </div>\n      <div class="media-footer report-tags">\n        <% _.each(d.etiquetas, function(e){ %>\n        <span class="button-green"><%= e %></span>\n        <% }); %>\n      </div>\n     </div> \n  </div>  \n\n  <!-- CHART REGION -->\n  <div class="panel-body">  \n    <ul class="list-group">\n      <% _.each(d.graficas, function(g){ %>\n      <li id="chart<%= d.idReporte %>-<%= g.idGrafica %>" class="list-group-item"></li>      \n      <% }); %>\n    </ul>   \n  </div>                                  \n</div>\n<% }); %>'}),function(){function a(){var a,b,c=arguments,d={},e=function(a,b){var c,d;"object"!=typeof a&&(a={});for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"renderTo"!==d&&"number"!=typeof c.nodeType?e(a[d]||{},c):b[d]);return a};for(c[0]===!0&&(d=c[1],c=Array.prototype.slice.call(c,2)),b=c.length,a=0;b>a;a++)d=e(d,c[a]);return d}function b(a,b){return parseInt(a,b||10)}function c(a){return"string"==typeof a}function d(a){return a&&"object"==typeof a}function e(a){return"[object Array]"===Object.prototype.toString.call(a)}function f(a){return"number"==typeof a}function g(a){return ha.log(a)/ha.LN10}function h(a){return ha.pow(10,a)}function i(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function j(a){return a!==I&&null!==a}function k(a,b,e){var f,g;if(c(b))j(e)?a.setAttribute(b,e):a&&a.getAttribute&&(g=a.getAttribute(b));else if(j(b)&&d(b))for(f in b)a.setAttribute(f,b[f]);return g}function l(a){return e(a)?a:[a]}function m(a,b){ua&&!Aa&&b&&b.opacity!==I&&(b.filter="alpha(opacity="+100*b.opacity+")"),Oa(a.style,b)}function n(a,b,c,d,e){return a=fa.createElement(a),b&&Oa(a,b),e&&m(a,{padding:0,border:Ja,margin:0}),c&&m(a,c),d&&d.appendChild(a),a}function o(a,b){var c=function(){return I};return c.prototype=new a,Oa(c.prototype,b),c}function p(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function q(a){return 6e4*(U&&U(a)||T||0)}function r(a,b){for(var c,d,e,f,g,h="{",i=!1,j=[];-1!==(h=a.indexOf(h));){if(c=a.slice(0,h),i){for(d=c.split(":"),e=d.shift().split("."),g=e.length,c=b,f=0;g>f;f++)c=c[e[f]];d.length&&(d=d.join(":"),e=/\.([0-9])/,f=M.lang,g=void 0,/f$/.test(d)?(g=(g=d.match(e))?g[1]:-1,null!==c&&(c=ea.numberFormat(c,g,f.decimalPoint,d.indexOf(",")>-1?f.thousandsSep:""))):c=N(d,c))}j.push(c),a=a.slice(h+1),h=(i=!i)?"}":"{"}return j.push(a),j.join("")}function s(a){return ha.pow(10,ja(ha.log(a)/ha.LN10))}function t(a,b,c,d,e){var f,g=a,c=Pa(c,1);for(f=a/c,b||(b=[1,2,2.5,5,10],d===!1&&(1===c?b=[1,2,5,10]:.1>=c&&(b=[1/c]))),d=0;d<b.length&&(g=b[d],!(e&&g*c>=a||!e&&f<=(b[d]+(b[d+1]||b[d]))/2));d++);return g*=c}function u(a,b){var c,d,e=a.length;for(d=0;e>d;d++)a[d].ss_i=d;for(a.sort(function(a,d){return c=b(a,d),0===c?a.ss_i-d.ss_i:c}),d=0;e>d;d++)delete a[d].ss_i}function v(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function w(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function x(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function y(a){L||(L=n(Ia)),a&&L.appendChild(a),L.innerHTML=""}function z(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;ga.console&&console.log(c)}function A(a){return parseFloat(a.toPrecision(14))}function B(a,b){O=Pa(a,b.animation)}function C(){var a=M.global,b=a.useUTC,c=b?"getUTC":"get",d=b?"setUTC":"set";R=a.Date||window.Date,T=b&&a.timezoneOffset,U=b&&a.getTimezoneOffset,S=function(a,c,d,e,f,g){var h;return b?(h=R.UTC.apply(0,arguments),h+=q(h)):h=new R(a,c,Pa(d,1),Pa(e,0),Pa(f,0),Pa(g,0)).getTime(),h},V=c+"Minutes",W=c+"Hours",X=c+"Day",Y=c+"Date",Z=c+"Month",$=c+"FullYear",_=d+"Minutes",aa=d+"Hours",ba=d+"Date",ca=d+"Month",da=d+"FullYear"}function D(){}function E(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,!c&&!d&&this.addLabel()}function F(a,b,c,d,e){var f=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:Pa(b.y,f?4:c?14:-6),x:Pa(b.x,f?c?-6:6:0)},this.textAlign=b.textAlign||(f?c?"right":"left":"center")}function G(a){var b=a.options,c=b.navigator,d=c.enabled,b=b.scrollbar,e=b.enabled,f=d?c.height:0,g=e?b.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=a,this.setBaseSeries(),this.height=f,this.scrollbarHeight=g,this.scrollbarEnabled=e,this.navigatorEnabled=d,this.navigatorOptions=c,this.scrollbarOptions=b,this.outlineHeight=f+g,this.init()}function H(a){this.init(a)}var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa=document,ga=window,ha=Math,ia=ha.round,ja=ha.floor,ka=ha.ceil,la=ha.max,ma=ha.min,na=ha.abs,oa=ha.cos,pa=ha.sin,qa=ha.PI,ra=2*qa/360,sa=navigator.userAgent,ta=ga.opera,ua=/(msie|trident)/i.test(sa)&&!ta,va=8===fa.documentMode,wa=/AppleWebKit/.test(sa),xa=/Firefox/.test(sa),ya=/(Mobile|Android|Windows Phone)/.test(sa),za="http://www.w3.org/2000/svg",Aa=!!fa.createElementNS&&!!fa.createElementNS(za,"svg").createSVGRect,Ba=xa&&parseInt(sa.split("Firefox/")[1],10)<4,Ca=!Aa&&!ua&&!!fa.createElement("canvas").getContext,Da={},Ea=0,Fa=function(){return I},Ga=[],Ha=0,Ia="div",Ja="none",Ka=/^[0-9]+$/,La=["plotTop","marginRight","marginBottom","plotLeft"],Ma="stroke-width",Na={};ea=ga.Highcharts=ga.Highcharts?z(16,!0):{},ea.seriesTypes=Na;var Oa=ea.extend=function(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a},Pa=ea.pick=function(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],b!==I&&null!==b)return b},Qa=ea.wrap=function(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}};N=function(a,b,c){if(!j(b)||isNaN(b))return"Invalid date";var d,a=Pa(a,"%Y-%m-%d %H:%M:%S"),e=new R(b-q(b)),f=e[W](),g=e[X](),h=e[Y](),i=e[Z](),k=e[$](),l=M.lang,m=l.weekdays,e=Oa({a:m[g].substr(0,3),A:m[g],d:p(h),e:h,w:g,b:l.shortMonths[i],B:l.months[i],m:p(i+1),y:k.toString().substr(2,2),Y:k,H:p(f),I:p(f%12||12),l:f%12||12,M:p(e[V]()),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:p(e.getSeconds()),L:p(ia(b%1e3),3)},ea.dateFormats);for(d in e)for(;-1!==a.indexOf("%"+d);)a=a.replace("%"+d,"function"==typeof e[d]?e[d](b):e[d]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a},Q={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ea.numberFormat=function(a,c,d,e){var f=M.lang,a=+a||0,g=-1===c?ma((a.toString().split(".")[1]||"").length,20):isNaN(c=na(c))?2:c,c=void 0===d?f.decimalPoint:d,e=void 0===e?f.thousandsSep:e,f=0>a?"-":"",d=String(b(a=na(a).toFixed(g))),h=d.length>3?d.length%3:0;return f+(h?d.substr(0,h)+e:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+e)+(g?c+na(a-d).toFixed(g).slice(2):"")},P={init:function(a,b,c){var d,e,f,b=b||"",g=a.shift,h=b.indexOf("C")>-1,i=h?7:3,b=b.split(" "),c=[].concat(c),j=function(a){for(d=a.length;d--;)"M"===a[d]&&a.splice(d+1,0,a[d+1],a[d+2],a[d+1],a[d+2])};if(h&&(j(b),j(c)),a.isArea&&(e=b.splice(b.length-6,6),f=c.splice(c.length-6,6)),g<=c.length/i&&b.length===c.length)for(;g--;)c=[].concat(c).splice(0,i).concat(c);if(a.shift=0,b.length)for(a=c.length;b.length<a;)g=[].concat(b).splice(b.length-i,i),h&&(g[i-6]=g[i-2],g[i-5]=g[i-1]),b=b.concat(g);return e&&(b=b.concat(e),c=c.concat(f)),[b,c]},step:function(a,b,c,d){var e=[],f=a.length;if(1===c)e=d;else if(f===b.length&&1>c)for(;f--;)d=parseFloat(a[f]),e[f]=isNaN(d)?a[f]:c*parseFloat(b[f]-d)+d;else e=b;return e}},function(a){ga.HighchartsAdapter=ga.HighchartsAdapter||a&&{init:function(b){var d=a.fx;a.extend(a.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),a.each(["cur","_default","width","height","opacity"],function(b,c){var e,f=d.step;"cur"===c?f=d.prototype:"_default"===c&&a.Tween&&(f=a.Tween.propHooks[c],c="set"),(e=f[c])&&(f[c]=function(a){var d,a=b?a:this;return"align"!==a.prop?(d=a.elem,d.attr?d.attr(a.prop,"cur"===c?I:a.now):e.apply(this,arguments)):void 0})}),Qa(a.cssHooks.opacity,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)}),this.addAnimSetter("d",function(a){var c,d=a.elem;a.started||(c=b.init(d,d.d,d.toD),a.start=c[0],a.end=c[1],a.started=!0),d.attr("d",b.step(a.start,a.end,a.pos,d.toD))}),this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){var c,d=a.length;for(c=0;d>c;c++)if(b.call(a[c],a[c],c,a)===!1)return c},a.fn.highcharts=function(){var a,b,d="Chart",e=arguments;return this[0]&&(c(e[0])&&(d=e[0],e=Array.prototype.slice.call(e,1)),a=e[0],a!==I&&(a.chart=a.chart||{},a.chart.renderTo=this[0],new ea[d](a,e[1]),b=this),a===I&&(b=Ga[k(this[0],"data-highcharts-chart")])),b}},addAnimSetter:function(b,c){a.Tween?a.Tween.propHooks[b]={set:c}:a.fx.step[b]=c},getScript:a.getScript,inArray:a.inArray,adapterRun:function(b,c){return a(b)[c]()},grep:a.grep,map:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},offset:function(b){return a(b).offset()},addEvent:function(b,c,d){a(b).bind(c,d)},removeEvent:function(b,c,d){var e=fa.removeEventListener?"removeEventListener":"detachEvent";fa[e]&&b&&!b[e]&&(b[e]=function(){}),a(b).unbind(c,d)},fireEvent:function(b,c,d,e){var f,g=a.Event(c),h="detached"+c;!ua&&d&&(delete d.layerX,delete d.layerY,delete d.returnValue),Oa(g,d),b[c]&&(b[h]=b[c],b[c]=null),a.each(["preventDefault","stopPropagation"],function(a,b){var c=g[b];g[b]=function(){try{c.call(g)}catch(a){"preventDefault"===b&&(f=!0)}}}),a(b).trigger(g),b[h]&&(b[c]=b[h],b[h]=null),e&&!g.isDefaultPrevented()&&!f&&e(g)},washMouseEvent:function(a){var b=a.originalEvent||a;return b.pageX===I&&(b.pageX=a.pageX,b.pageY=a.pageY),b},animate:function(b,c,d){var e=a(b);b.style||(b.style={}),c.d&&(b.toD=c.d,c.d=1),e.stop(),c.opacity!==I&&b.attr&&(c.opacity+="px"),b.hasAnim=1,e.animate(c,d)},stop:function(b){b.hasAnim&&a(b).stop()}}}(ga.jQuery);var Ra=ga.HighchartsAdapter,Sa=Ra||{};Ra&&Ra.init.call(Ra,P);var Ta=Sa.adapterRun,Ua=Sa.getScript,Va=Sa.inArray,Wa=ea.each=Sa.each,Xa=Sa.grep,Ya=Sa.offset,Za=Sa.map,$a=Sa.addEvent,_a=Sa.removeEvent,ab=Sa.fireEvent,bb=Sa.washMouseEvent,cb=Sa.animate,db=Sa.stop;M={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ea.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Aa,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:ya?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var eb=M.plotOptions,Ra=eb.line;C();var fb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,gb=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,hb=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ib=function(c){var d,e,g=[];return function(a){a&&a.stops?e=Za(a.stops,function(a){return ib(a[1])}):(d=fb.exec(a))?g=[b(d[1]),b(d[2]),b(d[3]),parseFloat(d[4],10)]:(d=gb.exec(a))?g=[b(d[1],16),b(d[2],16),b(d[3],16),1]:(d=hb.exec(a))&&(g=[b(d[1]),b(d[2]),b(d[3]),1])}(c),{get:function(b){var d;return e?(d=a(c),d.stops=[].concat(d.stops),Wa(e,function(a,c){d.stops[c]=[d.stops[c][0],a.get(b)]})):d=g&&!isNaN(g[0])?"rgb"===b?"rgb("+g[0]+","+g[1]+","+g[2]+")":"a"===b?g[3]:"rgba("+g.join(",")+")":c,d},brighten:function(a){if(e)Wa(e,function(b){b.brighten(a)});else if(f(a)&&0!==a){var c;for(c=0;3>c;c++)g[c]+=b(255*a),g[c]<0&&(g[c]=0),g[c]>255&&(g[c]=255)}return this},rgba:g,setOpacity:function(a){return g[3]=a,this},raw:c}};D.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),init:function(a,b){this.element="span"===b?n(b):fa.createElementNS(za,b),this.renderer=a},animate:function(b,c,d){return c=Pa(c,O,!0),db(this),c?(c=a(c,{}),d&&(c.complete=d),cb(this,b,c)):(this.attr(b),d&&d()),this},colorGradient:function(b,c,d){var f,g,h,i,k,l,m,n,o,p,q=this.renderer,r=[];if(b.linearGradient?g="linearGradient":b.radialGradient&&(g="radialGradient"),g){h=b[g],i=q.gradients,l=b.stops,o=d.radialReference,e(h)&&(b[g]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===g&&o&&!j(h.gradientUnits)&&(h=a(h,{cx:o[0]-o[2]/2+h.cx*o[2],cy:o[1]-o[2]/2+h.cy*o[2],r:h.r*o[2],gradientUnits:"userSpaceOnUse"}));for(p in h)"id"!==p&&r.push(p,h[p]);for(p in l)r.push(l[p]);r=r.join(","),i[r]?b=i[r].attr("id"):(h.id=b="highcharts-"+Ea++,i[r]=k=q.createElement(g).attr(h).add(q.defs),k.stops=[],Wa(l,function(a){0===a[1].indexOf("rgba")?(f=ib(a[1]),m=f.get("rgb"),n=f.get("a")):(m=a[1],n=1),a=q.createElement("stop").attr({offset:a[0],"stop-color":m,"stop-opacity":n}).add(k),k.stops.push(a)})),d.setAttribute(c,"url("+q.url+"#"+b+")")}},applyTextShadow:function(a){var c,d=this.element,e=-1!==a.indexOf("contrast"),f=this.renderer.forExport||d.style.textShadow!==I&&!ua;e&&(a=a.replace(/contrast/g,this.renderer.getContrast(d.style.fill))),f?e&&m(d,{textShadow:a}):(this.fakeTS=!0,this.ySetter=this.xSetter,c=[].slice.call(d.getElementsByTagName("tspan")),Wa(a.split(/\s?,\s?/g),function(a){var e,f,g=d.firstChild,a=a.split(" ");e=a[a.length-1],(f=a[a.length-2])&&Wa(c,function(a,c){var h;0===c&&(a.setAttribute("x",d.getAttribute("x")),c=d.getAttribute("y"),a.setAttribute("y",c||0),null===c&&d.setAttribute("y",0)),h=a.cloneNode(1),k(h,{"class":"highcharts-text-shadow",fill:e,stroke:e,"stroke-opacity":1/la(b(f),3),"stroke-width":f,"stroke-linejoin":"round"}),d.insertBefore(h,g)})}))},attr:function(a,b){var c,d,e,f,g=this.element,h=this;if("string"==typeof a&&b!==I&&(c=a,a={},a[c]=b),"string"==typeof a)h=(this[a+"Getter"]||this._defaultGetter).call(this,a,g);else{for(c in a)d=a[c],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&&(e||(this.symbolAttr(a),e=!0),f=!0),!this.rotation||"x"!==c&&"y"!==c||(this.doTransform=!0),f||(this[c+"Setter"]||this._defaultSetter).call(this,d,c,g),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&&this.updateShadows(c,d);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return h},updateShadows:function(a,b){for(var c=this.shadows,d=c.length;d--;)c[d].setAttribute(a,"height"===a?la(b-(c[d].cutHeight||0),0):"d"===a?this.d:b)},addClass:function(a){var b=this.element,c=k(b,"class")||"";return-1===c.indexOf(a)&&k(b,"class",c+" "+a),this},symbolAttr:function(a){var b=this;Wa("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=Pa(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":Ja)},crisp:function(a){var b,c,d={},e=a.strokeWidth||this.strokeWidth||0;c=ia(e)%2/2,a.x=ja(a.x||this.x||0)+c,a.y=ja(a.y||this.y||0)+c,a.width=ja((a.width||this.width||0)-2*c),a.height=ja((a.height||this.height||0)-2*c),a.strokeWidth=e;for(b in a)this[b]!==a[b]&&(this[b]=d[b]=a[b]);return d},css:function(a){var c,d,e=this.styles,f={},g=this.element,h="";if(c=!e,a&&a.color&&(a.fill=a.color),e)for(d in a)a[d]!==e[d]&&(f[d]=a[d],c=!0);if(c){if(c=this.textWidth=a&&a.width&&"text"===g.nodeName.toLowerCase()&&b(a.width)||this.textWidth,e&&(a=Oa(e,f)),this.styles=a,c&&(Ca||!Aa&&this.renderer.forExport)&&delete a.width,ua&&!Aa)m(this.element,a);else{e=function(a,b){return"-"+b.toLowerCase()};for(d in a)h+=d.replace(/([A-Z])/g,e)+":"+a[d]+";";k(g,"style",h)}c&&this.added&&this.renderer.buildText(this)}return this},on:function(a,b){var c=this,d=c.element;return K&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=R.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===sa.indexOf("Android")||R.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height")),a=["translate("+a+","+b+")"],e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")"),(j(c)||j(d))&&a.push("scale("+Pa(c,1)+" "+Pa(d,1)+")"),a.length&&g.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,d){var e,f,g,h,j={};return f=this.renderer,g=f.alignedObjects,a?(this.alignOptions=a,this.alignByTranslate=b,(!d||c(d))&&(this.alignTo=e=d||"renderer",i(g,this),g.push(this),d=null)):(a=this.alignOptions,b=this.alignByTranslate,e=this.alignTo),d=Pa(d,f[e],f),e=a.align,f=a.verticalAlign,g=(d.x||0)+(a.x||0),h=(d.y||0)+(a.y||0),("right"===e||"center"===e)&&(g+=(d.width-(a.width||0))/{right:1,center:2}[e]),j[b?"translateX":"x"]=ia(g),("bottom"===f||"middle"===f)&&(h+=(d.height-(a.height||0))/({bottom:1,middle:2}[f]||1)),j[b?"translateY":"y"]=ia(h),this[this.placed?"animate":"attr"](j),this.placed=!0,this.alignAttr=j,this},getBBox:function(a){var b,c,d=this.renderer,e=this.rotation,f=this.element,g=this.styles,h=e*ra;c=this.textStr;var i,j,k,l=f.style;if(c!==I&&(k=["",e||0,g&&g.fontSize,f.style.width].join(","),k=""===c||Ka.test(c)?"num:"+c.toString().length+k:c+k),k&&!a&&(b=d.cache[k]),!b){if(f.namespaceURI===za||d.forExport){try{j=this.fakeTS&&function(a){Wa(f.querySelectorAll(".highcharts-text-shadow"),function(b){b.style.display=a})},xa&&l.textShadow?(i=l.textShadow,l.textShadow=""):j&&j(Ja),b=f.getBBox?Oa({},f.getBBox()):{width:f.offsetWidth,height:f.offsetHeight},i?l.textShadow=i:j&&j("")}catch(m){}(!b||b.width<0)&&(b={width:0,height:0})}else b=this.htmlGetBBox();d.isSVG&&(a=b.width,c=b.height,ua&&g&&"11px"===g.fontSize&&"16.9"===c.toPrecision(3)&&(b.height=c=14),e&&(b.width=na(c*pa(h))+na(a*oa(h)),b.height=na(c*oa(h))+na(a*pa(h)))),d.cache[k]=b}return b},show:function(a){return a&&this.element.namespaceURI===za?this.element.removeAttribute("visibility"):this.attr({visibility:a?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(a){var b,c=this.renderer,d=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&c.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(b=this.zIndexSetter()),b||(a?a.element:c.box).appendChild(d),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c=this,d=c.element||{},e=c.shadows,f=c.renderer.isSVG&&"SPAN"===d.nodeName&&c.parentGroup;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null,db(c),c.clipPath&&(c.clipPath=c.clipPath.destroy()),c.stops){for(b=0;b<c.stops.length;b++)c.stops[b]=c.stops[b].destroy();c.stops=null}for(c.safeRemoveChild(d),e&&Wa(e,function(a){c.safeRemoveChild(a)});f&&f.div&&0===f.div.childNodes.length;)d=f.parentGroup,c.safeRemoveChild(f.div),delete f.div,f=d;c.alignTo&&i(c.renderer.alignedObjects,c);for(a in c)delete c[a];return null},shadow:function(a,b,c){var d,e,f,g,h,i,j=[],l=this.element;if(a){for(g=Pa(a.width,3),h=(a.opacity||.15)/g,i=this.parentInverted?"(-1,-1)":"("+Pa(a.offsetX,1)+", "+Pa(a.offsetY,1)+")",d=1;g>=d;d++)e=l.cloneNode(0),f=2*g+1-2*d,k(e,{isShadow:"true",stroke:a.color||"black","stroke-opacity":h*d,"stroke-width":f,transform:"translate"+i,fill:Ja}),c&&(k(e,"height",la(k(e,"height")-f,0)),e.cutHeight=f),b?b.element.appendChild(e):l.parentNode.insertBefore(e,l),j.push(e);this.shadows=j}return this},xGetter:function(a){return"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a),this._defaultGetter(a)},_defaultGetter:function(a){return a=Pa(this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),c.setAttribute(b,a),this[b]=a},dashstyleSetter:function(a){var c;if(a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),c=a.length;c--;)a[c]=b(a[c])*this["stroke-width"];a=a.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=fa.createElementNS(za,"title"),this.element.appendChild(b)),b.textContent=String(Pa(a),"").replace(/<[^>]*>/g,"")},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},zIndexSetter:function(a,c){var d,e,f,g=this.renderer,h=this.parentGroup,g=(h||g).element||g.box,i=this.element;d=this.added;var l;if(j(a)&&(i.setAttribute(c,a),a=+a,this[c]===a&&(d=!1),this[c]=a),d){for((a=this.zIndex)&&h&&(h.handleZ=!0),h=g.childNodes,l=0;l<h.length&&!f;l++)d=h[l],e=k(d,"zIndex"),d!==i&&(b(e)>a||!j(a)&&j(e))&&(g.insertBefore(i,d),f=!0);f||g.appendChild(i)}return f},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}},D.prototype.yGetter=D.prototype.xGetter,D.prototype.translateXSetter=D.prototype.translateYSetter=D.prototype.rotationSetter=D.prototype.verticalAlignSetter=D.prototype.scaleXSetter=D.prototype.scaleYSetter=function(a,b){this[b]=a,this.doTransform=!0},D.prototype["stroke-widthSetter"]=D.prototype.strokeSetter=function(a,b,c){this[b]=a,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],D.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===b&&0===a&&this.hasStroke&&(c.removeAttribute("stroke"),this.hasStroke=!1)};var jb=function(){this.init.apply(this,arguments)};jb.prototype={Element:D,init:function(a,b,c,d,e){var f,g=location,d=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(d));f=d.element,a.appendChild(f),-1===a.innerHTML.indexOf("xmlns")&&k(f,"xmlns",za),this.isSVG=!0,this.box=f,this.boxWrapper=d,this.alignedObjects=[],this.url=(xa||wa)&&fa.getElementsByTagName("base").length?g.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(fa.createTextNode("Created with Highstock 2.1.4")),this.defs=this.createElement("defs").add(),this.forExport=e,this.gradients={},this.cache={},this.setSize(b,c,!1);var h;xa&&a.getBoundingClientRect&&(this.subPixelFix=b=function(){m(a,{left:0,top:0}),h=a.getBoundingClientRect(),m(a,{left:ka(h.left)-h.left+"px",top:ka(h.top)-h.top+"px"})},b(),$a(ga,"resize",b))},getStyle:function(a){return this.style=Oa({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),x(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.subPixelFix&&_a(ga,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:function(){},buildText:function(a){for(var c,d,e=a.element,f=this,g=f.forExport,h=Pa(a.textStr,"").toString(),i=-1!==h.indexOf("<"),j=e.childNodes,l=k(e,"x"),n=a.styles,o=a.textWidth,p=n&&n.lineHeight,q=n&&n.textShadow,r=n&&"ellipsis"===n.textOverflow,s=j.length,t=o&&!a.added&&this.box,u=function(a){return p?b(p):f.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:n&&n.fontSize||f.style.fontSize||12,a).h},v=function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">")};s--;)e.removeChild(j[s]);i||q||r||-1!==h.indexOf(" ")?(c=/<.*style="([^"]+)".*>/,d=/<.*href="(http[^"]+)".*>/,t&&t.appendChild(e),h=i?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],""===h[h.length-1]&&h.pop(),Wa(h,function(b,h){var i,j=0,b=b.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");i=b.split("|||"),Wa(i,function(b){if(""!==b||1===i.length){var p,q={},s=fa.createElementNS(za,"tspan");if(c.test(b)&&(p=b.match(c)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),k(s,"style",p)),d.test(b)&&!g&&(k(s,"onclick",'location.href="'+b.match(d)[1]+'"'),m(s,{cursor:"pointer"})),b=v(b.replace(/<(.|\n)*?>/g,"")||" ")," "!==b){if(s.appendChild(fa.createTextNode(b)),j?q.dx=0:h&&null!==l&&(q.x=l),k(s,q),e.appendChild(s),!j&&h&&(!Aa&&g&&m(s,{display:"block"}),k(s,"dy",u(s))),o){for(var t,w,x,q=b.replace(/([^\^])-/g,"$1- ").split(" "),y=i.length>1||h||q.length>1&&"nowrap"!==n.whiteSpace,z=[],A=u(s),B=1,C=a.rotation,D=b,E=D.length;(y||r)&&(q.length||z.length);)a.rotation=0,t=a.getBBox(!0),x=t.width,!Aa&&f.forExport&&(x=f.measureSpanWidth(s.firstChild.data,a.styles)),t=x>o,void 0===w&&(w=t),r&&w?(E/=2,""===D||!t&&.5>E?q=[]:(t&&(w=!0),D=b.substring(0,D.length+(t?-1:1)*ka(E)),q=[D+"…"],s.removeChild(s.firstChild))):t&&1!==q.length?(s.removeChild(s.firstChild),z.unshift(q.pop())):(q=z,z=[],q.length&&(B++,s=fa.createElementNS(za,"tspan"),k(s,{dy:A,x:l}),p&&k(s,"style",p),e.appendChild(s)),x>o&&(o=x)),q.length&&s.appendChild(fa.createTextNode(q.join(" ").replace(/- /g,"-")));w&&a.attr("title",a.textStr),a.rotation=C}j++}}})}),t&&t.removeChild(e),q&&a.applyTextShadow&&a.applyTextShadow(q)):e.appendChild(fa.createTextNode(v(h)))},getContrast:function(a){return a=ib(a).rgba,a[0]+a[1]+a[2]>384?"#000":"#FFF"},button:function(b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q=this.label(b,c,d,j,null,null,null,null,"button"),r=0,b={x1:0,y1:0,x2:0,y2:1},f=a({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:b,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},f);
return m=f.style,delete f.style,g=a(f,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#FFF"],[1,"#ACF"]]}},g),n=g.style,delete g.style,h=a(f,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#9BD"],[1,"#CDF"]]}},h),o=h.style,delete h.style,i=a(f,{style:{color:"#CCC"}},i),p=i.style,delete i.style,$a(q.element,ua?"mouseover":"mouseenter",function(){3!==r&&q.attr(g).css(n)}),$a(q.element,ua?"mouseout":"mouseleave",function(){3!==r&&(k=[f,g,h][r],l=[m,n,o][r],q.attr(k).css(l))}),q.setState=function(a){(q.state=r=a)?2===a?q.attr(h).css(o):3===a&&q.attr(i).css(p):q.attr(f).css(m)},q.on("click",function(){3!==r&&e.call(q)}).attr(f).css(Oa({cursor:"default"},m))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=ia(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=ia(a[2])+b%2/2),a},path:function(a){var b={fill:Ja};return e(a)?b.d=a:d(a)&&Oa(b,a),this.createElement("path").attr(b)},circle:function(a,b,c){return a=d(a)?a:{x:a,y:b,r:c},b=this.createElement("circle"),b.xSetter=function(a){this.element.setAttribute("cx",a)},b.ySetter=function(a){this.element.setAttribute("cy",a)},b.attr(a)},arc:function(a,b,c,e,f,g){return d(a)&&(b=a.y,c=a.r,e=a.innerR,f=a.start,g=a.end,a=a.x),a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:e||0,start:f||0,end:g||0}),a.r=c,a},rect:function(a,b,c,e,f,g){var f=d(a)?a.r:f,h=this.createElement("rect"),a=d(a)?a:a===I?{}:{x:a,y:b,width:la(c,0),height:la(e,0)};return g!==I&&(a.strokeWidth=g,a=h.crisp(a)),f&&(a.r=f),h.rSetter=function(a){k(this.element,{rx:a,ry:a})},h.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;for(this.width=a,this.height=b,this.boxWrapper[Pa(c,!0)?"animate":"attr"]({width:a,height:b});e--;)d[e].align()},g:function(a){var b=this.createElement("g");return j(a)?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,c,d,e){var f={preserveAspectRatio:Ja};return arguments.length>1&&Oa(f,{x:b,y:c,width:d,height:e}),f=this.createElement("image").attr(f),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):f.element.setAttribute("hc-svg-href",a),f},symbol:function(a,b,c,d,e,f){var g,h,i,j=this.symbols[a],j=j&&j(ia(b),ia(c),d,e,f),k=/^url\((.*?)\)$/;return j?(g=this.path(j),Oa(g,{symbolName:a,x:b,y:c,width:d,height:e}),f&&Oa(g,f)):k.test(a)&&(i=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(ia((d-b[0])/2),ia((e-b[1])/2)))},h=a.match(k)[1],a=Da[h]||f&&f.width&&f.height&&[f.width,f.height],g=this.image(h).attr({x:b,y:c}),g.isImg=!0,a?i(g,a):(g.attr({width:0,height:0}),n("img",{onload:function(){i(g,Da[h]=[this.width,this.height])},src:h}))),g},symbols:{circle:function(a,b,c,d){var e=.166*c;return["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-.001,d=e.innerR,h=e.open,i=oa(f),j=pa(f),k=oa(g),g=pa(g),e=e.end-f<qa?0:1;return["M",a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?"M":"L",a+d*k,b+d*g,"A",d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"]},callout:function(a,b,c,d,e){var f=ma(e&&e.r||0,c,d),g=f+6,h=e&&e.anchorX,i=e&&e.anchorY,e=ia(e.strokeWidth||0)%2/2;return a+=e,b+=e,e=["M",a+f,b,"L",a+c-f,b,"C",a+c,b,a+c,b,a+c,b+f,"L",a+c,b+d-f,"C",a+c,b+d,a+c,b+d,a+c-f,b+d,"L",a+f,b+d,"C",a,b+d,a,b+d,a,b+d-f,"L",a,b+f,"C",a,b,a,b,a+f,b],h&&h>c&&i>b+g&&b+d-g>i?e.splice(13,3,"L",a+c,i-6,a+c+6,i,a+c,i+6,a+c,b+d-f):h&&0>h&&i>b+g&&b+d-g>i?e.splice(33,3,"L",a,i+6,a-6,i,a,i-6,a,b+f):i&&i>d&&h>a+g&&a+c-g>h?e.splice(23,3,"L",h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):i&&0>i&&h>a+g&&a+c-g>h&&e.splice(3,3,"L",h-6,b,h,b-6,h+6,b,c-f,b),e}},clipRect:function(a,b,c,d){var e="highcharts-"+Ea++,f=this.createElement("clipPath").attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);return a.id=e,a.clipPath=f,a.count=0,a},text:function(a,b,c,d){var e=Ca||!Aa&&this.forExport,f={};return d&&!this.forExport?this.html(a,b,c):(f.x=Math.round(b||0),c&&(f.y=Math.round(c)),(a||0===a)&&(f.text=a),a=this.createElement("text").attr(f),e&&a.css({position:"absolute"}),d||(a.xSetter=function(a,b,c){var d,e,f=c.getElementsByTagName("tspan"),g=c.getAttribute(b);for(e=0;e<f.length;e++)d=f[e],d.getAttribute(b)===g&&d.setAttribute(b,a);c.setAttribute(b,a)}),a)},fontMetrics:function(a,c){a=a||this.style.fontSize,c&&ga.getComputedStyle&&(c=c.element||c,a=ga.getComputedStyle(c,"").fontSize);var a=/px/.test(a)?b(a):/em/.test(a)?12*parseFloat(a):12,d=24>a?a+3:ia(1.2*a),e=ia(.8*d);return{h:d,b:e,f:a}},rotCorr:function(a,b,c){var d=a;return b&&c&&(d=la(d*oa(b*ra),4)),{x:-a/3*pa(b*ra),y:d}},label:function(b,c,d,e,f,g,h,i,k){function l(){var a,b;a=y.element.style,p=(void 0===q||void 0===r||x.styles.textAlign)&&j(y.textStr)&&y.getBBox(),x.width=(q||p.width||0)+2*A+B,x.height=(r||p.height||0)+2*A,u=A+w.fontMetrics(a&&a.fontSize,y).b,v&&(o||(a=ia(-z*A),b=i?-u:0,x.box=o=e?w.symbol(e,a,b,x.width,x.height,E):w.rect(a,b,x.width,x.height,0,E[Ma]),o.attr("fill",Ja).add(x)),o.isImg||o.attr(Oa({width:ia(x.width),height:ia(x.height)},E)),E=null)}function m(){var a,b=x.styles,b=b&&b.textAlign,c=B+A*(1-z);a=i?0:u,j(q)&&p&&("center"===b||"right"===b)&&(c+={center:.5,right:1}[b]*(q-p.width)),(c!==y.x||a!==y.y)&&(y.attr("x",c),a!==I&&y.attr("SPAN"===y.element.nodeName?"y":"translateY",a)),y.x=c,y.y=a}function n(a,b){o?o.attr(a,b):E[a]=b}var o,p,q,r,s,t,u,v,w=this,x=w.g(k),y=w.text("",0,0,h).attr({zIndex:1}),z=0,A=3,B=0,C=0,E={};x.onAdd=function(){y.add(x),x.attr({text:b||0===b?b:"",x:c,y:d}),o&&j(f)&&x.attr({anchorX:f,anchorY:g})},x.widthSetter=function(a){q=a},x.heightSetter=function(a){r=a},x.paddingSetter=function(a){j(a)&&a!==A&&(A=x.padding=a,m())},x.paddingLeftSetter=function(a){j(a)&&a!==B&&(B=a,m())},x.alignSetter=function(a){z={left:0,center:.5,right:1}[a]},x.textSetter=function(a){a!==I&&y.textSetter(a),l(),m()},x["stroke-widthSetter"]=function(a,b){a&&(v=!0),C=a%2/2,n(b,a)},x.strokeSetter=x.fillSetter=x.rSetter=function(a,b){"fill"===b&&a&&(v=!0),n(b,a)},x.anchorXSetter=function(a,b){f=a,n(b,a+C-s)},x.anchorYSetter=function(a,b){g=a,n(b,a-t)},x.xSetter=function(a){x.x=a,z&&(a-=z*((q||p.width)+A)),s=ia(a),x.attr("translateX",s)},x.ySetter=function(a){t=x.y=ia(a),x.attr("translateY",t)};var F=x.css;return Oa(x,{css:function(b){if(b){var c={},b=a(b);Wa(x.textProps,function(a){b[a]!==I&&(c[a]=b[a],delete b[a])}),y.css(c)}return F.call(x,b)},getBBox:function(){return{width:p.width+2*A,height:p.height+2*A,x:p.x-A,y:p.y-A}},shadow:function(a){return o&&o.shadow(a),x},destroy:function(){_a(x.element,"mouseenter"),_a(x.element,"mouseleave"),y&&(y=y.destroy()),o&&(o=o.destroy()),D.prototype.destroy.call(x),x=w=l=m=n=null}})}},J=jb,Oa(D.prototype,{htmlCss:function(a){var b=this.element;return(b=a&&"SPAN"===b.tagName&&a.width)&&(delete a.width,this.textWidth=b,this.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),this.styles=Oa(this.styles,a),m(this.element,a),this},htmlGetBBox:function(){var a=this.element;return"text"===a.nodeName&&(a.style.position="absolute"),{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,c=this.element,d=this.translateX||0,e=this.translateY||0,f=this.x||0,g=this.y||0,h=this.textAlign||"left",i={left:0,center:.5,right:1}[h],k=this.shadows,l=this.styles;if(m(c,{marginLeft:d,marginTop:e}),k&&Wa(k,function(a){m(a,{marginLeft:d+1,marginTop:e+1})}),this.inverted&&Wa(c.childNodes,function(b){a.invertChild(b,c)}),"SPAN"===c.tagName){var n,o=this.rotation,p=b(this.textWidth),q=[o,h,c.innerHTML,this.textWidth].join(",");q!==this.cTT&&(n=a.fontMetrics(c.style.fontSize).b,j(o)&&this.setSpanRotation(o,i,n),k=Pa(this.elemWidth,c.offsetWidth),k>p&&/[ \-]/.test(c.textContent||c.innerText)&&(m(c,{width:p+"px",display:"block",whiteSpace:l&&l.whiteSpace||"normal"}),k=p),this.getSpanCorrection(k,n,i,o,h)),m(c,{left:f+(this.xCorr||0)+"px",top:g+(this.yCorr||0)+"px"}),wa&&(n=c.offsetHeight),this.cTT=q}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,c){var d={},e=ua?"-ms-transform":wa?"-webkit-transform":xa?"MozTransform":ta?"-o-transform":"";d[e]=d.transform="rotate("+a+"deg)",d[e+(xa?"Origin":"-origin")]=d.transformOrigin=100*b+"% "+c+"px",m(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),Oa(jb.prototype,{html:function(a,b,c){var d=this.createElement("span"),e=d.element,f=d.renderer;return d.textSetter=function(a){a!==e.innerHTML&&delete this.bBox,e.innerHTML=this.textStr=a},d.xSetter=d.ySetter=d.alignSetter=d.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),d[b]=a,d.htmlUpdateTransform()},d.attr({text:a,x:ia(b),y:ia(c)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),e.style.whiteSpace="nowrap",d.css=d.htmlCss,f.isSVG&&(d.add=function(a){var b,c=f.box.parentNode,g=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)g.push(a),a=a.parentGroup;Wa(g.reverse(),function(a){var d;b=a.div=a.div||n(Ia,{className:k(a.element,"class")},{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px"},b||c),d=b.style,Oa(a,{translateXSetter:function(b,c){d.left=b+"px",a[c]=b,a.doTransform=!0},translateYSetter:function(b,c){d.top=b+"px",a[c]=b,a.doTransform=!0},visibilitySetter:function(a,b){d[b]=a}})})}}else b=c;return b.appendChild(e),d.added=!0,d.alignOnAdd&&d.htmlUpdateTransform(),d}),d}});var kb;Aa||Ca||(Sa={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ","absolute",";"],e=b===Ia;("shape"===b||e)&&d.push("left:0;top:0;width:1px;height:1px;"),d.push("visibility: ",e?"hidden":"visible"),c.push(' style="',d.join(""),'"/>'),b&&(c=e||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=n(c)),this.renderer=a},add:function(a){var b=this.renderer,c=this.element,d=b.box,d=a?a.element||a:d;return a&&a.inverted&&b.invertChild(c,d),d.appendChild(c),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:D.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=oa(a*ra),c=pa(a*ra);m(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):Ja})},getSpanCorrection:function(a,b,c,d,e){var f,g=d?oa(d*ra):1,h=d?pa(d*ra):0,i=Pa(this.elemHeight,this.element.offsetHeight);this.xCorr=0>g&&-a,this.yCorr=0>h&&-i,f=0>g*h,this.xCorr+=h*b*(f?1-c:c),this.yCorr-=g*b*(d?f?c:1-c:1),e&&"left"!==e&&(this.xCorr-=a*c*(0>g?-1:1),d&&(this.yCorr-=i*c*(0>h?-1:1)),m(this.element,{textAlign:e}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)f(a[b])?c[b]=ia(10*a[b])-5:"Z"===a[b]?c[b]="x":(c[b]=a[b],!a.isArc||"wa"!==a[b]&&"at"!==a[b]||(c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1)));return c.join(" ")||"x"},clip:function(a){var b,c=this;return a?(b=a.members,i(b,c),b.push(c),c.destroyClip=function(){i(b,c)},a=a.getCSS(c)):(c.destroyClip&&c.destroyClip(),a={clip:va?"inherit":"rect(auto)"}),c.css(a)},css:D.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&y(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),D.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=ga.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,c){var d,a=a.split(/[ ,]/);return d=a.length,(9===d||11===d)&&(a[d-4]=a[d-2]=b(a[d-2])-10*c),a.join(" ")},shadow:function(a,c,d){var e,f,g,h,i,j,k,l=[],m=this.element,o=this.renderer,p=m.style,q=m.path;if(q&&"string"!=typeof q.value&&(q="x"),i=q,a){for(j=Pa(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,d&&(i=this.cutOffPath(q.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=n(o.prepVML(g),null,{left:b(p.left)+Pa(a.offsetX,1),top:b(p.top)+Pa(a.offsetY,1)}),d&&(f.cutOff=h+1),g=['<stroke color="',a.color||"black",'" opacity="',k*e,'"/>'],n(o.prepVML(g),null,null,f),c?c.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);this.shadows=l}return this},updateShadows:Fa,setAttr:function(a,b){va?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||n(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid",this[b]=a},dSetter:function(a,b,c){var d=this.shadows,a=a||[];if(this.d=a.join&&a.join(" "),c.path=a=this.pathToVML(a),d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;"SPAN"===d?c.style.color=a:"IMG"!==d&&(c.filled=a!==Ja,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},opacitySetter:Fa,rotationSetter:function(a,b,c){c=c.style,this[b]=c[b]=a,c.left=-ia(pa(a*ra)+1)+"px",c.top=ia(oa(a*ra))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a,this[b]=a,f(a)&&(a+="px"),this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible"),this.shadows&&Wa(this.shadows,function(c){c.style[b]=a}),"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,va||(c.style[b]=a?"visible":"hidden"),b="top"),c.style[b]=a},xSetter:function(a,b,c){this[b]=a,"x"===b?b="left":"y"===b&&(b="top"),this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},ea.VMLElement=Sa=o(D,Sa),Sa.prototype.ySetter=Sa.prototype.widthSetter=Sa.prototype.heightSetter=Sa.prototype.xSetter,Sa={Element:Sa,isIE8:sa.indexOf("MSIE 8.0")>-1,init:function(a,b,c,d){var e;if(this.alignedObjects=[],d=this.createElement(Ia).css(Oa(this.getStyle(d),{position:"relative"})),e=d.element,a.appendChild(d.element),this.isVML=!0,this.box=e,this.boxWrapper=d,this.cache={},this.setSize(b,c,!1),!fa.namespaces.hcv){fa.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{fa.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(f){fa.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,c,e){var f=this.createElement(),g=d(a);return Oa(f,{members:[],count:0,left:(g?a.x:a)+1,top:(g?a.y:b)+1,width:(g?a.width:c)-1,height:(g?a.height:e)-1,getCSS:function(a){var b=a.element,c=b.nodeName,a=a.inverted,d=this.top-("shape"===c?b.offsetTop:0),e=this.left,b=e+this.width,f=d+this.height,d={clip:"rect("+ia(a?e:d)+"px,"+ia(a?f:b)+"px,"+ia(a?b:f)+"px,"+ia(a?d:e)+"px)"};return!a&&va&&"DIV"===c&&Oa(d,{width:b+"px",height:f+"px"}),d},updateClipping:function(){Wa(f.members,function(a){a.element&&a.css(f.getCSS(a))})}})},color:function(a,b,c,d){var e,f,g,h=this,i=/^rgba/,j=Ja;if(a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern"),g){var k,l,m,o,p,q,r,s,t=a.linearGradient||a.radialGradient,u="",a=a.stops,v=[],w=function(){f=['<fill colors="'+v.join(",")+'" opacity="',p,'" o:opacity2="',o,'" type="',g,'" ',u,'focus="100%" method="any" />'],n(h.prepVML(f),null,null,b)};if(m=a[0],s=a[a.length-1],m[0]>0&&a.unshift([0,m[1]]),s[0]<1&&a.push([1,s[1]]),Wa(a,function(a,b){i.test(a[1])?(e=ib(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1),v.push(100*a[0]+"% "+k),b?(p=l,q=k):(o=l,r=k)}),"fill"===c)if("gradient"===g)c=t.x1||t[0]||0,a=t.y1||t[1]||0,m=t.x2||t[2]||0,t=t.y2||t[3]||0,u='angle="'+(90-180*ha.atan((t-a)/(m-c))/qa)+'"',w();else{var x,j=t.r,y=2*j,z=2*j,A=t.cx,B=t.cy,C=b.radialReference,j=function(){C&&(x=d.getBBox(),A+=(C[0]-x.x)/x.width-.5,B+=(C[1]-x.y)/x.height-.5,y*=C[2]/x.width,z*=C[2]/x.height),u='src="'+M.global.VMLRadialGradientURL+'" size="'+y+","+z+'" origin="0.5,0.5" position="'+A+","+B+'" color2="'+r+'" ',w()};d.added?j():d.onAdd=j,j=q}else j=k}else i.test(a)&&"IMG"!==b.tagName?(e=ib(a),f=["<",c,' opacity="',e.get("a"),'"/>'],n(this.prepVML(f),null,null,b),j=e.get("rgb")):(j=b.getElementsByTagName(c),j.length&&(j[0].opacity=1,j[0].type="solid"),j=a);return j},prepVML:function(a){var b=this.isIE8,a=a.join("");return b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:"),a},text:jb.prototype.html,path:function(a){var b={coordsize:"10 10"};return e(a)?b.d=a:d(a)&&Oa(b,a),this.createElement("shape").attr(b)},circle:function(a,b,c){var e=this.symbol("circle");return d(a)&&(c=a.r,b=a.y,a=a.x),e.isCircle=!0,e.r=c,e.attr({x:a,y:b})},g:function(a){var b;return a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a}),this.createElement(Ia).attr(b)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.attr({x:b,y:c,width:d,height:e}),f},createElement:function(a){return"rect"===a?this.symbol(a):jb.prototype.createElement.call(this,a)},invertChild:function(a,c){var d=this,e=c.style,f="IMG"===a.tagName&&a.style;m(a,{flip:"x",left:b(e.width)-(f?b(f.top):1),top:b(e.height)-(f?b(f.left):1),rotation:-90}),Wa(a.childNodes,function(b){d.invertChild(b,a)})},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=oa(f),i=pa(f),j=oa(g),k=pa(g);return g-f===0?["x"]:(f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k],e.open&&!c&&f.push("e","M",a,b),f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){return jb.prototype.symbols[j(e)&&e.r?"callout":"square"].call(0,a,b,c,d,e)}}},ea.VMLRenderer=kb=function(){this.init.apply(this,arguments)},kb.prototype=a(jb.prototype,Sa),J=kb),jb.prototype.measureSpanWidth=function(a,b){var c,d=fa.createElement("span");return c=fa.createTextNode(a),d.appendChild(c),m(d,b),this.box.appendChild(d),c=d.offsetWidth,y(d),c};var lb;Ca&&(ea.CanVGRenderer=Sa=function(){za="http://www.w3.org/1999/xhtml"},Sa.prototype.symbols={},lb=function(){function a(){var a,c=b.length;for(a=0;c>a;a++)b[a]();b=[]}var b=[];return{push:function(c,d){0===b.length&&Ua(d,a),b.push(c)}}}(),J=Sa),E.prototype={addLabel:function(){var b,c=this.axis,d=c.options,e=c.chart,f=c.categories,g=c.names,i=this.pos,k=d.labels,l=c.tickPositions,m=i===l[0],n=i===l[l.length-1],g=f?Pa(f[i],g[i],i):i,f=this.label,l=l.info;c.isDatetimeAxis&&l&&(b=d.dateTimeLabelFormats[l.higherRanks[i]||l.unitName]),this.isFirst=m,this.isLast=n,d=c.labelFormatter.call({axis:c,chart:e,isFirst:m,isLast:n,dateTimeLabelFormat:b,value:c.isLog?A(h(g)):g}),j(f)?f&&f.attr({text:d}):(this.labelLength=(this.label=f=j(d)&&k.enabled?e.renderer.text(d,0,0,k.useHTML).css(a(k.style)).add(c.labelGroup):null)&&f.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var b,c=this.axis,d=a.x,e=c.chart.chartWidth,f=c.chart.spacing,g=Pa(c.labelLeft,f[3]),f=Pa(c.labelRight,e-f[1]),h=this.label,i=this.rotation,j={left:0,center:.5,right:1}[c.labelAlign],k=h.getBBox().width,c=c.slotWidth;i?0>i&&g>d-j*k?b=ia(d/oa(i*ra)-g):i>0&&d+j*k>f&&(b=ia((e-d)/oa(i*ra))):(e=d-j*k,d+=j*k,g>e?(c-=g-e,a.x=g,h.attr({align:"left"})):d>f&&(c-=d-f,a.x=f,h.attr({align:"right"})),k>c&&(b=c)),b&&h.css({width:b,textOverflow:"ellipsis"})},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,l=i.staggerLines,m=i.tickRotCorr||{x:0,y:0},c=Pa(e.y,m.y+(2===i.side?8:-(c.getBBox().height/2))),a=a+e.x+m.x-(f&&d?f*j*(k?-1:1):0),b=b+c-(f&&!d?f*j*(k?1:-1):0);return l&&(b+=g/(h||1)%l*(i.labelOffset/l)),{x:a,y:ia(b)}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,e=d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,m=h?h+"Grid":"grid",n=h?h+"Tick":"tick",o=e[m+"LineWidth"],p=e[m+"LineColor"],q=e[m+"LineDashStyle"],r=e[n+"Length"],m=e[n+"Width"]||0,s=e[n+"Color"],t=e[n+"Position"],n=this.mark,u=k.step,v=!0,w=d.tickmarkOffset,x=this.getPosition(g,j,w,b),y=x.x,x=x.y,z=g&&y===d.pos+d.len||!g&&x===d.pos?-1:1,c=Pa(c,1);this.isActive=!0,o&&(j=d.getPlotLinePath(j+w,o*z,b,!0),l===I&&(l={stroke:p,"stroke-width":o},q&&(l.dashstyle=q),h||(l.zIndex=1),b&&(l.opacity=0),this.gridLine=l=o?f.path(j).attr(l).add(d.gridGroup):null),!b&&l&&j&&l[this.isNew?"attr":"animate"]({d:j,opacity:c})),m&&r&&("inside"===t&&(r=-r),d.opposite&&(r=-r),h=this.getMarkPath(y,x,r,m*z,g,f),n?n.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:s,"stroke-width":m,opacity:c}).add(d.axisGroup)),i&&!isNaN(y)&&(i.xy=x=this.getLabelPosition(y,x,i,g,k,w,a,u),this.isFirst&&!this.isLast&&!Pa(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Pa(e.showLastLabel,1)?v=!1:g&&!d.isRadial&&!k.step&&!k.rotation&&!b&&0!==c&&this.handleOverflow(x),u&&a%u&&(v=!1),v&&!isNaN(x.y)?(x.opacity=c,i[this.isNew?"attr":"animate"](x),this.isNew=!1):i.attr("y",-9999))},destroy:function(){x(this,this.axis)}},ea.PlotLineOrBand=function(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)},ea.PlotLineOrBand.prototype={render:function(){var b,c=this,d=c.axis,e=d.horiz,f=c.options,h=f.label,i=c.label,k=f.width,l=f.to,m=f.from,n=j(m)&&j(l),o=f.value,p=f.dashStyle,q=c.svgElem,r=[],s=f.color,t=f.zIndex,u=f.events,x={},y=d.chart.renderer;if(d.isLog&&(m=g(m),l=g(l),o=g(o)),k)r=d.getPlotLinePath(o,k),x={stroke:s,"stroke-width":k},p&&(x.dashstyle=p);else{if(!n)return;r=d.getPlotBandPath(m,l,f),s&&(x.fill=s),f.borderWidth&&(x.stroke=f.borderColor,x["stroke-width"]=f.borderWidth)}if(j(t)&&(x.zIndex=t),q)r?q.animate({d:r},null,q.onGetPath):(q.hide(),q.onGetPath=function(){q.show()},i&&(c.label=i=i.destroy()));else if(r&&r.length&&(c.svgElem=q=y.path(r).attr(x).add(),u))for(b in f=function(a){q.on(a,function(b){u[a].apply(c,[b])})},u)f(b);return h&&j(h.text)&&r&&r.length&&d.width>0&&d.height>0?(h=a({align:e&&n&&"center",x:e?!n&&4:10,verticalAlign:!e&&n&&"middle",y:e?n?16:10:n?6:-4,rotation:e&&!n&&90},h),i||(x={align:h.textAlign||h.align,rotation:h.rotation},j(t)&&(x.zIndex=t),c.label=i=y.text(h.text,0,0,h.useHTML).attr(x).css(h.style).add()),d=[r[1],r[4],n?r[6]:r[1]],n=[r[2],r[5],n?r[7]:r[2]],r=v(d),e=v(n),i.align(h,!1,{x:r,y:e,width:w(d)-r,height:w(n)-e}),i.show()):i&&i.hide(),c},destroy:function(){i(this.axis.plotLinesAndBands,this),delete this.axis,x(this)}};var mb=ea.Axis=function(){this.init.apply(this,arguments)};mb.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ea.numberFormat(this.total,-1)},style:a(eb.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.horiz=a.inverted?!c:c,this.coll=(this.isXAxis=c)?"xAxis":"yAxis",this.opposite=b.opposite,this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter,this.userOptions=b,this.minPixelPadding=0,this.chart=a,this.reversed=d.reversed,this.zoomEnabled=d.zoomEnabled!==!1,this.categories=d.categories||"category"===e,this.names=this.names||[],this.isLog="logarithmic"===e,this.isDatetimeAxis="datetime"===e,this.isLinked=j(d.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=d.minRange||d.maxZoom,this.range=d.range,this.offset=d.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=Pa(d.crosshair,l(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;-1===Va(this,a.axes)&&(c&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this)),this.series=this.series||[],a.inverted&&c&&this.reversed===I&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)$a(this,f,d[f]);this.isLog&&(this.val2lin=g,this.lin2val=h)},setOptions:function(b){this.options=a(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],a(M[this.coll],b))},defaultLabelFormatter:function(){var a,b=this.axis,c=this.value,d=b.categories,e=this.dateTimeLabelFormat,f=M.lang.numericSymbols,g=f&&f.length,h=b.options.labels.format,b=b.isLog?c:b.tickInterval;if(h)a=r(h,this);else if(d)a=c;else if(e)a=N(e,c);else if(g&&b>=1e3)for(;g--&&a===I;)d=Math.pow(1e3,g+1),b>=d&&null!==f[g]&&(a=ea.numberFormat(c/d,-1)+f[g]);return a===I&&(a=na(c)>=1e4?ea.numberFormat(c,0):ea.numberFormat(c,-1,I,"")),a},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.ignoreMinPadding=a.ignoreMaxPadding=null,a.buildStacks&&a.buildStacks(),Wa(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0,a.isLog&&0>=d&&(d=null),a.isXAxis?(d=c.xData,d.length&&(a.dataMin=ma(Pa(a.dataMin,d[0]),v(d)),a.dataMax=la(Pa(a.dataMax,d[0]),w(d)))):(c.getExtremes(),e=c.dataMax,c=c.dataMin,j(c)&&j(e)&&(a.dataMin=ma(Pa(a.dataMin,c),c),a.dataMax=la(Pa(a.dataMax,e),e)),j(d)&&(a.dataMin>=d?(a.dataMin=d,a.ignoreMinPadding=!0):a.dataMax<d&&(a.dataMax=d,a.ignoreMaxPadding=!0)))}})},translate:function(a,b,c,d,e,g){var h=1,i=0,j=d?this.oldTransA:this.transA,d=d?this.oldMin:this.min,k=this.minPixelPadding,e=(this.doPostTranslate||this.isLog&&e)&&this.lin2val;return j||(j=this.transA),c&&(h*=-1,i=this.len),this.reversed&&(h*=-1,i-=h*(this.sector||this.len)),b?(a=a*h+i,a-=k,a=a/j+d,e&&(a=this.lin2val(a))):(e&&(a=this.val2lin(a)),"between"===g&&(g=.5),a=h*(a-d)*j+i+h*k+(f(g)?j*g*this.pointRange:0)),a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f,g,h,i=this.chart,j=this.left,k=this.top,l=c&&i.oldChartHeight||i.chartHeight,m=c&&i.oldChartWidth||i.chartWidth;f=this.transB;var n=function(a,b,c){return(b>a||a>c)&&(d?a=ma(la(b,a),c):h=!0),a},e=Pa(e,this.translate(a,null,null,c)),a=c=ia(e+f);return f=g=ia(l-e-f),isNaN(e)?h=!0:this.horiz?(f=k,g=l-this.bottom,a=c=n(a,j,j+this.width)):(a=j,c=m-this.right,f=g=n(f,k,k+this.height)),h&&!d?null:i.renderer.crispLine(["M",a,f,"L",c,g],b||1)},getLinearTickPositions:function(a,b,c){var d,e=A(ja(b/a)*a),g=A(ka(c/a)*a),h=[];if(b===c&&f(b))return[b];for(b=e;g>=b&&(h.push(b),b=A(b+a),b!==d);)d=b;return h},getMinorTickPositions:function(){var a,b=this.options,c=this.tickPositions,d=this.minorTickInterval,e=[],f=this.min;a=this.max;var g=a-f;if(g&&g/d<this.len/3)if(this.isLog)for(b=c.length,a=1;b>a;a++)e=e.concat(this.getLogTickPositions(d,c[a-1],c[a],!0));else if(this.isDatetimeAxis&&"auto"===b.minorTickInterval)e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(d),f,a,b.startOfWeek));else for(c=f+(c[0]-f)%d;a>=c;c+=d)e.push(c);return this.trimTicks(e),e},adjustForMinRange:function(){var a,b,c,d,e,f,g=this.options,h=this.min,i=this.max,k=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===I&&!this.isLog&&(j(g.min)||j(g.max)?this.minRange=null:(Wa(this.series,function(a){for(e=a.xData,c=f=a.xIncrement?1:e.length-1;c>0;c--)d=e[c]-e[c-1],(b===I||b>d)&&(b=d)}),this.minRange=ma(5*b,this.dataMax-this.dataMin))),i-h<this.minRange){var l=this.minRange;a=(l-i+h)/2,a=[h-a,Pa(g.min,h-a)],k&&(a[2]=this.dataMin),h=w(a),i=[h+l,Pa(g.max,h+l)],k&&(i[2]=this.dataMax),i=v(i),l>i-h&&(a[0]=i-l,a[1]=Pa(g.min,i-l),h=w(a))}this.min=h,this.max=i},setAxisTranslation:function(a){var b,d=this,e=d.max-d.min,f=d.axisPointRange||0,g=0,h=0,i=d.linkedParent,k=!!d.categories,l=d.transA,m=d.isXAxis;(m||k||f)&&(i?(g=i.minPointOffset,h=i.pointRangePadding):Wa(d.series,function(a){var i=k?1:m?a.pointRange:d.axisPointRange||0,l=a.options.pointPlacement,n=a.closestPointRange;i>e&&(i=0),f=la(f,i),d.single||(g=la(g,c(l)?0:i/2),h=la(h,"on"===l?0:i)),!a.noSharedTooltip&&j(n)&&(b=j(b)?ma(b,n):n)}),i=d.ordinalSlope&&b?d.ordinalSlope/b:1,d.minPointOffset=g*=i,d.pointRangePadding=h*=i,d.pointRange=ma(f,e),m&&(d.closestPointRange=b)),a&&(d.oldTransA=l),d.translationSlope=d.transA=l=d.len/(e+h||1),d.transB=d.horiz?d.left:d.bottom,d.minPixelPadding=l*g},setTickInterval:function(a){var b=this,c=b.chart,d=b.options,e=b.isLog,h=b.isDatetimeAxis,i=b.isXAxis,k=b.isLinked,l=d.maxPadding,m=d.minPadding,n=d.tickInterval,o=d.tickPixelInterval,p=b.categories;!h&&!p&&!k&&this.getTickAmount(),k?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=Pa(c.min,c.dataMin),b.max=Pa(c.max,c.dataMax),d.type!==b.linkedParent.options.type&&z(11,1)):(b.min=Pa(b.userMin,d.min,b.dataMin),b.max=Pa(b.userMax,d.max,b.dataMax)),e&&(!a&&ma(b.min,Pa(b.dataMin,b.min))<=0&&z(10,1),b.min=A(g(b.min)),b.max=A(g(b.max))),b.range&&j(b.max)&&(b.userMin=b.min=la(b.min,b.max-b.range),b.userMax=b.max,b.range=null),b.beforePadding&&b.beforePadding(),b.adjustForMinRange(),p||b.axisPointRange||b.usePercentage||k||!j(b.min)||!j(b.max)||!(c=b.max-b.min)||(j(d.min)||j(b.userMin)||!m||!(b.dataMin<0)&&b.ignoreMinPadding||(b.min-=c*m),j(d.max)||j(b.userMax)||!l||!(b.dataMax>0)&&b.ignoreMaxPadding||(b.max+=c*l)),f(d.floor)&&(b.min=la(b.min,d.floor)),f(d.ceiling)&&(b.max=ma(b.max,d.ceiling)),b.tickInterval=b.min===b.max||void 0===b.min||void 0===b.max?1:k&&!n&&o===b.linkedParent.options.tickPixelInterval?b.linkedParent.tickInterval:Pa(n,this.tickAmount?(b.max-b.min)/la(this.tickAmount-1,1):void 0,p?1:(b.max-b.min)*o/la(b.len,o)),i&&!a&&Wa(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)}),b.setAxisTranslation(!0),b.beforeSetTickPositions&&b.beforeSetTickPositions(),b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval)),b.pointRange&&(b.tickInterval=la(b.pointRange,b.tickInterval)),a=Pa(d.minTickInterval,b.isDatetimeAxis&&b.closestPointRange),!n&&b.tickInterval<a&&(b.tickInterval=a),h||e||n||(b.tickInterval=t(b.tickInterval,null,s(b.tickInterval),Pa(d.allowDecimals,!(b.tickInterval>.5&&b.tickInterval<5&&b.max>1e3&&b.max<9999)),!!this.tickAmount)),
!this.tickAmount&&this.len&&(b.tickInterval=b.unsquish()),this.setTickPositions()},setTickPositions:function(){var a,b,c=this.options,d=c.tickPositions,e=c.tickPositioner,f=c.startOnTick,g=c.endOnTick;this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===c.minorTickInterval&&this.tickInterval?this.tickInterval/5:c.minorTickInterval,this.tickPositions=a=c.tickPositions&&c.tickPositions.slice(),!a&&(this.tickPositions=a=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e&&(e=e.apply(this,[this.min,this.max])))&&(this.tickPositions=a=e),this.isLinked||(this.trimTicks(a,f,g),this.min===this.max&&j(this.min)&&!this.tickAmount&&(b=!0,this.min-=.5,this.max+=.5),this.single=b,!d&&!e&&this.adjustTickAmount())},trimTicks:function(a,b,c){var d=a[0],e=a[a.length-1],f=this.minPointOffset||0;b?this.min=d:this.min-f>d&&a.shift(),c?this.max=e:this.max+f<e&&a.pop(),0===a.length&&j(d)&&a.push((e+d)/2)},getTickAmount:function(){var a,b={},c=this.options,d=c.tickAmount,e=c.tickPixelInterval;!j(c.tickInterval)&&this.len<e&&!this.isRadial&&!this.isLog&&c.startOnTick&&c.endOnTick&&(d=2),!d&&this.chart.options.chart.alignTicks!==!1&&c.alignTicks!==!1&&(Wa(this.chart[this.coll],function(c){var d=c.options,c=c.horiz,d=[c?d.left:d.top,c?d.width:d.height,d.pane].join(",");b[d]?a=!0:b[d]=1}),a&&(d=ka(this.len/e)+1)),4>d&&(this.finalTickAmt=d,d=5),this.tickAmount=d},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,d=this.finalTickAmt,e=b&&b.length;if(c>e){for(;b.length<c;)b.push(A(b[b.length-1]+a));this.transA*=(e-1)/(c-1),this.max=b[b.length-1]}else e>c&&(this.tickInterval*=2,this.setTickPositions());if(j(d)){for(a=c=b.length;a--;)(3===d&&a%2===1||2>=d&&a>0&&c-1>a)&&b.splice(a,1);this.finalTickAmt=I}},setScale:function(){var a,b,c,d,e=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),d=this.len!==this.oldAxisLength,Wa(this.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(c=!0)}),d||c||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(a in e)for(b in e[a])e[a][b].total=null,e[a][b].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=d||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(a in e)for(b in e[a])e[a][b].cum=e[a][b].total}},setExtremes:function(a,b,c,d,e){var f=this,g=f.chart,c=Pa(c,!0);Wa(f.series,function(a){delete a.kdTree}),e=Oa(e,{min:a,max:b}),ab(f,"setExtremes",e,function(){f.userMin=a,f.userMax=b,f.eventArgs=e,f.isDirtyExtremes=!0,c&&g.redraw(d)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options;return this.allowZoomOutside||(j(c)&&a<=ma(c,Pa(e.min,c))&&(a=I),j(d)&&b>=la(d,Pa(e.max,d))&&(b=I)),this.displayBtn=a!==I||b!==I,this.setExtremes(a,b,!1,I,{trigger:"zoom"}),!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=Pa(b.width,a.plotWidth-c+(b.offsetRight||0)),f=Pa(b.height,a.plotHeight),g=Pa(b.top,a.plotTop),b=Pa(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=parseFloat(f)/100*a.plotHeight),c.test(g)&&(g=parseFloat(g)/100*a.plotHeight+a.plotTop),this.left=b,this.top=g,this.width=e,this.height=f,this.bottom=a.chartHeight-f-g,this.right=a.chartWidth-e-b,this.len=la(d?e:f,0),this.pos=d?b:g},getExtremes:function(){var a=this.isLog;return{min:a?A(h(this.min)):this.min,max:a?A(h(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?h(this.min):this.min,b=b?h(this.max):this.max;return c>a||null===a?a=c:a>b&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return a=(Pa(a,0)-90*this.side+720)%360,a>15&&165>a?"right":a>195&&345>a?"left":"center"},unsquish:function(){var a,b,c,d=this.ticks,e=this.options.labels,f=this.horiz,g=this.tickInterval,h=g,i=this.len/(((this.categories?1:0)+this.max-this.min)/g),k=e.rotation,l=this.chart.renderer.fontMetrics(e.style.fontSize,d[0]&&d[0].label),m=Number.MAX_VALUE,n=function(a){return a/=i||1,a=a>1?ka(a):1,a*g};return f?(c=j(k)?[k]:80>i&&!e.staggerLines&&!e.step&&e.autoRotation)&&Wa(c,function(c){var d;(c===k||c&&c>=-90&&90>=c)&&(b=n(na(l.h/pa(ra*c))),d=b+na(c/360),m>d&&(m=d,a=c,h=b))}):h=n(l.h),this.autoRotation=c,this.labelRotation=a,h},renderUnsquish:function(){var b,d=this.chart,e=d.renderer,f=this.tickPositions,g=this.ticks,h=this.options.labels,i=this.horiz,j=d.margin,k=this.slotWidth=i&&!h.step&&!h.rotation&&(this.staggerLines||1)*d.plotWidth/f.length||!i&&(j[3]&&j[3]-d.spacing[3]||.33*d.chartWidth),l=la(1,ia(k-2*(h.padding||5))),m={},j=e.fontMetrics(h.style.fontSize,g[0]&&g[0].label),n=0;if(c(h.rotation)||(m.rotation=h.rotation),this.autoRotation)Wa(f,function(a){(a=g[a])&&a.labelLength>n&&(n=a.labelLength)}),n>l&&n>j.h?m.rotation=this.labelRotation:this.labelRotation=0;else if(k)for(b={width:l+"px",textOverflow:"clip"},k=f.length;!i&&k--;)l=f[k],(l=g[l].label)&&this.len/f.length-4<l.getBBox().height&&(l.specCss={textOverflow:"ellipsis"});m.rotation&&(b={width:(n>.5*d.chartHeight?.33*d.chartHeight:d.chartHeight)+"px",textOverflow:"ellipsis"}),this.labelAlign=m.align=h.align||this.autoLabelAlign(this.labelRotation),Wa(f,function(c){var d=(c=g[c])&&c.label;d&&(b&&d.css(a(b,d.specCss)),delete d.specCss,d.attr(m),c.rotation=m.rotation)}),this.tickRotCorr=e.rotCorr(j.b,this.labelRotation||0,2===this.side)},getOffset:function(){var a,b,c,d,e=this,f=e.chart,g=f.renderer,h=e.options,i=e.tickPositions,k=e.ticks,l=e.horiz,m=e.side,n=f.inverted?[1,0,3,2][m]:m,o=0,p=0,q=h.title,r=h.labels,s=0,t=f.axisOffset,f=f.clipOffset,u=[-1,1,1,-1][m];if(e.hasData=a=e.hasVisibleSeries||j(e.min)&&j(e.max)&&!!i,e.showAxis=b=a||Pa(h.showEmpty,!0),e.staggerLines=e.horiz&&r.staggerLines,e.axisGroup||(e.gridGroup=g.g("grid").attr({zIndex:h.gridZIndex||1}).add(),e.axisGroup=g.g("axis").attr({zIndex:h.zIndex||2}).add(),e.labelGroup=g.g("axis-labels").attr({zIndex:r.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add()),a||e.isLinked)Wa(i,function(a){k[a]?k[a].addLabel():k[a]=new E(e,a)}),e.renderUnsquish(),Wa(i,function(a){(0===m||2===m||{1:"left",3:"right"}[m]===e.labelAlign)&&(s=la(k[a].getLabelSize(),s))}),e.staggerLines&&(s*=e.staggerLines,e.labelOffset=s);else for(d in k)k[d].destroy(),delete k[d];q&&q.text&&q.enabled!==!1&&(e.axisTitle||(e.axisTitle=g.text(q.text,0,0,q.useHTML).attr({zIndex:7,rotation:q.rotation||0,align:q.textAlign||{low:"left",middle:"center",high:"right"}[q.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(q.style).add(e.axisGroup),e.axisTitle.isNew=!0),b&&(o=e.axisTitle.getBBox()[l?"height":"width"],c=q.offset,p=j(c)?0:Pa(q.margin,l?5:10)),e.axisTitle[b?"show":"hide"]()),e.offset=u*Pa(h.offset,t[m]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},g=2===m?e.tickRotCorr.y:0,l=s+p+(s&&u*(l?Pa(r.y,e.tickRotCorr.y+8):r.x)-g),e.axisTitleMargin=Pa(c,l),t[m]=la(t[m],e.axisTitleMargin+o+u*e.offset,l),f[n]=la(f[n],2*ja(h.lineWidth/2))},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine(["M",e?this.left:f,e?d:this.top,"L",e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,c=this.left,d=this.top,e=this.len,f=this.options.title,g=a?c:d,h=this.opposite,i=this.offset,j=b(f.style.fontSize||12),e={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],c=(a?d+this.height:c)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?j:0);return{x:a?e:c+(h?this.width:0)+i+(f.x||0),y:a?c-(h?this.height:0)+i:e+(f.y||0)}},render:function(){var a,b=this,c=b.chart,d=c.renderer,e=b.options,f=b.isLog,g=b.isLinked,i=b.tickPositions,k=b.axisTitle,l=b.ticks,m=b.minorTicks,n=b.alternateBands,o=e.stackLabels,p=e.alternateGridColor,q=b.tickmarkOffset,r=e.lineWidth,s=c.hasRendered&&j(b.oldMin)&&!isNaN(b.oldMin);a=b.hasData;var t,u,v=b.showAxis;b.labelEdge.length=0,b.overlap=!1,Wa([l,m,n],function(a){for(var b in a)a[b].isActive=!1}),(a||g)&&(b.minorTickInterval&&!b.categories&&Wa(b.getMinorTickPositions(),function(a){m[a]||(m[a]=new E(b,a,"minor")),s&&m[a].isNew&&m[a].render(null,!0),m[a].render(null,!1,1)}),i.length&&(Wa(i,function(a,c){(!g||a>=b.min&&a<=b.max)&&(l[a]||(l[a]=new E(b,a)),s&&l[a].isNew&&l[a].render(c,!0,.1),l[a].render(c))}),q&&(0===b.min||b.single))&&(l[-1]||(l[-1]=new E(b,-1,null,!0)),l[-1].render(-1)),p&&Wa(i,function(a,c){c%2===0&&a<b.max&&(n[a]||(n[a]=new ea.PlotLineOrBand(b)),t=a+q,u=i[c+1]!==I?i[c+1]+q:b.max,n[a].options={from:f?h(t):t,to:f?h(u):u,color:p},n[a].render(),n[a].isActive=!0)}),b._addedPlotLB||(Wa((e.plotLines||[]).concat(e.plotBands||[]),function(a){b.addPlotBandOrLine(a)}),b._addedPlotLB=!0)),Wa([l,m,n],function(a){var b,d,e=[],f=O?O.duration||500:0,g=function(){for(d=e.length;d--;)a[e[d]]&&!a[e[d]].isActive&&(a[e[d]].destroy(),delete a[e[d]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,e.push(b));a!==n&&c.hasRendered&&f?f&&setTimeout(g,f):g()}),r&&(a=b.getLinePath(r),b.axisLine?b.axisLine.animate({d:a}):b.axisLine=d.path(a).attr({stroke:e.lineColor,"stroke-width":r,zIndex:7}).add(b.axisGroup),b.axisLine[v?"show":"hide"]()),k&&v&&(k[k.isNew?"attr":"animate"](b.getTitlePosition()),k.isNew=!1),o&&o.enabled&&b.renderStackTotals(),b.isDirty=!1},redraw:function(){this.render(),Wa(this.plotLinesAndBands,function(a){a.render()}),Wa(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b,c=this,d=c.stacks,e=c.plotLinesAndBands;a||_a(c);for(b in d)x(d[b]),d[b]=null;for(Wa([c.ticks,c.minorTicks,c.alternateBands],function(a){x(a)}),a=e.length;a--;)e[a].destroy();Wa("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(a){c[a]&&(c[a]=c[a].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(a,b){var c,d=this.crosshair,e=d.animation;this.crosshair&&(j(b)||!Pa(this.crosshair.snap,!0))!==!1?(Pa(d.snap,!0)?j(b)&&(c=this.isXAxis?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos,c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:Pa(b.stackY,b.y))||null:this.getPlotLinePath(null,null,null,null,c)||null,null===c?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:c},e):(e=this.categories&&!this.isRadial,e={"stroke-width":d.width||(e?this.transA:1),stroke:d.color||(e?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:d.zIndex||2},d.dashStyle&&(e.dashstyle=d.dashStyle),this.cross=this.chart.renderer.path(c).attr(e).add())):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Oa(mb.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b,null,null,!0),d=this.getPlotLinePath(a,null,null,!0);return d&&c&&d.toString()!==c.toString()?d.push(c[4],c[5],c[1],c[2]):d=null,d},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=new ea.PlotLineOrBand(this,a).render(),d=this.userOptions;return c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c)),c},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();Wa([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&i(b,b[e])})}}),mb.prototype.getTimeTicks=function(a,b,c,d){var e,f=[],g={},h=M.global.useUTC,i=new R(b-q(b)),k=a.unitRange,l=a.count;if(j(b)){i.setMilliseconds(k>=Q.second?0:l*ja(i.getMilliseconds()/l)),k>=Q.second&&i.setSeconds(k>=Q.minute?0:l*ja(i.getSeconds()/l)),k>=Q.minute&&i[_](k>=Q.hour?0:l*ja(i[V]()/l)),k>=Q.hour&&i[aa](k>=Q.day?0:l*ja(i[W]()/l)),k>=Q.day&&i[ba](k>=Q.month?1:l*ja(i[Y]()/l)),k>=Q.month&&(i[ca](k>=Q.year?0:l*ja(i[Z]()/l)),e=i[$]()),k>=Q.year&&(e-=e%l,i[da](e)),k===Q.week&&i[ba](i[Y]()-i[X]()+Pa(d,1)),b=1,(T||U)&&(i=i.getTime(),i=new R(i+q(i))),e=i[$]();for(var d=i.getTime(),m=i[Z](),n=i[Y](),o=(Q.day+(h?q(i):6e4*i.getTimezoneOffset()))%Q.day;c>d;)f.push(d),k===Q.year?d=S(e+b*l,0):k===Q.month?d=S(e,m+b*l):h||k!==Q.day&&k!==Q.week?d+=k*l:d=S(e,m,n+b*l*(k===Q.day?1:7)),b++;f.push(d),Wa(Xa(f,function(a){return k<=Q.hour&&a%Q.day===o}),function(a){g[a]="day"})}return f.info=Oa(a,{higherRanks:g,totalRange:k*l}),f},mb.prototype.normalizeTimeTickInterval=function(a,b){var c,d=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=d[d.length-1],f=Q[e[0]],g=e[1];for(c=0;c<d.length&&(e=d[c],f=Q[e[0]],g=e[1],!(d[c+1]&&a<=(f*g[g.length-1]+Q[d[c+1][0]])/2));c++);return f===Q.year&&5*f>a&&(g=[1,2,5]),d=t(a/f,g,"year"===e[0]?la(s(a/f),1):1),{unitRange:f,count:d,unitName:e[0]}},mb.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,i=[];if(d||(this._minorAutoInterval=null),a>=.5)a=ia(a),i=this.getLinearTickPositions(a,b,c);else if(a>=.08)for(var j,k,l,m,n,f=ja(b),e=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c+1>f&&!n;f++)for(k=e.length,j=0;k>j&&!n;j++)l=g(h(f)*e[j]),l>b&&(!d||c>=m)&&m!==I&&i.push(m),m>c&&(n=!0),m=l;else b=h(b),c=h(c),a=e[d?"minorTickInterval":"tickInterval"],a=Pa("auto"===a?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=t(a,null,s(a)),i=Za(this.getLinearTickPositions(a,b,c),g),d||(this._minorAutoInterval=a/5);return d||(this.tickInterval=a),i};var nb=ea.Tooltip=function(){this.init.apply(this,arguments)};nb.prototype={init:function(a,c){var d=c.borderWidth,e=c.style,f=b(e.padding);this.chart=a,this.options=c,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=a.renderer.label("",0,0,c.shape||"callout",null,null,c.useHTML,null,"tooltip").attr({padding:f,fill:c.backgroundColor,"stroke-width":d,r:c.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999}),Ca||this.label.shadow(c.shadow),this.shared=c.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(a,b,c,d){var e=this,f=e.now,g=e.options.animation!==!1&&!e.isHidden&&(na(a-f.x)>1||na(b-f.y)>1),h=e.followPointer||e.len>1;Oa(f,{x:g?(2*f.x+a)/3:a,y:g?(f.y+b)/2:b,anchorX:h?I:g?(2*f.anchorX+c)/3:c,anchorY:h?I:g?(f.anchorY+d)/2:d}),e.label.attr(f),g&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){e&&e.move(a,b,c,d)},32))},hide:function(a){var b,c=this;clearTimeout(this.hideTimer),this.isHidden||(b=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){c.label.fadeOut(),c.isHidden=!0},Pa(a,this.options.hideDelay,500)),b&&Wa(b,function(a){a.setState()}),this.chart.hoverPoints=null,this.chart.hoverSeries=null)},getAnchor:function(a,b){var c,d,e,f=this.chart,g=f.inverted,h=f.plotTop,i=f.plotLeft,j=0,k=0,a=l(a);return c=a[0].tooltipPos,this.followPointer&&b&&(b.chartX===I&&(b=f.pointer.normalize(b)),c=[b.chartX-f.plotLeft,b.chartY-h]),c||(Wa(a,function(a){d=a.series.yAxis,e=a.series.xAxis,j+=a.plotX+(!g&&e?e.left-i:0),k+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!g&&d?d.top-h:0)}),j/=a.length,k/=a.length,c=[g?f.plotWidth-k:j,this.shared&&!g&&a.length>1&&b?b.chartY-h:g?f.plotHeight-j:k]),Za(c,ia)},getPosition:function(a,b,c){var d,e=this.chart,f=this.distance,g={},h=["y",e.chartHeight,b,c.plotY+e.plotTop],i=["x",e.chartWidth,a,c.plotX+e.plotLeft],j=Pa(c.ttBelow,e.inverted&&!c.negative||!e.inverted&&c.negative),k=function(a,b,c,d){var e=d-f>c,b=b>d+f+c,c=d-f-c;if(d+=f,j&&b)g[a]=d;else if(!j&&e)g[a]=c;else if(e)g[a]=c;else{if(!b)return!1;g[a]=d}},l=function(a,b,c,d){return f>d||d>b-f?!1:void(g[a]=c/2>d?1:d>b-c/2?b-c-2:d-c/2)},m=function(a){var b=h;h=i,i=b,d=a},n=function(){k.apply(0,h)!==!1?l.apply(0,i)===!1&&!d&&(m(!0),n()):d?g.x=g.y=0:(m(!0),n())};return(e.inverted||this.len>1)&&m(),n(),g},defaultFormatter:function(a){var b,c=this.points||l(this);return b=[a.tooltipFooterHeaderFormatter(c[0])],b=b.concat(a.bodyFormatter(c)),b.push(a.tooltipFooterHeaderFormatter(c[0],!0)),b.join("")},refresh:function(a,b){var c,d,e,f=this.chart,g=this.label,h=this.options,i={},j=[];e=h.formatter||this.defaultFormatter;var k,i=f.hoverPoints,m=this.shared;clearTimeout(this.hideTimer),this.followPointer=l(a)[0].series.tooltipOptions.followPointer,d=this.getAnchor(a,b),c=d[0],d=d[1],!m||a.series&&a.series.noSharedTooltip?i=a.getLabelConfig():(f.hoverPoints=a,i&&Wa(i,function(a){a.setState()}),Wa(a,function(a){a.setState("hover"),j.push(a.getLabelConfig())}),i={x:a[0].category,y:a[0].y},i.points=j,this.len=j.length,a=a[0]),e=e.call(i,this),i=a.series,this.distance=Pa(i.tooltipOptions.distance,16),e===!1?this.hide():(this.isHidden&&(db(g),g.attr("opacity",1).show()),g.attr({text:e}),k=h.borderColor||a.color||i.color||"#606060",g.attr({stroke:k}),this.updatePosition({plotX:c,plotY:d,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1),ab(f,"tooltipRefresh",{text:e,x:c+f.plotLeft,y:d+f.plotTop,borderColor:k})},updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(ia(c.x),ia(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getXDateFormat:function(a,b,c){var d,e,f,g,b=b.dateTimeLabelFormats,h=c&&c.closestPointRange,i={millisecond:15,second:12,minute:9,hour:6,day:3};if(h){f=N("%m-%d %H:%M:%S.%L",a.x);for(e in Q){if(h===Q.week&&+N("%w",a.x)===c.options.startOfWeek&&"00:00:00.000"===f.substr(6)){e="week";break}if(Q[e]>h){e=g;break}if(i[e]&&f.substr(i[e])!=="01-01 00:00:00.000".substr(i[e]))break;"week"!==e&&(g=e)}e&&(d=b[e])}else d=b.day;return d||b.year},tooltipFooterHeaderFormatter:function(a,b){var c=b?"footer":"header",d=a.series,e=d.tooltipOptions,g=e.xDateFormat,h=d.xAxis,i=h&&"datetime"===h.options.type&&f(a.key),c=e[c+"Format"];return i&&!g&&(g=this.getXDateFormat(a,e,h)),i&&g&&(c=c.replace("{point.key}","{point.key:"+g+"}")),r(c,{point:a,series:d})},bodyFormatter:function(a){return Za(a,function(a){var b=a.series.tooltipOptions;return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b.pointFormat)})}};var ob;K=fa.documentElement.ontouchstart!==I;var pb=ea.Pointer=function(a,b){this.init(a,b)};if(pb.prototype={init:function(a,b){var c,d=b.chart,e=d.events,f=Ca?"":d.zoomType,d=a.inverted;this.options=b,this.chart=a,this.zoomX=c=/x/.test(f),this.zoomY=f=/y/.test(f),this.zoomHor=c&&!d||f&&d,this.zoomVert=f&&!d||c&&d,this.hasZoom=c||f,this.runChartClick=e&&!!e.click,this.pinchDown=[],this.lastValidTouch={},ea.Tooltip&&b.tooltip.enabled&&(a.tooltip=new nb(a,b.tooltip),this.followTouchMove=Pa(b.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(a,b){var c,d,a=a||window.event,a=bb(a);return a.target||(a.target=a.srcElement),d=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,b||(this.chartPosition=b=Ya(this.chart.container)),d.pageX===I?(c=la(a.x,a.clientX-b.left),d=a.y):(c=d.pageX-b.left,d=d.pageY-b.top),Oa(a,{chartX:ia(c),chartY:ia(d)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return Wa(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},runPointActions:function(a){var b,c,d,e,f=this.chart,g=f.series,h=f.tooltip,i=h?h.shared:!1,k=f.hoverPoint,l=f.hoverSeries,m=f.chartWidth,n=f.chartWidth,o=[];if(!i&&!l)for(b=0;b<g.length;b++)(g[b].directTouch||!g[b].options.stickyTracking)&&(g=[]);if(l&&l.noSharedTooltip||!i&&l?d=l.directTouch&&k||l&&l.searchPoint(a):(Wa(g,function(b){c=b.noSharedTooltip&&i,b.visible&&!c&&Pa(b.options.enableMouseTracking,!0)&&(e=b.searchPoint(a))&&o.push(e)}),Wa(o,function(a){a&&j(a.plotX)&&j(a.plotY)&&(a.dist.distX<m||(a.dist.distX===m||a.series.kdDimensions>1)&&a.dist.distR<n)&&(m=a.dist.distX,n=a.dist.distR,d=a)})),d&&(d!==k||h&&h.isHidden)){if(i&&!d.series.noSharedTooltip){for(b=o.length,g=d.clientX;b--;)l=o[b].clientX,(o[b].x!==d.x||l!==g||o[b].series.noSharedTooltip)&&o.splice(b,1);o.length&&h&&h.refresh(o,a),Wa(o,function(b){b!==d&&b.onMouseOver(a)})}else h&&h.refresh(d,a);d.onMouseOver(a)}else b=l&&l.tooltipOptions.followPointer,h&&b&&!h.isHidden&&(b=h.getAnchor([{}],a),h.updatePosition({plotX:b[0],plotY:b[1]}));h&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(a){Ga[ob]&&Ga[ob].pointer.onDocumentMouseMove(a)},$a(fa,"mousemove",this._onDocumentMouseMove)),Wa(f.axes,function(b){b.drawCrosshair(a,Pa(d,k))})},reset:function(a,b){var c=this.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.tooltip,g=f&&f.shared?c.hoverPoints:e;(a=a&&f&&g)&&l(g)[0].plotX===I&&(a=!1),a?(f.refresh(g),e&&(e.setState(e.state,!0),Wa(c.axes,function(b){Pa(b.options.crosshair&&b.options.crosshair.snap,!0)?b.drawCrosshair(null,a):b.hideCrosshair()}))):(e&&e.onMouseOut(),d&&d.onMouseOut(),f&&f.hide(b),this._onDocumentMouseMove&&(_a(fa,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Wa(c.axes,function(a){a.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(a,b){var c,d=this.chart;Wa(d.series,function(e){c=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(b?d.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))}),d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b,c=this.chart,d=c.options.chart,e=a.chartX,f=a.chartY,g=this.zoomHor,h=this.zoomVert,i=c.plotLeft,j=c.plotTop,k=c.plotWidth,l=c.plotHeight,m=this.mouseDownX,n=this.mouseDownY,o=d.panKey&&a[d.panKey+"Key"];i>e?e=i:e>i+k&&(e=i+k),j>f?f=j:f>j+l&&(f=j+l),this.hasDragged=Math.sqrt(Math.pow(m-e,2)+Math.pow(n-f,2)),this.hasDragged>10&&(b=c.isInsidePlot(m-i,n-j),c.hasCartesianSeries&&(this.zoomX||this.zoomY)&&b&&!o&&!this.selectionMarker&&(this.selectionMarker=c.renderer.rect(i,j,g?1:k,h?1:l,0).attr({fill:d.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&g&&(e-=m,this.selectionMarker.attr({width:na(e),x:(e>0?0:e)+m})),this.selectionMarker&&h&&(e=f-n,this.selectionMarker.attr({height:na(e),y:(e>0?0:e)+n})),b&&!this.selectionMarker&&d.panning&&c.pan(a,d.panning))},drop:function(a){var b=this,c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e,f={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a},g=this.selectionMarker,h=g.attr?g.attr("x"):g.x,i=g.attr?g.attr("y"):g.y,k=g.attr?g.attr("width"):g.width,l=g.attr?g.attr("height"):g.height;(this.hasDragged||d)&&(Wa(c.axes,function(c){if(c.zoomEnabled&&j(c.min)&&(d||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var g=c.horiz,m="touchend"===a.type?c.minPixelPadding:0,n=c.toValue((g?h:i)+m),g=c.toValue((g?h+k:i+l)-m);f[c.coll].push({axis:c,min:ma(n,g),max:la(n,g)}),e=!0}}),e&&ab(c,"selection",f,function(a){c.zoom(Oa(a,d?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()}c&&(m(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){Ga[ob]&&Ga[ob].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,a=this.normalize(a,c);c&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=Ga[ob];a&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;ob=b.index,a=this.normalize(a),a.returnValue=!1,"mousedown"===b.mouseIsDown&&this.drag(a),(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=k(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;!b||b.options.stickyTracking||this.inClass(a,"highcharts-tooltip")||c===b||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop,a=this.normalize(a);a.originalEvent=a,a.cancelBubble=!0,b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(ab(c.series,"click",Oa(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(Oa(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&ab(b,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)},b.onmousemove=function(b){a.onContainerMouseMove(b)},b.onclick=function(b){a.onContainerClick(b)},$a(b,"mouseleave",a.onContainerMouseLeave),1===Ha&&$a(fa,"mouseup",a.onDocumentMouseUp),K&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===Ha&&$a(fa,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;_a(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ha||(_a(fa,"mouseup",this.onDocumentMouseUp),_a(fa,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}},Oa(ea.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i,j,k,l=this.chart,m=a?"x":"y",n=a?"X":"Y",o="chart"+n,p=a?"width":"height",q=l["plot"+(a?"Left":"Top")],r=h||1,s=l.inverted,t=l.bounds[a?"h":"v"],u=1===b.length,v=b[0][o],w=c[0][o],x=!u&&b[1][o],y=!u&&c[1][o],c=function(){!u&&na(v-x)>20&&(r=h||na(w-y)/na(v-x)),j=(q-w)/r+v,i=l["plot"+(a?"Width":"Height")]/r};c(),b=j,b<t.min?(b=t.min,k=!0):b+i>t.max&&(b=t.max-i,k=!0),k?(w-=.8*(w-g[m][0]),u||(y-=.8*(y-g[m][1])),c()):g[m]=[w,y],s||(f[m]=j-q,f[p]=i),f=s?1/r:r,e[p]=i,e[m]=b,d[s?a?"scaleY":"scaleX":"scale"+n]=r,d["translate"+n]=f*q+(w-f*v)},pinch:function(a){var b=this,c=b.chart,d=b.pinchDown,e=a.touches,f=e.length,g=b.lastValidTouch,h=b.hasZoom,i=b.selectionMarker,j={},k=1===f&&(b.inClass(a.target,"highcharts-tracker")&&c.runTrackerClick||b.runChartClick),l={};h&&!k&&a.preventDefault(),Za(e,function(a){return b.normalize(a)}),"touchstart"===a.type?(Wa(e,function(a,b){d[b]={chartX:a.chartX,chartY:a.chartY}}),g.x=[d[0].chartX,d[1]&&d[1].chartX],g.y=[d[0].chartY,d[1]&&d[1].chartY],Wa(c.axes,function(a){if(a.zoomEnabled){var b=c.bounds[a.horiz?"h":"v"],d=a.minPixelPadding,e=a.toPixels(Pa(a.options.min,a.dataMin)),f=a.toPixels(Pa(a.options.max,a.dataMax)),g=ma(e,f),e=la(e,f);b.min=ma(a.pos,g-d),b.max=la(a.pos+a.len,e+d)}}),b.res=!0):d.length&&(i||(b.selectionMarker=i=Oa({destroy:Fa},c.plotBox)),b.pinchTranslate(d,e,j,i,l,g),b.hasPinched=h,b.scaleGroups(j,l),!h&&b.followTouchMove&&1===f?this.runPointActions(b.normalize(a)):b.res&&(b.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(a){var b=this.chart;ob=b.index,1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&!b.openMenu?(this.runPointActions(a),this.pinch(a)):this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){(1===a.touches.length||2===a.touches.length)&&this.pinch(a)},onDocumentTouchEnd:function(a){Ga[ob]&&Ga[ob].pointer.drop(a)}}),ga.PointerEvent||ga.MSPointerEvent){var qb={},rb=!!ga.PointerEvent,sb=function(){var a,b=[];b.item=function(a){return this[a]};for(a in qb)qb.hasOwnProperty(a)&&b.push({pageX:qb[a].pageX,pageY:qb[a].pageY,target:qb[a].target});return b},tb=function(a,b,c,d){a=a.originalEvent||a,"touch"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH||!Ga[ob]||(d(a),d=Ga[ob].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:Fa,touches:sb()}))};Oa(pb.prototype,{onContainerPointerDown:function(a){tb(a,"onContainerTouchStart","touchstart",function(a){qb[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){tb(a,"onContainerTouchMove","touchmove",function(a){qb[a.pointerId]={pageX:a.pageX,pageY:a.pageY},qb[a.pointerId].target||(qb[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){tb(a,"onContainerTouchEnd","touchend",function(a){delete qb[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,rb?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,rb?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(fa,rb?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Qa(pb.prototype,"init",function(a,b,c){a.call(this,b,c),(this.hasZoom||this.followTouchMove)&&m(b.container,{"-ms-touch-action":Ja,"touch-action":Ja})}),Qa(pb.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents($a)}),Qa(pb.prototype,"destroy",function(a){this.batchMSEvents(_a),a.call(this)})}var ub=ea.Legend=function(a,b){this.init(a,b)};ub.prototype={init:function(b,c){var d=this,e=c.itemStyle,f=c.itemMarginTop||0;this.options=c,c.enabled&&(d.itemStyle=e,d.itemHiddenStyle=a(e,c.itemHiddenStyle),d.itemMarginTop=f,d.padding=e=Pa(c.padding,8),d.initialItemX=e,d.initialItemY=e-5,d.maxItemWidth=0,d.chart=b,d.itemHeight=0,d.symbolWidth=Pa(c.symbolWidth,16),d.pages=[],d.render(),$a(d.chart,"endResize",function(){d.positionCheckboxes()}))},colorizeItem:function(a,b){var c,d=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,d=b?d.itemStyle.color:h,i=b?a.legendColor||a.color||"#CCC":h,h=a.options&&a.options.marker,j={fill:i};if(e&&e.css({fill:d,color:d}),f&&f.attr({stroke:i}),g){if(h&&g.isMarker)for(c in j.stroke=i,h=a.convertAttribs(h))e=h[c],e!==I&&(j[c]=e);g.attr(j)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;a.legendGroup&&a.legendGroup.translate(b?e:this.legendWidth-e-2*c-4,d),f&&(f.x=e,f.y=d)},destroyItem:function(a){var b=a.checkbox;Wa(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&y(a.checkbox)},clearItems:function(){var a=this;Wa(a.getAllItems(),function(b){a.destroyItem(b)})},destroy:function(){var a=this.group,b=this.box;b&&(this.box=b.destroy()),a&&(this.group=a.destroy())},positionCheckboxes:function(a){var b,c=this.group.alignAttr,d=this.clipHeight||this.legendHeight;c&&(b=c.translateY,Wa(this.allItems,function(e){var f,g=e.checkbox;g&&(f=b+g.y+(a||0)+3,m(g,{left:c.translateX+e.checkboxOffset+g.x-20+"px",top:f+"px",display:f>b-6&&b+d-6>f?"":Ja}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},renderItem:function(b){var c=this.chart,d=c.renderer,e=this.options,f="horizontal"===e.layout,g=this.symbolWidth,h=e.symbolPadding,i=this.itemStyle,j=this.itemHiddenStyle,k=this.padding,l=f?Pa(e.itemDistance,20):0,m=!e.rtl,n=e.width,o=e.itemMarginBottom||0,p=this.itemMarginTop,q=this.initialItemX,s=b.legendItem,t=b.series&&b.series.drawLegendSymbol?b.series:b,u=t.options,u=this.createCheckboxForItem&&u&&u.showCheckbox,v=e.useHTML;s||(b.legendGroup=d.g("legend-item").attr({
zIndex:1}).add(this.scrollGroup),b.legendItem=s=d.text(e.labelFormat?r(e.labelFormat,b):e.labelFormatter.call(b),m?g+h:-h,this.baseline||0,v).css(a(b.visible?i:j)).attr({align:m?"left":"right",zIndex:2}).add(b.legendGroup),this.baseline||(this.baseline=d.fontMetrics(i.fontSize,s).f+3+p,s.attr("y",this.baseline)),t.drawLegendSymbol(this,b),this.setItemEvents&&this.setItemEvents(b,s,v,i,j),this.colorizeItem(b,b.visible),u&&this.createCheckboxForItem(b)),d=s.getBBox(),g=b.checkboxOffset=e.itemWidth||b.legendItemWidth||g+h+d.width+l+(u?20:0),this.itemHeight=h=ia(b.legendItemHeight||d.height),f&&this.itemX-q+g>(n||c.chartWidth-2*k-q-e.x)&&(this.itemX=q,this.itemY+=p+this.lastLineHeight+o),this.maxItemWidth=la(this.maxItemWidth,g),this.lastItemY=p+this.itemY+o,this.lastLineHeight=la(h,this.lastLineHeight),b._legendItemPos=[this.itemX,this.itemY],f?this.itemX+=g:(this.itemY+=p+h+o,this.lastLineHeight=h),this.offsetWidth=n||la((f?this.itemX-q-l:g)+k,this.offsetWidth)},getAllItems:function(){var a=[];return Wa(this.chart.series,function(b){var c=b.options;Pa(c.showInLegend,j(c.linkedTo)?!1:I,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))}),a},adjustMargins:function(a,b){var c=this.chart,d=this.options,e=d.align[0]+d.verticalAlign[0]+d.layout[0];this.display&&!d.floating&&Wa([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(f,g){f.test(e)&&!j(a[g])&&(c[La[g]]=la(c[La[g]],c.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+Pa(d.margin,12)+b[g]))})},render:function(){var a,b,c,d,e=this,f=e.chart,g=f.renderer,h=e.group,i=e.box,j=e.options,k=e.padding,l=j.borderWidth,m=j.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,h||(e.group=h=g.g("legend").attr({zIndex:7}).add(),e.contentGroup=g.g().attr({zIndex:1}).add(h),e.scrollGroup=g.g().add(e.contentGroup)),e.renderTitle(),a=e.getAllItems(),u(a,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),j.reversed&&a.reverse(),e.allItems=a,e.display=b=!!a.length,e.lastLineHeight=0,Wa(a,function(a){e.renderItem(a)}),c=(j.width||e.offsetWidth)+k,d=e.lastItemY+e.lastLineHeight+e.titleHeight,d=e.handleOverflow(d),d+=k,(l||m)&&(i?c>0&&d>0&&(i[i.isNew?"attr":"animate"](i.crisp({width:c,height:d})),i.isNew=!1):(e.box=i=g.rect(0,0,c,d,j.borderRadius,l||0).attr({stroke:j.borderColor,"stroke-width":l||0,fill:m||Ja}).add(h).shadow(j.shadow),i.isNew=!0),i[b?"show":"hide"]()),e.legendWidth=c,e.legendHeight=d,Wa(a,function(a){e.positionItem(a)}),b&&h.align(Oa({width:c,height:d},j),!0,"spacingBox"),f.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,g=this.options,h=g.y,h=e.spacingBox.height+("top"===g.verticalAlign?-h:h)-this.padding,i=g.maxHeight,j=this.clipRect,k=g.navigation,l=Pa(k.animation,!0),m=k.arrowSize||12,n=this.nav,o=this.pages,p=this.allItems;return"horizontal"===g.layout&&(h/=2),i&&(h=ma(h,i)),o.length=0,a>h&&!g.useHTML?(this.clipHeight=b=la(h-20-this.titleHeight-this.padding,0),this.currentPage=Pa(this.currentPage,1),this.fullHeight=a,Wa(p,function(a,d){var e=a._legendItemPos[1],f=ia(a.legendItem.getBBox().height),g=o.length;(!g||e-o[g-1]>b&&(c||e)!==o[g-1])&&(o.push(c||e),g++),d===p.length-1&&e+f-o[g-1]>b&&o.push(e),e!==c&&(c=e)}),j||(j=d.clipRect=f.clipRect(0,this.padding,9999,0),d.contentGroup.clip(j)),j.attr({height:b}),n||(this.nav=n=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,m,m).on("click",function(){d.scroll(-1,l)}).add(n),this.pager=f.text("",15,10).css(k.style).add(n),this.down=f.symbol("triangle-down",0,0,m,m).on("click",function(){d.scroll(1,l)}).add(n)),d.scroll(0),a=h):n&&(j.attr({height:e.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e>d&&(e=d),e>0&&(b!==I&&B(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===e?g:h}).css({cursor:1===e?"default":"pointer"}),i.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===d?"default":"pointer"}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c))}},Sa=ea.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b,c=this.options,d=c.marker;b=a.symbolWidth;var e,f=this.chart.renderer,g=this.legendGroup,a=a.baseline-ia(.3*f.fontMetrics(a.options.itemStyle.fontSize,this.legendItem).b);c.lineWidth&&(e={"stroke-width":c.lineWidth},c.dashStyle&&(e.dashstyle=c.dashStyle),this.legendLine=f.path(["M",0,a,"L",b,a]).attr(e).add(g)),d&&d.enabled!==!1&&(c=d.radius,this.legendSymbol=b=f.symbol(this.symbol,b/2-c,a-c,2*c,2*c).add(g),b.isMarker=!0)}},(/Trident\/7\.0/.test(sa)||xa)&&Qa(ub.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)});var vb=ea.Chart=function(){this.init.apply(this,arguments)};vb.prototype={callbacks:[],init:function(b,c){var d,e=b.series;b.series=null,d=a(M,b),d.series=b.series=e,this.userOptions=b,e=d.chart,this.margin=this.splashArray("margin",e),this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},v:{}},this.callback=c,this.isResizing=0,this.options=d,this.axes=[],this.series=[],this.hasCartesianSeries=e.showAxes;var g,h=this;if(h.index=Ga.length,Ga.push(h),Ha++,e.reflow!==!1&&$a(h,"load",function(){h.initReflow()}),f)for(g in f)$a(h,g,f[g]);h.xAxis=[],h.yAxis=[],h.animation=Ca?!1:Pa(e.animation,!0),h.pointCount=h.colorCounter=h.symbolCounter=0,h.firstRender()},initSeries:function(a){var b=this.options.chart;return(b=Na[a.type||b.type||b.defaultSeriesType])||z(17,!0),b=new b,b.init(this,a),b},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d>=0&&d<=this.plotWidth&&a>=0&&a<=this.plotHeight},redraw:function(a){var b,c,d=this.axes,e=this.series,f=this.pointer,g=this.legend,h=this.isDirtyLegend,i=this.hasCartesianSeries,j=this.isDirtyBox,k=e.length,l=k,m=this.renderer,n=m.isHidden(),o=[];for(B(a,this),n&&this.cloneRenderTo(),this.layOutTitles();l--;)if(a=e[l],a.options.stacking&&(b=!0,a.isDirty)){c=!0;break}if(c)for(l=k;l--;)a=e[l],a.options.stacking&&(a.isDirty=!0);Wa(e,function(a){a.isDirty&&"point"===a.options.legendType&&(h=!0)}),h&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1),b&&this.getStacks(),i&&!this.isResizing&&(this.maxTicks=null,Wa(d,function(a){a.setScale()})),this.getMargins(),i&&(Wa(d,function(a){a.isDirty&&(j=!0)}),Wa(d,function(a){a.isDirtyExtremes&&(a.isDirtyExtremes=!1,o.push(function(){ab(a,"afterSetExtremes",Oa(a.eventArgs,a.getExtremes())),delete a.eventArgs})),(j||b)&&a.redraw()})),j&&this.drawChartBox(),Wa(e,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),f&&f.reset(!0),m.draw(),ab(this,"redraw"),n&&this.cloneRenderTo(!0),Wa(o,function(a){a.call()})},get:function(a){var b,c,d=this.axes,e=this.series;for(b=0;b<d.length;b++)if(d[b].options.id===a)return d[b];for(b=0;b<e.length;b++)if(e[b].options.id===a)return e[b];for(b=0;b<e.length;b++)for(c=e[b].points||[],d=0;d<c.length;d++)if(c[d].id===a)return c[d];return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=l(b.xAxis||{}),b=b.yAxis=l(b.yAxis||{});Wa(c,function(a,b){a.index=b,a.isX=!0}),Wa(b,function(a,b){a.index=b}),c=c.concat(b),Wa(c,function(b){new mb(a,b)})},getSelectedPoints:function(){var a=[];return Wa(this.series,function(b){a=a.concat(Xa(b.points||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return Xa(this.series,function(a){return a.selected})},getStacks:function(){var a=this;Wa(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),Wa(a.series,function(b){!b.options.stacking||b.visible!==!0&&a.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+Pa(b.options.stack,""))})},setTitle:function(b,c,d){var e,f,g=this,h=g.options;f=h.title=a(h.title,b),e=h.subtitle=a(h.subtitle,c),h=e,Wa([["title",b,f],["subtitle",c,h]],function(a){var b=a[0],c=g[b],d=a[1],a=a[2];c&&d&&(g[b]=c=c.destroy()),a&&a.text&&!c&&(g[b]=g.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())}),g.layOutTitles(d)},layOutTitles:function(a){var b=0,c=this.title,d=this.subtitle,e=this.options,f=e.title,e=e.subtitle,g=this.renderer,h=this.spacingBox.width-44;!c||(c.css({width:(f.width||h)+"px"}).align(Oa({y:g.fontMetrics(f.style.fontSize,c).b-3},f),!1,"spacingBox"),f.floating||f.verticalAlign)||(b=c.getBBox().height),d&&(d.css({width:(e.width||h)+"px"}).align(Oa({y:b+(f.margin-13)+g.fontMetrics(f.style.fontSize,d).b},e),!1,"spacingBox"),!e.floating&&!e.verticalAlign&&(b=ka(b+d.getBBox().height))),c=this.titleOffset!==b,this.titleOffset=b,!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&Pa(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;j(b)||(this.containerWidth=Ta(c,"width")),j(a)||(this.containerHeight=Ta(c,"height")),this.chartWidth=la(0,b||this.containerWidth||600),this.chartHeight=la(0,Pa(a,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),y(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),m(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),fa.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var a,d,e,f,g=this.options.chart;this.renderTo=a=g.renderTo,f="highcharts-"+Ea++,c(a)&&(this.renderTo=a=fa.getElementById(a)),a||z(13,!0),d=b(k(a,"data-highcharts-chart")),!isNaN(d)&&Ga[d]&&Ga[d].hasRendered&&Ga[d].destroy(),k(a,"data-highcharts-chart",this.index),a.innerHTML="",!g.skipClone&&!a.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),d=this.chartWidth,e=this.chartHeight,this.container=a=n(Ia,{className:"highcharts-container"+(g.className?" "+g.className:""),id:f},Oa({position:"relative",overflow:"hidden",width:d+"px",height:e+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},g.style),this.renderToClone||a),this._cursor=a.style.cursor,this.renderer=g.forExport?new jb(a,d,e,g.style,!0):new J(a,d,e,g.style),Ca&&this.renderer.create(this,a,d,e),this.renderer.chartIndex=this.index},getMargins:function(a){var b=this.spacing,c=this.margin,d=this.titleOffset;this.resetMargins(),d&&!j(c[0])&&(this.plotTop=la(this.plotTop,d+this.options.title.margin+b[0])),this.legend.adjustMargins(c,b),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&Wa(a.axes,function(a){a.getOffset()}),Wa(La,function(d,e){j(c[e])||(a[d]+=b[e])}),a.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=c.width||Ta(d,"width"),f=c.height||Ta(d,"height"),c=a?a.target:ga,d=function(){b.container&&(b.setSize(e,f,!1),b.hasUserSize=null)};b.hasUserSize||b.isPrinting||!e||!f||c!==ga&&c!==fa||((e!==b.containerWidth||f!==b.containerHeight)&&(clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(d,100):d()),b.containerWidth=e,b.containerHeight=f)},initReflow:function(){var a=this,b=function(b){a.reflow(b)};$a(ga,"resize",b),$a(a,"destroy",function(){_a(ga,"resize",b)})},setSize:function(a,b,c){var d,e,f,g=this;g.isResizing+=1,f=function(){g&&ab(g,"endResize",null,function(){g.isResizing-=1})},B(c,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,j(a)&&(g.chartWidth=d=la(0,ia(a)),g.hasUserSize=!!d),j(b)&&(g.chartHeight=e=la(0,ia(b))),(O?cb:m)(g.container,{width:d+"px",height:e+"px"},O),g.setChartSize(!0),g.renderer.setSize(d,e,c),g.maxTicks=null,Wa(g.axes,function(a){a.isDirty=!0,a.setScale()}),Wa(g.series,function(a){a.isDirty=!0}),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.layOutTitles(),g.getMargins(),g.redraw(c),g.oldChartHeight=null,ab(g,"resize"),O===!1?f():setTimeout(f,O&&O.duration||500)},setChartSize:function(a){var b,c,d,e,f=this.inverted,g=this.renderer,h=this.chartWidth,i=this.chartHeight,j=this.options.chart,k=this.spacing,l=this.clipOffset;this.plotLeft=b=ia(this.plotLeft),this.plotTop=c=ia(this.plotTop),this.plotWidth=d=la(0,ia(h-b-this.marginRight)),this.plotHeight=e=la(0,ia(i-c-this.marginBottom)),this.plotSizeX=f?e:d,this.plotSizeY=f?d:e,this.plotBorderWidth=j.plotBorderWidth||0,this.spacingBox=g.spacingBox={x:k[3],y:k[0],width:h-k[3]-k[1],height:i-k[0]-k[2]},this.plotBox=g.plotBox={x:b,y:c,width:d,height:e},h=2*ja(this.plotBorderWidth/2),f=ka(la(h,l[3])/2),g=ka(la(h,l[0])/2),this.clipBox={x:f,y:g,width:ja(this.plotSizeX-la(h,l[1])/2-f),height:la(0,ja(this.plotSizeY-la(h,l[2])/2-g))},a||Wa(this.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this;Wa(La,function(b,c){a[b]=Pa(a.margin[c],a.spacing[c])}),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a,b=this.options.chart,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.chartBackground,g=this.plotBackground,h=this.plotBorder,i=this.plotBGImage,j=b.borderWidth||0,k=b.backgroundColor,l=b.plotBackgroundColor,m=b.plotBackgroundImage,n=b.plotBorderWidth||0,o=this.plotLeft,p=this.plotTop,q=this.plotWidth,r=this.plotHeight,s=this.plotBox,t=this.clipRect,u=this.clipBox;a=j+(b.shadow?8:0),(j||k)&&(f?f.animate(f.crisp({width:d-a,height:e-a})):(f={fill:k||Ja},j&&(f.stroke=b.borderColor,f["stroke-width"]=j),this.chartBackground=c.rect(a/2,a/2,d-a,e-a,b.borderRadius,j).attr(f).addClass("highcharts-background").add().shadow(b.shadow))),l&&(g?g.animate(s):this.plotBackground=c.rect(o,p,q,r,0).attr({fill:l}).add().shadow(b.plotShadow)),m&&(i?i.animate(s):this.plotBGImage=c.image(m,o,p,q,r).add()),t?t.animate({width:u.width,height:u.height}):this.clipRect=c.clipRect(u),n&&(h?h.animate(h.crisp({x:o,y:p,width:q,height:r,strokeWidth:-n})):this.plotBorder=c.rect(o,p,q,r,0,-n).attr({stroke:b.plotBorderColor,"stroke-width":n,fill:Ja,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;Wa(["inverted","angular","polar"],function(g){for(a=Na[e.type||e.defaultSeriesType],c=d[g]||e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)(a=Na[f[b].type])&&a.prototype[g]&&(c=!0);d[g]=c})},linkSeries:function(){var a=this,b=a.series;Wa(b,function(a){a.linkedSeries.length=0}),Wa(b,function(b){var d=b.options.linkedTo;c(d)&&(d=":previous"===d?a.series[b.index-1]:a.get(d))&&(d.linkedSeries.push(b),b.linkedParent=d)})},renderSeries:function(){Wa(this.series,function(a){a.translate(),a.render()})},renderLabels:function(){var a=this,c=a.options.labels;c.items&&Wa(c.items,function(d){var e=Oa(c.style,d.style),f=b(e.left)+a.plotLeft,g=b(e.top)+a.plotTop+12;delete e.left,delete e.top,a.renderer.text(d.html,f,g).attr({zIndex:2}).css(e).add()})},render:function(){var a,b,c,d,e=this.axes,f=this.renderer,g=this.options;this.setTitle(),this.legend=new ub(this,g.legend),this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,b=this.plotHeight-=13,Wa(e,function(a){a.setScale()}),this.getAxisMargins(),c=a/this.plotWidth>1.2,d=b/this.plotHeight>1.1,(c||d)&&(this.maxTicks=null,Wa(e,function(a){(a.horiz&&c||!a.horiz&&d)&&a.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Wa(e,function(a){a.render()}),this.seriesGroup||(this.seriesGroup=f.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(g.credits),this.hasRendered=!0},showCredits:function(a){a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text,0,0).on("click",function(){a.href&&(location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position))},destroy:function(){var a,b=this,c=b.axes,d=b.series,e=b.container,f=e&&e.parentNode;for(ab(b,"destroy"),Ga[b.index]=I,Ha--,b.renderTo.removeAttribute("data-highcharts-chart"),_a(b),a=c.length;a--;)c[a]=c[a].destroy();for(a=d.length;a--;)d[a]=d[a].destroy();Wa("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",_a(e),f&&y(e));for(a in b)delete b[a]},isReadyToRender:function(){var a=this;return!Aa&&ga==ga.top&&"complete"!==fa.readyState||Ca&&!ga.canvg?(Ca?lb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):fa.attachEvent("onreadystatechange",function(){fa.detachEvent("onreadystatechange",a.firstRender),"complete"===fa.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&(a.getContainer(),ab(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),Wa(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),ab(a,"beforeRender"),ea.Pointer&&(a.pointer=new pb(a,b)),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),Wa(a.callbacks,function(b){a.index!==I&&b.apply(a,[a])}),ab(a,"load"),a.cloneRenderTo(!0))},splashArray:function(a,b){var c=b[a],c=d(c)?c:[c,c,c,c];return[Pa(b[a+"Top"],c[0]),Pa(b[a+"Right"],c[1]),Pa(b[a+"Bottom"],c[2]),Pa(b[a+"Left"],c[3])]}};var wb=ea.CenteredSeriesMixin={getCenter:function(){var a,c,d,e=this.options,f=this.chart,g=2*(e.slicedOffset||0),h=f.plotWidth-2*g,f=f.plotHeight-2*g,i=e.center,i=[Pa(i[0],"50%"),Pa(i[1],"50%"),e.size||"100%",e.innerSize||0],j=ma(h,f);for(c=0;4>c;++c)d=i[c],a=/%$/.test(d),e=2>c||2===c&&a,i[c]=(a?[h,f,j,i[2]][c]*b(d)/100:b(d))+(e?g:0);return i}},xb=function(){};xb.prototype={init:function(a,b,c){return this.series=a,this.color=a.color,this.applyOptions(b,c),this.pointAttr={},a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length)&&(a.colorCounter=0),a.chart.pointCount++,this},applyOptions:function(a,b){var c=this.series,d=c.options.pointValKey||c.pointValKey,a=xb.prototype.optionsToObject.call(this,a);return Oa(this,a),this.options=this.options?Oa(this.options,a):a,d&&(this.y=this[d]),this.x===I&&c&&(this.x=b===I?c.autoIncrement():b),this},optionsToObject:function(a){var b={},c=this.series,d=c.pointArrayMap||["y"],f=d.length,g=0,h=0;if("number"==typeof a||null===a)b[d[0]]=a;else if(e(a))for(a.length>f&&(c=typeof a[0],"string"===c?b.name=a[0]:"number"===c&&(b.x=a[0]),g++);f>h;)b[d[h++]]=a[g++];else"object"==typeof a&&(b=a,a.dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},destroy:function(){var a,b=this.series.chart,c=b.hoverPoints;b.pointCount--,c&&(this.setState(),i(c,this),!c.length)&&(b.hoverPoints=null),this===b.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(_a(this),this.destroyElements()),this.legendItem&&b.legend.destroyItem(this);for(a in this)this[a]=null},destroyElements:function(){for(var a,b="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),c=6;c--;)a=b[c],this[a]&&(this[a]=this[a].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=Pa(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";return Wa(b.pointArrayMap||["y"],function(b){b="{point."+b,(e||f)&&(a=a.replace(b+"}",e+b+"}"+f)),a=a.replace(b+"}",b+":,."+d+"f}")}),r(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&e.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),ab(this,a,b,c)}};var yb=ea.Series=function(){};yb.prototype={isCartesian:!0,type:"line",pointClass:xb,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,b){var c,d,e=this,f=a.series,g=function(a,b){return Pa(a.options.index,a._i)-Pa(b.options.index,b._i)};e.chart=a,e.options=b=e.setOptions(b),e.linkedSeries=[],e.bindAxes(),Oa(e,{name:b.name,state:"",pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0}),Ca&&(b.animation=!1),d=b.events;for(c in d)$a(e,c,d[c]);(d&&d.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)&&(a.runTrackerClick=!0),e.getColor(),e.getSymbol(),Wa(e.parallelArrays,function(a){e[a+"Data"]=[]}),e.setData(b.data,!1),e.isCartesian&&(a.hasCartesianSeries=!0),f.push(e),e._i=f.length-1,u(f,g),this.yAxis&&u(this.yAxis.series,g),Wa(f,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a,b=this,c=b.options,d=b.chart;Wa(b.axisTypes||[],function(e){Wa(d[e],function(d){a=d.options,(c[e]===a.index||c[e]!==I&&c[e]===a.id||c[e]===I&&0===a.index)&&(d.series.push(b),b[e]=d,d.isDirty=!0)}),!b[e]&&b.optionalAxis!==e&&z(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments;Wa(c.parallelArrays,"number"==typeof b?function(d){var e="y"===d&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))})},autoIncrement:function(){var a,b=this.options,c=this.xIncrement,d=b.pointIntervalUnit,c=Pa(c,b.pointStart,0);return this.pointInterval=a=Pa(this.pointInterval,b.pointInterval,1),("month"===d||"year"===d)&&(b=new R(c),b="month"===d?+b[ca](b[Z]()+a):+b[da](b[$]()+a),a=b-c),this.xIncrement=c+a,c},getSegments:function(){var a,b=-1,c=[],d=this.points,e=d.length;if(e)if(this.options.connectNulls){for(a=e;a--;)null===d[a].y&&d.splice(a,1);d.length&&(c=[d])}else Wa(d,function(a,f){null===a.y?(f>b+1&&c.push(d.slice(b+1,f)),b=f):f===e-1&&c.push(d.slice(b+1,f+1))});this.segments=c},setOptions:function(b){var c=this.chart,d=c.options.plotOptions,c=c.userOptions||{},e=c.plotOptions||{},f=d[this.type];return this.userOptions=b,d=a(f,d.series,b),this.tooltipOptions=a(M.tooltip,M.plotOptions[this.type].tooltip,c.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,b.tooltip),null===f.marker&&delete d.marker,this.zoneAxis=d.zoneAxis,b=this.zones=(d.zones||[]).slice(),!d.negativeColor&&!d.negativeFillColor||d.zones||b.push({value:d[this.zoneAxis+"Threshold"]||d.threshold||0,color:d.negativeColor,fillColor:d.negativeFillColor}),b.length&&j(b[b.length-1].value)&&b.push({color:this.color,fillColor:this.fillColor}),d},getCyclic:function(a,b,c){var d=this.userOptions,e="_"+a+"Index",f=a+"Counter";b||(j(d[e])?b=d[e]:(d[e]=b=this.chart[f]%c.length,this.chart[f]+=1),b=c[b]),this[a]=b},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||eb[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(a.radius=0)},drawLegendSymbol:Sa.drawLineMarker,setData:function(a,b,d,g){var h,i=this,j=i.points,k=j&&j.length||0,l=i.options,m=i.chart,n=null,o=i.xAxis,p=o&&!!o.categories,q=l.turboThreshold,r=this.xData,s=this.yData,t=(h=i.pointArrayMap)&&h.length,a=a||[];if(h=a.length,b=Pa(b,!0),g!==!1&&h&&k===h&&!i.cropped&&!i.hasGroupedData&&i.visible)Wa(a,function(a,b){j[b].update(a,!1,null,!1)});else{if(i.xIncrement=null,i.pointRange=p?1:l.pointRange,i.colorCounter=0,Wa(this.parallelArrays,function(a){i[a+"Data"].length=0}),q&&h>q){for(d=0;null===n&&h>d;)n=a[d],d++;if(f(n)){for(p=Pa(l.pointStart,0),l=Pa(l.pointInterval,1),d=0;h>d;d++)r[d]=p,s[d]=a[d],p+=l;i.xIncrement=p}else if(e(n))if(t)for(d=0;h>d;d++)l=a[d],r[d]=l[0],s[d]=l.slice(1,t+1);else for(d=0;h>d;d++)l=a[d],r[d]=l[0],s[d]=l[1];else z(12)}else for(d=0;h>d;d++)a[d]!==I&&(l={series:i},i.pointClass.prototype.applyOptions.apply(l,[a[d]]),i.updateParallelArrays(l,d),p&&l.name)&&(o.names[l.x]=l.name);for(c(s[0])&&z(14,!0),i.data=[],i.options.data=a,d=k;d--;)j[d]&&j[d].destroy&&j[d].destroy();o&&(o.minRange=o.userMinRange),i.isDirty=i.isDirtyData=m.isDirtyBox=!0,d=!1}b&&m.redraw(d)},processData:function(a){var b,c=this.xData,d=this.yData,e=c.length;b=0;var f,g,h,i=this.xAxis,j=this.options;h=j.cropThreshold;var k,l,m=this.isCartesian;if(m&&!this.isDirty&&!i.isDirty&&!this.yAxis.isDirty&&!a)return!1;for(i&&(a=i.getExtremes(),k=a.min,l=a.max),m&&this.sorted&&(!h||e>h||this.forceCrop)&&(c[e-1]<k||c[0]>l?(c=[],d=[]):(c[0]<k||c[e-1]>l)&&(b=this.cropData(this.xData,this.yData,k,l),c=b.xData,d=b.yData,b=b.start,f=!0)),h=c.length-1;h>=0;h--)e=c[h]-c[h-1],e>0&&(g===I||g>e)?g=e:0>e&&this.requireSorting&&z(15);this.cropped=f,this.cropStart=b,this.processedXData=c,this.processedYData=d,null===j.pointRange&&(this.pointRange=g||1),this.closestPointRange=g},cropData:function(a,b,c,d){var e,f=a.length,g=0,h=f,i=Pa(this.cropShoulder,1);for(e=0;f>e;e++)if(a[e]>=c){g=la(0,e-i);break}for(;f>e;e++)if(a[e]>d){h=e+i;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a,b,c,d,e=this.options.data,f=this.data,g=this.processedXData,h=this.processedYData,i=this.pointClass,j=g.length,k=this.cropStart||0,m=this.hasGroupedData,n=[];for(f||m||(f=[],f.length=e.length,f=this.data=f),d=0;j>d;d++)b=k+d,m?n[d]=(new i).init(this,[g[d]].concat(l(h[d]))):(f[b]?c=f[b]:e[b]!==I&&(f[b]=c=(new i).init(this,e[b],g[d])),n[d]=c),n[d].index=b;if(f&&(j!==(a=f.length)||m))for(d=0;a>d;d++)d===k&&!m&&(d+=j),f[d]&&(f[d].destroyElements(),f[d].plotX=I);this.data=f,this.points=n},getExtremes:function(a){var b,c=this.yAxis,d=this.processedXData,e=[],f=0;b=this.xAxis.getExtremes();var g,h,i,j,k=b.min,l=b.max,a=a||this.stackedYData||this.processedYData;for(b=a.length,j=0;b>j;j++)if(h=d[j],i=a[j],g=null!==i&&i!==I&&(!c.isLog||i.length||i>0),h=this.getExtremesFromAll||this.cropped||(d[j+1]||h)>=k&&(d[j-1]||h)<=l,g&&h)if(g=i.length)for(;g--;)null!==i[g]&&(e[f++]=i[g]);else e[f++]=i;this.dataMin=Pa(void 0,v(e)),this.dataMax=Pa(void 0,w(e))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var a,b,c,d=this.options,e=d.stacking,g=this.xAxis,h=g.categories,i=this.yAxis,k=this.points,l=k.length,m=!!this.modifyValue,n=d.pointPlacement,o="between"===n||f(n),p=d.threshold,q=Number.MAX_VALUE,d=0;l>d;d++){var r=k[d],s=r.x,t=r.y;b=r.low;var u=e&&i.stacks[(this.negStacks&&p>t?"-":"")+this.stackKey];i.isLog&&null!==t&&0>=t&&(r.y=t=null,z(10)),r.plotX=a=g.translate(s,0,0,0,1,n,"flags"===this.type),e&&this.visible&&u&&u[s]&&(u=u[s],t=u.points[this.index+","+d],b=t[0],t=t[1],0===b&&(b=Pa(p,i.min)),i.isLog&&0>=b&&(b=null),r.total=r.stackTotal=u.total,r.percentage=u.total&&r.y/u.total*100,r.stackY=t,u.setOffset(this.pointXOffset||0,this.barW||0)),r.yBottom=j(b)?i.translate(b,0,1,0,1):null,m&&(t=this.modifyValue(t,r)),r.plotY=b="number"==typeof t&&t!==1/0?ma(la(-1e5,i.translate(t,0,1,0,1)),1e5):I,r.isInside=b!==I&&b>=0&&b<=i.len&&a>=0&&a<=g.len,r.clientX=o?g.translate(s,0,0,0,1):a,r.negative=r.y<(p||0),r.category=h&&h[r.x]!==I?h[r.x]:r.x,d&&(q=ma(q,na(a-c))),c=a}this.closestPointRangePx=q,this.getSegments()},setClip:function(a){var b=this.chart,c=b.renderer,d=b.inverted,e=this.clipBox,f=e||b.clipBox,g=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,f.height].join(","),h=b[g],i=b[g+"m"];h||(a&&(f.width=0,b[g+"m"]=i=c.clipRect(-99,d?-b.plotLeft:-b.plotTop,99,d?b.chartWidth:b.chartHeight)),b[g]=h=c.clipRect(f)),a&&(h.count+=1),this.options.clip!==!1&&(this.group.clip(a||e?h:b.clipRect),this.markerGroup.clip(i),this.sharedClipKey=g),a||(h.count-=1,h.count<=0&&g&&b[g]&&(e||(b[g]=b[g].destroy()),b[g+"m"]&&(b[g+"m"]=b[g+"m"].destroy())))},animate:function(a){var b,c=this.chart,e=this.options.animation;e&&!d(e)&&(e=eb[this.type].animation),a?this.setClip(e):(b=this.sharedClipKey,(a=c[b])&&a.animate({width:c.plotSizeX},e),c[b+"m"]&&c[b+"m"].animate({width:c.plotSizeX+99},e),this.animate=null)},afterAnimate:function(){this.setClip(),ab(this,"afterAnimate")},drawPoints:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this.points,n=this.chart,o=this.options.marker,p=this.pointAttr[""],q=this.markerGroup,r=Pa(o.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*o.radius);if(o.enabled!==!1||this._hasPointMarkers)for(d=m.length;d--;)e=m[d],b=ja(e.plotX),c=e.plotY,i=e.graphic,j=e.marker||{},k=!!e.marker,a=r&&j.enabled===I||j.enabled,l=e.isInside,a&&c!==I&&!isNaN(c)&&null!==e.y?(a=e.pointAttr[e.selected?"select":""]||p,f=a.r,g=Pa(j.symbol,this.symbol),h=0===g.indexOf("url"),i?i[l?"show":"hide"](!0).animate(Oa({x:b-f,y:c-f},i.symbolName?{width:2*f,height:2*f}:{})):l&&(f>0||h)&&(e.graphic=n.renderer.symbol(g,b-f,c-f,2*f,2*f,k?j:o).attr(a).add(q))):i&&(e.graphic=i.destroy())},convertAttribs:function(a,b,c,d){var e,f,g=this.pointAttrToOptions,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(e in g)f=g[e],h[e]=Pa(a[f],b[e],c[e],d[e]);return h},getAttribs:function(){var a,b=this,c=b.options,d=eb[b.type].marker?c.marker:c,e=d.states,f=e.hover,g=b.color,h=b.options.negativeColor;a={stroke:g,fill:g};var i,k,l=b.points||[],m=[],n=b.pointAttrToOptions;k=b.hasPointSpecificOptions;var o=d.lineColor,p=d.fillColor;i=c.turboThreshold;var q,r=b.zones,s=b.zoneAxis||"y";if(c.marker?(f.radius=f.radius||d.radius+f.radiusPlus,f.lineWidth=f.lineWidth||d.lineWidth+f.lineWidthPlus):(f.color=f.color||ib(f.color||g).brighten(f.brightness).get(),f.negativeColor=f.negativeColor||ib(f.negativeColor||h).brighten(f.brightness).get()),m[""]=b.convertAttribs(d,a),Wa(["hover","select"],function(a){m[a]=b.convertAttribs(e[a],m[""])}),b.pointAttr=m,g=l.length,!i||i>g||k)for(;g--;){if(i=l[g],(d=i.options&&i.options.marker||i.options)&&d.enabled===!1&&(d.radius=0),r.length){for(k=0,a=r[k];i[s]>=a.value;)a=r[++k];i.color=i.fillColor=a.color}if(k=c.colorByPoint||i.color,i.options)for(q in n)j(d[n[q]])&&(k=!0);k?(d=d||{},k=[],e=d.states||{},a=e.hover=e.hover||{},c.marker||(a.color=a.color||!i.options.color&&f[i.negative&&h?"negativeColor":"color"]||ib(i.color).brighten(a.brightness||f.brightness).get()),a={color:i.color},p||(a.fillColor=i.color),o||(a.lineColor=i.color),k[""]=b.convertAttribs(Oa(a,d),m[""]),k.hover=b.convertAttribs(e.hover,m.hover,k[""]),k.select=b.convertAttribs(e.select,m.select,k[""])):k=m,i.pointAttr=k}},destroy:function(){var a,b,c,d,e,f=this,g=f.chart,h=/AppleWebKit\/533/.test(sa),j=f.data||[];for(ab(f,"destroy"),_a(f),Wa(f.axisTypes||[],function(a){(e=f[a])&&(i(e.series,f),e.isDirty=e.forceRedraw=!0)}),f.legendItem&&f.chart.legend.destroyItem(f),b=j.length;b--;)(c=j[b])&&c.destroy&&c.destroy();f.points=null,clearTimeout(f.animationTimeout),Wa("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(b){f[b]&&(a=h&&"group"===b?"hide":"destroy",f[b][a]())}),g.hoverSeries===f&&(g.hoverSeries=null),i(g.series,f);for(d in f)delete f[d]},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;return Wa(a,function(e,f){var g,h=e.plotX,i=e.plotY;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,e,f)):(c.push(f?"L":"M"),d&&f&&(g=a[f-1],"right"===d?c.push(g.plotX,i):"center"===d?c.push((g.plotX+h)/2,g.plotY,(g.plotX+h)/2,i):c.push(h,g.plotY)),c.push(e.plotX,e.plotY))}),c},getGraphPath:function(){var a,b=this,c=[],d=[];return Wa(b.segments,function(e){a=b.getSegmentPath(e),e.length>1?c=c.concat(a):d.push(e[0])}),b.singlePoints=d,b.graphPath=c},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color,b.dashStyle]],d=b.lineWidth,e="square"!==b.linecap,f=this.getGraphPath(),g=this.fillGraph&&this.color||Ja;
Wa(this.zones,function(d,e){c.push(["colorGraph"+e,d.color||a.color,d.dashStyle||b.dashStyle])}),Wa(c,function(c,h){var i=c[0],j=a[i];j?(db(j),j.animate({d:f})):(d||g)&&f.length&&(j={stroke:c[1],"stroke-width":d,fill:g,zIndex:1},c[2]?j.dashstyle=c[2]:e&&(j["stroke-linecap"]=j["stroke-linejoin"]="round"),a[i]=a.chart.renderer.path(f).attr(j).add(a.group).shadow(2>h&&b.shadow))})},applyZones:function(){var a,b,c,d=this,e=this.chart,f=e.renderer,g=this.zones,h=this.clips||[],i=this.graph,j=this.area,k=la(e.chartWidth,e.chartHeight),l=this[(this.zoneAxis||"y")+"Axis"],m=l.reversed,n=l.horiz,o=!1;g.length&&(i||j)&&(i.hide(),j&&j.hide(),Wa(g,function(g,i){a=Pa(b,m?n?e.plotWidth:0:n?0:l.toPixels(l.min)),b=ia(l.toPixels(Pa(g.value,l.max),!0)),o&&(a=b=l.toPixels(l.max)),l.isXAxis?(c={x:m?b:a,y:0,width:Math.abs(a-b),height:k},n||(c.x=e.plotHeight-c.x)):(c={x:0,y:m?a:b,width:k,height:Math.abs(a-b)},n&&(c.y=e.plotWidth-c.y)),e.inverted&&f.isVML&&(c=l.isXAxis?{x:0,y:m?a:b,height:c.width,width:e.chartWidth}:{x:c.y-e.plotLeft-e.spacingBox.x,y:0,width:c.height,height:e.chartHeight}),h[i]?h[i].animate(c):(h[i]=f.clipRect(c),d["colorGraph"+i].clip(h[i]),j&&d["colorArea"+i].clip(h[i])),o=g.value>l.max}),this.clips=h)},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};Wa(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;b.xAxis&&($a(c,"resize",a),$a(b,"destroy",function(){_a(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||.1}).add(e)),f[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a,b=this,c=b.chart,d=b.options,e=(a=d.animation)&&!!b.animate&&c.renderer.isSVG&&Pa(a.duration,500)||0,f=b.visible?"visible":"hidden",g=d.zIndex,h=b.hasRendered,i=c.seriesGroup;a=b.plotGroup("group","series",f,g,i),b.markerGroup=b.plotGroup("markerGroup","markers",f,g,i),e&&b.animate(!0),b.getAttribs(),a.inverted=b.isCartesian?c.inverted:!1,b.drawGraph&&(b.drawGraph(),b.applyZones()),Wa(b.points,function(a){a.redraw&&a.redraw()}),b.drawDataLabels&&b.drawDataLabels(),b.visible&&b.drawPoints(),b.drawTracker&&b.options.enableMouseTracking!==!1&&b.drawTracker(),c.inverted&&b.invertGroups(),d.clip!==!1&&!b.sharedClipKey&&!h&&a.clip(c.clipRect),e&&b.animate(),h||(e?b.animationTimeout=setTimeout(function(){b.afterAnimate()},e):b.afterAnimate()),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.isDirty,d=this.group,e=this.xAxis,f=this.yAxis;d&&(a.inverted&&d.attr({width:a.plotWidth,height:a.plotHeight}),d.animate({translateX:Pa(e&&e.left,a.plotLeft),translateY:Pa(f&&f.top,a.plotTop)})),this.translate(),this.render(),b&&ab(this,"updatedData"),(c||b)&&delete this.kdTree},kdDimensions:1,kdTree:null,kdAxisArray:["plotX","plotY"],kdComparer:"distX",searchPoint:function(a){var b=this.xAxis,c=this.yAxis,d=this.chart.inverted;return a.plotX=d?b.len-a.chartY+b.pos:a.chartX-b.pos,a.plotY=d?c.len-a.chartX+c.pos:a.chartY-c.pos,this.searchKDTree(a)},buildKDTree:function(){function a(b,d,e){var f,g;return(g=b&&b.length)?(f=c.kdAxisArray[d%e],b.sort(function(a,b){return a[f]-b[f]}),g=Math.floor(g/2),{point:b[g],left:a(b.slice(0,g),d+1,e),right:a(b.slice(g+1),d+1,e)}):void 0}function b(){var b=Xa(c.points,function(a){return null!==a.y});c.kdTree=a(b,d,d)}var c=this,d=c.kdDimensions;delete c.kdTree,c.options.kdSync?b():setTimeout(b)},searchKDTree:function(a){function b(a,g,h,i){var k,l=g.point,m=c.kdAxisArray[h%i],n=l;k=j(a[e])&&j(l[e])?Math.pow(a[e]-l[e],2):null;var o=j(a[f])&&j(l[f])?Math.pow(a[f]-l[f],2):null,p=(k||0)+(o||0);return k={distX:j(k)?Math.sqrt(k):Number.MAX_VALUE,distY:j(o)?Math.sqrt(o):Number.MAX_VALUE,distR:j(p)?Math.sqrt(p):Number.MAX_VALUE},l.dist=k,m=a[m]-l[m],k=0>m?"left":"right",g[k]&&(k=b(a,g[k],h+1,i),n=k.dist[d]<n.dist[d]?k:l,l=0>m?"right":"left",g[l]&&Math.sqrt(m*m)<n.dist[d]&&(a=b(a,g[l],h+1,i),n=a.dist[d]<n.dist[d]?a:n)),n}var c=this,d=this.kdComparer,e=this.kdAxisArray[0],f=this.kdAxisArray[1];return this.kdTree||this.buildKDTree(),this.kdTree?b(a,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},F.prototype={destroy:function(){x(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?r(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=this.isNegative,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=na(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};(e=this.label)&&(e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?"show":"hide"](!0))}},mb.prototype.buildStacks=function(){var a=this.series,b=Pa(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}},mb.prototype.renderStackTotals=function(){var a,b,c=this.chart,d=c.renderer,e=this.stacks,f=this.stackTotalGroup;f||(this.stackTotalGroup=f=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),f.translate(c.plotLeft,c.plotTop);for(a in e)for(b in c=e[a])c[b].render(f)},yb.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var a,b,c,d,e,f,g=this.processedXData,h=this.processedYData,i=[],j=h.length,k=this.options,l=k.threshold,m=k.stack,k=k.stacking,n=this.stackKey,o="-"+n,p=this.negStacks,q=this.yAxis,r=q.stacks,s=q.oldStacks;for(d=0;j>d;d++)e=g[d],f=h[d],c=this.index+","+d,b=(a=p&&l>f)?o:n,r[b]||(r[b]={}),r[b][e]||(s[b]&&s[b][e]?(r[b][e]=s[b][e],r[b][e].total=null):r[b][e]=new F(q,q.options.stackLabels,a,e,m)),b=r[b][e],b.points[c]=[b.cum||0],"percent"===k?(a=a?n:o,p&&r[a]&&r[a][e]?(a=r[a][e],b.total=a.total=la(a.total,b.total)+na(f)||0):b.total=A(b.total+(na(f)||0))):b.total=A(b.total+(f||0)),b.cum=(b.cum||0)+(f||0),b.points[c].push(b.cum),i[d]=b.cum;"percent"===k&&(q.usePercentage=!0),this.stackedYData=i,q.oldStacks={}}},yb.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData;Wa([b,"-"+b],function(b){for(var e,f,g,h=d.length;h--;)f=d[h],e=(g=c[b]&&c[b][f])&&g.points[a.index+","+h],(f=e)&&(g=g.total?100/g.total:0,f[0]=A(f[0]*g),f[1]=A(f[1]*g),a.stackedYData[h]=f[1])})},Oa(vb.prototype,{addSeries:function(a,b,c){var d,e=this;return a&&(b=Pa(b,!0),ab(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)})),d},addAxis:function(b,c,d,e){var f=c?"xAxis":"yAxis",g=this.options;new mb(this,a(b,{index:this[f].length,isX:c})),g[f]=l(g[f]||{}),g[f].push(b),Pa(d,!0)&&this.redraw(e)},showLoading:function(a){var b=this,c=b.options,d=b.loadingDiv,e=c.loading,f=function(){d&&m(d,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};d||(b.loadingDiv=d=n(Ia,{className:"highcharts-loading"},Oa(e.style,{zIndex:10,display:Ja}),b.container),b.loadingSpan=n("span",null,e.labelStyle,d),$a(b,"redraw",f)),b.loadingSpan.innerHTML=a||c.lang.loading,b.loadingShown||(m(d,{opacity:0,display:""}),cb(d,{opacity:e.style.opacity},{duration:e.showDuration||0}),b.loadingShown=!0),f()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&cb(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){m(b,{display:Ja})}}),this.loadingShown=!1}}),Oa(xb.prototype,{update:function(a,b,c,f){function g(){i.applyOptions(a),d(a)&&!e(a)&&(i.redraw=function(){k&&(a&&a.marker&&a.marker.symbol?i.graphic=k.destroy():k.attr(i.pointAttr[i.state||""])),a&&a.dataLabels&&i.dataLabel&&(i.dataLabel=i.dataLabel.destroy()),i.redraw=null}),h=i.index,j.updateParallelArrays(i,h),n&&i.name&&(n[i.x]=i.name),m.data[h]=i.options,j.isDirty=j.isDirtyData=!0,!j.fixedBox&&j.hasCartesianSeries&&(l.isDirtyBox=!0),l.legend.display&&"point"===m.legendType&&(j.updateTotals(),l.legend.clearItems()),b&&l.redraw(c)}var h,i=this,j=i.series,k=i.graphic,l=j.chart,m=j.options,n=j.xAxis&&j.xAxis.names,b=Pa(b,!0);f===!1?g():i.firePointEvent("update",{options:a},g)},remove:function(a,b){this.series.removePoint(Va(this,this.series.data),a,b)}}),Oa(yb.prototype,{addPoint:function(a,b,c,d){var e,f=this.options,g=this.data,h=this.graph,i=this.area,j=this.chart,k=this.xAxis&&this.xAxis.names,l=h&&h.shift||0,m=f.data,n=this.xData;if(B(d,j),c&&Wa([h,i,this.graphNeg,this.areaNeg],function(a){a&&(a.shift=l+1)}),i&&(i.isArea=!0),b=Pa(b,!0),d={series:this},this.pointClass.prototype.applyOptions.apply(d,[a]),h=d.x,i=n.length,this.requireSorting&&h<n[i-1])for(e=!0;i&&n[i-1]>h;)i--;this.updateParallelArrays(d,"splice",i,0,0),this.updateParallelArrays(d,i),k&&d.name&&(k[h]=d.name),m.splice(i,0,a),e&&(this.data.splice(i,0,null),this.processData()),"point"===f.legendType&&this.generatePoints(),c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(d,"shift"),m.shift())),this.isDirtyData=this.isDirty=!0,b&&(this.getAttribs(),j.redraw())},removePoint:function(a,b,c){var d=this,e=d.data,f=e[a],g=d.points,h=d.chart,i=function(){e.length===g.length&&g.splice(a,1),e.splice(a,1),d.options.data.splice(a,1),d.updateParallelArrays(f||{series:d},"splice",a,1),f&&f.destroy(),d.isDirty=!0,d.isDirtyData=!0,b&&h.redraw()};B(c,h),b=Pa(b,!0),f?f.firePointEvent("remove",null,i):i()},remove:function(a,b){var c=this,d=c.chart,a=Pa(a,!0);c.isRemoving||(c.isRemoving=!0,ab(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,d.linkSeries(),a&&d.redraw(b)})),c.isRemoving=!1},update:function(b,c){var d,e=this,f=this.chart,g=this.userOptions,h=this.type,i=Na[h].prototype,j=["group","markerGroup","dataLabelsGroup"];(b.type&&b.type!==h||void 0!==b.zIndex)&&(j.length=0),Wa(j,function(a){j[a]=e[a],delete e[a]}),b=a(g,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},b),this.remove(!1);for(d in i)this[d]=I;Oa(this,Na[b.type||h].prototype),Wa(j,function(a){e[a]=j[a]}),this.init(f,b),f.linkSeries(),Pa(c,!0)&&f.redraw(!1)}}),Oa(mb.prototype,{update:function(b,c){var d=this.chart,b=d.options[this.coll][this.options.index]=a(this.userOptions,b);this.destroy(!0),this._addedPlotLB=I,this.init(d,Oa(b,{events:I})),d.isDirtyBox=!0,Pa(c,!0)&&d.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);i(b.axes,this),i(b[c],this),b.options[c].splice(this.options.index,1),Wa(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,Pa(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var zb=o(yb);Na.line=zb,eb.area=a(Ra,{threshold:0});var Ab=o(yb,{type:"area",getSegments:function(){var a,b,c,d,e=this,f=[],g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=this.points,n=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(c=0;c<m.length;c++)l[m[c].x]=m[c];for(d in k)null!==k[d].total&&h.push(+d);h.sort(function(a,b){return a-b}),Wa(h,function(d){var f,h=0;if(!n||l[d]&&null!==l[d].y)if(l[d])g.push(l[d]);else{for(c=e.index;c<=j.series.length;c++)if(f=k[d].points[c+","+d]){h=f[1];break}a=i.translate(d),b=j.toPixels(h,!0),g.push({y:null,plotX:a,clientX:a,plotY:b,yBottom:b,onMouseOver:Fa})}}),g.length&&f.push(g)}else yb.prototype.getSegments.call(this),f=this.segments;this.segments=f},getSegmentPath:function(a){var b,c=yb.prototype.getSegmentPath.call(this,a),d=[].concat(c),e=this.options;b=c.length;var f,g=this.yAxis.getThreshold(e.threshold);if(3===b&&d.push("L",c[1],c[2]),e.stacking&&!this.closedStacks)for(b=a.length-1;b>=0;b--)f=Pa(a[b].yBottom,g),b<a.length-1&&e.step&&d.push(a[b+1].plotX,f),d.push(a[b].plotX,f);else this.closeSegment(d,a,g);return this.areaPath=this.areaPath.concat(d),c},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[],yb.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,c=this.options,d=[["area",this.color,c.fillColor]];Wa(this.zones,function(b,e){d.push(["colorArea"+e,b.color||a.color,b.fillColor||c.fillColor])}),Wa(d,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:Pa(d[2],ib(d[1]).setOpacity(Pa(c.fillOpacity,.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:Sa.drawRectangle});Na.area=Ab,eb.spline=a(Ra),zb=o(yb,{type:"spline",getPointSpline:function(a,b,c){var d,e,f,g,h=b.plotX,i=b.plotY,j=a[c-1],k=a[c+1];if(j&&k){a=j.plotY,f=k.plotX;var l,k=k.plotY;d=(1.5*h+j.plotX)/2.5,e=(1.5*i+a)/2.5,f=(1.5*h+f)/2.5,g=(1.5*i+k)/2.5,l=(g-e)*(f-h)/(f-d)+i-g,e+=l,g+=l,e>a&&e>i?(e=la(a,i),g=2*i-e):a>e&&i>e&&(e=ma(a,i),g=2*i-e),g>k&&g>i?(g=la(k,i),e=2*i-g):k>g&&i>g&&(g=ma(k,i),e=2*i-g),b.rightContX=f,b.rightContY=g}return c?(b=["C",j.rightContX||j.plotX,j.rightContY||j.plotY,d||h,e||i,h,i],j.rightContX=j.rightContY=null):b=["M",h,i],b}}),Na.spline=zb,eb.areaspline=a(eb.area),Ab=Ab.prototype,zb=o(zb,{type:"areaspline",closedStacks:!0,getSegmentPath:Ab.getSegmentPath,closeSegment:Ab.closeSegment,drawGraph:Ab.drawGraph,drawLegendSymbol:Sa.drawRectangle}),Na.areaspline=zb,eb.column=a(Ra,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),zb=o(yb,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){yb.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&Wa(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a,b,c=this,d=c.options,e=c.xAxis,f=c.yAxis,g=e.reversed,h={},i=0;d.grouping===!1?i=1:Wa(c.chart.series,function(d){var e=d.options,g=d.yAxis;d.type===c.type&&d.visible&&f.len===g.len&&f.pos===g.pos&&(e.stacking?(a=d.stackKey,h[a]===I&&(h[a]=i++),b=h[a]):e.grouping!==!1&&(b=i++),d.columnIndex=b)});var e=ma(na(e.transA)*(e.ordinalSlope||d.pointRange||e.closestPointRange||e.tickInterval||1),e.len),k=e*d.groupPadding,l=(e-2*k)/i,m=d.pointWidth,d=j(m)?(l-m)/2:l*d.pointPadding,m=Pa(m,l-2*d);return c.columnMetrics={width:m,offset:d+(k+((g?i-(c.columnIndex||0):c.columnIndex)||0)*l-e/2)*(g?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,d=a.borderWidth=Pa(c.borderWidth,a.closestPointRange*a.xAxis.transA<2?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=Pa(c.minPointLength,5),h=a.getColumnMetrics(),i=h.width,j=a.barW=la(i,1+2*d),k=a.pointXOffset=h.offset,l=-(d%2?.5:0),m=d%2?.5:1;b.renderer.isVML&&b.inverted&&(m+=1),c.pointPadding&&(j=ka(j)),yb.prototype.translate.apply(a),Wa(a.points,function(c){var d,h=Pa(c.yBottom,f),n=ma(la(-999-h,c.plotY),e.len+999+h),o=c.plotX+k,p=j,q=ma(n,h);d=la(n,h)-q,na(d)<g&&g&&(d=g,q=ia(na(q-f)>g?h-g:f-(e.translate(c.y,0,1,0,1)<=f?g:0))),c.barX=o,c.pointWidth=i,c.tooltipPos=b.inverted?[e.len+e.pos-b.plotLeft-n,a.xAxis.len-o-p/2]:[o+p/2,n+e.pos-b.plotTop],p=ia(o+p)+l,o=ia(o)+l,p-=o,h=na(q)<.5,d=ma(ia(q+d)+m,9e4),q=ia(q)+m,d-=q,h&&(q-=1,d+=1),c.shapeType="rect",c.shapeArgs={x:o,y:q,width:p,height:d}})},getSymbol:Fa,drawLegendSymbol:Sa.drawRectangle,drawGraph:Fa,drawPoints:function(){var b,c,d=this,e=this.chart,f=d.options,g=e.renderer,h=f.animationLimit||250;Wa(d.points,function(i){var k=i.plotY,l=i.graphic;k===I||isNaN(k)||null===i.y?l&&(i.graphic=l.destroy()):(b=i.shapeArgs,k=j(d.borderWidth)?{"stroke-width":d.borderWidth}:{},c=i.pointAttr[i.selected?"select":""]||d.pointAttr[""],l?(db(l),l.attr(k)[e.pointCount<h?"animate":"attr"](a(b))):i.graphic=g[i.shapeType](b).attr(k).attr(c).add(d.group).shadow(f.shadow,null,f.stacking&&!f.borderRadius))})},animate:function(a){var b=this.yAxis,c=this.options,d=this.chart.inverted,e={};Aa&&(a?(e.scaleY=.001,a=ma(b.pos+b.len,la(b.pos,b.toPixels(c.threshold))),d?e.translateX=a-b.len:e.translateY=a,this.group.attr(e)):(e.scaleY=1,e[d?"translateX":"translateY"]=b.pos,this.group.animate(e,this.options.animation),this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&Wa(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),yb.prototype.remove.apply(a,arguments)}}),Na.column=zb,eb.bar=a(eb.column),Ab=o(zb,{type:"bar",inverted:!0}),Na.bar=Ab,eb.scatter=a(Ra,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Ab=o(yb,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,kdComparer:"distR",drawGraph:function(){this.options.lineWidth&&yb.prototype.drawGraph.call(this)}}),Na.scatter=Ab,eb.pie=a(Ra,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Ra={type:"pie",isCartesian:!1,pointClass:o(xb,{init:function(){xb.prototype.init.apply(this,arguments);var a,b=this;return Oa(b,{visible:b.visible!==!1,name:Pa(b.name,"Slice")}),a=function(a){b.slice("select"===a.type)},$a(b,"select",a),$a(b,"unselect",a),b},setVisible:function(a){var b=this,c=b.series,d=c.chart,e=!c.isDirty&&c.options.ignoreHiddenPoint;b.visible=b.options.visible=a=a===I?!b.visible:a,c.options.data[Va(b,c.data)]=b.options,Wa(["graphic","dataLabel","connector","shadowGroup"],function(c){b[c]&&b[c][a?"show":"hide"](!0)}),b.legendItem&&(d.hasRendered&&(c.updateTotals(),d.legend.clearItems(),e||d.legend.render()),d.legend.colorizeItem(b,a)),e&&(c.isDirty=!0,d.redraw())},slice:function(a,b,c){var d=this.series;B(c,d.chart),Pa(b,!0),this.sliced=this.options.sliced=a=j(a)?a:!this.sliced,d.options.data[Va(this,d.data)]=this.options,a=a?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(a),this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Fa,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(Wa(c,function(a){var c=a.graphic,a=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:d,end:d}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,d){yb.prototype.setData.call(this,a,!1,c,d),this.processData(),this.generatePoints(),Pa(b,!0)&&this.chart.redraw(c)},updateTotals:function(){var a,b,c,d,e=0,f=this.options.ignoreHiddenPoint;for(b=this.points,c=b.length,a=0;c>a;a++)d=b[a],d.y<0&&(d.y=null),e+=f&&!d.visible?0:d.y;for(this.total=e,a=0;c>a;a++)d=b[a],d.percentage=e>0&&(d.visible||!f)?d.y/e*100:0,d.total=e},generatePoints:function(){yb.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var b,c,d,e,f,g=0,h=this.options,i=h.slicedOffset,j=i+h.borderWidth,k=h.startAngle||0,l=this.startAngleRad=qa/180*(k-90),k=(this.endAngleRad=qa/180*(Pa(h.endAngle,k+360)-90))-l,m=this.points,n=h.dataLabels.distance,h=h.ignoreHiddenPoint,o=m.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,c){return d=ha.asin(ma((b-a[1])/(a[2]/2+n),1)),a[0]+(c?-1:1)*oa(d)*(a[2]/2+n)},e=0;o>e;e++)f=m[e],b=l+g*k,(!h||f.visible)&&(g+=f.percentage/100),c=l+g*k,f.shapeType="arc",f.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:ia(1e3*b)/1e3,end:ia(1e3*c)/1e3},d=(c+b)/2,d>1.5*qa?d-=2*qa:-qa/2>d&&(d+=2*qa),f.slicedTranslation={translateX:ia(oa(d)*i),translateY:ia(pa(d)*i)},b=oa(d)*a[2]/2,c=pa(d)*a[2]/2,f.tooltipPos=[a[0]+.7*b,a[1]+.7*c],f.half=-qa/2>d||d>qa/2?1:0,f.angle=d,j=ma(j,n/2),f.labelPos=[a[0]+b+oa(d)*n,a[1]+c+pa(d)*n,a[0]+b+oa(d)*j,a[1]+c+pa(d)*j,a[0]+b,a[1]+c,0>n?"center":f.half?"right":"left",d]},drawGraph:null,drawPoints:function(){var a,b,c,d,e=this,f=e.chart.renderer,g=e.options.shadow;g&&!e.shadowGroup&&(e.shadowGroup=f.g("shadow").add(e.group)),Wa(e.points,function(h){b=h.graphic,d=h.shapeArgs,c=h.shadowGroup,g&&!c&&(c=h.shadowGroup=f.g("shadow").add(e.shadowGroup)),a=h.sliced?h.slicedTranslation:{translateX:0,translateY:0},c&&c.attr(a),b?b.animate(Oa(d,a)):h.graphic=b=f[h.shapeType](d).setRadialReference(e.center).attr(h.pointAttr[h.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(a).add(e.group).shadow(g,c),void 0!==h.visible&&h.setVisible(h.visible)})},searchPoint:Fa,sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:Sa.drawRectangle,getCenter:wb.getCenter,getSymbol:Fa},Ra=o(yb,Ra),Na.pie=Ra,yb.prototype.drawDataLabels=function(){var b,c,d,e,f=this,g=f.options,h=g.cursor,i=g.dataLabels,k=f.points,l=f.hasRendered||0,m=f.chart.renderer;(i.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(i),e=f.plotGroup("dataLabelsGroup","data-labels",i.defer?"hidden":"visible",i.zIndex||6),Pa(i.defer,!0)&&(e.attr({opacity:+l}),l||$a(f,"afterAnimate",function(){f.visible&&e.show(),e[g.animation?"animate":"attr"]({opacity:1},{duration:200})})),c=i,Wa(k,function(k){var l,n,o,p,q=k.dataLabel,s=k.connector,t=!0,u={};if(b=k.dlOptions||k.options&&k.options.dataLabels,l=Pa(b&&b.enabled,c.enabled),q&&!l)k.dataLabel=q.destroy();else if(l){if(i=a(c,b),p=i.style,l=i.rotation,n=k.getLabelConfig(),d=i.format?r(i.format,n):i.formatter.call(n,i),p.color=Pa(i.color,p.color,f.color,"black"),q)j(d)?(q.attr({text:d}),t=!1):(k.dataLabel=q=q.destroy(),s&&(k.connector=s.destroy()));else if(j(d)){q={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:l,padding:i.padding,zIndex:1},"contrast"===p.color&&(u.color=i.inside||i.distance<0||g.stacking?m.getContrast(k.color||f.color):"#000000"),h&&(u.cursor=h);for(o in q)q[o]===I&&delete q[o];q=k.dataLabel=m[l?"text":"label"](d,0,-999,i.shape,null,null,i.useHTML).attr(q).css(Oa(p,u)).add(e).shadow(i.shadow)}q&&f.alignDataLabel(k,q,i,null,t)}}))},yb.prototype.alignDataLabel=function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=Pa(a.plotX,-999),i=Pa(a.plotY,-999),j=b.getBBox(),k=f.renderer.fontMetrics(c.style.fontSize).b,l=this.visible&&(a.series.forceDL||f.isInsidePlot(h,ia(i),g)||d&&f.isInsidePlot(h,g?d.x+1:d.y+d.height-1,g));l&&(d=Oa({x:g?f.plotWidth-i:h,y:ia(g?f.plotHeight-h:i),width:0,height:0},d),Oa(c,{width:j.width,height:j.height}),c.rotation?(a=f.renderer.rotCorr(k,c.rotation),b[e?"attr":"animate"]({x:d.x+c.x+d.width/2+a.x,y:d.y+c.y+d.height/2}).attr({align:c.align})):(b.align(c,null,d),g=b.alignAttr,"justify"===Pa(c.overflow,"justify")?this.justifyDataLabel(b,c,g,j,d,e):Pa(c.crop,!0)&&(l=f.isInsidePlot(g.x,g.y)&&f.isInsidePlot(g.x+j.width,g.y+j.height)),c.shape&&b.attr({anchorX:a.plotX,anchorY:a.plotY}))),l||(b.attr({y:-999}),b.placed=!1)},yb.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g,h,i=this.chart,j=b.align,k=b.verticalAlign,l=a.box?0:a.padding||0;g=c.x+l,0>g&&("right"===j?b.align="left":b.x=-g,h=!0),g=c.x+d.width-l,g>i.plotWidth&&("left"===j?b.align="right":b.x=i.plotWidth-g,h=!0),g=c.y+l,0>g&&("bottom"===k?b.verticalAlign="top":b.y=-g,h=!0),g=c.y+d.height-l,g>i.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=i.plotHeight-g,h=!0),h&&(a.placed=!f,a.align(b,null,e))},Na.pie&&(Na.pie.prototype.drawDataLabels=function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.data,n=l.chart,o=l.options.dataLabels,p=Pa(o.connectorPadding,10),q=Pa(o.connectorWidth,1),r=n.plotWidth,s=n.plotHeight,t=Pa(o.softConnector,!0),u=o.distance,v=l.center,x=v[2]/2,y=v[1],z=u>0,A=[[],[]],B=[0,0,0,0],C=function(a,b){return b.y-a.y};if(l.visible&&(o.enabled||l._hasPointLabels)){for(yb.prototype.drawDataLabels.apply(l),Wa(m,function(a){a.dataLabel&&a.visible&&A[a.half].push(a)}),j=2;j--;){var D,E=[],F=[],G=A[j],H=G.length;if(H){for(l.sortByAngle(G,j-.5),k=m=0;!m&&G[k];)m=G[k]&&G[k].dataLabel&&(G[k].dataLabel.getBBox().height||21),k++;if(u>0){for(e=ma(y+x+u,n.plotHeight),k=la(0,y-x-u);e>=k;k+=m)E.push(k);if(e=E.length,H>e){for(a=[].concat(G),a.sort(C),k=H;k--;)a[k].rank=k;for(k=H;k--;)G[k].rank>=e&&G.splice(k,1);H=G.length}for(k=0;H>k;k++){a=G[k],f=a.labelPos,a=9999;var I,J;for(J=0;e>J;J++)I=na(E[J]-f[1]),a>I&&(a=I,D=J);if(k>D&&null!==E[k])D=k;else for(H-k+D>e&&null!==E[k]&&(D=e-H+k);null===E[D];)D++;F.push({i:D,y:E[D]}),E[D]=null}F.sort(C)}for(k=0;H>k;k++)a=G[k],f=a.labelPos,d=a.dataLabel,i=a.visible===!1?"hidden":"visible",a=f[1],u>0?(e=F.pop(),D=e.i,h=e.y,(a>h&&null!==E[D+1]||h>a&&null!==E[D-1])&&(h=ma(la(0,a),n.plotHeight))):h=a,g=o.justify?v[0]+(j?-1:1)*(x+u):l.getX(h===y-x-u||h===y+x+u?a:h,j),d._attr={visibility:i,align:f[6]},d._pos={x:g+o.x+({left:p,right:-p}[f[6]]||0),y:h+o.y-10},d.connX=g,d.connY=h,null===this.options.size&&(e=d.width,p>g-e?B[3]=la(ia(e-g+p),B[3]):g+e>r-p&&(B[1]=la(ia(g+e-r+p),B[1])),0>h-m/2?B[0]=la(ia(-h+m/2),B[0]):h+m/2>s&&(B[2]=la(ia(h+m/2-s),B[2])))}}(0===w(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),z&&q&&Wa(this.points,function(a){b=a.connector,f=a.labelPos,(d=a.dataLabel)&&d._pos?(i=d._attr.visibility,g=d.connX,h=d.connY,c=t?["M",g+("left"===f[6]?5:-5),h,"C",g,h,2*f[2]-f[4],2*f[3]-f[5],f[2],f[3],"L",f[4],f[5]]:["M",g+("left"===f[6]?5:-5),h,"L",f[2],f[3],"L",f[4],f[5]],b?(b.animate({d:c}),b.attr("visibility",i)):a.connector=b=l.chart.renderer.path(c).attr({"stroke-width":q,stroke:o.connectorColor||a.color||"#606060",visibility:i}).add(l.dataLabelsGroup)):b&&(a.connector=b.destroy())}))}},Na.pie.prototype.placeDataLabels=function(){Wa(this.points,function(a){var b,a=a.dataLabel;a&&((b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999}))})},Na.pie.prototype.alignDataLabel=Fa,Na.pie.prototype.verifyDataLabelOverflow=function(a){var b,c=this.center,d=this.options,e=d.center,f=d=d.minSize||80;return null!==e[0]?f=la(c[2]-la(a[1],a[3]),d):(f=la(c[2]-a[1]-a[3],d),c[0]+=(a[3]-a[1])/2),null!==e[1]?f=la(ma(f,c[2]-la(a[0],a[2])),d):(f=la(ma(f,c[2]-a[0]-a[2]),d),c[1]+=(a[0]-a[2])/2),f<c[2]?(c[2]=f,this.translate(c),Wa(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):b=!0,b}),Na.column&&(Na.column.prototype.alignDataLabel=function(b,c,d,e,f){var g=this.chart.inverted,h=b.series,i=b.dlBox||b.shapeArgs,j=b.below||b.plotY>Pa(this.translatedThreshold,h.yAxis.len),k=Pa(d.inside,!!this.options.stacking);i&&(e=a(i),g&&(e={x:h.yAxis.len-e.y-e.height,y:h.xAxis.len-e.x-e.width,width:e.height,height:e.width}),!k)&&(g?(e.x+=j?0:e.width,e.width=0):(e.y+=j?e.height:0,e.height=0)),d.align=Pa(d.align,!g||k?"center":j?"right":"left"),d.verticalAlign=Pa(d.verticalAlign,g||k?"middle":j?"top":"bottom"),yb.prototype.alignDataLabel.call(this,b,c,d,e,f)}),function(a){var b=a.Chart,c=a.each,d=HighchartsAdapter.addEvent;b.prototype.callbacks.push(function(a){function b(){var b=[];c(a.series,function(a){var d=a.options.dataLabels;(d.enabled||a._hasPointLabels)&&!d.allowOverlap&&a.visible&&c(a.points,function(a){a.dataLabel&&(a.dataLabel.labelrank=a.labelrank,b.push(a.dataLabel))})}),a.hideOverlappingLabels(b)}b(),d(a,"redraw",b)}),b.prototype.hideOverlappingLabels=function(a){var b,c,d,e,f=a.length;for(c=0;f>c;c++)(b=a[c])&&(b.oldOpacity=b.opacity,b.newOpacity=1);for(c=0;f>c;c++)for(d=a[c],b=c+1;f>b;++b)e=a[b],d&&e&&d.placed&&e.placed&&0!==d.newOpacity&&0!==e.newOpacity&&!(e.alignAttr.x>d.alignAttr.x+d.width||e.alignAttr.x+e.width<d.alignAttr.x||e.alignAttr.y>d.alignAttr.y+d.height||e.alignAttr.y+e.height<d.alignAttr.y)&&((d.labelrank<e.labelrank?d:e).newOpacity=0);for(c=0;f>c;c++)(b=a[c])&&(b.oldOpacity!==b.newOpacity&&b.placed&&(b.alignAttr.opacity=b.newOpacity,b[b.isOld&&b.newOpacity?"animate":"attr"](b.alignAttr)),b.isOld=!0)}}(ea);var Bb=ea.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(a){for(var c,d=a.target;d&&!c;)c=d.point,d=d.parentNode;c!==I&&c!==b.hoverPoint&&c.onMouseOver(a)};Wa(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.element.point=a)}),a._hasTracking||(Wa(a.trackerGroups,function(b){a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(e),K)&&a[b].on("touchstart",f)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a,b=this,c=b.options,d=c.trackByArea,e=[].concat(d?b.areaPath:b.graphPath),f=e.length,g=b.chart,h=g.pointer,i=g.renderer,j=g.options.tooltip.snap,k=b.tracker,l=c.cursor,m=l&&{cursor:l},l=b.singlePoints,n=function(){g.hoverSeries!==b&&b.onMouseOver()},o="rgba(192,192,192,"+(Aa?1e-4:.002)+")";if(f&&!d)for(a=f+1;a--;)"M"===e[a]&&e.splice(a+1,0,e[a+1]-j,e[a+2],"L"),(a&&"M"===e[a]||a===f)&&e.splice(a,0,"L",e[a-2]+j,e[a-1]);for(a=0;a<l.length;a++)f=l[a],e.push("M",f.plotX-j,f.plotY,"L",f.plotX+j,f.plotY);k?k.attr({d:e}):(b.tracker=i.path(e).attr({"stroke-linejoin":"round",visibility:b.visible?"visible":"hidden",stroke:o,fill:d?o:Ja,"stroke-width":c.lineWidth+(d?0:2*j),zIndex:2}).add(b.group),Wa([b.tracker,b.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){h.onTrackerMouseOut(a)}).css(m),K&&a.on("touchstart",n)}))}};Na.column&&(zb.prototype.drawTracker=Bb.drawTrackerPoint),Na.pie&&(Na.pie.prototype.drawTracker=Bb.drawTrackerPoint),Na.scatter&&(Ab.prototype.drawTracker=Bb.drawTrackerPoint),Oa(ub.prototype,{setItemEvents:function(a,b,c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),b.css(f.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d:e),a.setState()}).on("click",function(b){var c=function(){a.setVisible()},b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):ab(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=n("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),$a(a.checkbox,"click",function(b){ab(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}}),M.legend.itemStyle.cursor="pointer",Oa(vb.prototype,{showResetZoom:function(){var a=this,b=M.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f)},zoomOut:function(){var a=this;ab(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c,e=this.pointer,f=!1;!a||a.resetSelection?Wa(this.axes,function(a){b=a.zoom()}):Wa(a.xAxis.concat(a.yAxis),function(a){var c=a.axis,d=c.isXAxis;(e[d?"zoomX":"zoomY"]||e[d?"pinchX":"pinchY"])&&(b=c.zoom(a.min,a.max),c.displayBtn&&(f=!0))}),c=this.resetZoomButton,f&&!c?this.showResetZoom():!f&&d(c)&&(this.resetZoomButton=c.destroy()),b&&this.redraw(Pa(this.options.chart.animation,a&&a.animation,this.pointCount<100))},pan:function(a,b){var c,d=this,e=d.hoverPoints;e&&Wa(e,function(a){
a.setState()}),Wa("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],f=d[b?"xAxis":"yAxis"][0],g=d[b?"mouseDownX":"mouseDownY"],h=(f.pointRange||0)/2,i=f.getExtremes(),j=f.toValue(g-e,!0)+h,h=f.toValue(g+d[b?"plotWidth":"plotHeight"]-e,!0)-h,g=g>e;f.series.length&&(g||j>ma(i.dataMin,i.min))&&(!g||h<la(i.dataMax,i.max))&&(f.setExtremes(j,h,!1,!1,{trigger:"pan"}),c=!0),d[b?"mouseDownX":"mouseDownY"]=e}),c&&d.redraw(!1),m(d.container,{cursor:"move"})}}),Oa(xb.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=Pa(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a,d.options.data[Va(c,d.data)]=c.options,c.setState(a&&"select"),b||Wa(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[Va(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series,c=b.chart,d=c.tooltip,e=c.hoverPoint;c.hoverSeries!==b&&b.onMouseOver(),e&&e!==this&&e.onMouseOut(),this.firePointEvent("mouseOver"),d&&(!d.shared||b.noSharedTooltip)&&d.refresh(this,a),this.setState("hover"),c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut"),b&&-1!==Va(this,b)||(this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var b,c=a(this.series.options.point,this.options).events;this.events=c;for(b in c)$a(this,b,c[b]);this.hasImportedEvents=!0}},setState:function(b,c){var d,e=this.plotX,f=this.plotY,g=this.series,h=g.options.states,i=eb[g.type].marker&&g.options.marker,j=i&&!i.enabled,k=i&&i.states[b],l=k&&k.enabled===!1,m=g.stateMarkerGraphic,n=this.marker||{},o=g.chart,p=g.halo,b=b||"";d=this.pointAttr[b]||g.pointAttr[b],b===this.state&&!c||this.selected&&"select"!==b||h[b]&&h[b].enabled===!1||b&&(l||j&&k.enabled===!1)||b&&n.states&&n.states[b]&&n.states[b].enabled===!1||(this.graphic?(i=i&&this.graphic.symbolName&&d.r,this.graphic.attr(a(d,i?{x:e-i,y:f-i,width:2*i,height:2*i}:{})),m&&m.hide()):(b&&k&&(i=k.radius,n=n.symbol||g.symbol,m&&m.currentSymbol!==n&&(m=m.destroy()),m?m[c?"animate":"attr"]({x:e-i,y:f-i}):n&&(g.stateMarkerGraphic=m=o.renderer.symbol(n,e-i,f-i,2*i,2*i).attr(d).add(g.markerGroup),m.currentSymbol=n)),m&&m[b&&o.isInsidePlot(e,f,o.inverted)?"show":"hide"]()),(e=h[b]&&h[b].halo)&&e.size?(p||(g.halo=p=o.renderer.path().add(o.seriesGroup)),p.attr(Oa({fill:ib(this.color||g.color).setOpacity(e.opacity).get()},e.attributes))[c?"animate":"attr"]({d:this.haloPath(e.size)})):p&&p.attr({d:[]}),this.state=b)},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted;return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:this.plotX)-a,d.translateY+(e?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}}),Oa(yb.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&ab(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;d&&d.onMouseOut(),this&&a.events.mouseOut&&ab(this,"mouseOut"),c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),this.setState(),b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,d=this.graphNeg,e=b.states,b=b.lineWidth,a=a||"";this.state!==a&&(this.state=a,e[a]&&e[a].enabled===!1||(a&&(b=(e[a].lineWidth||b)+(e[a].lineWidthPlus||0)),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),d&&d.attr(a))))},setVisible:function(a,b){var c,d=this,e=d.chart,f=d.legendItem,g=e.options.chart.ignoreHiddenSeries,h=d.visible;c=(d.visible=a=d.userOptions.visible=a===I?!h:a)?"show":"hide",Wa(["group","dataLabelsGroup","markerGroup","tracker"],function(a){d[a]&&d[a][c]()}),(e.hoverSeries===d||(e.hoverPoint&&e.hoverPoint.series)===d)&&d.onMouseOut(),f&&e.legend.colorizeItem(d,a),d.isDirty=!0,d.options.stacking&&Wa(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),Wa(d.linkedSeries,function(b){b.setVisible(a,!1)}),g&&(e.isDirtyBox=!0),b!==!1&&e.redraw(),ab(d,c)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===I?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),ab(this,a?"select":"unselect")},drawTracker:Bb.drawTrackerGraph}),Qa(yb.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1)),(b=this.xAxis)&&b.options.ordinal&&$a(this,"updatedData",function(){delete b.ordinalIndex})}),Qa(mb.prototype,"getTimeTicks",function(a,b,c,d,e,f,g,h){var i,k,l,m,n=0,o=0,p={},q=[],r=-Number.MAX_VALUE,s=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!f||f.length<3||c===I)return a.call(this,b,c,d,e);for(l=f.length;l>o;o++){if(m=o&&f[o-1]>d,f[o]<c&&(n=o),o===l-1||f[o+1]-f[o]>5*g||m){if(f[o]>r){for(i=a.call(this,b,f[n],f[o],e);i.length&&i[0]<=r;)i.shift();i.length&&(r=i[i.length-1]),q=q.concat(i)}n=o+1}if(m)break}if(a=i.info,h&&a.unitRange<=Q.hour){for(o=q.length-1,n=1;o>n;n++)N("%d",q[n])!==N("%d",q[n-1])&&(p[q[n]]="day",k=!0);k&&(p[q[0]]="day"),a.higherRanks=p}if(q.info=a,h&&j(s)){var t,h=a=q.length,o=[];for(k=[];h--;)n=this.translate(q[h]),t&&(k[h]=t-n),o[h]=t=n;for(k.sort(),k=k[ja(k.length/2)],.6*s>k&&(k=null),h=q[a-1]>d?a-1:a,t=void 0;h--;)n=o[h],d=t-n,t&&.8*s>d&&(null===k||.8*k>d)?(p[q[h]]&&!p[q[h+1]]?(d=h+1,t=n):d=h,q.splice(d,1)):t=n}return q}),Oa(mb.prototype,{beforeSetTickPositions:function(){var a,b,c,d=this,e=[],f=!1,g=d.getExtremes(),h=g.min,g=g.max;if(d.options.ordinal||d.options.breaks){if(Wa(d.series,function(b,c){if(b.visible!==!1&&(b.takeOrdinalPosition!==!1||d.options.breaks)&&(e=e.concat(b.processedXData),a=e.length,e.sort(function(a,b){return a-b}),a))for(c=a-1;c--;)e[c]===e[c+1]&&e.splice(c,1)}),a=e.length,a>2){for(b=e[1]-e[0],c=a-1;c--&&!f;)e[c+1]-e[c]!==b&&(f=!0);!d.options.keepOrdinalPadding&&(e[0]-h>b||g-e[e.length-1]>b)&&(f=!0)}f?(d.ordinalPositions=e,b=d.val2lin(la(h,e[0]),!0),c=la(d.val2lin(ma(g,e[e.length-1]),!0),1),d.ordinalSlope=g=(g-h)/(c-b),d.ordinalOffset=h-b*g):d.ordinalPositions=d.ordinalSlope=d.ordinalOffset=I,d.options.ordinal&&(d.doPostTranslate=f)}d.groupIntervalFactor=null},val2lin:function(a,b){var c=this.ordinalPositions;if(c){var d,e,f=c.length;for(d=f;d--;)if(c[d]===a){e=d;break}for(d=f-1;d--;)if(a>c[d]||0===d){c=(a-c[d])/(c[d+1]-c[d]),e=d+c;break}return b?e:this.ordinalSlope*(e||0)+this.ordinalOffset}return a},lin2val:function(a,b){var c=this.ordinalPositions;if(c){var d,e,f=this.ordinalSlope,g=this.ordinalOffset,h=c.length-1;if(b)0>a?a=c[0]:a>h?a=c[h]:(h=ja(a),e=a-h);else for(;h--;)if(d=f*h+g,a>=d){f=f*(h+1)+g,e=(a-d)/(f-d);break}return e!==I&&c[h]!==I?c[h]+(e?e*(c[h+1]-c[h]):0):a}return a},getExtendedPositions:function(){var a,b,c=this.chart,d=this.series[0].currentDataGrouping,e=this.ordinalIndex,f=d?d.count+d.unitName:"raw",g=this.getExtremes();return e||(e=this.ordinalIndex={}),e[f]||(a={series:[],getExtremes:function(){return{min:g.dataMin,max:g.dataMax}},options:{ordinal:!0},val2lin:mb.prototype.val2lin},Wa(this.series,function(e){b={xAxis:a,xData:e.xData,chart:c,destroyGroupedData:Fa},b.options={dataGrouping:d?{enabled:!0,forced:!0,approximation:"open",units:[[d.unitName,[d.count]]]}:{enabled:!1}},e.processData.apply(b),a.series.push(b)}),this.beforeSetTickPositions.apply(a),e[f]=a.ordinalPositions),e[f]},getGroupIntervalFactor:function(a,b,c){var d=0,c=c.processedXData,e=c.length,f=[],g=this.groupIntervalFactor;if(!g){for(;e-1>d;d++)f[d]=c[d+1]-c[d];f.sort(function(a,b){return a-b}),d=f[ja(e/2)],a=la(a,c[0]),b=ma(b,c[e-1]),this.groupIntervalFactor=g=e*d/(b-a)}return g},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?this.options.breaks?this.closestPointRange:a/(b/this.closestPointRange):a}}),Qa(vb.prototype,"pan",function(a,b){var c=this.xAxis[0],d=b.chartX,e=!1;if(c.options.ordinal&&c.series.length){var f,g=this.mouseDownX,h=c.getExtremes(),i=h.dataMax,j=h.min,k=h.max,l=this.hoverPoints,n=c.closestPointRange,g=(g-d)/(c.translationSlope*(c.ordinalSlope||n)),o={ordinalPositions:c.getExtendedPositions()},n=c.lin2val,p=c.val2lin;o.ordinalPositions?na(g)>1&&(l&&Wa(l,function(a){a.setState()}),0>g?(l=o,f=c.ordinalPositions?c:o):(l=c.ordinalPositions?c:o,f=o),o=f.ordinalPositions,i>o[o.length-1]&&o.push(i),this.fixedRange=k-j,g=c.toFixedRange(null,null,n.apply(l,[p.apply(l,[j,!0])+g,!0]),n.apply(f,[p.apply(f,[k,!0])+g,!0])),g.min>=ma(h.dataMin,j)&&g.max<=la(i,k)&&c.setExtremes(g.min,g.max,!0,!1,{trigger:"pan"}),this.mouseDownX=d,m(this.container,{cursor:"move"})):e=!0}else e=!0;e&&a.apply(this,Array.prototype.slice.call(arguments,1))}),Qa(yb.prototype,"getSegments",function(a){var b,c=this.options.gapSize,d=this.xAxis;a.apply(this,Array.prototype.slice.call(arguments,1)),c&&(b=this.segments,Wa(b,function(a,e){for(var f=a.length-1;f--;)a[f+1].x-a[f].x>d.closestPointRange*c&&b.splice(e+1,0,a.splice(f+1,a.length-f))}))}),function(a){function b(){return Array.prototype.slice.call(arguments,1)}var c=a.pick,d=a.wrap,e=a.extend,f=HighchartsAdapter.fireEvent,g=a.Axis,h=a.Series;e(g.prototype,{isInBreak:function(a,b){var c=a.repeat||1/0,d=a.from,e=a.to-a.from,c=b>=d?(b-d)%c:c-(d-b)%c;return a.inclusive?e>=c:e>c&&0!==c},isInAnyBreak:function(a,b){if(!this.options.breaks)return!1;for(var d=this.options.breaks,e=d.length,f=!1,g=!1;e--;)this.isInBreak(d[e],a)&&(f=!0,g||(g=c(d[e].showPoints,this.isXAxis?!1:!0)));return f&&b?f&&!g:f}}),d(g.prototype,"setTickPositions",function(a){if(a.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var b,c=this.tickPositions,d=this.tickPositions.info,e=[];if(!(d&&d.totalRange>=this.closestPointRange)){for(b=0;b<c.length;b++)this.isInAnyBreak(c[b])||e.push(c[b]);this.tickPositions=e,this.tickPositions.info=d}}}),d(g.prototype,"init",function(a,b,c){if(c.breaks&&c.breaks.length&&(c.ordinal=!1),a.call(this,b,c),this.options.breaks){var d=this;d.doPostTranslate=!0,this.val2lin=function(a){var b,c,e=a;for(c=0;c<d.breakArray.length;c++)if(b=d.breakArray[c],b.to<=a)e-=b.len;else{if(b.from>=a)break;if(d.isInBreak(b,a)){e-=a-b.from;break}}return e},this.lin2val=function(a){var b,c;for(c=0;c<d.breakArray.length&&(b=d.breakArray[c],!(b.from>=a));c++)b.to<a?a+=b.to-b.from:d.isInBreak(b,a)&&(a+=b.to-b.from);return a},this.setExtremes=function(a,b,c,d,e){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange;g.prototype.setExtremes.call(this,a,b,c,d,e)},this.setAxisTranslation=function(a){g.prototype.setAxisTranslation.call(this,a);var b,c,e,h,i=d.options.breaks,a=[],j=[],k=0,l=d.userMin||d.min,m=d.userMax||d.max;for(h in i)c=i[h],d.isInBreak(c,l)&&(l+=c.to%c.repeat-l%c.repeat),d.isInBreak(c,m)&&(m-=m%c.repeat-c.from%c.repeat);for(h in i){for(c=i[h],e=c.from,b=c.repeat||1/0;e-b>l;)e-=b;for(;l>e;)e+=b;for(;m>e;e+=b)a.push({value:e,move:"in"}),a.push({value:e+(c.to-c.from),move:"out",size:c.breakSize})}a.sort(function(a,b){return a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value}),i=0,e=l;for(h in a)c=a[h],i+="in"===c.move?1:-1,1===i&&"in"===c.move&&(e=c.value),0===i&&(j.push({from:e,to:c.value,len:c.value-e-(c.size||0)}),k+=c.value-e-(c.size||0));d.breakArray=j,f(d,"afterBreaks"),d.transA*=(m-d.min)/(m-l-k),d.min=l,d.max=m}}}),d(h.prototype,"generatePoints",function(a){a.apply(this,b(arguments));var c,d=this.xAxis,e=this.yAxis,f=this.points,g=f.length;if(d&&e&&(d.options.breaks||e.options.breaks))for(;g--;)c=f[g],(d.isInAnyBreak(c.x,!0)||e.isInAnyBreak(c.y,!0))&&(f.splice(g,1),this.data[g].destroyElements())}),d(a.seriesTypes.column.prototype,"drawPoints",function(a){a.apply(this);var b,c,d,e,g,a=this.points,h=this.yAxis,i=h.breakArray||[];for(d=0;d<a.length;d++)for(b=a[d],g=b.stackY||b.y,e=0;e<i.length&&(c=i[e],!(g<c.from));e++)g>c.to?f(h,"pointBreak",{point:b,brk:c}):f(h,"pointInBreak",{point:b,brk:c})})}(ea);var Cb=yb.prototype,Ra=nb.prototype,Db=Cb.processData,Eb=Cb.generatePoints,Fb=Cb.destroy,Gb=Ra.tooltipFooterHeaderFormatter,Hb={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Ib={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Jb=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Kb={sum:function(a){var b,c=a.length;if(!c&&a.hasNulls)b=null;else if(c)for(b=0;c--;)b+=a[c];return b},average:function(a){var b=a.length,a=Kb.sum(a);return"number"==typeof a&&b&&(a/=b),a},open:function(a){return a.length?a[0]:a.hasNulls?null:I},high:function(a){return a.length?w(a):a.hasNulls?null:I},low:function(a){return a.length?v(a):a.hasNulls?null:I},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:I},ohlc:function(a,b,c,d){return a=Kb.open(a),b=Kb.high(b),c=Kb.low(c),d=Kb.close(d),"number"==typeof a||"number"==typeof b||"number"==typeof c||"number"==typeof d?[a,b,c,d]:void 0},range:function(a,b){return a=Kb.low(a),b=Kb.high(b),"number"==typeof a||"number"==typeof b?[a,b]:void 0}};Cb.groupData=function(a,b,c,d){var e,f,g,h=this.data,i=this.options.data,j=[],k=[],l=a.length,m=!!b,n=[[],[],[],[]],d="function"==typeof d?d:Kb[d],o=this.pointArrayMap,p=o&&o.length;for(g=0;l>=g&&!(a[g]>=c[0]);g++);for(;l>=g;g++){for(;(c[1]!==I&&a[g]>=c[1]||g===l)&&(e=c.shift(),f=d.apply(0,n),f!==I&&(j.push(e),k.push(f)),n[0]=[],n[1]=[],n[2]=[],n[3]=[],g!==l););if(g===l)break;if(o){e=this.cropStart+g,e=h&&h[e]||this.pointClass.prototype.applyOptions.apply({series:this},[i[e]]);var q;for(f=0;p>f;f++)q=e[o[f]],"number"==typeof q?n[f].push(q):null===q&&(n[f].hasNulls=!0)}else e=m?b[g]:null,"number"==typeof e?n[0].push(e):null===e&&(n[0].hasNulls=!0)}return[j,k]},Cb.processData=function(){var a,b=this.chart,c=this.options,d=c.dataGrouping,e=this.allowDG!==!1&&d&&Pa(d.enabled,b.options._stock);if(this.forceCrop=e,this.groupPixelWidth=null,this.hasProcessed=!0,Db.apply(this,arguments)!==!1&&e){this.destroyGroupedData();var f=this.processedXData,g=this.processedYData,h=b.plotSizeX,b=this.xAxis,i=b.options.ordinal,k=this.groupPixelWidth=b.getGroupPixelWidth&&b.getGroupPixelWidth(),e=this.pointRange;if(k){a=!0,this.points=null;var l=b.getExtremes(),e=l.min,l=l.max,i=i&&b.getGroupIntervalFactor(e,l,this)||1,h=k*(l-e)/h*i,k=b.getTimeTicks(b.normalizeTimeTickInterval(h,d.units||Jb),e,l,b.options.startOfWeek,f,this.closestPointRange),g=Cb.groupData.apply(this,[f,g,k,d.approximation]),f=g[0],g=g[1];if(d.smoothed){for(d=f.length-1,f[d]=l;d--&&d>0;)f[d]+=h/2;f[0]=e}this.currentDataGrouping=k.info,null===c.pointRange&&(this.pointRange=k.info.totalRange),this.closestPointRange=k.info.totalRange,j(f[0])&&f[0]<b.dataMin&&(b.min===b.dataMin&&(b.min=f[0]),b.dataMin=f[0]),this.processedXData=f,this.processedYData=g}else this.currentDataGrouping=null,this.pointRange=e;this.hasGroupedData=a}},Cb.destroyGroupedData=function(){var a=this.groupedData;Wa(a||[],function(b,c){b&&(a[c]=b.destroy?b.destroy():null)}),this.groupedData=null},Cb.generatePoints=function(){Eb.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Ra.tooltipFooterHeaderFormatter=function(a,b){var c,d=a.series,e=d.tooltipOptions,g=d.options.dataGrouping,h=e.xDateFormat,i=d.xAxis;return i&&"datetime"===i.options.type&&g&&f(a.key)?(d=d.currentDataGrouping,g=g.dateTimeLabelFormats,d?(i=g[d.unitName],1===d.count?h=i[0]:(h=i[1],c=i[2])):!h&&g&&(h=this.getXDateFormat(a,e,i)),h=N(h,a.key),c&&(h+=N(c,a.key+d.totalRange-1)),e=e[(b?"footer":"header")+"Format"].replace("{point.key}",h)):e=Gb.call(this,a,b),e},Cb.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;)a[b]&&a[b].destroy();Fb.apply(this)},Qa(Cb,"setOptions",function(b,c){var d=b.call(this,c),e=this.type,f=this.chart.options.plotOptions,g=eb[e].dataGrouping;return Ib[e]&&(g||(g=a(Hb,Ib[e])),d.dataGrouping=a(g,f.series&&f.series.dataGrouping,f[e].dataGrouping,c.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),d}),Qa(mb.prototype,"setScale",function(a){a.call(this),Wa(this.series,function(a){a.hasProcessed=!1})}),mb.prototype.getGroupPixelWidth=function(){var a,b,c=this.series,d=c.length,e=0,f=!1;for(a=d;a--;)(b=c[a].options.dataGrouping)&&(e=la(e,b.groupPixelWidth));for(a=d;a--;)(b=c[a].options.dataGrouping)&&c[a].hasProcessed&&(d=(c[a].processedXData||c[a].data).length,(c[a].groupPixelWidth||d>this.chart.plotSizeX/e||d&&b.forced)&&(f=!0));return f?e:0},eb.ohlc=a(eb.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),Ra=o(Na.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Na.column.prototype.getAttribs.apply(this,arguments);var b=this.options,c=b.states,b=b.upColor||this.color,d=a(this.pointAttr),e=this.upColorProp;d[""][e]=b,d.hover[e]=c.hover.upColor||b,d.select[e]=c.select.upColor||b,Wa(this.points,function(a){a.open<a.close&&!a.options.color&&(a.pointAttr=d)})},translate:function(){var a=this.yAxis;Na.column.prototype.translate.apply(this),Wa(this.points,function(b){null!==b.open&&(b.plotOpen=a.translate(b.open,0,1,0,1)),null!==b.close&&(b.plotClose=a.translate(b.close,0,1,0,1))})},drawPoints:function(){var a,b,c,d,e,f,g,h,i=this,j=i.chart;Wa(i.points,function(k){k.plotY!==I&&(g=k.graphic,a=k.pointAttr[k.selected?"selected":""]||i.pointAttr[""],d=a["stroke-width"]%2/2,h=ia(k.plotX)-d,e=ia(k.shapeArgs.width/2),f=["M",h,ia(k.yBottom),"L",h,ia(k.plotY)],null!==k.open&&(b=ia(k.plotOpen)+d,f.push("M",h,b,"L",h-e,b)),null!==k.close&&(c=ia(k.plotClose)+d,f.push("M",h,c,"L",h+e,c)),g?g.attr(a).animate({d:f}):k.graphic=j.renderer.path(f).attr(a).add(i.group))})},animate:null}),Na.ohlc=Ra,eb.candlestick=a(eb.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:eb.ohlc.tooltip,threshold:null,upColor:"white"}),Ra=o(Ra,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Na.ohlc.prototype.getAttribs.apply(this,arguments);var a=this.options,b=a.states,c=a.upLineColor||a.lineColor,d=b.hover.upLineColor||c,e=b.select.upLineColor||c;Wa(this.points,function(a){a.open<a.close&&(a.pointAttr[""].stroke=c,a.pointAttr.hover.stroke=d,a.pointAttr.select.stroke=e)})},drawPoints:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,n=m.chart,o=m.pointAttr[""];Wa(m.points,function(p){j=p.graphic,p.plotY!==I&&(a=p.pointAttr[p.selected?"selected":""]||o,h=a["stroke-width"]%2/2,i=ia(p.plotX)-h,b=p.plotOpen,c=p.plotClose,d=ha.min(b,c),e=ha.max(b,c),l=ia(p.shapeArgs.width/2),f=ia(d)!==ia(p.plotY),g=e!==p.yBottom,d=ia(d)+h,e=ia(e)+h,k=["M",i-l,e,"L",i-l,d,"L",i+l,d,"L",i+l,e,"Z","M",i,d,"L",i,f?ia(p.plotY):d,"M",i,e,"L",i,g?ia(p.yBottom):e],j?j.attr(a).animate({d:k}):p.graphic=n.renderer.path(k).attr(a).add(m.group).shadow(m.options.shadow))})}}),Na.candlestick=Ra;var Lb=jb.prototype.symbols;eb.flags=a(eb.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),Na.flags=o(Na.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:yb.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Na.column.prototype.translate.apply(this);var a,b,c,d,e,f=this.chart,g=this.points,h=g.length-1,i=this.options.onSeries,i=(a=i&&f.get(i))&&a.options.step,j=a&&a.points,k=j&&j.length,l=this.xAxis,m=l.getExtremes();if(a&&a.visible&&k)for(a=a.currentDataGrouping,d=j[k-1].x+(a?a.totalRange:0),g.sort(function(a,b){return a.x-b.x});k--&&g[h]&&(a=g[h],c=j[k],!(c.x<=a.x&&c.plotY!==I&&(a.x<=d&&(a.plotY=c.plotY,c.x<a.x&&!i&&(e=j[k+1])&&e.plotY!==I&&(a.plotY+=(a.x-c.x)/(e.x-c.x)*(e.plotY-c.plotY))),h--,k++,0>h))););Wa(g,function(a,c){var d;a.plotY===I&&(a.x>=m.min&&a.x<=m.max?a.plotY=f.chartHeight-l.bottom-(l.opposite?l.height:0)+l.offset-f.plotTop:a.shapeArgs={}),(b=g[c-1])&&b.plotX===a.plotX&&(b.stackIndex===I&&(b.stackIndex=0),d=b.stackIndex+1),a.stackIndex=d})},drawPoints:function(){var b,c,d,e,f,g,h,i,j,k=this.pointAttr[""],l=this.points,m=this.chart.renderer,n=this.options,o=n.y,p=n.lineWidth%2/2;for(f=l.length;f--;)g=l[f],b=g.plotX>this.xAxis.len,c=g.plotX+(b?p:-p),h=g.stackIndex,e=g.options.shape||n.shape,d=g.plotY,d!==I&&(d=g.plotY+o+p-(h!==I&&h*n.stackDistance)),i=h?I:g.plotX+p,j=h?I:g.plotY,h=g.graphic,d!==I&&c>=0&&!b?(b=g.pointAttr[g.selected?"select":""]||k,h?h.attr({x:c,y:d,r:b.r,anchorX:i,anchorY:j}):g.graphic=m.label(g.options.title||n.title||"A",c,d,e,i,j,n.useHTML).css(a(n.style,g.style)).attr(b).attr({align:"flag"===e?"left":"center",width:n.width,height:n.height}).add(this.markerGroup).shadow(n.shadow),g.tooltipPos=[c,d]):h&&(g.graphic=h.destroy())},drawTracker:function(){var a=this.points;Bb.drawTrackerPoint.apply(this),Wa(a,function(b){var c=b.graphic;c&&$a(c.element,"mouseover",function(){b.stackIndex>0&&!b.raised&&(b._y=c.y,c.attr({y:b._y-8}),b.raised=!0),Wa(a,function(a){a!==b&&a.raised&&a.graphic&&(a.graphic.attr({y:a._y}),a.raised=!1)})})})},animate:Fa,buildKDTree:Fa,setClip:Fa}),Lb.flag=function(a,b,c,d,e){var f=e&&e.anchorX||a,e=e&&e.anchorY||b;return["M",f,e,"L",a,b+d,a,b,a+c,b,a+c,b+d,a,b+d,"M",f,e,"Z"]},Wa(["circle","square"],function(a){Lb[a+"pin"]=function(b,c,d,e,f){var g=f&&f.anchorX,f=f&&f.anchorY,b=Lb[a](b,c,d,e);return g&&f&&b.push("M",g,c>f?c:c+e,"L",g,f),b}}),J===ea.VMLRenderer&&Wa(["flag","circlepin","squarepin"],function(a){kb.prototype.symbols[a]=Lb[a]});var Ra=[].concat(Jb),Mb=function(a){var b=Xa(arguments,function(a){return"number"==typeof a});return b.length?Math[a].apply(0,b):void 0};Ra[4]=["day",[1,2,3,4]],Ra[5]=["week",[1,2,3]],Oa(M,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:Na.areaspline===I?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Ra},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:ya?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Aa&&!ya}}),G.prototype={drawHandle:function(a,b){var c,d=this.chart,e=d.renderer,f=this.elementsToDestroy,g=this.handles,h=this.navigatorOptions.handles,h={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":1};this.rendered||(g[b]=e.g("navigator-handle-"+["left","right"][b]).css({cursor:"ew-resize"}).attr({zIndex:4-b}).add(),c=e.rect(-4.5,0,9,16,0,1).attr(h).add(g[b]),f.push(c),c=e.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(h).add(g[b]),f.push(c)),g[b][d.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(a,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(a){var b,c=this.chart.renderer,d=this.elementsToDestroy,e=this.scrollbarButtons,f=this.scrollbarHeight,g=this.scrollbarOptions;this.rendered||(e[a]=c.g().add(this.scrollbarGroup),b=c.rect(-.5,-.5,f+1,f+1,g.buttonBorderRadius,g.buttonBorderWidth).attr({stroke:g.buttonBorderColor,"stroke-width":g.buttonBorderWidth,fill:g.buttonBackgroundColor}).add(e[a]),d.push(b),b=c.path(["M",f/2+(a?-1:1),f/2-3,"L",f/2+(a?-1:1),f/2+3,f/2+(a?2:-2),f/2]).attr({fill:g.buttonArrowColor}).add(e[a]),d.push(b)),a&&e[a].attr({translateX:this.scrollerWidth-f})},render:function(a,b,c,d){var e,f,g,h,i,j=this.chart,k=j.renderer,l=this.scrollbarGroup,m=this.navigatorGroup,n=this.scrollbar,m=this.xAxis,o=this.scrollbarTrack,p=this.scrollbarHeight,q=this.scrollbarEnabled,r=this.navigatorOptions,s=this.scrollbarOptions,t=s.minWidth,u=this.height,v=this.top,w=this.navigatorEnabled,x=r.outlineWidth,y=x/2,z=0,A=this.outlineHeight,B=s.barBorderRadius,C=s.barBorderWidth,D=v+y;isNaN(a)||(this.navigatorLeft=e=Pa(m.left,j.plotLeft+p),this.navigatorWidth=f=Pa(m.len,j.plotWidth-2*p),this.scrollerLeft=g=e-p,this.scrollerWidth=h=h=f+2*p,m.getExtremes&&(i=this.getUnionExtremes(!0))&&(i.dataMin!==m.min||i.dataMax!==m.max)&&m.setExtremes(i.dataMin,i.dataMax,!0,!1),c=Pa(c,m.translate(a)),d=Pa(d,m.translate(b)),(isNaN(c)||na(c)===1/0)&&(c=0,d=h),m.translate(d,!0)-m.translate(c,!0)<j.xAxis[0].minRange||(this.zoomedMax=ma(la(c,d),f),this.zoomedMin=la(this.fixedWidth?this.zoomedMax-this.fixedWidth:ma(c,d),0),this.range=this.zoomedMax-this.zoomedMin,c=ia(this.zoomedMax),b=ia(this.zoomedMin),a=c-b,this.rendered||(w&&(this.navigatorGroup=m=k.g("navigator").attr({zIndex:3}).add(),this.leftShade=k.rect().attr({fill:r.maskFill}).add(m),r.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=k.rect().attr({fill:r.maskFill}).add(m),this.outline=k.path().attr({"stroke-width":x,stroke:r.outlineColor}).add(m)),q&&(this.scrollbarGroup=l=k.g("scrollbar").add(),n=s.trackBorderWidth,this.scrollbarTrack=o=k.rect().attr({x:0,y:-n%2/2,fill:s.trackBackgroundColor,stroke:s.trackBorderColor,"stroke-width":n,r:s.trackBorderRadius||0,height:p}).add(l),this.scrollbar=n=k.rect().attr({y:-C%2/2,height:p,fill:s.barBackgroundColor,stroke:s.barBorderColor,"stroke-width":C,r:B}).add(l),this.scrollbarRifles=k.path().attr({stroke:s.rifleColor,"stroke-width":1}).add(l))),j=j.isResizing?"animate":"attr",w&&(this.leftShade[j](r.maskInside?{x:e+b,y:v,width:c-b,height:u}:{x:e,y:v,width:b,height:u}),this.rightShade&&this.rightShade[j]({x:e+c,y:v,width:f-c,height:u}),this.outline[j]({d:["M",g,D,"L",e+b-y,D,e+b-y,D+A,"L",e+c-y,D+A,"L",e+c-y,D,g+h,D].concat(r.maskInside?["M",e+b+y,D,"L",e+c-y,D]:[])}),this.drawHandle(b+y,0),this.drawHandle(c+y,1)),q&&l&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),l[j]({translateX:g,translateY:ia(D+u)}),o[j]({width:h}),e=p+b,f=a-C,t>f&&(z=(t-f)/2,f=t,e-=z),this.scrollbarPad=z,n[j]({x:ja(e)+C%2/2,width:f}),t=p+b+a/2-.5,this.scrollbarRifles.attr({visibility:a>12?"visible":"hidden"})[j]({d:["M",t-3,p/4,"L",t-3,2*p/3,"M",t,p/4,"L",t,2*p/3,"M",t+3,p/4,"L",t+3,2*p/3]})),this.scrollbarPad=z,this.rendered=!0))},addEvents:function(){var a,b=this.chart.container,c=this.mouseDownHandler,d=this.mouseMoveHandler,e=this.mouseUpHandler;a=[[b,"mousedown",c],[b,"mousemove",d],[document,"mouseup",e]],K&&a.push([b,"touchstart",c],[b,"touchmove",d],[document,"touchend",e]),Wa(a,function(a){$a.apply(null,a)}),this._events=a},removeEvents:function(){Wa(this._events,function(a){_a.apply(null,a)}),this._events=I,this.navigatorEnabled&&this.baseSeries&&_a(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var b,c,d,e,f=this,g=f.chart,h=f.scrollbarHeight,i=f.navigatorOptions,j=f.height,k=f.top,l=f.baseSeries;f.mouseDownHandler=function(a){var c,a=g.pointer.normalize(a),e=f.zoomedMin,h=f.zoomedMax,i=f.top,k=f.scrollbarHeight,l=f.scrollerLeft,m=f.scrollerWidth,n=f.navigatorLeft,o=f.navigatorWidth,p=f.scrollbarPad,q=f.range,r=a.chartX,s=a.chartY,a=g.xAxis[0],t=ya?10:7;s>i&&i+j+k>s&&((i=!f.scrollbarEnabled||i+j>s)&&ha.abs(r-e-n)<t?(f.grabbedLeft=!0,f.otherHandlePos=h,f.fixedExtreme=a.max,g.fixedRange=null):i&&ha.abs(r-h-n)<t?(f.grabbedRight=!0,f.otherHandlePos=e,f.fixedExtreme=a.min,g.fixedRange=null):r>n+e-p&&n+h+p>r?(f.grabbedCenter=r,f.fixedWidth=q,d=r-e):r>l&&l+m>r&&(h=i?r-n-q/2:n>r?e-.2*q:r>l+m-k?e+.2*q:n+e>r?e-q:h,0>h?h=0:h+q>=o&&(h=o-q,c=f.getUnionExtremes().dataMax),h!==e&&(f.fixedWidth=q,e=b.toFixedRange(h,h+q,null,c),a.setExtremes(e.min,e.max,!0,!1,{trigger:"navigator"}))))},f.mouseMoveHandler=function(a){var b,c=f.scrollbarHeight,h=f.navigatorLeft,i=f.navigatorWidth,j=f.scrollerLeft,k=f.scrollerWidth,l=f.range;0!==a.pageX&&(a=g.pointer.normalize(a),b=a.chartX,h>b?b=h:b>j+k-c&&(b=j+k-c),f.grabbedLeft?(e=!0,f.render(0,0,b-h,f.otherHandlePos)):f.grabbedRight?(e=!0,f.render(0,0,f.otherHandlePos,b-h)):f.grabbedCenter&&(e=!0,d>b?b=d:b>i+d-l&&(b=i+d-l),f.render(0,0,b-d,b-d+l)),e&&f.scrollbarOptions.liveRedraw&&setTimeout(function(){f.mouseUpHandler(a)},0))},f.mouseUpHandler=function(a){var c,h;e&&(f.zoomedMin===f.otherHandlePos?c=f.fixedExtreme:f.zoomedMax===f.otherHandlePos&&(h=f.fixedExtreme),c=b.toFixedRange(f.zoomedMin,f.zoomedMax,c,h),g.xAxis[0].setExtremes(c.min,c.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:a})),"mousemove"!==a.type&&(f.grabbedLeft=f.grabbedRight=f.grabbedCenter=f.fixedWidth=f.fixedExtreme=f.otherHandlePos=e=d=null)};var m=g.xAxis.length,n=g.yAxis.length;g.extraBottomMargin=f.outlineHeight+i.margin,f.navigatorEnabled?(f.xAxis=b=new mb(g,a({breaks:l&&l.xAxis.options.breaks,ordinal:l&&l.xAxis.options.ordinal},i.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:m,height:j,offset:0,offsetLeft:h,offsetRight:-h,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),f.yAxis=c=new mb(g,a(i.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:j,offset:0,index:n,zoomEnabled:!1})),l||i.series.data?f.addBaseSeries():0===g.series.length&&Qa(g,"redraw",function(a,b){g.series.length>0&&!f.series&&(f.setBaseSeries(),g.redraw=a),a.call(g,b)})):f.xAxis=b={translate:function(a,b){var c=g.xAxis[0],d=c.getExtremes(),e=g.plotWidth-2*h,f=Mb("min",c.options.min,d.dataMin),c=Mb("max",c.options.max,d.dataMax)-f;return b?a*c/e+f:e*(a-f)/c},toFixedRange:mb.prototype.toFixedRange},Qa(g,"getMargins",function(a){var d=this.legend,e=d.options;a.apply(this,[].slice.call(arguments,1)),f.top=k=f.navigatorOptions.top||this.chartHeight-f.height-f.scrollbarHeight-this.spacing[2]-("bottom"===e.verticalAlign&&e.enabled&&!e.floating?d.legendHeight+Pa(e.margin,10):0),b&&c&&(b.options.top=c.options.top=k,b.setAxisSize(),c.setAxisSize())}),f.addEvents()},getUnionExtremes:function(a){var b=this.chart.xAxis[0],c=this.xAxis,d=c.options,e=b.options;return a&&null===b.dataMin?void 0:{dataMin:Mb("min",d&&d.min,e.min,b.dataMin,c.dataMin),dataMax:Mb("max",d&&d.max,e.max,b.dataMax,c.dataMax)}},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=b.series[a]||"string"==typeof a&&b.get(a)||b.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var b,c=this.baseSeries,d=c?c.options:{},e=d.data,f=this.navigatorOptions.series;b=f.data,this.hasNavigatorData=!!b,d=a(d,f,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",
yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),d.data=b||e,this.series=this.chart.initSeries(d),c&&this.navigatorOptions.adaptToUpdatedData!==!1&&($a(c,"updatedData",this.updatedDataHandler),c.userOptions.events=Oa(c.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var a,b,c,d,e,f=this.chart.scroller,g=f.baseSeries,h=g.xAxis,i=h.getExtremes(),j=i.min,k=i.max,l=i.dataMin,i=i.dataMax,m=k-j,n=f.series;a=n.xData;var o=!!h.setExtremes;b=k>=a[a.length-1]-(this.closestPointRange||0),a=l>=j,f.hasNavigatorData||(n.options.pointStart=g.xData[0],n.setData(g.options.data,!1),e=!0),a&&(d=l,c=d+m),b&&(c=i,a||(d=la(c-m,n.xData[0]))),o&&(a||b)?isNaN(d)||h.setExtremes(d,c,!0,!1,{trigger:"updatedData"}):(e&&this.chart.redraw(!1),f.render(la(j,l),ma(k,i)))},destroy:function(){this.removeEvents(),Wa([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(a){a&&a.destroy&&a.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Wa([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(a){x(a)})}},ea.Scroller=G,Qa(mb.prototype,"zoom",function(a,b,c){var d,e=this.chart,f=e.options,g=f.chart.zoomType,h=f.navigator,f=f.rangeSelector;return this.isXAxis&&(h&&h.enabled||f&&f.enabled)&&("x"===g?e.resetZoomButton="blocked":"y"===g?d=!1:"xy"===g&&(e=this.previousZoom,j(b)?this.previousZoom=[this.min,this.max]:e&&(b=e[0],c=e[1],delete this.previousZoom))),d!==I?d:a.call(this,b,c)}),Qa(vb.prototype,"init",function(a,b,c){$a(this,"beforeRender",function(){var a=this.options;(a.navigator.enabled||a.scrollbar.enabled)&&(this.scroller=new G(this))}),a.call(this,b,c)}),Qa(yb.prototype,"addPoint",function(a,b,c,f,g){var h=this.options.turboThreshold;h&&this.xData.length>h&&d(b)&&!e(b)&&this.chart.scroller&&z(20,!0),a.call(this,b,c,f,g)}),Oa(M,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),M.lang=a(M.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),H.prototype={clickButton:function(b,c){var d,e,f=this,g=f.selected,h=f.chart,i=f.buttons,j=f.buttonOptions[b],k=h.xAxis[0],l=h.scroller&&h.scroller.getUnionExtremes()||k||{},m=l.dataMin,n=l.dataMax,o=k&&ia(ma(k.max,Pa(n,k.max))),p=new R(o),q=j.type,r=j.count,l=j._range;if(null!==m&&null!==n&&b!==f.selected){if("month"===q||"year"===q)d={month:"Month",year:"FullYear"}[q],p["set"+d](p["get"+d]()-r),d=p.getTime(),m=Pa(m,Number.MIN_VALUE),isNaN(d)||m>d?(d=m,o=ma(d+l,n)):l=o-d;else if(l)d=la(o-l,m),o=ma(d+l,n);else if("ytd"===q){if(!k)return void $a(h,"beforeRender",function(){f.clickButton(b)});n===I&&(m=Number.MAX_VALUE,n=Number.MIN_VALUE,Wa(h.series,function(a){a=a.xData,m=ma(a[0],m),n=la(a[a.length-1],n)}),c=!1),o=new R(n),e=o.getFullYear(),d=e=la(m||0,R.UTC(e,0,1)),o=o.getTime(),o=ma(n||o,o)}else"all"===q&&k&&(d=m,o=n);i[g]&&i[g].setState(0),i[b]&&i[b].setState(2),h.fixedRange=l,k?k.setExtremes(d,o,Pa(c,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:j}):(g=h.options.xAxis,g[0]=a(g[0],{range:l,min:e})),f.setSelected(b)}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,c=a.options.rangeSelector,d=c.buttons||[].concat(b.defaultButtons),e=c.selected,f=b.blurInputs=function(){var a=b.minInput,c=b.maxInput;a&&a.blur&&ab(a,"blur"),c&&c.blur&&ab(c,"blur")};b.chart=a,b.options=c,b.buttons=[],a.extraTopMargin=35,b.buttonOptions=d,$a(a.container,"mousedown",f),$a(a,"resize",f),Wa(d,b.computeButtonRange),e!==I&&d[e]&&this.clickButton(e,!1),$a(a,"load",function(){$a(a.xAxis[0],"afterSetExtremes",function(){b.updateButtonStates(!0)})})},updateButtonStates:function(a){var b=this,c=this.chart,d=c.xAxis[0],e=c.scroller&&c.scroller.getUnionExtremes()||d,f=e.dataMin,g=e.dataMax,h=b.selected,i=b.options.allButtonsEnabled,j=b.buttons;a&&c.fixedRange!==ia(d.max-d.min)&&(j[h]&&j[h].setState(0),b.setSelected(null)),Wa(b.buttonOptions,function(a,c){var e=a._range,k=e>g-f,l=e<d.minRange,m="all"===a.type&&d.max-d.min>=g-f&&2!==j[c].state,n="ytd"===a.type&&N("%Y",f)===N("%Y",g);e===ia(d.max-d.min)&&c!==h?(b.setSelected(c),j[c].setState(2)):!i&&(k||l||m||n)?j[c].setState(3):3===j[c].state&&j[c].setState(0)})},computeButtonRange:function(a){var b=a.type,c=a.count||1,d={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};d[b]?a._range=d[b]*c:("month"===b||"year"===b)&&(a._range=864e5*{month:30,year:365}[b]*c)},setInputValue:function(a,b){var c=this.chart.options.rangeSelector;j(b)&&(this[a+"Input"].HCTime=b),this[a+"Input"].value=N(c.inputEditDateFormat||"%Y-%m-%d",this[a+"Input"].HCTime),this[a+"DateBox"].attr({text:N(c.inputDateFormat||"%b %e, %Y",this[a+"Input"].HCTime)})},drawInput:function(c){var d,e,f,g=this,h=g.chart,i=h.renderer.style,j=h.renderer,k=h.options.rangeSelector,l=g.div,o="min"===c,p=this.inputGroup;this[c+"Label"]=e=j.label(M.lang[o?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(a(i,k.labelStyle)).add(p),p.offset+=e.width+5,this[c+"DateBox"]=f=j.label("",p.offset).attr({padding:2,width:k.inputBoxWidth||90,height:k.inputBoxHeight||17,stroke:k.inputBoxBorderColor||"silver","stroke-width":1}).css(a({textAlign:"center",color:"#444"},i,k.inputStyle)).on("click",function(){g[c+"Input"].focus()}).add(p),p.offset+=f.width+(o?10:0),this[c+"Input"]=d=n("input",{name:c,className:"highcharts-range-selector",type:"text"},Oa({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:h.plotTop+"px"},k.inputStyle),l),d.onfocus=function(){m(this,{left:p.translateX+f.x+"px",top:p.translateY+"px",width:f.width-2+"px",height:f.height-2+"px",border:"2px solid silver"})},d.onblur=function(){m(this,{border:0,width:"1px",height:"1px"}),g.setInputValue(c)},d.onchange=function(){var a=d.value,c=(k.inputDateParser||R.parse)(a),e=h.xAxis[0],f=e.dataMin,i=e.dataMax;isNaN(c)&&(c=a.split("-"),c=R.UTC(b(c[0]),b(c[1])-1,b(c[2]))),isNaN(c)||(M.global.useUTC||(c+=6e4*(new R).getTimezoneOffset()),o?c>g.maxInput.HCTime?c=I:f>c&&(c=f):c<g.minInput.HCTime?c=I:c>i&&(c=i),c!==I&&h.xAxis[0].setExtremes(o?c:e.min,o?e.max:c,I,I,{trigger:"rangeSelectorInput"}))}},render:function(a,b){var c,d,e=this,f=e.chart,g=f.renderer,h=f.container,i=f.options,k=i.exporting&&i.navigation&&i.navigation.buttonOptions,l=i.rangeSelector,m=e.buttons,o=M.lang,i=e.div,i=e.inputGroup,p=l.buttonTheme,q=l.buttonPosition||{},r=l.inputEnabled,s=p&&p.states,t=f.plotLeft,u=e.group;e.rendered||(e.group=u=g.g("range-selector-buttons").add(),e.zoomText=g.text(o.rangeSelectorZoom,Pa(q.x,t),Pa(q.y,f.plotTop-35)+15).css(l.labelStyle).add(u),c=Pa(q.x,t)+e.zoomText.getBBox().width+5,d=Pa(q.y,f.plotTop-35),Wa(e.buttonOptions,function(a,b){m[b]=g.button(a.text,c,d,function(){e.clickButton(b),e.isActive=!0},p,s&&s.hover,s&&s.select,s&&s.disabled).css({textAlign:"center"}).add(u),c+=m[b].width+Pa(l.buttonSpacing,5),e.selected===b&&m[b].setState(2)}),e.updateButtonStates(),r===!1)||(e.div=i=n("div",null,{position:"relative",height:0,zIndex:1}),h.parentNode.insertBefore(i,h),e.inputGroup=i=g.g("input-group").add(),i.offset=0,e.drawInput("min"),e.drawInput("max")),r!==!1&&(h=f.plotTop-45,i.align(Oa({y:h,width:i.offset,x:k&&h<(k.y||0)+k.height-f.spacing[0]?-40:0},l.inputPosition),!0,f.spacingBox),j(r)||(f=u.getBBox(),i[i.translateX<f.x+f.width+10?"hide":"show"]()),e.setInputValue("min",a),e.setInputValue("max",b)),e.rendered=!0},destroy:function(){var a,b=this.minInput,c=this.maxInput,d=this.chart,e=this.blurInputs;_a(d.container,"mousedown",e),_a(d,"resize",e),x(this.buttons),b&&(b.onfocus=b.onblur=b.onchange=null),c&&(c.onfocus=c.onblur=c.onchange=null);for(a in this)this[a]&&"chart"!==a&&(this[a].destroy?this[a].destroy():this[a].nodeType&&y(this[a])),this[a]=null}},mb.prototype.toFixedRange=function(a,b,c,d){var e=this.chart&&this.chart.fixedRange,a=Pa(c,this.translate(a,!0)),b=Pa(d,this.translate(b,!0)),c=e&&(b-a)/e;return c>.7&&1.3>c&&(d?a=b-e:b=a+e),{min:a,max:b}},Qa(vb.prototype,"init",function(a,b,c){$a(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new H(this))}),a.call(this,b,c)}),ea.RangeSelector=H,vb.prototype.callbacks.push(function(a){function b(){f=a.xAxis[0].getExtremes(),g.render(f.min,f.max)}function c(){f=a.xAxis[0].getExtremes(),isNaN(f.min)||h.render(f.min,f.max)}function d(a){"navigator-drag"!==a.triggerOp&&g.render(a.min,a.max)}function e(a){h.render(a.min,a.max)}var f,g=a.scroller,h=a.rangeSelector;g&&($a(a.xAxis[0],"afterSetExtremes",d),Qa(a,"drawChartBox",function(a){var c=this.isDirtyBox;a.call(this),c&&b()}),b()),h&&($a(a.xAxis[0],"afterSetExtremes",e),$a(a,"resize",c),c()),$a(a,"destroy",function(){g&&_a(a.xAxis[0],"afterSetExtremes",d),h&&(_a(a,"resize",c),_a(a.xAxis[0],"afterSetExtremes",e))})}),ea.StockChart=function(b,c){var d,e=b.series,f=Pa(b.navigator&&b.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,g={marker:{enabled:!1,radius:2},states:{hover:{lineWidth:2}}},h={shadow:!1,borderWidth:0};return b.xAxis=Za(l(b.xAxis||{}),function(b){return a({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},b,{type:"datetime",categories:null},f)}),b.yAxis=Za(l(b.yAxis||{}),function(b){return d=Pa(b.opposite,!0),a({labels:{y:-2},opposite:d,showLastLabel:!1,title:{text:null}},b)}),b.series=null,b=a({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:g,spline:g,area:g,areaspline:g,arearange:g,areasplinerange:g,column:h,columnrange:h,candlestick:h,ohlc:h}},b,{_stock:!0,chart:{inverted:!1}}),b.series=e,new vb(b,c)},Qa(pb.prototype,"init",function(a,b,c){var d=c.chart.pinchType||"";a.call(this,b,c),this.pinchX=this.pinchHor=-1!==d.indexOf("x"),this.pinchY=this.pinchVert=-1!==d.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Qa(mb.prototype,"autoLabelAlign",function(a){var b=this.chart,c=this.options,b=b._labelPanes=b._labelPanes||{},d=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(c=c.top+","+c.height,!b[c]&&d.enabled)?(15===d.x&&(d.x=0),void 0===d.align&&(d.align="right"),b[c]=1,"right"):a.call(this,[].slice.call(arguments,1))}),Qa(mb.prototype,"getPlotLinePath",function(a,b,c,d,e,f){var g,h,i,k,l,m=this,n=this.isLinked&&!this.series?this.linkedParent.series:this.series,o=m.chart,p=o.renderer,q=m.left,r=m.top,s=[],t=[];return"colorAxis"===m.coll?a.apply(this,[].slice.call(arguments,1)):(t=m.isXAxis?j(m.options.yAxis)?[o.yAxis[m.options.yAxis]]:Za(n,function(a){return a.yAxis}):j(m.options.xAxis)?[o.xAxis[m.options.xAxis]]:Za(n,function(a){return a.xAxis}),Wa(m.isXAxis?o.yAxis:o.xAxis,function(a){if(j(a.options.id)?-1===a.options.id.indexOf("navigator"):1){var b=a.isXAxis?"yAxis":"xAxis",b=j(a.options[b])?o[b][a.options[b]]:o[b][0];m===b&&t.push(a)}}),l=t.length?[]:[m.isXAxis?o.yAxis[0]:o.xAxis[0]],Wa(t,function(a){-1===Va(a,l)&&l.push(a)}),f=Pa(f,m.translate(b,null,null,d)),isNaN(f)||(m.horiz?Wa(l,function(a){var b;h=a.pos,k=h+a.len,g=i=ia(f+m.transB),(q>g||g>q+m.width)&&(e?g=i=ma(la(q,g),q+m.width):b=!0),b||s.push("M",g,h,"L",i,k)}):Wa(l,function(a){var b;g=a.pos,i=g+a.len,h=k=ia(r+m.height-f),(r>h||h>r+m.height)&&(e?h=k=ma(la(r,h),m.top+m.height):b=!0),b||s.push("M",g,h,"L",i,k)})),s.length>0?p.crispPolyLine(s,c||1):null)}),mb.prototype.getPlotBandPath=function(a,b){var c,d=this.getPlotLinePath(b,null,null,!0),e=this.getPlotLinePath(a,null,null,!0),f=[];if(e&&d)for(c=0;c<e.length;c+=6)f.push("M",e[c+1],e[c+2],"L",e[c+4],e[c+5],d[c+4],d[c+5],d[c+1],d[c+2]);else f=null;return f},jb.prototype.crispPolyLine=function(a,b){var c;for(c=0;c<a.length;c+=6)a[c+1]===a[c+4]&&(a[c+1]=a[c+4]=ia(a[c+1])-b%2/2),a[c+2]===a[c+5]&&(a[c+2]=a[c+5]=ia(a[c+2])+b%2/2);return a},J===ea.VMLRenderer&&(kb.prototype.crispPolyLine=jb.prototype.crispPolyLine),Qa(mb.prototype,"hideCrosshair",function(a,b){a.call(this,b),j(this.crossLabelArray)&&(j(b)?this.crossLabelArray[b]&&this.crossLabelArray[b].hide():Wa(this.crossLabelArray,function(a){a.hide()}))}),Qa(mb.prototype,"drawCrosshair",function(a,b,c){var d,e;if(a.call(this,b,c),j(this.crosshair.label)&&this.crosshair.label.enabled&&j(c)){var f,g,a=this.chart,h=this.options.crosshair.label,i=this.isXAxis?"x":"y",b=this.horiz,k=this.opposite,l=this.left,m=this.top,n=this.crossLabel,o=h.format,p="";n||(n=this.crossLabel=a.renderer.label().attr({align:h.align||(b?"center":k?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:b?16:I,fill:h.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Pa(h.padding,2),stroke:h.borderColor||null,"stroke-width":h.borderWidth||0}).css(Oa({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},h.style)).add()),b?(f=c.plotX+l,g=m+(k?0:this.height)):(f=k?this.width+l:0,g=c.plotY+m),m>g||g>m+this.height?this.hideCrosshair():(!o&&!h.formatter&&(this.isDatetimeAxis&&(p="%b %d, %Y"),o="{value"+(p?":"+p:"")+"}"),n.attr({text:o?r(o,{value:c[i]}):h.formatter.call(this,c[i]),x:f,y:g,visibility:"visible"}),c=n.getBBox(),b?("inside"===this.options.tickPosition&&!k||"inside"!==this.options.tickPosition&&k)&&(g=n.y-c.height):g=n.y-c.height/2,b?(d=l-c.x,e=l+this.width-c.x):(d="left"===this.labelAlign?l:0,e="right"===this.labelAlign?l+this.width:a.chartWidth),n.translateX<d&&(f+=d-n.translateX),n.translateX+c.width>=e&&(f-=n.translateX+c.width-e),n.attr({x:f,y:g,visibility:"visible"}))}});var Nb=Cb.init,Ob=Cb.processData,Pb=xb.prototype.tooltipFormatter;Cb.init=function(){Nb.apply(this,arguments),this.setCompare(this.options.compare)},Cb.setCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;return b!==I&&(b="value"===a?b-d:b=100*(b/d)-100,c)&&(c.change=b),b}:null,this.chart.hasRendered&&(this.isDirty=!0)},Cb.processData=function(){var a,b,c,d=0;if(Ob.apply(this,arguments),this.xAxis&&this.processedYData)for(a=this.processedXData,b=this.processedYData,c=b.length;c>d;d++)if("number"==typeof b[d]&&a[d]>=this.xAxis.min){this.compareValue=b[d];break}},Qa(Cb,"getExtremes",function(a){a.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),mb.prototype.setCompare=function(a,b){this.isXAxis||(Wa(this.series,function(b){b.setCompare(a)}),Pa(b,!0)&&this.chart.redraw())},xb.prototype.tooltipFormatter=function(a){return a=a.replace("{point.change}",(this.change>0?"+":"")+ea.numberFormat(this.change,Pa(this.series.tooltipOptions.changeDecimals,2))),Pb.apply(this,[a])},Qa(yb.prototype,"render",function(b){this.chart.options._stock&&(!this.clipBox&&this.animate&&-1!==this.animate.toString().indexOf("sharedClip")?(this.clipBox=a(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(db(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),b.call(this)}),Oa(ea,{Color:ib,Point:xb,Tick:E,Renderer:J,SVGElement:D,SVGRenderer:jb,arrayMin:v,arrayMax:w,charts:Ga,dateFormat:N,error:z,format:r,pathAnim:P,getOptions:function(){return M},hasBidiBug:Ba,isTouchDevice:ya,setOptions:function(b){return M=a(!0,M,b),C(),M},addEvent:$a,removeEvent:_a,createElement:n,discardElement:y,css:m,each:Wa,map:Za,merge:a,splat:l,extendClass:o,pInt:b,svg:Aa,canvas:Ca,vml:!Aa&&!Ca,product:"Highstock",version:"2.1.4"})}(),define("highstock",["jquery"],function(a){return function(){var b;return b||a.Highcharts}}(this)),function(a){var b,c=a.Chart,d=a.addEvent,e=a.removeEvent,f=HighchartsAdapter.fireEvent,g=a.createElement,h=a.discardElement,i=a.css,j=a.merge,k=a.each,l=a.extend,m=a.splat,n=Math.max,o=document,p=window,q=a.isTouchDevice,r=a.Renderer.prototype.symbols,s=a.getOptions();l(s.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),s.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:q?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},s.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},a.post=function(a,b,c){var d,a=g("form",j({method:"post",action:a,enctype:"multipart/form-data"},c),{display:"none"},o.body);for(d in b)g("input",{type:"hidden",name:d,value:b[d]},null,a);a.submit(),h(a)},l(c.prototype,{sanitizeSVG:function(a){return a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()})},getSVG:function(b){var c,d,e,f,i,n=this,p=j(n.options,b);return o.createElementNS||(o.createElementNS=function(a,b){return o.createElement(b)}),d=g("div",null,{position:"absolute",top:"-9999em",width:n.chartWidth+"px",height:n.chartHeight+"px"},o.body),e=n.renderTo.style.width,i=n.renderTo.style.height,e=p.exporting.sourceWidth||p.chart.width||/px$/.test(e)&&parseInt(e,10)||600,i=p.exporting.sourceHeight||p.chart.height||/px$/.test(i)&&parseInt(i,10)||400,l(p.chart,{animation:!1,renderTo:d,forExport:!0,width:e,height:i}),p.exporting.enabled=!1,delete p.data,p.series=[],k(n.series,function(a){f=j(a.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible}),f.isInternal||p.series.push(f)}),b&&k(["xAxis","yAxis"],function(a){k(m(b[a]),function(b,c){p[a][c]=j(p[a][c],b)})}),c=new a.Chart(p,n.callback),k(["xAxis","yAxis"],function(a){k(n[a],function(b,d){var e=c[a][d],f=b.getExtremes(),g=f.userMin,f=f.userMax;e&&(void 0!==g||void 0!==f)&&e.setExtremes(g,f,!0,!1)})}),e=c.container.innerHTML,p=null,c.destroy(),h(d),e=this.sanitizeSVG(e),e=e.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(a,b){var c=this.options.exporting;return this.getSVG(j({chart:{borderRadius:0}},c.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||c.sourceWidth,sourceHeight:a&&a.sourceHeight||c.sourceHeight}}))},exportChart:function(b,c){var d=this.getSVGForExport(b,c),b=j(this.options.exporting,b);a.post(b.url,{filename:b.filename||"chart",type:b.type,width:b.width||0,scale:b.scale||2,svg:d},b.formAttributes)},print:function(){var a=this,b=a.container,c=[],d=b.parentNode,e=o.body,g=e.childNodes;a.isPrinting||(a.isPrinting=!0,f(a,"beforePrint"),k(g,function(a,b){1===a.nodeType&&(c[b]=a.style.display,a.style.display="none")}),e.appendChild(b),p.focus(),p.print(),setTimeout(function(){d.appendChild(b),k(g,function(a,b){1===a.nodeType&&(a.style.display=c[b])}),a.isPrinting=!1,f(a,"afterPrint")},1e3))},contextMenu:function(a,b,c,f,h,j,m){var o,p,q,r=this,s=r.options.navigation,t=s.menuItemStyle,u=r.chartWidth,v=r.chartHeight,w="cache-"+a,x=r[w],y=n(h,j),z=function(b){r.pointer.inClass(b.target,a)||p()};x||(r[w]=x=g("div",{className:a},{position:"absolute",zIndex:1e3,padding:y+"px"},r.container),o=g("div",null,l({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},s.menuStyle),x),p=function(){i(x,{display:"none"}),m&&m.setState(0),r.openMenu=!1},d(x,"mouseleave",function(){q=setTimeout(p,500)}),d(x,"mouseenter",function(){clearTimeout(q)}),d(document,"mouseup",z),d(r,"destroy",function(){e(document,"mouseup",z)}),k(b,function(a){if(a){var b=a.separator?g("hr",null,null,o):g("div",{onmouseover:function(){i(this,s.menuItemHoverStyle)},onmouseout:function(){i(this,t)},onclick:function(){p(),a.onclick&&a.onclick.apply(r,arguments)},innerHTML:a.text||r.options.lang[a.textKey]},l({cursor:"pointer"},t),o);r.exportDivElements.push(b)}}),r.exportDivElements.push(o,x),r.exportMenuWidth=x.offsetWidth,r.exportMenuHeight=x.offsetHeight),b={display:"block"},c+r.exportMenuWidth>u?b.right=u-c-h-y+"px":b.left=c-y+"px",f+j+r.exportMenuHeight>v&&"top"!==m.alignOptions.verticalAlign?b.bottom=v-f-y+"px":b.top=f+j-y+"px",i(x,b),r.openMenu=!0},addButton:function(c){var d,e,f=this,g=f.renderer,h=j(f.options.navigation.buttonOptions,c),i=h.onclick,k=h.menuItems,m={stroke:h.symbolStroke,fill:h.symbolFill},n=h.symbolSize||12;if(f.btnCount||(f.btnCount=0),f.exportDivElements||(f.exportDivElements=[],f.exportSVGElements=[]),h.enabled!==!1){var o,p=h.theme,q=p.states,r=q&&q.hover,q=q&&q.select;delete p.states,i?o=function(){i.apply(f,arguments)}:k&&(o=function(){f.contextMenu(e.menuClassName,k,e.translateX,e.translateY,e.width,e.height,e),e.setState(2)}),h.text&&h.symbol?p.paddingLeft=a.pick(p.paddingLeft,25):h.text||l(p,{width:h.width,height:h.height,padding:0}),e=g.button(h.text,0,0,o,p,r,q).attr({title:f.options.lang[h._titleKey],"stroke-linecap":"round"}),e.menuClassName=c.menuClassName||"highcharts-menu-"+f.btnCount++,h.symbol&&(d=g.symbol(h.symbol,h.symbolX-n/2,h.symbolY-n/2,n,n).attr(l(m,{"stroke-width":h.symbolStrokeWidth||1,zIndex:1})).add(e)),e.add().align(l(h,{width:e.width,x:a.pick(h.x,b)}),!0,"spacingBox"),b+=(e.width+h.buttonSpacing)*("right"===h.align?-1:1),f.exportSVGElements.push(e,d)}},destroyExport:function(a){var b,c,a=a.target;for(b=0;b<a.exportSVGElements.length;b++)(c=a.exportSVGElements[b])&&(c.onclick=c.ontouchstart=null,a.exportSVGElements[b]=c.destroy());for(b=0;b<a.exportDivElements.length;b++)c=a.exportDivElements[b],e(c,"mouseleave"),a.exportDivElements[b]=c.onmouseout=c.onmouseover=c.ontouchstart=c.onclick=null,h(c)}}),r.menu=function(a,b,c,d){return["M",a,b+2.5,"L",a+c,b+2.5,"M",a,b+d/2+.5,"L",a+c,b+d/2+.5,"M",a,b+d-1.5,"L",a+c,b+d-1.5]},c.prototype.callbacks.push(function(a){var c,e=a.options.exporting,f=e.buttons;if(b=0,e.enabled!==!1){for(c in f)a.addButton(f[c]);d(a,"destroy",a.destroyExport)}})}(Highcharts),define("highcharts.exporting",["highstock"],function(){}),define("helpers/hchartexport",["require","highstock","highcharts.exporting"],function(a){"use strict";function b(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.src=a,d.onload=b,c.appendChild(d)}a("highstock"),a("highcharts.exporting"),Highcharts.Chart.prototype.exportChartLocal=function(a){var c,d,e,f,g=this,h=this.getSVG(),i=function(){var b;navigator.msSaveOrOpenBlob?("jpeg"===f?b=c.msToBlob():(b=new MSBlobBuilder,b.append(h),b=b.getBlob("image/svg+xml")),navigator.msSaveOrOpenBlob(b,a.name)):(d=document.createElement("a"),d.href=e,d.download=a.name,document.body.appendChild(d),d.click(),d.remove())},j=function(){c=document.createElement("canvas"),window.canvg(c,h),e=c.toDataURL("image/jpeg"),f="jpeg"};a&&"image/svg+xml"===a.type?(e="data:"+a.type+","+h,f="svg",i()):window.canvg?(j(),i()):(this.showLoading(),b(Highcharts.getOptions().global.canvasToolsURL,function(){g.hideLoading(),j(),i()}))}}),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return za.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){ta.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return m(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){qb[a]||(e(b),qb[a]=!0)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(){}function k(a,b){b!==!1&&F(a),n(this,a),this._d=new Date(+a._d)}function l(a){var b=y(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ta.localeData(),this._bubble()}function m(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function n(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Ia.length>0)for(c in Ia)d=Ia[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function q(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function r(a,b){var c;return b=K(b,a),a.isBefore(b)?c=q(a,b):(c=q(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function s(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=ta.duration(c,d),t(this,e,a),this}}function t(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&na(a,"Date",ma(a,"Date")+f*c),g&&la(a,ma(a,"Month")+g*c),d&&ta.updateOffset(a,f||g)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function v(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function x(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jb[a]||kb[b]||b}return a}function y(a){var b,d,e={};for(d in a)c(a,d)&&(b=x(d),b&&(e[b]=a[d]));return e}function z(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}ta[b]=function(e,f){var g,h,i=ta._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=ta().utc().set(d,a);return i.call(ta._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function A(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function B(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function C(a,b,c){return ha(ta([a,11,31+b-c]),b,c).week}function D(a){return E(a)?366:365}function E(a){return a%4===0&&a%100!==0||a%400===0}function F(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Ba]<0||a._a[Ba]>11?Ba:a._a[Ca]<1||a._a[Ca]>B(a._a[Aa],a._a[Ba])?Ca:a._a[Da]<0||a._a[Da]>24||24===a._a[Da]&&(0!==a._a[Ea]||0!==a._a[Fa]||0!==a._a[Ga])?Da:a._a[Ea]<0||a._a[Ea]>59?Ea:a._a[Fa]<0||a._a[Fa]>59?Fa:a._a[Ga]<0||a._a[Ga]>999?Ga:-1,a._pf._overflowDayOfYear&&(Aa>b||b>Ca)&&(b=Ca),a._pf.overflow=b)}function G(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function I(a){for(var b,c,d,e,f=0;f<a.length;){for(e=H(a[f]).split("-"),b=e.length,c=H(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=J(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function J(a){var b=null;if(!Ha[a]&&Ja)try{b=ta.locale(),require("./locale/"+a),ta.locale(b)}catch(c){}return Ha[a]}function K(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(ta.isMoment(a)||v(a)?+a:+ta(a))-+c,c._d.setTime(+c._d+d),ta.updateOffset(c,!1),c):ta(a).local()}function L(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function M(a){var b,c,d=a.match(Na);for(b=0,c=d.length;c>b;b++)pb[d[b]]?d[b]=pb[d[b]]:d[b]=L(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function N(a,b){return a.isValid()?(b=O(b,a.localeData()),lb[b]||(lb[b]=M(b)),lb[b](a)):a.localeData().invalidDate()}function O(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oa.lastIndex=0;d>=0&&Oa.test(a);)a=a.replace(Oa,c),Oa.lastIndex=0,d-=1;return a}function P(a,b){var c,d=b._strict;switch(a){case"Q":return Za;case"DDDD":return _a;case"YYYY":case"GGGG":case"gggg":return d?ab:Ra;case"Y":case"G":case"g":return cb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?bb:Sa;case"S":if(d)return Za;case"SS":if(d)return $a;case"SSS":if(d)return _a;case"DDD":return Qa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ua;case"a":case"A":return b._locale._meridiemParse;case"x":return Xa;case"X":return Ya;case"Z":case"ZZ":return Va;case"T":return Wa;case"SSSS":return Ta;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?$a:Pa;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pa;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp(Y(X(a.replace("\\","")),"i"))}}function Q(a){a=a||"";var b=a.match(Va)||[],c=b[b.length-1]||[],d=(c+"").match(hb)||["-",0,0],e=+(60*d[1])+A(d[2]);return"+"===d[0]?-e:e}function R(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Ba]=3*(A(b)-1));break;case"M":case"MM":null!=b&&(e[Ba]=A(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Ba]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Ca]=A(b));break;case"Do":null!=b&&(e[Ca]=A(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=A(b));
break;case"YY":e[Aa]=ta.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Aa]=A(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Da]=A(b);break;case"m":case"mm":e[Ea]=A(b);break;case"s":case"ss":e[Fa]=A(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ga]=A(1e3*("0."+b));break;case"x":c._d=new Date(A(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=Q(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=A(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=ta.parseTwoDigitYear(b)}}function S(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Aa],ha(ta(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Aa],ha(ta(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ia(d,e,f,h,g),a._a[Aa]=i.year,a._dayOfYear=i.dayOfYear}function T(a){var c,d,e,f,g=[];if(!a._d){for(e=V(a),a._w&&null==a._a[Ca]&&null==a._a[Ba]&&S(a),a._dayOfYear&&(f=b(a._a[Aa],e[Aa]),a._dayOfYear>D(f)&&(a._pf._overflowDayOfYear=!0),d=da(f,0,a._dayOfYear),a._a[Ba]=d.getUTCMonth(),a._a[Ca]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Da]&&0===a._a[Ea]&&0===a._a[Fa]&&0===a._a[Ga]&&(a._nextDay=!0,a._a[Da]=0),a._d=(a._useUTC?da:ca).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm),a._nextDay&&(a._a[Da]=24)}}function U(a){var b;a._d||(b=y(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],T(a))}function V(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function W(b){if(b._f===ta.ISO_8601)return void $(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=O(b._f,b._locale).match(Na)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),pb[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),R(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Da]<=12&&(b._pf.bigHour=a),b._isPm&&b._a[Da]<12&&(b._a[Da]+=12),b._isPm===!1&&12===b._a[Da]&&(b._a[Da]=0),T(b),F(b)}function X(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(NaN));for(f=0;f<a._f.length;f++)g=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],W(b),G(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));m(a,c||b)}function $(a){var b,c,d=a._i,e=db.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fb.length;c>b;b++)if(fb[b][1].exec(d)){a._f=fb[b][0]+(e[6]||" ");break}for(b=0,c=gb.length;c>b;b++)if(gb[b][1].exec(d)){a._f+=gb[b][0];break}d.match(Va)&&(a._f+="Z"),W(a)}else a._isValid=!1}function _(a){$(a),a._isValid===!1&&(delete a._isValid,ta.createFromInputFallback(a))}function aa(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function ba(b){var c,d=b._i;d===a?b._d=new Date:v(d)?b._d=new Date(+d):null!==(c=Ka.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?_(b):u(d)?(b._a=aa(d.slice(0),function(a){return parseInt(a,10)}),T(b)):"object"==typeof d?U(b):"number"==typeof d?b._d=new Date(d):ta.createFromInputFallback(b)}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function fa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ga(a,b,c){var d=ta.duration(a).abs(),e=ya(d.as("s")),f=ya(d.as("m")),g=ya(d.as("h")),h=ya(d.as("d")),i=ya(d.as("M")),j=ya(d.as("y")),k=e<mb.s&&["s",e]||1===f&&["m"]||f<mb.m&&["mm",f]||1===g&&["h"]||g<mb.h&&["hh",g]||1===h&&["d"]||h<mb.d&&["dd",h]||1===i&&["M"]||i<mb.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,fa.apply({},k)}function ha(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ta(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:D(a-1)+g}}function ja(b){var c,d=b._i,e=b._f;return b._locale=b._locale||ta.localeData(b._l),null===d||e===a&&""===d?ta.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),ta.isMoment(d)?new k(d,!0):(e?u(e)?Z(b):W(b):ba(b),c=new k(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function ka(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return ta();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function la(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),B(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ma(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function na(a,b,c){return"Month"===b?la(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function oa(a,b){return function(c){return null!=c?(na(this,a,c),ta.updateOffset(this,b),this):ma(this,a)}}function pa(a){return 400*a/146097}function qa(a){return 146097*a/400}function ra(a){ta.duration.fn[a]=function(){return this._data[a]}}function sa(a){"undefined"==typeof ender&&(ua=xa.moment,a?xa.moment=f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ta):xa.moment=ta)}for(var ta,ua,va,wa="2.8.4",xa="undefined"!=typeof global?global:this,ya=Math.round,za=Object.prototype.hasOwnProperty,Aa=0,Ba=1,Ca=2,Da=3,Ea=4,Fa=5,Ga=6,Ha={},Ia=[],Ja="undefined"!=typeof module&&module&&module.exports,Ka=/^\/?Date\((\-?\d+)/i,La=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ma=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Na=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Oa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pa=/\d\d?/,Qa=/\d{1,3}/,Ra=/\d{1,4}/,Sa=/[+\-]?\d{1,6}/,Ta=/\d+/,Ua=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Va=/Z|[\+\-]\d\d:?\d\d/gi,Wa=/T/i,Xa=/[\+\-]?\d+/,Ya=/[\+\-]?\d+(\.\d{1,3})?/,Za=/\d/,$a=/\d\d/,_a=/\d{3}/,ab=/\d{4}/,bb=/[+-]?\d{6}/,cb=/[+-]?\d+/,db=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eb="YYYY-MM-DDTHH:mm:ssZ",fb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hb=/([\+\-]|\d\d)/gi,ib=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},kb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lb={},mb={s:45,m:45,h:22,d:26,M:11},nb="DDD w W M D d".split(" "),ob="M D H h m s w W".split(" "),pb={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return p(A(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+":"+p(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+p(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qb={},rb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];nb.length;)va=nb.pop(),pb[va+"o"]=i(pb[va],va);for(;ob.length;)va=ob.pop(),pb[va+va]=h(pb[va],2);pb.DDDD=h(pb.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=ta.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ta([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ha(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ta=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),ja(g)},ta.suppressDeprecationWarnings=!1,ta.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),ta.min=function(){var a=[].slice.call(arguments,0);return ka("isBefore",a)},ta.max=function(){var a=[].slice.call(arguments,0);return ka("isAfter",a)},ta.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),ja(g).utc()},ta.unix=function(a){return ta(1e3*a)},ta.duration=function(a,b){var d,e,f,g,h=a,i=null;return ta.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=La.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:A(i[Ca])*d,h:A(i[Da])*d,m:A(i[Ea])*d,s:A(i[Fa])*d,ms:A(i[Ga])*d}):(i=Ma.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):"object"==typeof h&&("from"in h||"to"in h)&&(g=r(ta(h.from),ta(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new l(h),ta.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},ta.version=wa,ta.defaultFormat=eb,ta.ISO_8601=function(){},ta.momentProperties=Ia,ta.updateOffset=function(){},ta.relativeTimeThreshold=function(b,c){return mb[b]===a?!1:c===a?mb[b]:(mb[b]=c,!0)},ta.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return ta.locale(a,b)}),ta.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?ta.defineLocale(a,b):ta.localeData(a),c&&(ta.duration._locale=ta._locale=c)),ta._locale._abbr},ta.defineLocale=function(a,b){return null!==b?(b.abbr=a,Ha[a]||(Ha[a]=new j),Ha[a].set(b),ta.locale(a),Ha[a]):(delete Ha[a],null)},ta.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return ta.localeData(a)}),ta.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ta._locale;if(!u(a)){if(b=J(a))return b;a=[a]}return I(a)},ta.isMoment=function(a){return a instanceof k||null!=a&&c(a,"_isAMomentObject")},ta.isDuration=function(a){return a instanceof l};for(va=rb.length-1;va>=0;--va)z(rb[va]);ta.normalizeUnits=function(a){return x(a)},ta.invalid=function(a){var b=ta.utc(NaN);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},ta.parseZone=function(){return ta.apply(null,arguments).parseZone()},ta.parseTwoDigitYear=function(a){return A(a)+(A(a)>68?1900:2e3)},m(ta.fn=k.prototype,{clone:function(){return ta(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ta(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return G(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?ta.utc(this._a):ta(this._a)).toArray())>0:!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=N(this,a||ta.defaultFormat);return this.localeData().postformat(b)},add:s(1,"add"),subtract:s(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=K(a,this),h=6e4*(this.zone()-g.zone());return b=x(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-ta(this).startOf("month")-(g-ta(g).startOf("month")),f-=6e4*(this.zone()-ta(this).startOf("month").zone()-(g.zone()-ta(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:o(e)},from:function(a,b){return ta.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(ta(),a)},calendar:function(a){var b=a||ta(),c=K(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,ta(b)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ea(a,this.localeData()),this.add(a-b,"d")):b},month:oa("Month",!0),startOf:function(a){switch(a=x(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=x(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+this>+a):(c=ta.isMoment(a)?+a:+ta(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+a>+this):(c=ta.isMoment(a)?+a:+ta(a),+this.clone().endOf(b)<c)},isSame:function(a,b){var c;return b=x(b||"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+this===+a):(c=+ta(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=ta.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=ta.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=Q(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?t(this,ta.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ta.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ta(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return B(this.year(),this.month())},dayOfYear:function(a){var b=ya((ta(this).startOf("day")-ta(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return C(this.year(),a.dow,a.doy)},get:function(a){return a=x(a),this[a]()},set:function(a,b){return a=x(a),"function"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(c=ta.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),ta.fn.millisecond=ta.fn.milliseconds=oa("Milliseconds",!1),ta.fn.second=ta.fn.seconds=oa("Seconds",!1),ta.fn.minute=ta.fn.minutes=oa("Minutes",!1),ta.fn.hour=ta.fn.hours=oa("Hours",!0),ta.fn.date=oa("Date",!0),ta.fn.dates=f("dates accessor is deprecated. Use date instead.",oa("Date",!0)),ta.fn.year=oa("FullYear",!0),ta.fn.years=f("years accessor is deprecated. Use year instead.",oa("FullYear",!0)),ta.fn.days=ta.fn.day,ta.fn.months=ta.fn.month,ta.fn.weeks=ta.fn.week,ta.fn.isoWeeks=ta.fn.isoWeek,ta.fn.quarters=ta.fn.quarter,ta.fn.toJSON=ta.fn.toISOString,m(ta.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=o(d/1e3),g.seconds=a%60,b=o(a/60),g.minutes=b%60,c=o(b/60),g.hours=c%24,e+=o(c/24),h=o(pa(e)),e-=o(qa(h)),f+=o(e/30),e%=30,h+=o(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(a){var b=ga(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=ta.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ta.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=x(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=x(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*pa(b),"month"===a?c:c/12;switch(b=this._days+Math.round(qa(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:ta.fn.lang,locale:ta.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),ta.duration.fn.toString=ta.duration.fn.toISOString;for(va in ib)c(ib,va)&&ra(va.toLowerCase());ta.duration.fn.asMilliseconds=function(){return this.as("ms")},ta.duration.fn.asSeconds=function(){return this.as("s")},ta.duration.fn.asMinutes=function(){return this.as("m")},ta.duration.fn.asHours=function(){return this.as("h")},ta.duration.fn.asDays=function(){return this.as("d")},ta.duration.fn.asWeeks=function(){return this.as("weeks")},ta.duration.fn.asMonths=function(){return this.as("M")},ta.duration.fn.asYears=function(){return this.as("y")},ta.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Ja?module.exports=ta:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(xa.moment=ua),ta}),sa(!0)):sa()}.call(this),define("helpers/report",["moment"],function(){"use strict";var a=require("moment"),b=function(a){return a+" "+a+"-bootstrap"};return String.prototype.wordWrap=function(a,b,c){var d,e,f,g,h;if(1>a)return this;for(d=-1,f=(h=this.split("\n")).length;++d<f;h[d]+=g)for(g=h[d],h[d]="";g.length>a;h[d]+=g.slice(0,e)+((g=g.slice(e)).length?b:""))e=2==c||(e=g.slice(0,a+1).match(/\S*(\s)?$/))[1]?a:e.input.length-e[0].length||1==c&&a||e.input.length+(e=g.slice(a).match(/^\S*/)).input.length;return h.join("\n")},{longTextFormatter:function(){return this.point.name.wordWrap(75,"<br/>",0)+'<br/><span style="font-size:14px;"><strong>Volumen: '+Highcharts.numberFormat(this.point.y,2,",",".")+"</strong></span>"},groups401:function(a,c,d,e){if("pais"===e.groupcolumn.datafield||"partida"===e.groupcolumn.datafield||"anio"===e.groupcolumn.datafield){console.log(c);var f=c,a=e.groupcolumn.text+": "+f;if(e.subItems.length>0)var g=this.getcolumnaggregateddata("volumen",["sum"],!0,e.subItems);else{var h=new Array,i=function(a,b){if(a.subGroups.length>0)for(var c=0;c<a.subGroups.length;c++)i(a.subGroups[c],b);else for(var c=0;c<a.subItems.length;c++)b.push(a.subItems[c])};i(e,h);var g=this.getcolumnaggregateddata("volumen",["sum"],!0,h)}return'<div class="'+b("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+a+', </span><span class="'+b("jqx-grid-groups-row-details")+'">Total ('+g.sum+")</span></div>"}return'<div class="'+b("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+a+"</span>"},calc401:function(a,b,c,d,e,f){var g=parseFloat(f.volumen)/parseFloat(f.valor);return"<div style='margin: 4px;' class='jqx-right-align'>"+g.toFixed(2)+"</div>"},formatDate:function(b,c,d,e,f,g){return"<div style='margin: 4px;' class='jqx-left-align'>"+a(g[c.replace("@","")]).format("D MMMM/YYYY")+"</div>"}}});var jqxBaseFramework=window.minQuery||window.jQuery;!function(a){a.jqx=a.jqx||{},a.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance()),this.defineInstance()},a[b].prototype.defineInstance=function(){},a[b].prototype.base=null,a[b].prototype.baseType=void 0,c&&a[c]&&(a[b].prototype.baseType=c)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;){if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}b=b.base}if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}}},a.jqx.hasProperty=function(a,b){if("object"==typeof b)for(var c in b){for(var d=a;d;){if(d.hasOwnProperty(c))return!0;if(d.hasOwnProperty(c.toLowerCase()))return!0;d=d.base}return!1}else for(;a;){if(a.hasOwnProperty(b))return!0;if(a.hasOwnProperty(b.toLowerCase()))return!0;a=a.base}return!1},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;){if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}b=b.base}if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(b,c){return 1==c.length&&"object"==typeof c[0]?!0:2!=c.length||"string"!=typeof c[0]||a.jqx.hasFunction(b,c)?!1:!0},a.jqx.validatePropertySetter=function(b,c,d){if(!a.jqx.propertySetterValidation)return!0;if(1==c.length&&"object"==typeof c[0]){for(var e in c[0]){for(var f=b;!f.hasOwnProperty(e)&&f.base;)f=f.base;if(!f||!f.hasOwnProperty(e)){if(!d){var g=f.hasOwnProperty(e.toString().toLowerCase());if(g)return!0;throw"Invalid property: "+e}return!1}}return!0}if(2!=c.length){if(!d)throw"Invalid property: "+c.length>=0?c[0]:"";return!1}for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(!b||!b.hasOwnProperty(c[0])){if(!d)throw"Invalid property: "+c[0];return!1}return!0},a.jqx.set=function(b,c){if(1==c.length&&"object"==typeof c[0])a.each(c[0],function(c,d){for(var e=b;!e.hasOwnProperty(c)&&null!=e.base;)e=e.base;if(e.hasOwnProperty(c))a.jqx.setvalueraiseevent(e,c,d);else if(e.hasOwnProperty(c.toLowerCase()))a.jqx.setvalueraiseevent(e,c.toLowerCase(),d);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c+"'"});else if(2==c.length){for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(b.hasOwnProperty(c[0]))a.jqx.setvalueraiseevent(b,c[0],c[1]);else if(b.hasOwnProperty(c[0].toLowerCase()))a.jqx.setvalueraiseevent(b,c[0].toLowerCase(),c[1]);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c[0]+"'"}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0==b||null==b)return void 0;if(a.propertyMap){var c=a.propertyMap(b);if(null!=c)return c}if(a.hasOwnProperty(b))return a[b];if(a.hasOwnProperty(b.toLowerCase()))return a[b.toLowerCase()];var d=void 0;if(typeof b==Array){if(1!=b.length)return void 0;d=b[0]}else"string"==typeof b&&(d=b);
for(;!a.hasOwnProperty(d)&&a.base;)a=a.base;return a?a[d]:void 0},a.jqx.serialize=function(b){var c="";if(a.isArray(b)){c="[";for(var d=0;d<b.length;d++)d>0&&(c+=", "),c+=a.jqx.serialize(b[d]);c+="]"}else if("object"==typeof b){c="{";var e=0;for(var d in b)e++>0&&(c+=", "),c+=d+": "+a.jqx.serialize(b[d]);c+="}"}else c=b.toString();return c},a.jqx.propertySetterValidation=!0,a.jqx.jqxWidgetProxy=function(b,c,d){var e=(a(c),a.data(c,b));if(void 0==e)return void 0;var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(f,d)){if(a.jqx.validatePropertySetter(f,d))return void a.jqx.set(f,d)}else{if("object"==typeof d&&0==d.length)return;if("object"==typeof d&&1==d.length&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d[0]);if("string"==typeof d&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d)}throw"jqxCore: Invalid parameter '"+a.jqx.serialize(d)+"' does not exist."},a.jqx.applyWidget=function(b,c,d,e){var f=!1;try{f=void 0!=window.MSApp}catch(g){}var h=a(b);e?(e.host=h,e.element=b):e=new a.jqx["_"+c],""==b.id&&(b.id=a.jqx.utilities.createId());var i={host:h,element:b,instance:e};e.widgetName=c,a.data(b,c,i),a.data(b,"jqxWidget",i.instance);for(var j=new Array,e=i.instance;e;)e.isInitialized=!1,j.push(e),e=e.base;j.reverse(),j[0].theme=a.jqx.theme||"",a.jqx.jqxWidgetProxy(c,b,d);for(var k in j)e=j[k],0==k&&(e.host=h,e.element=b,e.WinJS=f),void 0!=e&&(e.definedInstance&&e.definedInstance(),null!=e.createInstance&&(f?MSApp.execUnsafeLocalFunction(function(){e.createInstance(d)}):e.createInstance(d)));for(var k in j)void 0!=j[k]&&(j[k].isInitialized=!0);f?MSApp.execUnsafeLocalFunction(function(){i.instance.refresh(!0)}):i.instance.refresh(!0)},a.jqx.jqxWidget=function(b,c,d){var e=!1;try{jqxArgs=Array.prototype.slice.call(d,0)}catch(f){jqxArgs=""}try{e=void 0!=window.MSApp}catch(f){}var g=b,h="";c&&(h="_"+c),a.jqx.define(a.jqx,"_"+g,h),a.fn[g]=function(){var b=Array.prototype.slice.call(arguments,0);if(0==b.length||1==b.length&&"object"==typeof b[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var c=(a(this),this),d=a.data(c,g);null==d?a.jqx.applyWidget(c,g,b,void 0):a.jqx.jqxWidgetProxy(g,this,b)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var c=null,d=0;return this.each(function(){var e=a.jqx.jqxWidgetProxy(g,this,b);if(0==d)c=e,d++;else{if(1==d){var f=[];f.push(c),c=f}c.push(e)}}),c};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(d,0)[0])}catch(f){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(b,c){return a.jqx.toThemeProperty(this,b,c)}}),a.jqx["_"+g].prototype.refresh=function(){this.base&&this.base.refresh(!0)},a.jqx["_"+g].prototype.createInstance=function(){},a.jqx["_"+g].prototype.applyTo=function(b,c){if(!(c instanceof Array)){var d=[];d.push(c),c=d}a.jqx.applyWidget(b,g,c,this)},a.jqx["_"+g].prototype.getInstance=function(){return this},a.jqx["_"+g].prototype.propertyChangeMap={},a.jqx["_"+g].prototype.addHandler=function(b,c,d,e){a.jqx.addHandler(b,c,d,e)},a.jqx["_"+g].prototype.removeHandler=function(b,c,d){a.jqx.removeHandler(b,c,d)}},a.jqx.toThemeProperty=function(a,b,c){if(""==a.theme)return b;for(var d=b.split(" "),e="",f=0;f<d.length;f++){f>0&&(e+=" ");var g=d[f];e+=null!=c&&c?g+"-"+a.theme:g+" "+g+"-"+a.theme}return e},a.jqx.addHandler=function(b,c,d,e){for(var f=c.split(" "),g=0;g<f.length;g++){var h=f[g];if(window.addEventListener)switch(h){case"mousewheel":a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1);continue;case"mousemove":if(!e){b[0].addEventListener("mousemove",d,!1);continue}}void 0==e||null==e?b.on?b.on(h,d):b.bind(h,d):b.on?b.on(h,e,d):b.bind(h,e,d)}},a.jqx.removeHandler=function(b,c,d){if(c)for(var e=c.split(" "),f=0;f<e.length;f++){var g=e[f];if(window.removeEventListener)switch(g){case"mousewheel":a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1);continue;case"mousemove":if(d){b[0].removeEventListener("mousemove",d,!1);continue}}void 0!=g?void 0==d?b.off?b.off(g):b.unbind(g):b.off?b.off(g,d):b.unbind(g,d):b.off?b.off():b.unbind()}},a.jqx.theme=a.jqx.theme||"",a.jqx.resizeDelay=a.jqx.resizeDelay||10,a.jqx.ready=function(){a(window).trigger("jqxReady")},a.jqx.init=function(){a.each(arguments[0],function(b,c){"theme"==b&&(a.jqx.theme=c),"scrollBarSize"==b&&(a.jqx.utilities.scrollBarSize=c),"touchScrollBarSize"==b&&(a.jqx.utilities.touchScrollBarSize=c),"scrollBarButtonsVisibility"==b&&(a.jqx.utilities.scrollBarButtonsVisibility=c)})},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i]+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},resize:function(b,c,d,e){void 0===e&&(e=!0);var f=-1,g=this,h=function(a){if(!g.hiddenWidgets)return-1;for(var b=-1,c=0;c<g.hiddenWidgets.length;c++)if(a.id){if(g.hiddenWidgets[c].id==a.id){b=c;break}}else if(g.hiddenWidgets[c].id==a[0].id){b=c;break}return b};if(this.resizeHandlers){for(var i=0;i<this.resizeHandlers.length;i++)if(b.id){if(this.resizeHandlers[i].id==b.id){f=i;break}}else if(this.resizeHandlers[i].id==b[0].id){f=i;break}if(d===!0){if(-1!=f&&this.resizeHandlers.splice(f,1),0==this.resizeHandlers.length){var j=a(window);j.off?(j.off("resize.jqx"),j.off("orientationchange.jqx"),j.off("orientationchanged.jqx")):(j.unbind("resize.jqx"),j.unbind("orientationchange.jqx"),j.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var k=h(b);return void(-1!=k&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}}else if(d===!0){var k=h(b);return void(-1!=k&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}var g=this,l=function(b,c){if(g.resizeHandlers){var d=function(a){for(var b=-1,c=a.parentNode;c;)b++,c=c.parentNode;return b},e=function(a,b){if(!a.widget||!b.widget)return 0;var c=d(a.widget[0]),e=d(b.widget[0]);try{if(e>c)return-1;if(c>e)return 1}catch(f){}return 0};g.hiddenWidgets=new Array,g.resizeHandlers.sort(e);for(var f=0;f<g.resizeHandlers.length;f++){var i=g.resizeHandlers[f],j=i.widget,k=i.data;if(k&&k.jqxWidget){var l=k.jqxWidget.width,m=k.jqxWidget.height;k.jqxWidget.base&&(void 0==l&&(l=k.jqxWidget.base.width),void 0==m&&(m=k.jqxWidget.base.height)),void 0===l&&void 0===m&&(l=k.jqxWidget.element.style.width,m=k.jqxWidget.element.style.height);var n=!1;if(null!=l&&-1!=l.toString().indexOf("%")&&(n=!0),null!=m&&-1!=m.toString().indexOf("%")&&(n=!0),a.jqx.isHidden(j))-1===h(j)&&(n||b===!0)&&i.data.nestedWidget!==!0&&g.hiddenWidgets.push(i);else if((void 0===b||b!==!0)&&(n&&(i.callback(c),g.hiddenWidgets.indexOf(i)>=0&&g.hiddenWidgets.splice(g.hiddenWidgets.indexOf(i),1)),k.jqxWidget.element)){var o=k.jqxWidget.element.className;if((o.indexOf("dropdownlist")>=0||o.indexOf("datetimeinput")>=0||o.indexOf("combobox")>=0||o.indexOf("menu")>=0)&&k.jqxWidget.isOpened){var p=k.jqxWidget.isOpened();p&&k.jqxWidget.close()}}}}g.hiddenWidgets.length>0&&(g.hiddenWidgets.sort(e),g.__resizeInterval&&clearInterval(g.__resizeInterval),g.__resizeInterval=setInterval(function(){for(var b=!1,d=new Array,e=0;e<g.hiddenWidgets.length;e++){var f=g.hiddenWidgets[e];a.jqx.isHidden(f.widget)?(b=!0,d.push(f)):f.callback&&f.callback(c)}g.hiddenWidgets=d,b||clearInterval(g.__resizeInterval)},100))}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var j=a(window);j.on?(this._resizeTimer=null,j.on("resize.jqx",function(b){void 0!=g._resizeTimer&&clearTimeout(g._resizeTimer),g._resizeTimer=setTimeout(function(){l(null,"resize")},a.jqx.resizeDelay)}),j.on("orientationchange.jqx",function(a){l(null,"orientationchange")}),j.on("orientationchanged.jqx",function(a){l(null,"orientationchange")})):(j.bind("resize.jqx",function(a){l(null,"orientationchange")}),j.bind("orientationchange.jqx",function(a){l(null,"orientationchange")}),j.bind("orientationchanged.jqx",function(a){l(null,"orientationchange")}))}e&&-1===f&&this.resizeHandlers.push({id:b[0].id,widget:b,callback:c,data:b.data()}),a.jqx.isHidden(b)&&e===!0&&l(!0),a.jqx.resize=function(){l(null,"resize")}},html:function(b,c){if(!a(b).on)return a(b).html(c);try{return a.access(b,function(c){var d=b[0]||{},e=0,f=b.length;if(void 0===c)return 1===d.nodeType?d.innerHTML.replace(rinlinejQuery,""):void 0;var g=/<(?:script|style|link)/i,h="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/<([\w:]+)/,k=new RegExp("<(?:"+h+")[\\s/>]","i"),l=/^\s+/,m={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof c&&!g.test(c)&&(a.support.htmlSerialize||!k.test(c))&&(a.support.leadingWhitespace||!l.test(c))&&!m[(j.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(i,"<$1></$2>");try{for(;f>e;e++)d=this[e]||{},1===d.nodeType&&(a.cleanData(d.getElementsByTagName("*")),d.innerHTML=c);d=0}catch(n){}}d&&b.empty().append(c)},null,c,arguments.length)}catch(d){return a(b).html(c)}},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),(""==c||"none"==c)&&(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),(""==c||"none"==c)&&(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),(""==c||"none"==c)&&(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),(""==c||"none"==c)&&(c=b.parents().css("-moz-transform")))}return(""==c||"none"==c)&&(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return a.indexOf("rv:11.0")>=0&&a.indexOf(".net4.0c")>=0&&(c.browser="msie",c.version="11",b[1]="msie"),c[b[1]]=b[1],c}}),a.jqx.browser=a.jqx.utilities.getBrowser(),a.jqx.isHidden=function(a){try{var b=a[0].offsetWidth,c=a[0].offsetHeight;return 0===b||0===c?!0:!1}catch(d){return!1}},a.jqx.ariaEnabled=!0,a.jqx.aria=function(b,c,d){if(a.jqx.ariaEnabled)if(void 0==c)a.each(b.aria,function(c,d){var e=b.base?b.base.host.attr(c):b.host.attr(c);if(void 0==e||a.isFunction(e)){var e=b[d.name];a.isFunction(e)&&(e=b[d.name]()),void 0==e&&(e="");try{b.base?b.base.host.attr(c,e.toString()):b.host.attr(c,e.toString())}catch(f){}}else{var g=e;switch(d.type){case"number":g=new Number(e),isNaN(g)&&(g=e);break;case"boolean":g="true"==e?!0:!1;break;case"date":g=new Date(e),("Invalid Date"==g||isNaN(g))&&(g=e)}b[d.name]=g}});else try{b.host?b.base?b.base.host?b.base.host.attr(c,d.toString()):b.attr(c,d.toString()):b.host?b.element.setAttribute?b.element.setAttribute(c,d.toString()):b.host.attr(c,d.toString()):b.attr(c,d.toString()):b.setAttribute&&b.setAttribute(c,d.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),a.jqx.mobile=a.jqx.mobile||{},a.jqx.position=function(b){var c=parseInt(b.pageX),d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var e=a.jqx.mobile.getTouches(b),f=e[0];c=parseInt(f.pageX),d=parseInt(f.pageY)}return{left:c,top:d}},a.extend(a.jqx.mobile,{_touchListener:function(a,b){var c=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=c(d[a.type],a);a.target.dispatchEvent(e);var f=a.target["on"+d[a.type]];"function"==typeof f&&f(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie,f()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,-1!=a.indexOf("Android"))return!0;if(-1!=a.indexOf("IEMobile"))return!0;if(-1!=a.indexOf("Windows Phone"))return!0;if(-1!=a.indexOf("WPDesktop"))return!0;if(-1!=a.indexOf("ZuneWP7"))return!0;if(-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari"))return!0;if(-1!=a.indexOf("ipod"))return!0;if(-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17"))return!1;if(-1!=a.indexOf("CrOS"))return!1;if(-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;if(-1!=a.indexOf("Opera")&&-1!=a.indexOf("Mobi")&&-1!=a.indexOf("Opera Mobi"))return!0;var b={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in b)if(b.hasOwnProperty(i)&&(prefix=b[i],match=a.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var c=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(c.indexOf("Windows Phone")>=0||c.indexOf("WPDesktop")>=0||c.indexOf("IEMobile")>=0||c.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(c.indexOf("Touch")>=0){var d="MSPointerDown"in window||"pointerdown"in window;return d?(this.touchDevice=!0,!0):c.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop,d=a(b).coord();null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));var e=navigator.userAgent.toLowerCase(),f=(-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10"))&&-1!=e.indexOf("touch");if(f)return d.top;if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return c;if(-1!=e.indexOf("version/7"))return d.top;c+=a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("android");return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi");return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini");return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("windows phone")||-1!=a.indexOf("WPDesktop")||-1!=a.indexOf("ZuneWP7")||-1!=a.indexOf("msie 9")||-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10");return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad");return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android");return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){if(!this.isWindowsPhone())return a;var b=navigator.userAgent.toLowerCase();if(-1!=b.indexOf("windows phone 8.1")){if(-1!=a.toLowerCase().indexOf("start"))return"pointerdown";if(-1!=a.toLowerCase().indexOf("move"))return"pointermove";if(-1!=a.toLowerCase().indexOf("end"))return"pointerup"}return-1!=a.toLowerCase().indexOf("start")?"MSPointerDown":-1!=a.toLowerCase().indexOf("move")?"MSPointerMove":-1!=a.toLowerCase().indexOf("end")?"MSPointerUp":void 0},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e,f,g){if(null!=b){var h=this,i=0,j=0,k=0,l=0,m=0,n=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var o=!1,p=a(b),q=["select","input","textarea"],r=0,s=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var e=e,t=this.getTouchEventName("touchstart")+".touchScroll",u=this.getTouchEventName("touchend")+".touchScroll",v=this.getTouchEventName("touchmove")+".touchScroll",r=function(b){if(!h.enableScrolling[e])return!0;if(-1===a.inArray(b.target.tagName.toLowerCase(),q)){var c=h.getTouches(b),d=c[0];return 1==c.length&&h.dispatchMouseEvent("mousedown",d,h.getRootNode(d.target)),o=!1,j=d.pageY,m=d.pageX,h.simulatetouches&&void 0!=d._pageY&&(j=d._pageY,m=d._pageX),h.scrolling[e]=!0,i=0,l=0,!0}};p.on?p.on(t,r):p.bind(t,r);var w=function(a){if(!h.enableScrolling[e])return!0;if(!h.scrolling[e])return!0;var b=h.getTouches(a);if(b.length>1)return!0;var c=b[0].pageY,p=b[0].pageX;h.simulatetouches&&void 0!=b[0]._pageY&&(c=b[0]._pageY,p=b[0]._pageX);var q=c-j,r=p-m;s=c,touchHorizontalEnd=p,k=q-i,n=r-l,o=!0,i=q,l=r;var t=null!=f?"hidden"!=f[0].style.visibility:!0,u=null!=g?"hidden"!=g[0].style.visibility:!0;return(t||u)&&(0!==n&&t||0!==k&&u)?(d(1*-n,1*-k,r,q,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1):void 0};if(p.on?p.on(v,w):p.bind(v,w),this.simulatetouches){var x=(void 0!=a(window).on||a(window).bind,function(a){h.scrolling[e]=!1});if(void 0!=a(window).on?a(document).on("mouseup.touchScroll",x):a(document).bind("mouseup.touchScroll",x),window.frameElement&&null!=window.top){var y=function(a){h.scrolling[e]=!1};window.top.document&&(a(window.top.document).on?a(window.top.document).on("mouseup",y):a(window.top.document).bind("mouseup",y))}var z=(void 0!=a(document).on||a(document).bind,function(a){if(!h.scrolling[e])return!0;h.scrolling[e]=!1;var b=h.getTouches(a)[0],c=h.getRootNode(b.target);h.dispatchMouseEvent("mouseup",b,c),h.dispatchMouseEvent("click",b,c)});void 0!=a(document).on?a(document).on("touchend",z):a(document).bind("touchend",z)}var A=function(a){if(!h.enableScrolling[e])return!0;var b=h.getTouches(a)[0];if(!h.scrolling[e])return!0;if(h.scrolling[e]=!1,!o){var b=h.getTouches(a)[0],c=h.getRootNode(b.target);return h.dispatchMouseEvent("mouseup",b,c),h.dispatchMouseEvent("click",b,c),!0}h.dispatchMouseEvent("mouseup",b,c)};p.on&&(p.on("dragstart",function(a){a.preventDefault()}),p.on("selectstart",function(a){a.preventDefault()})),p.on?p.on(u+" touchcancel.touchScroll",A):p.bind(u+" touchcancel.touchScroll",A)}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(b,c,d){if(arguments.length>1&&"[object Object]"!==String(c)){if(d=a.extend({},d),(null===c||void 0===c)&&(d.expires=-1),"number"==typeof d.expires){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};var g,h=d.raw?function(a){return a}:decodeURIComponent;return(g=new RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)").exec(document.cookie))?h(g[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{replace:function(a,b,c){if(b===c)return this;for(var d=a,e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d},contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toUpperCase().indexOf(b.toUpperCase())},equals:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.slice(0,b.length)==b:!1)},equalsIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1)},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(a.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jqxBaseFramework),function(a){a.extend(a.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),a.fn.extend({ischildof:function(b){for(var c=a(this).parents().get(),d=0;d<c.length;d++)if("string"!=typeof b){var e=c[d];if(void 0!==b&&e==b[0])return!0}else if(void 0!==b&&a(c[d]).is(b))return!0;return!1}}),a.fn.jqxProxy=function(){var b=a(this).data().jqxWidget,c=Array.prototype.slice.call(arguments,0),d=b.element;return d||(d=b.base.element),a.jqx.jqxWidgetProxy(b.widgetName,d,c)};var b=this.originalVal=a.fn.val;a.fn.val=function(c){if("undefined"==typeof c){if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return d.val()}return b.call(this)}if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return 2!=arguments.length?d.val(c):d.val(c,arguments[1])}return b.call(this,c)},a.fn.coord=function(b){var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g){if(c=g.documentElement,!a.contains(c,f))return e;void 0!==typeof f.getBoundingClientRect&&(e=f.getBoundingClientRect());var h=function(b){return a.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1};d=h(g);var i=0,j=0,k=navigator.userAgent.toLowerCase(),l=-1!=k.indexOf("ipad")||-1!=k.indexOf("iphone");if(l&&(i=2),1==b&&"static"!=a(document.body).css("position")){var m=a(document.body).coord();i=-m.left,j=-m.top}return{top:j+e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:i+e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}}}(jqxBaseFramework),function(a){function b(b){return function(c,d){"string"!=typeof c&&(d=c,c="*");var e,f,g,h=c.toLowerCase().split(s),i=0,j=h.length;if(a.isFunction(d))for(;j>i;i++)e=h[i],g=/^\+/.test(e),g&&(e=e.substr(1)||"*"),f=b[e]=b[e]||[],f[g?"unshift":"push"](d)}}function c(a,b,d,e,f,g){f=f||b.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===t;k>j&&(l||!h);j++)h=i[j](b,d,e),"string"==typeof h&&(!l||g[h]?h=void 0:(b.dataTypes.unshift(h),h=c(a,b,d,e,h,g)));return!l&&h||g["*"]||(h=c(a,b,d,e,"*",g)),h}function d(b,c){var d,e,f=a.jqx.data.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((f[d]?b:e||(e={}))[d]=c[d]);e&&a.extend(!0,b,e)}function e(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes,j=a.responseFields;for(e in j)e in c&&(b[j[e]]=c[e]);for(;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("content-type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function f(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function g(){try{return new window.XMLHttpRequest}catch(a){}}function h(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.jqx.dataAdapter=function(b,c){if(void 0!=b&&(void 0!==b.dataFields&&(b.datafields=b.dataFields),void 0!==b.dataType&&(b.datatype=b.dataType),void 0!==b.localData&&(b.localdata=b.localData),void 0!==b.sortColumn&&(b.sortcolumn=b.sortColumn),void 0!==b.sortDirection&&(b.sortdirection=b.sortDirection),void 0!==b.sortOrder&&(b.sortdirection=b.sortOrder),void 0!==b.formatData&&(b.formatdata=b.formatData),void 0!==b.processData&&(b.processdata=b.processData),void 0!==b.pageSize&&(b.pagesize=b.pageSize),void 0!==b.pageNum&&(b.pagenum=b.pageNum),void 0!==b.updateRow&&(b.updaterow=b.updateRow),void 0!==b.addRow&&(b.addrow=b.addRow),void 0!==b.deleteRow&&(b.deleterow=b.deleteRow),void 0!==b.contentType&&(b.contenttype=b.contentType),void 0!=b.totalRecords&&(b.totalrecords=b.totalRecords),void 0!=b.loadError&&(b.loadError=b.loadError),void 0!=b.sortComparer&&(b.sortcomparer=b.sortComparer)),this._source=b,this._options=c||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return a.isArray(b)?a.makeArray(c(a(b))):a.extend(!0,{},b)};(0==e.suspendKO||void 0==e.suspendKO||0==e._oldlocaldata.length)&&(e._oldlocaldata=c(b))},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":a&&(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){a.jqx.dataFormat.datescache=new Array,null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0!=d.sort&&(this.sort=d.sort),void 0!=d.filter?this.filter=d.filter:this.filter=null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode?e.virtualmode:!1,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable?e.pageable:!1,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache?e.cache:!1,this.unboundmode=!1,void 0!=d.formatdata&&(e.formatData=d.formatdata),void 0!=d.data&&(void 0==e.data&&(e.data={}),a.extend(e.data,d.data)),void 0!=d.mapchar?this.mapChar=d.mapchar?d.mapchar:">":this.mapChar=e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,
this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;("csv"===d.datatype||"tab"===d.datatype||"tsv"===d.datatype||"text"==d.datatype)&&(h="text");var i=void 0!=e.async?e.async:!0;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j],d[j].uid=j}d.beforeprocessing&&a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata);var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;l>n;n++)m[d.datafields[n].name]="";m.uid=j,d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(b,c){for(var e={},f=0;c>f;f++){var h=d.datafields?d.datafields[f]:{},i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(b);else{var j=h.map.split(g.mapChar);if(j.length>0){for(var k=b,l=0;l<j.length;l++)k&&(k=k[j[l]]);i=k}else i=b[h.map]}void 0!=i&&null!=i?i=i.toString():void 0==i&&null!=i&&(i="")}""==i&&(i=b[h.name],void 0!=i&&null!=i&&(d._localdata&&i.subscribe?i=i():"array"!=h.type&&(i=i.toString()))),i=g.getvaluebytype(i,h),void 0!=h.displayname?e[h.displayname]=i:e[h.name]=i}}return e};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0,i=this;a.each(this,function(c,e){var j=null,k="string",m=c;if(l>0){for(var n=!1,o=!1,p=0;l>p;p++){var q=d.datafields[p];if(void 0!=q&&q.name==c){n=!0,j=q.map,k=q.type,m=q.name;break}if(void 0!=q&&q.map&&q.map.indexOf(c)>=0){n=!0,j=q.map,k=q.type,m=q.name,o=!0;var r=i[c];if(null!=j){var s=j.split(g.mapChar);if(s.length>0){for(var t=i,u=0;u<s.length;u++)t=t[s[u]];r=t}else r=i[j]}"string"!=k&&(r=g.getvaluebytype(r,{type:k})),f[m]=r,void 0!=f[m]&&(h+=f[m].toString().length+f[m].toString().substr(0,1))}}if(!n)return!0;if(o)return!0}var v=a.isFunction(i[c]);if(v){var r=i[c]();if("string"!=k&&(r=g.getvaluebytype(r,{type:k})),f[c]=r,i[c].subscribe){var w=b;g.koSubscriptions[g.koSubscriptions.length]=i[c].subscribe(function(a){var b=w;f[c]=a;var d={index:b,oldrecord:f,record:f};return g._changedrecords.push(d),g.isUpdating?void 0:(g.callBindingUpdate("update"),g._changedrecords=[],!1)})}}else{var r=i[c];if(null!=j){var s=j.split(g.mapChar);if(s.length>0){for(var t=i,u=0;u<s.length;u++)t=t[s[u]];r=t}else r=i[j]}"string"!=k&&(r=g.getvaluebytype(r,{type:k})),f[m]=r,void 0!=f[m]&&(h+=f[m].toString().length+f[m].toString().substr(0,1))}});var j=g.getid(d.id,i,b);if(f.uid=j,g.records.push(f),f._koindex=h,g._oldrecords){var k=g.records.length-1;if("update"==c&&g._oldrecords[k]._koindex!=h){var m={index:k,oldrecord:g._oldrecords[k],record:f};g._changedrecords.push(m)}}}}),"add"==c)for(var k=g.records.length,j=0;k>j;j++){for(var m=g.records[j],q=!1,r=0;r<g._oldrecords.length;r++)if(g._oldrecords[r]._koindex===m._koindex){q=!0;break}q||g._changedrecords.push({index:j,oldrecord:null,record:m,position:0!=j?"last":"first"})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;k>j;j++){var s=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=s._koindex&&g._changedrecords.push({index:j,oldrecord:s,record:null}):g._changedrecords.push({index:j,oldrecord:s,record:null})}}else if(a.isArray(d.localdata))if(0==l){var t=0,u=new Array;a.each(d.localdata,function(b,c){var e=a.extend({},this);if("string"==typeof c)return g.records=d.localdata,!1;var f=g.getid(d.id,e,b);if("object"==typeof f&&(f=b),e.uid=f,0==b){for(var h in this){t++;var i=a.type(this[h]);u.push({name:h,type:i})}l=t,d.datafields=u}if(l>0){var j=o(e,l);j.uid=f,g.records[g.records.length]=j}else g.records[g.records.length]=e})}else a.each(d.localdata,function(b){var c=this,e=o(c,l),f=g.getid(d.id,e,b);"object"==typeof f&&(f=b);var c=a.extend({},e);c.uid=f,g.records[g.records.length]=c});else{this.records=new Array;var t=0,u=new Array;a.each(d.localdata,function(b){var c=g.getid(d.id,this,b);if(0==l&&!("string"==typeof this||this instanceof String)){for(var e in this){t++;var f=a.type(this[e]);u.push({name:e,type:f})}l=t,d.datafields=u}if(l>0){var h=this,i=o(h,l);i.uid=c,g.records[g.records.length]=i}else this.uid=c,g.records[g.records.length]=this})}if(this.originaldata=d.localdata,this.cachedrecords=this.records,this.addForeignValues(d),e.uniqueDataFields){var v=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=v,this.cachedrecords=v}if(e.beforeLoadComplete){var w=e.beforeLoadComplete(g.records,this.originaldata);void 0!=w&&(g.records=w,g.cachedrecords=w)}if(e.autoSort&&e.autoSortField){var x=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[e.autoSortField]},g.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(c>b)return-1;if(b>c)return 1}catch(d){}return 0}),Object.prototype.toString=x}g.loadedData=d.localdata,g.buildHierarchy(),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=d.localdata){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),g.addForeignValues(d),e.uniqueDataFields){var v=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=v,g.cachedrecords=v}if(e.beforeLoadComplete){var w=e.beforeLoadComplete(g.records,this.originaldata);void 0!=w&&(g.records=w,g.cachedrecords=w)}return g.loadedData=d.localdata,g.buildHierarchy.call(g),a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata,g.records),void g.callBindingUpdate(c)}var y=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(y),a.isFunction(e.processData)&&e.processData(y),a.isFunction(e.formatData)){var z=e.formatData(y);void 0!=z&&(y=z)}var A="application/x-www-form-urlencoded";e.contentType&&(A=e.contentType);var B="GET";if(d.type&&(B=d.type),e.type&&(B=e.type),d.url&&d.url.length>0)a.isFunction(e.loadServerData)?g._requestData(y,d,e):this.xhr=a.jqx.data.ajax({dataType:h,cache:this.cache,type:B,url:d.url,async:i,timeout:d.timeout,contentType:A,data:y,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),void(a.isFunction(e.loadComplete)&&e.loadComplete(new Array));var j=b;if(b.records&&(j=b.records),void 0!=b.totalrecords&&(d.totalrecords=b.totalrecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):g.loadjson(null,j,d),g.addForeignValues(d),e.uniqueDataFields){var k=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=k,g.cachedrecords=k}if(e.beforeLoadComplete){var l=e.beforeLoadComplete(g.records,b);void 0!=l&&(g.records=l,g.cachedrecords=l)}g.loadedData=b,g.buildHierarchy.call(g),g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b,c,f,g.records)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}});else if(g.buildHierarchy(new Array),g.callDownloadComplete(),a.isFunction(e.loadComplete)){if(!C)var C={};e.loadComplete(C)}}this.callBindingUpdate(c)}}},buildHierarchy:function(a){var b=this._source,c=new Array;if(b.datafields){if(b.hierarchy&&!b.hierarchy.reservedNames)b.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(b.hierarchy){var d=b.hierarchy.reservedNames;d.leaf||(d.leaf="leaf"),d.parent||(d.parent="parent"),d.expanded||(d.expanded="expanded"),d.checked||(d.checked="checked"),d.selected||(d.selected="selected"),d.level||(d.level="level"),d.data||(d.data="data")}if(b.hierarchy){var e=this,d=b.hierarchy.reservedNames;if(b.hierarchy.root){if("xml"==b.dataType){var c=this.getRecordsHierarchy("uid","parentuid","records",null,a);return this.hierarchy=c,c}this.hierarchy=this.records;for(var f=b.hierarchy.root,g=0;g<this.records.length;g++){var h=this.records[g];if(h){var i=function(a){if(b.hierarchy.record)a.records=a[f][b.hierarchy.record];else{var c=f.split(e.mapChar),g=null;if(c.length>1){for(var h=a,i=0;i<c.length;i++)void 0!=h&&(h=h[c[i]]);g=h}else g=a[f];a.records=g}(null==a.records||a.records&&0==a.records.length)&&(a[d.leaf]=!0)};i(h),h[d.level]=0;var j=this.getid(b.id,h,g);h.uid=j,h[d.parent]=null,h[d.data]=h,void 0===h[d.expanded]&&(h[d.expanded]=!1);var k=function(a,c){if(!c)return void(a.records=new Array);for(var f=0;f<c.length;f++){var g=c[f];if(g){i(g),g[d.level]=a[d.level]+1,g[d.parent]=a,g[d.data]=g;var h=e.getid(b.id,g,f);h==f&&null==b.id?g.uid=a.uid+"_"+h:g.uid=h,void 0===g[d.expanded]&&(g[d.expanded]=!1),k(g,g.records)}}};k(h,h.records)}}return this.hierarchy}if(b.hierarchy.keyDataField&&b.hierarchy.parentDataField){var c=this.getRecordsHierarchy(b.hierarchy.keyDataField.name,b.hierarchy.parentDataField.name,"records",null,a);return this.hierarchy=c,c}if(b.hierarchy.groupingDataFields){for(var l=new Array,g=0;g<b.hierarchy.groupingDataFields.length;g++)l.push(b.hierarchy.groupingDataFields[g].name);var c=this.getGroupedRecords(l,"records","label",null,"data",null,"parent",a);return this.hierarchy=c,c}}}},addRecord:function(a,b,c,d){var e=this,f=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=a){if(void 0==c){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||d)){var g=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;null==g&&(g=f()),a[g.level]=0,"last"==b?this.hierarchy.push(a):"number"==typeof b&&isFinite(b)?this.hierarchy.splice(b,0,a):this.hierarchy.splice(0,0,a)}else"last"==b?this.records.push(a):"number"==typeof b&&isFinite(b)?this.records.splice(b,0,a):this.records.splice(0,0,a);return!0}if(this.hierarchy.length>0){var h=function(d){if(d)for(var g=0;g<d.length;g++){var i=d[g];if(i.uid==c){var j=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;return null==j&&(j=f()),a[j.parent]=i,a[j.level]=i[j.level]+1,i.records?i[j.leaf]=!1:(i.records=new Array,i[j.leaf]=!1),"last"==b?i.records.push(a):"number"==typeof b&&isFinite(b)?i.records.splice(b,0,a):i.records.splice(0,0,a),!0}i.records&&h(i.records)}};h(this.hierarchy)}}return!1},deleteRecord:function(a){var b=this;if(this.hierarchy.length>0){var c=function(d){if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.uid==a){d.splice(e,1),b.recordids[a]&&delete b.recordids[a];var g=function(a){for(var c=0;c<a.length;c++){for(var d=a[c].uid,e=0;e<b.records.length;e++){var f=b.records[e];if(f.uid==d){b.records.splice(e,1);break}}a[c].records&&g(a[c].records)}};f.records&&g(f.records);for(var h=0;h<b.records.length;h++){var f=b.records[h];if(f.uid==a){b.records.splice(h,1);break}}return!0}f.records&&c(f.records)}};c(this.hierarchy)}else for(var d=0;d<this.records.length;d++){var e=this.records[d];if(e.uid==a)return this.records.splice(d,1),!0}return!1},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;c>d;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);var f,g,h=new Array;b.pageable&&b.virtualmode?(f=b.pagenum*b.pagesize,g=f+b.pagesize,g>b.totalrecords&&(g=b.totalrecords)):b.virtualmode?(f=a.recordstartindex,g=a.recordendindex,g>b.totalrecords&&(g=b.totalrecords)):(f=0,g=b.records.length);for(var i=f;g>i;i++){var j=b.records[i],k=e.name,l=j[e.value];if(void 0!=h[l])j[k]=h[l];else for(var m=0;m<e.values.source.length;m++){var n=e.values.source[m],o=n[e.values.value];if(void 0==o&&(o=n.uid),o==l){var p=n[e.values.name];j[k]=p,h[l]=p;break}}}}else if(void 0!=e.value)for(var i=0;i<b.records.length;i++){var j=b.records[i];j[e.name]=j[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(b,c,d){var e=this,f=function(b){if(b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),e.addForeignValues(c),d.uniqueDataFields){var f=e.getUniqueRecords(e.records,d.uniqueDataFields);e.records=f,e.cachedrecords=f}if(d.beforeLoadComplete){var g=d.beforeLoadComplete(e.records,data);void 0!=g&&(e.records=g,e.cachedrecords=g)}for(var h=0;h<e.records.length;h++){var i=e.records[h];void 0==i.uid&&(i.uid=e.getid(c.id,i,h))}e.buildHierarchy.call(e),a.isFunction(d.loadComplete)&&d.loadComplete(b),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;c>g;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;d>j;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d,e){var f=d;f||(f=this.records);var g={},h=new Array,i=f.length;if(0!=i&&void 0!=i){for(var j=0;i>j;j++)for(var k=f[j],l=0;l<b.length;l++){var m=b[l],n=k[m.name];if(null!==n&&m.aggregates){g[m.name]=g[m.name]||{},h[m.name]=h[m.name]||0,h[m.name]++;var o=function(b){for(obj in b){var c=g[m.name][obj];null==c&&(g[m.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,n,m.name,k,e)),g[m.name][obj]=c}},p=parseFloat(n);p=isNaN(p)?!1:!0,p&&(n=parseFloat(n)),"number"==typeof n&&isFinite(n)?a.each(m.aggregates,function(){var a=g[m.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999),"max"==this&&(a=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(n);else if("product"==this)0==j?a=parseFloat(n):a*=parseFloat(n);else if("min"==this)a=Math.min(a,parseFloat(n));else if("max"==this)a=Math.max(a,parseFloat(n));else if("count"==this)a++;else if("object"==typeof this)return void o(this);g[m.name][this]=a}):a.each(m.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var a=g[m.name][this];return null==a&&(a=0),g[m.name][this]=a,!0}"object"==typeof this&&o(this)})}}for(var l=0;l<b.length;l++){var m=b[l];if(g[m.name]||(g[m.name]={},a.each(m.aggregates,function(a){g[m.name][this]=0})),void 0!=g[m.name].avg){var n=g[m.name].avg,q=h[m.name];0===q||void 0==q?g[m.name].avg=0:g[m.name].avg=n/q}else void 0!=g[m.name].count&&(g[m.name].count=i);(g[m.name].stdev||g[m.name].stdevp||g[m.name]["var"]||g[m.name].varp)&&a.each(m.aggregates,function(a){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var b=g[m.name][this],c=i,d=b/i,e=0,h=0;i>h;h++){var j=f[h],k=j[m.name];e+=(k-d)*(k-d)}var l="stdevp"==this||"varp"==this?c:c-1;0==l&&(l=1),"var"==this||"varp"==this?g[m.name][this]=e/l:("stdevp"==this||"stdev"==this)&&(g[m.name][this]=Math.sqrt(e/l))}}),m.formatStrings&&a.each(m.aggregates,function(b){var d=m.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=g[m.name][this];g[m.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=g[m.name][obj];g[m.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return g}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g,h,i,j){var k=this;j||(j=0);for(var l=new Array,m=0;m<b.length;m++)l[m]=k.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),h||(h="parentItem"),void 0===g&&(g="value");var n=new Array,o=0,p=new Array,q=b.length;new Array;if(!i)var i=this.records;for(var r=i.length,s=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},t=0;r>t;t++){var u=s(i[t]);id=u[k.uniqueId];var v=new Array,w=0;for(m=0;q>m;m++){var x=b[m],y=u[x];null!=y&&(v[w++]={value:y,hash:l[m]})}if(v.length!=q)break;for(var z=null,A="",B=-1,C=0;C<v.length;C++){B++;var D=v[C].value,E=v[C].hash;if(A=A+"_"+E+"_"+D,void 0==p[A]||null==p[A]){if(null==z){z={level:0},z[h]=null,z[d]=D,z[f]=u,void 0!==u.expanded?z.expanded=u.expanded:z.expanded=!1,g&&(z[g]=u[g]),z[c]=new Array;var F=n.length+j;(!this._source.id||"number"==typeof u.uid||isFinite(u.uid))&&(F="Row"+F),z.uid=F,n[o++]=z}else{var G={level:z.level+1};G[h]=z,G[d]=D,G[c]=new Array,G[f]=u,void 0!==u.expanded?G.expanded=u.expanded:G.expanded=!1,g&&(G[g]=u[g]),G.uid=z.uid+"_"+z[c].length,z[c][z[c].length]=G,z=G}p[A]=z}else z=p[A]}u&&(u.leaf=!0),null!=z?(null==this._source.id&&(u.uid=z.uid+"_"+z[c].length),u[h]=z,u.level=z.level+1,z[c][z[c].length]=u):u.uid||(u.uid=this.generatekey())}return n},getRecordsHierarchy:function(b,c,d,e,f){var g=new Array,h=this.records;if(f&&(h=f),0==this.records.length)return null;for(var i=null!=d?d:"items",j=[],k=h,l=k.length,m=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,n=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},o=0;l>o;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];j[r]={parentid:q,item:p}}for(var o=0;l>o;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];if(void 0!=j[q]){var p={parentid:q,item:j[r].item},s=j[q].item;s[i]||(s[i]=[]);var t=s[i].length,u=p.item;m?void 0==u[m.parent]&&(u[m.parent]=s):void 0==u.parent&&(u.parent=s);var v=n(u);s[i][t]=v,j[q].item=s,j[r]=p}else{var u=j[r].item;m?void 0==u[m.parent]&&(u[m.parent]=null):void 0==u.parent&&(u.parent=null);var v=n(u);m?v[m.level]=0:v.level=0,g[g.length]=v}}if(0!=g.length){var w=function(a,b){for(var c=0;c<b.length;c++){m?b[c][m.level]=a:b[c].level=a;var d=b[c][i];d&&d.length>0?w(a+1,d):m?b[c][m.leaf]=!0:b[c].leaf=!0}};w(0,g)}return g},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(null==b||void 0==b.name||!b.name){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e;var f=b.split(this.mapChar);if(f.length>1){for(var g=c,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);if(void 0!=g)return g}else if(void 0!=c[b])return c[b]}return d}var e=a(c).attr(b.name);if(null!=e&&e.toString().length>0)return e;if(b.map)try{var e=a(c).attr(b.map);if(null!=e&&e.toString().length>0)return e;if(a(b.map,c).length>0)return a(b.map,c).text();if(a(b.name,c).length>0)return a(b.name,c).text()}catch(i){return d}},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){var f=d.root.split(e.mapChar);if(f.length>1){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}else if(void 0!=b[d.root]?b=b[d.root]:a.each(b,function(a){return this==d.root?(b=this,!1):void(void 0!=this[d.root]&&(b=this[d.root]))}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b.length)return void alert("JSON Parse error.");if(0==b.length)return void(this.totalrecords=0);var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,m=o.length}for(var q=k,r=k;i>r;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;m>v;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){if(a.isFunction(w.map))x=w.map(s);else{var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map]}void 0!=x&&null!=x?x=this.getvaluebytype(x,w):void 0==x&&null!=x&&(x="")}if(""==x&&!w.map&&(x=s[w.name],void 0==x&&null!=x&&(x=""),void 0!=w.value&&void 0!=x)){var z=x[w.value];void 0!=z&&(x=z)}if(x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x,"array"===w.type){var A=function(b){if(b)for(var c=0;c<b.length;c++){var f=b[c];if(f)for(var g=0;m>g;g++){var h=d.datafields[g],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(f);else{var j=h.map.split(e.mapChar);if(j.length>0){for(var k=f,l=0;l<j.length;l++)void 0!=k&&(k=k[j[l]]);i=k}else i=f[h.map]}void 0!=i&&null!=i?i=this.getvaluebytype(i,h):void 0==i&&null!=i&&(i="")}if(""==i&&!h.map&&(i=f[h.name],void 0==i&&null!=i&&(i=""),void 0!=h.value&&void 0!=i)){var n=i[h.value];void 0!=n&&(i=n)}i=this.getvaluebytype(i,h),void 0!=h.displayname?f[h.displayname]=i:f[h.name]=i,"array"===h.type&&A.call(this,i)}}}};A.call(this,x)}}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=a.extend({},u),j[l+q].uid=t,this.originaldata[l+q]=a.extend({},j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b)),b=null),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c&&void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,i=k.length}for(var m=g,n=!1,o=g;e>o;o++){var p=b[o];if(void 0==p)break;var q=this.getid(d.id,p,o);if(!this.recordids[q]){this.recordids[q]=p;var r={},s=!1;d.hierarchy&&d.hierarchy.root&&(s=!0);for(var t=0;i>t;t++){var u=d.datafields[t],v="";if(void 0!=u&&null!=u){if(u.map)if(a.isFunction(u.map))v=u.map(p);else{var w=u.map.indexOf("[");if(0>w)if(v=a(u.map,p),1==v.length)v=v.text();else{n=!0;for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}else{var z=u.map.substring(0,w-1),A=u.map.indexOf("]"),B=u.map.substring(w+1,A);v=a(z,p).attr(B),void 0==v&&(v=a(p).attr(B)),void 0==v&&(v="")}""==v&&(v=a(p).attr(u.map),void 0==v&&(v=""))}if(""==v){if(v=a(u.name,p),1==v.length)v=v.text();else{for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}""==v&&(v=a(p).attr(u.name),void 0==v&&(v="")),""==v&&p.nodeName&&p.nodeName==u.name&&p.firstChild&&(v=a(p.firstChild).text())}v=this.getvaluebytype(v,u),void 0!=u.displayname?r[u.displayname]=v:r[u.name]=v}}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},r),f[h+m].uid=q,this.originaldata[h+m]=a.extend({},f[o]),m++)}}if(d.hierarchy&&d.hierarchy.root)for(var o=g;e>o;o++){var p=b[o],C=f[o];if(a(p).parent().length>0){var q=this.getid(d.id,a(p).parents(d.hierarchy.record+":first"));C.parentuid=q}else C.parentuid=null}this.records=f,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length,g=b.split("\r");1==f&&g.length>1&&(e=g,f=e.length),this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var h=this.records,i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(i=0,f=this.totalrecords);var j=0;this.virtualmode&&(i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,j=i,i=0,f=this.totalrecords);var k=c.datafields.length,l=c.columnDelimiter||this.columnDelimiter;l||(l="tab"===c.datatype||"tsv"===c.datatype?"	":",");for(var m=i;f>m;m++){var n=e[m],o=null;if(!this.recordids[o]){null==c.id&&(o=m,this.recordids[o]=n);for(var p={},q=e[m].split(l),r=0;k>r;r++)if(!(r>=q.length)){var s=c.datafields[r],t=q[r];s.map&&a.isFunction(s.map)&&(t=s.map(n)),s.type&&(t=this.getvaluebytype(t,s));var u=s.map||s.name||r.toString();p[u]=t,null!=c.id&&c.id===s.name&&(o=t,this.recordids[o]=n)}null==o&&(o=m),h[j+m]=a.extend({},p),h[j+m].uid=o,this.originaldata[j+m]=a.extend({},h[m])}}this.records=h,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if(null==b)return b;if(a.isArray(b)&&"array"!=c.type){for(var e=0;e<b.length;e++)b[e]=this.getvaluebytype(b[e],c);return b}if("date"==c.type)if("NaN"==b)b="";else{var f=new Date(b);if("string"==typeof b&&c.format){var g=a.jqx.dataFormat.parsedate(b,c.format);null!=g&&(f=g)}b=("NaN"==f.toString()||"Invalid Date"==f.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):f,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!this.isString(b)&&this.isValue(b)?!1:this.isValue(b)?(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b):!0},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split(" ").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},toUpper:function(a){return a?a.toUpperCase():""},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=b.toUpperCase(),c?(d=this.arrayIndexOf(f[1],b),-1===d&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return 0>h&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(a,b,c){return this.formatnumber(a,b,c)},formatnumber:function(a,b,c){if((void 0==c||null==c||""==c)&&(c=this.defaultcalendar()),""===b||null===b)return a;this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;
break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=0>a,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=(a*l).toFixed(0)/l+"",g=i.lastIndexOf("."),k>0)for(0>g?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,o%3===0&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(a,b){(void 0==b||null==b)&&(b=this.defaultcalendar());var c=this;if(""==a)return null;if(null==a||a.substring||(a=a.toString()),null!=a&&"/Date("==a.substring(0,6)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,e=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==e){var f=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),e=null;f&&(e=new Date(1*f[1]+36e5*f[2]+6e4*f[3]))}if(null==e||"Invalid Date"==e||isNaN(e)){var g=d.exec(a);if(g){var h=new Date(parseInt(g[1]));if(g[2]){var i=parseInt(g[3]);"-"===g[2]&&(i=-i);var j=h.getUTCMinutes();h.setUTCMinutes(j-i)}if(!isNaN(h.valueOf()))return h}}return e}patterns=b.patterns;for(prop in patterns)if(e=c.parsedate(a,patterns[prop],b)){if("ISO"==prop){var k=c.parsedate(a,patterns.ISO2,b);if(k)return k}return e}if(null!=a){for(var k=null,l=[":","/","-"],m=!0,n=0;n<l.length;n++)-1!=a.indexOf(l[n])&&(m=!1);if(m){var o=new Number(a);if(!isNaN(o))return new Date(o)}}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return b>a||a>c},expandYear:function(a,b){var c=new Date,d=this.getEra(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;u>t;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=4>x?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;D>C;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&12>n&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatDate:function(a,b,c){return this.formatdate(a,b,c)},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if((void 0==c||null==c)&&(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f])return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,c)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),4>t&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[this.getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}}),a.jqx.data={};var i,j,k=/#.*$/,l=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,m=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,n=/^(?:GET|HEAD)$/,o=/^\/\//,p=/\?/,q=/([?&])_=[^&]*/,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,s=/\s+/,t=(a.fn.load,{}),u={},v=["*/"]+["*"];try{j=location.href}catch(w){j=document.createElement("a"),j.href="",j=j.href}i=r.exec(j.toLowerCase())||[],a.extend(a.jqx.data,{ajaxSetup:function(b,c){return c?d(b,a.jqx.data.ajaxSettings):(c=b,b=a.jqx.data.ajaxSettings),d(b,c),b},ajaxSettings:{url:j,isLocal:m.test(i[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":v},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":a.parseJSON,"text xml":a.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(t),ajaxTransport:b(u),ajax:function(b,d){function g(b,c,d,g){var i,k,l,m,n,o=c;2!==J&&(J=2,x&&clearTimeout(x),w=void 0,j=g||"",L.readyState=b>0?4:0,d&&(m=e(B,L,d)),b>=200&&300>b||304===b?(B.ifModified&&(n=L.getResponseHeader("Last-Modified"),n&&(a.lastModified[h]=n),n=L.getResponseHeader("Etag"),n&&(a.etag[h]=n)),304===b?(o="notmodified",i=!0):(i=f(B,m),o=i.state,k=i.data,l=i.error,i=!l)):(l=o,(!o||b)&&(o="error",0>b&&(b=0))),L.status=b,L.statusText=(c||o)+"",i?E.resolveWith(C,[k,o,L]):E.rejectWith(C,[L,o,l]),L.statusCode(G),G=void 0,z&&D.trigger("ajax"+(i?"Success":"Error"),[L,B,i?k:l]),F.fireWith(C,[L,o]),z&&(D.trigger("ajaxComplete",[L,B]),--a.active||a.event.trigger("ajaxStop")))}"object"==typeof b&&(d=b,b=void 0),d=d||{};var h,j,m,w,x,y,z,A,B=a.jqx.data.ajaxSetup({},d),C=B.context||B,D=C!==B&&(C.nodeType||C instanceof a)?a(C):a.event,E=a.Deferred(),F=a.Callbacks("once memory"),G=B.statusCode||{},H={},I={},J=0,K="canceled",L={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase();a=I[c]=I[c]||a,H[a]=b}return this},getAllResponseHeaders:function(){return 2===J?j:null},getResponseHeader:function(a){var b;if(2===J){if(!m)for(m={};b=l.exec(j);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return void 0===b?null:b},overrideMimeType:function(a){return J||(B.mimeType=a),this},abort:function(a){return a=a||K,w&&w.abort(a),g(0,a),this}};if(E.promise(L),L.success=L.done,L.error=L.fail,L.complete=F.add,L.statusCode=function(a){if(a){var b;if(2>J)for(b in a)G[b]=[G[b],a[b]];else b=a[L.status],L.always(b)}return this},B.url=((b||B.url)+"").replace(k,"").replace(o,i[1]+"//"),B.dataTypes=a.trim(B.dataType||"*").toLowerCase().split(s),null==B.crossDomain&&(y=r.exec(B.url.toLowerCase()),B.crossDomain=!(!y||y[1]===i[1]&&y[2]===i[2]&&(y[3]||("http:"===y[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))),B.data&&B.processData&&"string"!=typeof B.data&&(B.data=a.param(B.data,B.traditional)),c(t,B,d,L),2===J)return L;if(z=B.global,B.type=B.type.toUpperCase(),B.hasContent=!n.test(B.type),z&&0===a.active++&&a.event.trigger("ajaxStart"),!B.hasContent&&(B.data&&(B.url+=(p.test(B.url)?"&":"?")+B.data,delete B.data),h=B.url,B.cache===!1)){var M=a.now(),N=B.url.replace(q,"$1_="+M);B.url=N+(N===B.url?(p.test(B.url)?"&":"?")+"_="+M:"")}(B.data&&B.hasContent&&B.contentType!==!1||d.contentType)&&L.setRequestHeader("Content-Type",B.contentType),B.ifModified&&(h=h||B.url,a.lastModified[h]&&L.setRequestHeader("If-Modified-Since",a.lastModified[h]),a.etag[h]&&L.setRequestHeader("If-None-Match",a.etag[h])),L.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+v+"; q=0.01":""):B.accepts["*"]);for(A in B.headers)L.setRequestHeader(A,B.headers[A]);if(B.beforeSend&&(B.beforeSend.call(C,L,B)===!1||2===J))return L.abort();K="abort";for(A in{success:1,error:1,complete:1})L[A](B[A]);if(w=c(u,B,d,L)){L.readyState=1,z&&D.trigger("ajaxSend",[L,B]),B.async&&B.timeout>0&&(x=setTimeout(function(){L.abort("timeout")},B.timeout));try{J=1,w.send(H,g)}catch(O){if(!(2>J))throw O;g(-1,O)}}else g(-1,"No Transport");return L},active:0,lastModified:{},etag:{}});var x=[],y=/\?/,z=/(=)\?(?=&|$)|\?\?/,A=a.now();a.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=x.pop()||a.expando+"_"+A++;return this[b]=!0,b}}),a.jqx.data.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.data,i=b.url,j=b.jsonp!==!1,k=j&&z.test(i),l=j&&!k&&"string"==typeof h&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&z.test(h);return"jsonp"===b.dataTypes[0]||k||l?(e=b.jsonpCallback=a.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,f=window[e],k?b.url=i.replace(z,"$1"+e):l?b.data=h.replace(z,"$1"+e):j&&(b.url+=(y.test(i)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||a.error(e+" was not called"),g[0]},b.dataTypes[0]="json",window[e]=function(){g=arguments},d.always(function(){window[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,x.push(e)),g&&a.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),a.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){return a.globalEval(b),b}}}),a.jqx.data.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),a.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(d,e){b=document.createElement("script"),b.async="async",a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,d){(d||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=void 0,d||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var B,C=window.ActiveXObject?function(){for(var a in B)B[a](0,1)}:!1,D=0;a.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&g()||h()}:g,function(b){a.extend(a.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})}(a.jqx.data.ajaxSettings.xhr()),a.support.ajax&&a.jqx.data.ajaxTransport(function(b){if(!b.crossDomain||a.support.cors){var c;return{send:function(d,e){var f,g,h=b.xhr();if(b.username?h.open(b.type,b.url,b.async,b.username,b.password):h.open(b.type,b.url,b.async),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(g in d)h.setRequestHeader(g,d[g])}catch(i){}h.send(b.hasContent&&b.data||null),c=function(d,g){var i,j,k,l,m;try{if(c&&(g||4===h.readyState))if(c=void 0,f&&(h.onreadystatechange=a.noop,C&&delete B[f]),g)4!==h.readyState&&h.abort();else{i=h.status,k=h.getAllResponseHeaders(),l={},m=h.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=h.responseText}catch(n){}try{j=h.statusText}catch(n){j=""}i||!b.isLocal||b.crossDomain?1223===i&&(i=204):i=l.text?200:404}}catch(o){g||e(-1,o)}l&&e(i,j,l,k)},b.async?4===h.readyState?setTimeout(c,0):(f=++D,C&&(B||(B={},a(window).unload(C)),B[f]=c),h.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}}),a.jqx.filter=function(){this.operator="and";var b=1,c=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],d=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL"],g=new Array,h=new Array;this.evaluate=function(a){for(var c=!0,d=0;d<g.length;d++){var e=g[d].evaluate(a);c=0==d?e:h[d]==b||"or"==h[d]?c||e:c&&e}return c},this.getfilterscount=function(){return g.length},this.setoperatorsbyfiltertype=function(a,b){switch(a){case"numericfilter":d=b;break;case"stringfilter":c=b;break;case"datefilter":e=b;break;case"booleanfilter":f=b}},this.getoperatorsbyfiltertype=function(a){var b=new Array;switch(a){case"numericfilter":b=d.slice(0);break;case"stringfilter":b=c.slice(0);break;case"datefilter":b=e.slice(0);break;case"booleanfilter":b=f.slice(0)}return b};var i=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+"-"+a()+"-"+a()};this.createfilter=function(a,b,c,d,e,f){if(null==a||void 0==a)return null;switch(a){case"numericfilter":return new l(b,c.toUpperCase());case"stringfilter":return new j(b,c.toUpperCase());case"datefilter":return new m(b,c.toUpperCase(),e,f);case"booleanfilter":return new k(b,c.toUpperCase());case"custom":return new n(b,c.toUpperCase(),d)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var a=new Array,b=0;b<g.length;b++){var c={value:g[b].filtervalue,condition:g[b].comparisonoperator,operator:h[b],type:g[b].type};a[b]=c}return a},this.addfilter=function(a,b){g[g.length]=b,b.key=i(),h[h.length]=a},this.removefilter=function(a){for(var b=0;b<g.length;b++)if(g[b].key==a.key){g.splice(b,1),h.splice(b,1);break}},this.getoperatorat=function(a){return void 0==a||null==a?null:0>a||a>g.length?null:h[a]},this.setoperatorat=function(a,b){return void 0==a||null==a?null:0>a||a>g.length?null:void(h[b]=b)},this.getfilterat=function(a){return void 0==a||null==a?null:0>a||a>g.length?null:g[a]},this.setfilterat=function(a,b){return void 0==a||null==a?null:0>a||a>g.length?null:(b.key=i(),void(g[a]=b))},this.clear=function(){g=new Array,h=new Array};var j=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="stringfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NULL"==d)return!0;if("EQUAL"==d&&b==c)return!0;if("NOT_EQUAL"==d&&b!=c)return!0;if("EMPTY"!=d)return!1;if(""==b)return!0}var e="";try{e=b.toString()}catch(f){return!0}var g=function(b,c){switch(d){case"EQUAL":return a.jqx.string.equalsIgnoreCase(b,c);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(b,c);case"NOT_EQUAL":return!a.jqx.string.equalsIgnoreCase(b,c);case"NOT_EQUAL_CASE_SENSITIVE":return!a.jqx.string.equals(b,c);case"CONTAINS":return a.jqx.string.containsIgnoreCase(b,c);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b,c);case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b,c);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b,c);case"EMPTY":return""==b;case"NOT_EMPTY":return""!=b;case"NOT_NULL":return null!=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b,c);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b,c);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b,c);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b,c);default:return!1}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array,n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);var p=c.indexOf(" ")>=0?c.split(" "):new Array;if(p.length>0)for(var o=0;o<p.length;o++)p[o]=a.trim(p[o]);if(j=j.concat(p),j=j.concat(l),k=k.concat(n),k=k.concat(m),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var q=void 0,r=0;r<h.length;r++){var b=h[r],i=g(e,b),s=r<j.length?"and":"or";q=void 0==q?i:"or"==s?q||i:q&&i}return q}return g(e,c)}},k=function(a,b){this.filtervalue=a,this.comparisonoperator=b,this.type="booleanfilter",this.evaluate=function(a){var b=this.filtervalue,c=this.comparisonoperator;if(null==a||void 0==a)return"NULL"==c?!0:!1;var d=a;switch(c){case"EQUAL":return d==b||d.toString()==b.toString();case"NOT_EQUAL":return d!=b&&d.toString()!=b.toString();default:return!1}}},l=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="numericfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null===b||void 0===b||""===b){if("NOT_NULL"==d)return!1;if("NULL"==d)return!0;switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==d)return!1;if("NOT_NULL"==d)return!0;var e=b;try{e=parseFloat(e)}catch(f){if(""!=b.toString())return!1}var g=function(b,c){switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c;case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return c>b;case"LESS_THAN_OR_EQUAL":return c>=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;c=c.toString();var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array;j=j.concat(l),k=k.concat(m);var n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);if(k=k.concat(n),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var p=void 0,q=0;q<h.length;q++){var b=h[q];if(b&&b.indexOf&&b.indexOf("..")>=0){var r=b.toString().split("..");2==r.length&&(i=e>=r[0]&&e<=r[1])}else var i=g(e,b);var s=q<j.length?"and":"or";p=void 0==p?i:"or"==s?p||i:p&&i}return p}return c&&c.indexOf&&c.indexOf("..")>=0&&(h=c.toString().split(".."),2==h.length)?e>=h[0]&&e<=h[1]:g(e,c)}},m=function(b,c,d,e){if(this.filtervalue=b,this.type="datefilter",void 0!=d&&void 0!=e){var f=a.jqx.dataFormat.parsedate(b,d,e);if(null!=f)this.filterdate=f;else{var g=a.jqx.dataFormat.tryparsedate(b,e);null!=g&&(this.filterdate=g)}}else{var h=new Date(b);"NaN"==h.toString()||"Invalid Date"==h.toString()?this.filterdate=a.jqx.dataFormat.tryparsedate(b):this.filterdate=h}if(!this.filterdate){var h=new Date(b);"NaN"==h.toString()||"Invalid Date"==h.toString()?this.filterdate=a.jqx.dataFormat.tryparsedate(b):this.filterdate=h}this.comparisonoperator=c,this.evaluate=function(b){var c=this.filtervalue,f=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NOT_NULL"==f)return!1;if("NULL"==f)return!0;switch(f){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==f)return!1;if("NOT_NULL"==f)return!0;var g=new Date;g.setFullYear(1900,0,1),g.setHours(12,0,0,0);try{var h=new Date(b);b="NaN"==h.toString()||"Invalid Date"==h.toString()?a.jqx.dataFormat.tryparsedate(b):h,g=b;var i=!1;if(void 0!=d&&void 0!=e&&(d.indexOf("t")>=0||d.indexOf("T")>=0||d.indexOf(":")>=0||d.indexOf("f")>=0)&&(i=!0,c&&-1==c.toString().indexOf(":"))){var j=a.jqx.dataFormat.tryparsedate(c.toString()+":00",e);null!=j&&(this.filterdate=j)}i||(g.setHours(0),g.setMinutes(0),g.setSeconds(0))}catch(k){if(""!=b.toString())return!1}if(null!=this.filterdate)c=this.filterdate;else if(c.indexOf&&(-1!=c.indexOf(":")||!isNaN(parseInt(c)))){var l=new Date(g);l.setHours(12,0,0,0);for(var m=c.split(":"),n=0;n<m.length;n++)0==n&&l.setHours(m[n]),1==n&&l.setMinutes(m[n]),2==n&&l.setSeconds(m[n]);c=l}i&&c&&c.setFullYear&&g&&g.getFullYear&&-1==d.indexOf("d")&&-1==d.indexOf("M")&&-1==d.indexOf("y")&&c.setFullYear(g.getFullYear(),g.getMonth(),g.getDate());var o=function(b,c){switch(null==b&&(b=""),f){case"EQUAL":return b.toString()==c.toString();case"NOT_EQUAL":return b.toString()!=c.toString();case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return c>b;case"LESS_THAN_OR_EQUAL":return c>=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},p=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var j=o(g,c);if(j)return j;var q=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,r=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,s=c.indexOf(" and ")>=0?c.split(" and "):new Array,t=c.indexOf(" or ")>=0?c.split(" or "):new Array;q=q.concat(s),r=r.concat(t);var u=c.indexOf("|")>=0?c.split("|"):new Array;if(u.length>0)for(var n=0;n<u.length;n++)u[n]=a.trim(u[n]);if(r=r.concat(u),q.length>0)for(var n=0;n<q.length;n++)!q[n].indexOf(" OR ")>=0&&p.push(q[n]);if(r.length>0)for(var n=0;n<r.length;n++)!r[n].indexOf(" AND ")>=0&&p.push(r[n]);for(var v=void 0,w=0;w<p.length;w++){var b=p[w];if(b&&b.indexOf&&b.indexOf("..")>=0){var x=b.toString().split("..");2==x.length&&(j=g>=x[0]&&g<=x[1])}else var j=o(g,b);var y=w<q.length?"and":"or";v=void 0==v?j:"or"==y?v||j:v&&j}return v}return c&&c.indexOf&&c.indexOf("..")>=0&&(p=c.toString().split(".."),2==p.length)?g>=p[0]&&g<=p[1]:o(g,c)}},n=function(a,b,c){this.filtervalue=a,this.comparisonoperator=b,this.evaluate=function(a,b){return c(this.filtervalue,a,this.comparisonoperator)}}}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxValidator","",{}),a.extend(a.jqx._jqxValidator.prototype,{defineInstance:function(){var b={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};a.extend(!0,this,b)},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(b){var c,d,e,f,g=!0,h=1/0,i=[];this.updatePosition();for(var j=this,k=0,l=0;l<this.rules.length;l+=1)"function"==typeof this.rules[l].rule&&k++;this.positions=new Array;for(var l=0;l<this.rules.length;l+=1){a(this.rules[l].input);if("function"==typeof this.rules[l].rule){var m=function(l,m){if(c=l,0==c){g=!1;a(m.input);f=a(m.input),i.push(f),d=f.offset().top,h>d&&(h=d,e=f)}k--,0==k&&"function"==typeof b&&(j._handleValidation(g,h,e,i),b&&b(g))};this._validateRule(this.rules[l],m)}else c=this._validateRule(this.rules[l]);0==c&&(g=!1,f=a(this.rules[l].input),i.push(f),d=f.offset().top,h>d&&(h=d,e=f))}return 0==k?(this._handleValidation(g,h,e,i),g):void 0},validateInput:function(a){for(var b=this._getRulesForInput(a),c=!0,d=0;d<b.length;d+=1)this._validateRule(b[d])||(c=!1);return c},hideHint:function(a){for(var b=this._getRulesForInput(a),c=0;c<b.length;c+=1)this._hideHintByRule(b[c])},hide:function(){for(var a,b=0;b<this.rules.length;b+=1)a=this.rules[b],this._hideHintByRule(this.rules[b])},updatePosition:function(){var b;this.positions=new Array;for(var c=0;c<this.rules.length;c+=1)b=this.rules[c],b.hint&&this._hintLayout(b.hint,a(b.input),b.position,b)},_getRulesForInput:function(a){for(var b=[],c=0;c<this.rules.length;c+=1)this.rules[c].input===a&&b.push(this.rules[c]);return b},_validateRule:function(b,c){var d,e=a(b.input),f=!0,g=this,h=function(a){if(a)g._hideHintByRule(b),c&&c(!0,b);else{var f=g.animation;g.animation=null,b.hint&&g._hideHintByRule(b),d=b.hintRender.apply(g,[b.message,e]),g._hintLayout(d,e,b.position,b),g._showHint(d),b.hint=d,g._removeLowPriorityHints(b),c&&c(!1,b),g.animation=f}},i=!1;return"function"==typeof b.rule&&(i=b.rule.call(this,e,h),1==i&&c&&c(!0,b)),"function"==typeof b.rule&&0==i?("function"!=typeof b.hintRender||b.hint||this._higherPriorityActive(b)||!e.is(":visible")||(d=b.hintRender.apply(this,[b.message,e]),this._removeLowPriorityHints(b),this._hintLayout(d,e,b.position,b),this._showHint(d),b.hint=d),f=!1,c&&c(!1,b)):this._hideHintByRule(b),f},_hideHintByRule:function(b){var c,d=a(b.input),e=this,f=function(){if("label"==e.hintType){var a=e;if("top"==a.position||"left"==a.position){if(d.prev().hasClass(".jqx-validator-error-label"))return}else if(d.next().hasClass(".jqx-validator-error-label"))return;"input"!=d[0].nodeName.toLowerCase()?d.find("input").length>0&&(d.find(".jqx-input").length>0?d.find(".jqx-input").removeClass(a.toThemeProperty("jqx-validator-error-element")):d.is(".jqx-checkbox")&&d.find(".jqx-checkbox-default").removeClass(a.toThemeProperty("jqx-validator-error-element")),d.is(".jqx-radiobutton")?d.find(".jqx-radiobutton-default").removeClass(a.toThemeProperty("jqx-validator-error-element")):d.removeClass(a.toThemeProperty("jqx-validator-error-element"))):d.removeClass(a.toThemeProperty("jqx-validator-error-element"))}};b&&(c=b.hint,c&&(this.positions&&this.positions[Math.round(c.offset().top)+"_"+Math.round(c.offset().left)]&&(this.positions[Math.round(c.offset().top)+"_"+Math.round(c.offset().left)]=null),"fade"===this.animation?c.fadeOut(this.animationDuration,function(){c.remove(),f()}):(c.remove(),f())),b.hint=null)},_handleValidation:function(a,b,c,d){a?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(b),this.focus&&c.focus(),this._raiseEvent(0,{invalidInputs:d}),"function"==typeof this.onError&&this.onError(d))},_scrollHandler:function(b){if(this.scroll){var c=this;a("html,body").animate({scrollTop:b},this.scrollDuration,function(){"function"==typeof c.scrollCallback&&c.scrollCallback.call(c)})}},_higherPriorityActive:function(a){for(var b,c=!1,d=this.rules.length-1;d>=0;d-=1){if(b=this.rules[d],c&&b.input===a.input&&b.hint)return!0;b===a&&(c=!0)}return!1},_removeLowPriorityHints:function(a){for(var b,c=!1,d=0;d<this.rules.length;d+=1)b=this.rules[d],c&&b.input===a.input&&this._hideHintByRule(b),b===a&&(c=!0)},_getHintRuleByInput:function(b){for(var c,d=0;d<this.rules.length;d+=1)if(c=this.rules[d],a(c.input)[0]===b[0]&&c.hint)return c;return null},_removeEventListeners:function(){for(var b,c,d,e=0;e<this.rules.length;e+=1){b=this.rules[e],d=b.action.split(","),c=a(b.input);for(var f=0;f<d.length;f+=1)this.removeHandler(c,a.trim(d[f])+".jqx-validator")}},_addEventListeners:function(){var b,c;if(this.host.parents(".jqx-window").length>0){var d=this,e=function(){d.updatePosition()},f=this.host.parents(".jqx-window");this.addHandler(f,"closed",function(){d.hide()}),this.addHandler(f,"moved",e),this.addHandler(f,"moving",e),this.addHandler(f,"resized",e),this.addHandler(f,"resizing",e),this.addHandler(a(document.parentWindow),"scroll",function(){d.scroll&&e()})}for(var g=0;g<this.rules.length;g+=1)b=this.rules[g],c=a(b.input),this._addListenerTo(c,b)},_addListenerTo:function(b,c){var d=this,e=c.action.split(","),f=!1;this._isjQWidget(b)&&(f=!0);for(var g=0;g<e.length;g+=1){var h=a.trim(e[g]);!f||"blur"!=h&&"focus"!=h||b&&"input"!=b[0].nodeName.toLowerCase()&&(b=b.find("input")),this.addHandler(b,h+".jqx-validator",function(a){d._validateRule(c)})}},_configureInputs:function(){this.rules=this.rules||[];for(var a=0;a<this.rules.length;a+=1)this._handleInput(a)},_handleInput:function(a){var b=this.rules[a];b.position||(b.position=this.position),b.message||(b.message="Validation Failed!"),
b.action||(b.action="blur"),b.hintRender||(b.hintRender=this._hintRender),b.rule?this._handleRule(b):b.rule=null},_handleRule:function(a){var b,c,d=a.rule,e=!1;if("string"==typeof d?(d.indexOf("=")>=0&&(d=d.split("="),c=d[1].split(","),d=d[0]),b=this["_"+d],b?a.rule=function(a,d){return b.apply(this,[a].concat(c))}:e=!0):"function"!=typeof d?e=!0:a.rule=d,e)throw new Error("Wrong parameter!")},_required:function(b){switch(this._getType(b)){case"textarea":case"password":case"jqx-input":case"text":var c=a.data(b[0]);if(c.jqxMaskedInput){var d=b.jqxMaskedInput("promptChar"),e=b.jqxMaskedInput("value");return e&&e.indexOf(d)<0}return c.jqxNumberInput?""!==b.jqxNumberInput("inputValue"):c.jqxDateTimeInput?!0:""!==a.trim(b.val());case"checkbox":return b.is(":checked");case"radio":return b.is(":checked");case"div":return b.is(".jqx-checkbox")?b.jqxCheckBox("checked"):b.is(".jqx-radiobutton")?b.jqxRadioButton("checked"):!1}return!1},_notNumber:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d/;return!b.test(a)})},_startWithLetter:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d/;return!b.test(a.substring(0,1))})},_number:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=new Number(a);return!isNaN(b)&&isFinite(b)})},_phone:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^\(\d{3}\)(\d){3}-(\d){4}$/;return b.test(a)})},_length:function(a,b,c){return this._minLength(a,b)&&this._maxLength(a,c)},_maxLength:function(a,b){return b=parseInt(b,10),this._validateText(a,function(a){return a.length<=b})},_minLength:function(a,b){return b=parseInt(b,10),this._validateText(a,function(a){return a.length>=b})},_email:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)})},_zipCode:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return b.test(a)})},_ssn:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d{3}-\d{2}-\d{4}/;return b.test(a)})},_validateText:function(a,b){var c;return this._isTextInput(a)?(c=this._isjQWidget(a)&&a.find("input").length>0?a.find("input").val():a.val(),b(c)):!1},_isjQWidget:function(b){var c=a.data(b[0]);return c.jqxMaskedInput||c.jqxNumberInput||c.jqxDateTimeInput?!0:!1},_isTextInput:function(a){var b=this._getType(a);return"text"===b||"textarea"===b||"password"===b||a.is(".jqx-input")},_getType:function(b){var c,d=b[0].tagName.toLowerCase();return"textarea"===d?"textarea":b.is(".jqx-input")?"jqx-input":"input"===d?c=a(b).attr("type")?a(b).attr("type").toLowerCase():"text":d},_hintRender:function(b,c){if("label"==this.hintType){var d=a('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');d.html(b);var e=this;return this.closeOnClick&&d.click(function(){e.hideHint(c.selector)}),"left"==this.position||"top"==this.position?d.insertBefore(a(c)):d.insertAfter(a(c)),d}var d=a('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),f=this;return d.html(b),this.closeOnClick&&d.click(function(){f.hideHint(c.selector)}),null==this.ownerElement?d.appendTo(document.body):this.ownerElement.innerHTML?d.appendTo(a(this.ownerElement)):d.appendTo(this.ownerElement),d},_hintLayout:function(b,c,d,e){if(this._hintRender===e.hintRender){var f;if(f=this._getPosition(c,d,b,e),"label"==this.hintType){var g="2px";("left"==this.position||"top"==this.position)&&(g="-2px"),"input"!=c[0].nodeName.toLowerCase()?c.find("input").length>0&&(c.find(".jqx-input").length>0?c.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):c.is(".jqx-checkbox")&&c.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),c.is(".jqx-radiobutton")?c.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):c.addClass(this.toThemeProperty("jqx-validator-error-element"))):c.addClass(this.toThemeProperty("jqx-validator-error-element"));var h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-validator-hint")),h.html(b.text()),h.appendTo(a(document.body));var i=h.outerWidth();return h.remove(),b.css({position:"relative",left:a(c).css("margin-left"),width:a(c).width(),top:g}),void("center"==d&&(b.css("width",i),b.css("left","0px"),b.css("margin-left","auto"),b.css("margin-right","auto")))}b.css({position:"absolute",left:f.left,top:f.top}),this.arrow&&this._addArrow(c,b,d,f)}},_showHint:function(a){a&&"fade"===this.animation&&(a.fadeOut(0),a.fadeIn(this.animationDuration))},_getPosition:function(b,c,d,e){var f,g,h=b.offset(),i=b.outerWidth(),j=b.outerHeight();if(this.rtl&&c.indexOf("left")>=0&&(c="right"),this.rtl&&c.indexOf("right")>=0&&(c="left"),null!=this.ownerElement&&(h={left:0,top:0},h.top=parseInt(h.top)+b.position().top,h.left=parseInt(h.left)+b.position().left),e&&e.hintPositionRelativeElement){var k=a(e.hintPositionRelativeElement);h=k.offset(),i=k.width(),j=k.height()}return f=c.indexOf("top")>=0?h.top-j:c.indexOf("bottom")>=0?h.top+d.outerHeight()+this.hintPositionOffset+5:h.top,g=c.indexOf("center")>=0?h.left+this.hintPositionOffset+(i-d.outerWidth())/2:c.indexOf("left")>=0?h.left-d.outerWidth()-this.hintPositionOffset:c.indexOf("right")>=0?h.left+i+this.hintPositionOffset:h.left+this.hintPositionOffset,c.indexOf(":")>=0&&(c=c.split(":")[1].split(","),g+=parseInt(c[0],10),f+=parseInt(c[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(f)+"_"+Math.round(g)]&&this.positions[Math.round(f)+"_"+Math.round(g)].top==f&&(f+=b.outerHeight()),this.positions[Math.round(f)+"_"+Math.round(g)]={left:g,top:f},{left:g,top:f}},_addArrow:function(b,c,d,e){var f,g,h=a('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&d.indexOf("left")>=0&&(d="right"),this.rtl&&d.indexOf("right")>=0&&(d="left"),c.children(".jqx-validator-hint-arrow").remove(),c.append(h);var i=h.outerHeight(),j=h.outerWidth(),k=c.outerHeight(),l=c.outerWidth();this._addImage(h),g=d.indexOf("top")>=0?k-i:d.indexOf("bottom")>=0?-i:(k-i)/2-i/2,d.indexOf("center")>=0?f=(l-j)/2:d.indexOf("left")>=0?f=l-j/2-1:d.indexOf("right")>=0&&(f=-j/2),(d.indexOf("topright")>=0||d.indexOf("bottomright")>=0)&&(f=0),(d.indexOf("topleft")>=0||d.indexOf("bottomleft")>=0)&&(f=l-j),h.css({position:"absolute",left:f,top:g})},_addImage:function(a){var b=a.css("background-image");b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")",""),a.css("background-image","none"),a.append('<img src="'+b+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+a.width()+"px; height: "+a.height()+'px;" />')},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},propertyChangedHandler:function(a,b,c,d){"rules"===b&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),function(a){a.jqx.cssroundedcorners=function(a){var b={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in b)if(b.hasOwnProperty(prop)&&a==prop)return b[prop]},a.jqx.jqxWidget("jqxButton","",{}),a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){var b={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},createInstance:function(b){var c=this;c._setSize(),c._ariaDisabled||c.host.attr("role","button"),c.overrideTheme||(c.host.addClass(c.toThemeProperty(a.jqx.cssroundedcorners(c.roundedCorners))),c.enableDefault&&c.host.addClass(c.toThemeProperty("jqx-button")),c.host.addClass(c.toThemeProperty("jqx-widget"))),c.isTouchDevice=a.jqx.mobile.isTouchDevice(),c._ariaDisabled||a.jqx.aria(this),"arrow"!=c.cursor&&(c.disabled?c.host.css({cursor:"arrow"}):c.host.css({cursor:c.cursor}));var d="mouseenter mouseleave mousedown focus blur";if(c._scrollAreaButton)var d="mousedown";c.isTouchDevice&&(c.addHandler(c.host,a.jqx.mobile.getTouchEventName("touchstart"),function(a){c.isPressed=!0,c.refresh()}),c.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+c.element.id,function(a){c.isPressed=!1,c.refresh()})),c.addHandler(c.host,d,function(a){switch(a.type){case"mouseenter":c.isTouchDevice||!c.disabled&&c.enableHover&&(c.isMouseOver=!0,c.refresh());break;case"mouseleave":c.isTouchDevice||!c.disabled&&c.enableHover&&(c.isMouseOver=!1,c.refresh());break;case"mousedown":c.disabled||(c.isPressed=!0,c.refresh());break;case"focus":c.disabled||(c.isFocused=!0,c.refresh());break;case"blur":c.disabled||(c.isFocused=!1,c.refresh())}}),c.mouseupfunc=function(a){c.disabled||(c.isPressed=!1,c.refresh())},c.addHandler(a(document),"mouseup.button"+c.element.id,c.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e="";if(window.parent&&document.referrer&&(e=document.referrer),-1!=e.indexOf(document.location.host)){var f=function(a){c.isPressed=!1,c.refresh()};window.top.document&&c.addHandler(a(window.top.document),"mouseup",f)}}}catch(g){}c.propertyChangeMap.roundedCorners=function(b,c,d,e){b.host.removeClass(b.toThemeProperty(a.jqx.cssroundedcorners(d))),b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(e)))},c.propertyChangeMap.width=function(a,b,c,d){a._setSize(),a.refresh()},c.propertyChangeMap.height=function(a,b,c,d){a._setSize(),a.refresh()},c.propertyChangeMap.disabled=function(b,c,d,e){d!=e&&(b.host[0].disabled=e,b.host.attr("disabled",e),b.refresh(),e?b.host.css({cursor:"default"}):b.host.css({cursor:b.cursor}),a.jqx.aria(b,"aria-disabled",b.disabled))},c.propertyChangeMap.rtl=function(a,b,c,d){c!=d&&a.refresh()},c.propertyChangeMap.theme=function(b,c,d,e){b.host.removeClass(),b.enableDefault&&b.host.addClass(b.toThemeProperty("jqx-button")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.overrideTheme||b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(b.roundedCorners))),b._oldCSSCurrent=null,b.refresh()},c.disabled&&(c.element.disabled=!0,c.host.attr("disabled",!0))},resize:function(a,b){this.width=a,this.height=b,this._setSize()},val:function(){var b=this,c=b.host.find("input");return c.length>0?0==arguments.length||"object"==typeof value?c.val():(c.val(value),b.refresh(),c.val()):0==arguments.length||"object"==typeof value?"button"==b.element.nodeName.toLowerCase()?a(b.element).text():b.element.value:(b.element.value=arguments[0],"button"==b.element.nodeName.toLowerCase()&&a(b.element).text(arguments[0]),void b.refresh())},_setSize:function(){var a=this;null==a.width||-1==a.width.toString().indexOf("px")&&-1==a.width.toString().indexOf("%")?void 0==a.width||isNaN(a.width)||a.host.css("width",a.width):a.host.css("width",a.width),null==a.height||-1==a.height.toString().indexOf("px")&&-1==a.height.toString().indexOf("%")?void 0==a.height||isNaN(a.height)||a.host.css("height",parseInt(a.height)):a.host.css("height",a.height)},_removeHandlers:function(){var b=this;b.removeHandler(b.host,"selectstart"),b.removeHandler(b.host,"click"),b.removeHandler(b.host,"focus"),b.removeHandler(b.host,"blur"),b.removeHandler(b.host,"mouseenter"),b.removeHandler(b.host,"mouseleave"),b.removeHandler(b.host,"mousedown"),b.removeHandler(a(document),"mouseup.button"+b.element.id,b.mouseupfunc),b.isTouchDevice&&(b.removeHandler(b.host,a.jqx.mobile.getTouchEventName("touchstart")),b.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+b.element.id)),b.mouseupfunc=null,delete b.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var b=this;b._removeHandlers();var c=a.data(b.element,"jqxButton");c&&delete c.instance,b.host.removeClass(),b.host.removeData(),b.host.remove(),delete b.set,delete b.get,delete b.call,delete b.propertyChangeMap.roundedCorners,delete b.propertyChangeMap.width,delete b.propertyChangeMap.height,delete b.propertyChangeMap.disabled,delete b.propertyChangeMap.rtl,delete b.propertyChangeMap.theme,delete b.propertyChangeMap,delete b.element,delete b.host},render:function(){this.refresh()},refresh:function(){var a=this;if(!a.overrideTheme){var b=a.toThemeProperty("jqx-fill-state-focus"),c=a.toThemeProperty("jqx-fill-state-disabled"),d=a.toThemeProperty("jqx-fill-state-normal");a.enableDefault||(d="");var e=a.toThemeProperty("jqx-fill-state-hover"),f=a.toThemeProperty("jqx-fill-state-pressed"),g=a.toThemeProperty("jqx-fill-state-pressed");a.enablePressed||(f="");var h="";if(a.host){if(a.host[0].disabled=a.disabled,a.disabled)return h=d+" "+c,a.host.addClass(h),void(a._oldCSSCurrent=h);h=a.isMouseOver&&!a.isTouchDevice?a.isPressed?g:e:a.isPressed?f:d,a.isFocused&&(h+=" "+b),"default"!==a.template&&""!==a.template&&(h+=" jqx-"+a.template),h!=a._oldCSSCurrent&&(a._oldCSSCurrent&&a.host.removeClass(a._oldCSSCurrent),a.host.addClass(h),a._oldCSSCurrent=h),a.rtl&&(a.host.addClass(a.toThemeProperty("jqx-rtl")),a.host.css("direction","rtl"))}}}}),a.jqx.jqxWidget("jqxLinkButton","",{}),a.extend(a.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(a){var b=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var c=this.height||this.host.height(),d=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var e=this.host.find("input");e.addClass(this.toThemeProperty("jqx-reset")),e.width(d),e.height(c),e.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),e.css({width:d}),e.css({height:c});var f=void 0==a?{}:a[0]||{};e.jqxButton(f),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(a,b,c,d){a.host[0].disabled=d,a.host.find("input").jqxButton({disabled:d})},this.addHandler(e,"click",function(a){return this.disabled||b.onclick(a),!1})},onclick:function(a){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),a.extend(a.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(b){var c=this,d=a.jqx.mobile.isTouchDevice(),e=d?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,f=d?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(a(document),e,function(a){null!=c.timeout&&(clearTimeout(c.timeout),c.timeout=null,c.refresh()),void 0!=c.timer&&(clearInterval(c.timer),c.timer=null,c.refresh())}),this.addHandler(this.base.host,f,function(a){null!=c.timer&&clearInterval(c.timer),c.timeout=setTimeout(function(){clearInterval(c.timer),c.timer=setInterval(function(a){c.ontimer(a)},c.delay)},150)}),this.mousemovefunc=function(a){d||0==a.which&&null!=c.timer&&(clearInterval(c.timer),c.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var b=a.jqx.mobile.isTouchDevice(),c=b?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,d=b?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,d),this.removeHandler(a(document),c),this.timer=null,delete this.mousemovefunc,delete this.timer;var e=a.data(this.base.element,"jqxRepeatButton");e&&delete e.instance,a(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(b){var b=new a.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(b)}}),a.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(b){var c=this;c.base.overrideTheme=!0,c.isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),c.propertyChangeMap.toggled=function(a,b,c,d){a.refresh()},c.propertyChangeMap.disabled=function(a,b,c,d){a.base.disabled=d,a.refresh()},c.addHandler(c.base.host,"click",function(a){!c.base.disabled&&c.uiToggle&&c.toggle()}),c.isTouchDevice||(c.addHandler(c.base.host,"mouseenter",function(a){c.base.disabled||c.refresh()}),c.addHandler(c.base.host,"mouseleave",function(a){c.base.disabled||c.refresh()})),c.addHandler(c.base.host,"mousedown",function(a){c.base.disabled||c.refresh()}),c.addHandler(a(document),"mouseup.togglebutton"+c.base.element.id,function(a){c.base.disabled||c.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(a(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),a.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var a=this,b=a.base.toThemeProperty("jqx-fill-state-disabled"),c=a.base.toThemeProperty("jqx-fill-state-normal");a.base.enableDefault||(c="");var d=a.base.toThemeProperty("jqx-fill-state-hover"),e=a.base.toThemeProperty("jqx-fill-state-pressed"),f=a.base.toThemeProperty("jqx-fill-state-pressed"),g="";return a.base.host[0].disabled=a.base.disabled,a.base.disabled?(g=c+" "+b,void a.base.host.addClass(g)):(g=a.base.isMouseOver&&!a.isTouchDevice?a.base.isPressed||a.toggled?f:d:a.base.isPressed||a.toggled?e:c,"default"!==a.base.template&&""!==a.base.template&&(g+=" jqx-"+a.base.template),a.base.host.hasClass(b)&&b!=g&&a.base.host.removeClass(b),a.base.host.hasClass(c)&&c!=g&&a.base.host.removeClass(c),a.base.host.hasClass(d)&&d!=g&&a.base.host.removeClass(d),a.base.host.hasClass(e)&&e!=g&&a.base.host.removeClass(e),a.base.host.hasClass(f)&&f!=g&&a.base.host.removeClass(f),void(a.base.host.hasClass(g)||a.base.host.addClass(g)))}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDropDownButton","",{}),a.extend(a.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var b={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",popupZIndex:2e4,autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};a.extend(!0,this,b)},createInstance:function(b){var c=this;c.width||(c.width=200),c.height||(c.height=25),c.isanimating=!1,c.setupInstance();var d=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");c.host.attr("tabindex")?(d.attr("tabindex",c.host.attr("tabindex")),c.host.removeAttr("tabindex")):d.attr("tabindex",0),c.focusable||d.removeAttr("tabIndex"),a.jqx.aria(this),c.popupContent=c.host.children(),c.host.attr("role","button"),0==c.popupContent.length?(c.popupContent=a("<div>"+c.host.text()+"</div>"),c.popupContent.css("display","block"),c.element.innerHTML=""):c.popupContent.detach();var e=this;c.addHandler(c.host,"loadContent",function(a){e._arrange()});try{var f="dropDownButtonPopup"+c.element.id,g=a(a.find("#"+f));g.length>0&&g.remove(),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-owns",f);var h=a("<div class='dropDownButton' style='overflow: hidden; left: 0px; top: 0px; position: absolute;' id='dropDownButtonPopup"+c.element.id+"'></div>");h.addClass(c.toThemeProperty("jqx-widget-content")),h.addClass(c.toThemeProperty("jqx-dropdownbutton-popup")),h.addClass(c.toThemeProperty("jqx-popup")),h.addClass(c.toThemeProperty("jqx-rc-all")),h.css("z-index",c.popupZIndex),a.jqx.browser.msie&&h.addClass(c.toThemeProperty("jqx-noshadow")),c.popupContent.appendTo(h),h.appendTo(document.body),c.container=h,c.container.css("visibility","hidden")}catch(i){}c.touch=a.jqx.mobile.isTouchDevice(),c.dropDownButtonStructure=d,c.host.append(d),c.dropDownButtonWrapper=c.host.find("#dropDownButtonWrapper"),c.firstDiv=c.dropDownButtonWrapper.parent(),c.dropDownButtonArrow=c.host.find("#dropDownButtonArrow"),c.arrow=a(c.dropDownButtonArrow.children()[0]),c.dropDownButtonContent=c.host.find("#dropDownButtonContent"),c.dropDownButtonContent.addClass(c.toThemeProperty("jqx-dropdownlist-content")),c.dropDownButtonWrapper.addClass(c.toThemeProperty("jqx-disableselect")),c.rtl&&c.dropDownButtonContent.addClass(c.toThemeProperty("jqx-rtl"));var j=this;c.host.parents()&&c.addHandler(c.host.parents(),"scroll.dropdownbutton"+c.element.id,function(a){var b=j.isOpened();b&&j.close()}),c.addHandler(c.dropDownButtonWrapper,"selectstart",function(){return!1}),c.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+c.element.id,c.dropDownButtonArrow[0].id="dropDownButtonArrow"+c.element.id,c.dropDownButtonContent[0].id="dropDownButtonContent"+c.element.id;var j=this;c.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropDownButtonContent.addClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))):(b.host.removeClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.removeClass(j.toThemeProperty("jqx-fill-state-disabled")),b.dropDownButtonContent.removeClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))),a.jqx.aria(b,"aria-disabled",b.disabled)},c.disabled&&(c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),c.dropDownButtonContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled")));var k=c.toThemeProperty("jqx-rc-all")+" "+c.toThemeProperty("jqx-fill-state-normal")+" "+c.toThemeProperty("jqx-widget")+" "+c.toThemeProperty("jqx-widget-content")+" "+c.toThemeProperty("jqx-dropdownlist-state-normal");if(c.host.addClass(k),c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c.arrow.addClass(c.toThemeProperty("jqx-icon")),c._setSize(),c.render(),a.jqx.browser.msie&&a.jqx.browser.version<8&&(c.container.css("display","none"),c.host.parents(".jqx-window").length>0)){var l=c.host.parents(".jqx-window").css("z-index");h.css("z-index",l+10),c.container.css("z-index",l+10)}},setupInstance:function(){var b=this,c={setContent:function(a){b.dropDownButtonContent.children().remove(),b.dropDownButtonContent[0].innerHTML="",b.dropDownButtonContent.append(a)},val:function(a){return 0==arguments.length||"object"==typeof a?b.dropDownButtonContent.text():void b.dropDownButtonContent.html(a)},getContent:function(){return b.dropDownButtonContent.children().length>0?b.dropDownButtonContent.children():b.dropDownButtonContent.text()},_setSize:function(){null!=b.width&&-1!=b.width.toString().indexOf("px")?b.host[0].style.width=b.width:void 0==b.width||isNaN(b.width)||(b.host[0].style.width=parseInt(b.width)+"px"),null!=b.height&&-1!=b.height.toString().indexOf("px")?b.host[0].style.height=b.height:void 0==b.height||isNaN(b.height)||(b.host[0].style.height=parseInt(b.height)+"px");var c=!1;null!=b.width&&-1!=b.width.toString().indexOf("%")&&(c=!0,b.host.width(b.width)),null!=b.height&&-1!=b.height.toString().indexOf("%")&&(c=!0,b.host.height(b.height));var d=this;c&&b.refresh(!1),a.jqx.utilities.resize(b.host,function(){d._arrange()})},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXButton"+b.element.id);return null!=c&&c==b.popupContent?!0:!1},focus:function(){try{b.host.focus()}catch(a){}},render:function(){b.removeHandlers();var c=this,d=!1;b.touch||(b.addHandler(b.host,"mouseenter",function(){!c.disabled&&c.enableHover&&(d=!0,c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-hover")),c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-down-hover")),c.host.addClass(c.toThemeProperty("jqx-fill-state-hover")))}),b.addHandler(b.host,"mouseleave",function(){!c.disabled&&c.enableHover&&(c.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-hover")),c.host.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c.arrow.removeClass(c.toThemeProperty("jqx-icon-arrow-down-hover")),d=!1)})),c.autoOpen&&(b.addHandler(b.host,"mouseenter",function(){var a=c.isOpened();!a&&c.autoOpen&&(c.open(),c.host.focus())}),b.addHandler(a(document),"mousemove."+c.element.id,function(a){var b=c.isOpened();if(b&&c.autoOpen){var d=c.host.coord(),e=d.top,f=d.left,g=c.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+c.host.height()&&a.pageX>=f&&a.pageX<f+c.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+c.container.height()&&a.pageX>=h&&a.pageX<h+c.container.width()&&(canClose=!1),canClose&&c.close()}})),b.addHandler(b.dropDownButtonWrapper,"mousedown",function(a){if(!c.disabled){var b="visible"==c.container.css("visibility");if(!c.isanimating){if(b)return c.close(),!1;c.open(),c.focusable||a.preventDefault&&a.preventDefault()}}}),b.touch&&b.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+b.element.id,c.closeOpenedDropDown,{me:this,popup:b.container,id:b.element.id}),b.addHandler(a(document),"mousedown."+b.element.id,c.closeOpenedDropDown,{me:this,popup:b.container,id:b.element.id}),b.addHandler(b.host,"keydown",function(a){var b="visible"==c.container.css("visibility");return"none"==c.host.css("display")?!0:("13"==a.keyCode&&(c.isanimating||b&&c.close()),115==a.keyCode?(c.isanimating||(c.isOpened()?c.isOpened()&&c.close():c.open()),!1):(a.altKey&&"block"==c.host.css("display")&&(38==a.keyCode?c.isOpened()&&c.close():40==a.keyCode&&(c.isOpened()||c.open())),void("27"==a.keyCode&&(c.ishiding||(c.close(),void 0!=c.tempSelectedIndex&&c.selectIndex(c.tempSelectedIndex))))))}),b.addHandler(b.firstDiv,"focus",function(){c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-focus")),c.host.addClass(c.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(b.firstDiv,"blur",function(){c.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-focus")),c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var c=this;b.removeHandler(b.dropDownButtonWrapper,"mousedown"),b.removeHandler(b.host,"keydown"),b.removeHandler(b.firstDiv,"focus"),b.removeHandler(b.firstDiv,"blur"),b.removeHandler(b.host,"mouseenter"),b.removeHandler(b.host,"mouseleave"),b.autoOpen&&(b.removeHandler(b.host,"mouseenter"),b.removeHandler(b.host,"mouseleave")),b.removeHandler(a(document),"mousemove."+c.element.id)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]},testOffset:function(c,d,e){var f=c.outerWidth(),g=c.outerHeight(),h=a(window).width()+a(window).scrollLeft(),i=a(window).height()+a(window).scrollTop();if(d.left+f>h&&f>b.host.width()){var j=b.host.coord().left,k=f-b.host.width();d.left=j-k+2}return d.left<0&&(d.left=parseInt(b.host.coord().left)+"px"),d.top+g>i&&(d.top-=Math.abs(g+e)),d},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},open:function(){a.jqx.aria(this,"aria-expanded",!0);var b=this,c=this;if((null==b.dropDownWidth||"auto"==b.dropDownWidth)&&null!=b.width&&b.width.indexOf&&-1!=b.width.indexOf("%")){var d=b.host.width();b.container.width(parseInt(d))}c._raiseEvent("2");var e,f=b.popupContent,g=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(b._findPos(b.host[0])[1])+parseInt(b.host.outerHeight())-1+"px"),h=parseInt(Math.round(b.host.coord(!0).left));e=h+"px";var i=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone(),j=a.jqx.utilities.hasTransform(b.host);b.ishiding=!1,b.tempSelectedIndex=b.selectedIndex,(j||null!=i&&i)&&(e=a.jqx.mobile.getLeftPos(b.element),g=a.jqx.mobile.getTopPos(b.element)+parseInt(b.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(g=parseInt(g)-b._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(e=parseInt(e)-b._getBodyOffset().left+"px")),f.stop(),b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-selected")),b.host.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-selected"));var k=!1;a.jqx.browser.msie&&a.jqx.browser.version<8&&(k=!0),k&&b.container.css("display","block"),b.container.css("left",e),b.container.css("top",g);var l=!1,m=function(){if("right"==b.dropDownHorizontalAlignment||b.rtl){var a=b.container.width(),c=Math.abs(a-b.host.width());a>b.host.width()?b.container.css("left",parseInt(Math.round(h))-c+"px"):b.container.css("left",parseInt(Math.round(h))+c+"px")}};if(m.call(this),b.enableBrowserBoundsDetection){var n=b.testOffset(f,{left:parseInt(b.container.css("left")),top:parseInt(g)},parseInt(b.host.outerHeight()));parseInt(b.container.css("top"))!=n.top?(l=!0,b.container.height(f.outerHeight()),f.css("top",23),b.interval&&clearInterval(b.interval),b.interval=setInterval(function(){if(f.outerHeight()!=c.container.height()){var a=c.testOffset(f,{left:parseInt(c.container.css("left")),top:parseInt(g)},parseInt(c.host.outerHeight()));c.container.css("top",a.top),c.container.height(f.outerHeight())}},50)):f.css("top",0),b.container.css("top",n.top),parseInt(b.container.css("left"))!=n.left&&b.container.css("left",n.left)}if("none"==b.animationType)b.container.css("visibility","visible"),a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+b.element.id,f),f.css("margin-top",0),f.css("opacity",1),b._raiseEvent("0"),m.call(c);else{b.container.css("visibility","visible");var o=f.outerHeight();c.isanimating=!0,"fade"==b.animationType?(f.css("margin-top",0),f.css("opacity",0),f.animate({opacity:1},b.openDelay,function(){a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+c.element.id,f),c.ishiding=!1,c.isanimating=!1,c._raiseEvent("0")}),m.call(c)):(f.css("opacity",1),l?f.css("margin-top",o):f.css("margin-top",-o),m.call(c),f.animate({"margin-top":0},b.openDelay,function(){a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+c.element.id,f),c.ishiding=!1,c.isanimating=!1,c._raiseEvent("0")}))}l?(b.host.addClass(b.toThemeProperty("jqx-rc-t-expanded")),b.container.addClass(b.toThemeProperty("jqx-rc-b-expanded"))):(b.host.addClass(b.toThemeProperty("jqx-rc-b-expanded")),b.container.addClass(b.toThemeProperty("jqx-rc-t-expanded"))),
b.focusable&&(b.firstDiv.focus(),setTimeout(function(){c.firstDiv.focus()},10)),b.container.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(c.toThemeProperty("jqx-fill-state-focus"))},close:function(){a.jqx.aria(this,"aria-expanded",!1);var b=this,c=b.popupContent,d=b.container,e=this;e._raiseEvent("3");var f=!1;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(f=!0),b.isOpened()){if(a.data(document.body,"openedJQXButton"+b.element.id,null),"none"==b.animationType)b.container.css("visibility","hidden"),f&&b.container.css("display","none");else if(!e.ishiding){e.isanimating=!0,c.stop();var g=c.outerHeight();c.css("margin-top",0);var h=-g;parseInt(b.container.coord().top)<parseInt(b.host.coord().top)&&(h=g),"fade"==b.animationType?(c.css({opacity:1}),c.animate({opacity:0},b.closeDelay,function(){d.css("visibility","hidden"),e.isanimating=!1,e.ishiding=!1,f&&d.css("display","none")})):c.animate({"margin-top":h},b.closeDelay,function(){d.css("visibility","hidden"),e.isanimating=!1,e.ishiding=!1,f&&d.css("display","none")})}b.ishiding=!0,b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-selected")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected")),b.host.removeClass(b.toThemeProperty("jqx-rc-b-expanded")),b.container.removeClass(b.toThemeProperty("jqx-rc-t-expanded")),b.host.removeClass(b.toThemeProperty("jqx-rc-t-expanded")),b.container.removeClass(b.toThemeProperty("jqx-rc-b-expanded")),b.container.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._raiseEvent("1")}},closeOpenedDropDown:function(b){var c=b.data.me,d=a(b.target);if(a(b.target).ischildof(b.data.me.host))return!0;if(a(b.target).ischildof(b.data.me.popupContent))return!0;var e=!1;return a.each(d.parents(),function(){return"undefined"!=this.className&&this.className.indexOf&&-1!=this.className.indexOf("dropDownButton")?(e=!0,!1):void 0}),e||c.close(),!0},refresh:function(){b._arrange()},_arrange:function(){var a=this,b=parseInt(a.host.width()),c=parseInt(a.host.height()),d=(a.arrowSize,a.arrowSize),e=3,f=b-d-2*e;if(f>0&&(a.dropDownButtonContent[0].style.width=f+"px"),a.dropDownButtonContent[0].style.height=parseInt(c)+"px",a.dropDownButtonContent[0].style.left="0px",a.dropDownButtonContent[0].style.top="0px",a.dropDownButtonArrow[0].style.width=parseInt(d)+"px",a.dropDownButtonArrow[0].style.height=parseInt(c)+"px",a.rtl&&(a.dropDownButtonArrow.css("float","left"),a.dropDownButtonContent.css("float","right"),a.dropDownButtonContent.css("left",-e)),null!=a.dropDownWidth)if(a.dropDownWidth.toString().indexOf("%")>=0){var b=parseInt(a.dropDownWidth)*a.host.width()/100;a.container.width(b)}else a.container.width(a.dropDownWidth);null!=a.dropDownHeight&&a.container.height(a.dropDownHeight)},destroy:function(){var b=this;b.removeHandler(b.dropDownButtonWrapper,"selectstart"),b.removeHandler(b.dropDownButtonWrapper,"mousedown"),b.removeHandler(b.host,"keydown"),b.host.removeClass(),b.removeHandler(a(document),"mousedown."+b.element.id,self.closeOpenedDropDown),b.host.remove(),b.container.remove()},_raiseEvent:function(c,d){void 0==d&&(d={owner:null}),2!=c||b.contentInitialized||b.initContent&&(b.initContent(),b.contentInitialized=!0);var e=b.events[c];args=d,args.owner=this;var f=new a.Event(e);f.owner=this,(2==c||3==c||4==c)&&(f.args=d);var g=b.host.trigger(f);return g},resize:function(a,c){b.width=a,b.height=c,b._setSize(),b._arrange()},propertyChangedHandler:function(c,d,e,f){void 0!=b.isInitialized&&0!=b.isInitialized&&("rtl"==d&&(f?(c.dropDownButtonArrow.css("float","left"),c.dropDownButtonContent.css("float","right")):(c.dropDownButtonArrow.css("float","right"),c.dropDownButtonContent.css("float","left"))),"autoOpen"==d&&c.render(),"theme"==d&&null!=f&&a.jqx.utilities.setTheme(e,f,c.host),("width"==d||"height"==d)&&(c._setSize(),c._arrange()))}};a.extend(!0,this,c)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxColorPicker","",{}),a.extend(a.jqx._jqxColorPicker.prototype,{defineInstance:function(){var b={disabled:!1,height:null,width:null,color:new a.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};a.extend(!0,this,b)},createInstance:function(b){this.render();var c=this;a.jqx.utilities.resize(this.host,function(){c._setSize(),c.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=a.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new a.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=a("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=a("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=a("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=a("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=a("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=a("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=a("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=a("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=a("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=a("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=a("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=a("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=a("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=a("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(a){return 0==arguments.length?"#"+this.color.hex:(this.setColor(a),this.color.hex)},_setPositionFromValue:function(){var a=this,b=a.color.h,c=100-a.color.v,d=a.colorMap.height(),e=a.colorMap.width(),f=b*e/360,g=c*d/100;if("saturation"==this.colorMode){var h=100-a.color.s;h=h*d/100,a._saturation=100-a.color.s,a.colorMapPointer.css("margin-left",f-8),a.colorMapPointer.css("margin-top",g-8),a.colorBarPointer.css("margin-top",h-8),a.colorMapImageOverlay.css("opacity",(100-a.color.s)/100)}else{var b=a.color.s,f=b*e/100,g=c*d/100,h=360-a.color.h;h=h*d/360,a._hue=a.color.h,a.colorMapPointer.css("margin-left",f-8),a.colorMapPointer.css("margin-top",g-8),a.colorBarPointer.css("margin-top",h-8)}},updateRGB:function(){var a=this;a.color.setRgb(a.red.val(),a.green.val(),a.blue.val()),a._updateUI(),a._raiseEvent("0",{color:a.color}),a.color.transparent=!1},_setPosition:function(b,c,d){var e=parseInt(b.pageX),f=parseInt(c.offset().left),g=parseInt(b.pageY),h=parseInt(c.offset().top);if(this._isTouchDevice){var i=a.jqx.position(b);e=i.left,g=i.top}-1==d[0].className.indexOf("jqx-color-picker-bar")&&d.css("margin-left",e-8-f),g>=h&&g<=h+c.height()&&d.css("margin-top",g-8-h)},_handleKeyInput:function(a,b,c){if(!a.disabled){if(!a._validateKey(b))return b;c.val(a._setValueInRange(c.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var b=this;this.addHandler(this.colorMapPointer,"dragStart",function(a){return a.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(a){return a.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(a){b._raiseEvent("0",{color:"transparent"}),a.preventDefault(),b.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(a){return a.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(a){b._handleKeyInput(b,a,b.blue)}),this.addHandler(this.green,"keyup blur",function(a){b._handleKeyInput(b,a,b.green)}),this.addHandler(this.red,"keyup blur",function(a){b._handleKeyInput(b,a,b.red)}),this.addHandler(this.hex,"keyup blur",function(a){return b.disabled?void 0:b._validateKey(a)?void(6==b.hex.val().toString().length&&(b.hex.val(b.color.validateHex(b.hex.val())),b.color.setHex(b.hex.val()),b._updateUI(),b._setPositionFromValue(),b._raiseEvent("0",{color:b.color}))):a}),this.addHandler(this.colorMap,"dragstart",function(a){return a.preventDefault(),!1});var c=function(a){if(b._setPosition(a,b.colorMap,b.colorMapPointer),"saturation"==b.colorMode){var c=b._valuesFromMouse(a,b.colorMap,360,100);c.x>360&&(c.x=360),b.color.setHsv(c.x,null!=b._saturation?100-b._saturation:100,100-c.y)}else{var c=b._valuesFromMouse(a,b.colorMap,100,100);c.x>100&&(c.x=100),b.color.setHsv(null!=b._hue?b._hue:360,c.x,100-c.y)}b._updateUI(),b._raiseEvent("0",{color:b.color}),b.color.transparent=!1},d="mousedown.picker"+this.element.id;this._isTouchDevice&&(d=a.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,d,function(a){b.disabled||(b.beginDrag=!0,c(a))});var e="mousemove.picker"+this.element.id;this._isTouchDevice&&(e=a.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(a(document),e,function(a){b.disabled||1==b.beginDrag&&(c(a),b._isTouchDevice&&a.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(a){return a.preventDefault(),!1});var f=function(a){if(b._setPosition(a,b.colorBar,b.colorBarPointer),"saturation"==b.colorMode){var c=b._valuesFromMouse(a,b.colorBar,100,100);b.color.s=c.y,b._saturation=c.y,b.colorMapImageOverlay.css("opacity",b.color.s/100),b.color.setHsv(b.color.h,100-b.color.s,b.color.v)}else{var c=b._valuesFromMouse(a,b.colorBar,100,360);b.color.h=360-c.y,b._hue=b.color.h,b.color.setHsv(b.color.h,b.color.s,b.color.v)}b._updateUI(),b._raiseEvent("0",{color:b.color}),b.color.transparent=!1},g="mousemove.colorBar"+this.element.id,h="mousedown.colorBar"+this.element.id,i="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(g=a.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,h=a.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,i=a.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,h,function(a){b.disabled||(b.beginDragBar=!0,f(a))}),this.addHandler(a(document),g,function(a){b.disabled||1==b.beginDragBar&&(f(a),b._isTouchDevice&&a.preventDefault())}),this.addHandler(a(document),i,function(a){b.disabled||(b.beginDrag=!1,b.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var b=this.element.id,c="mousemove.colorBar"+b,d="mousedown.colorBar"+b,e="mouseup.colorBar"+b,f="mousedown.picker"+b,g="mousemove.picker"+b;this._isTouchDevice&&(c=a.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+b,d=a.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+b,e=a.jqx.mobile.getTouchEventName("touchend")+".colorBar"+b,f=a.jqx.mobile.getTouchEventName("touchstart")+".picker"+b,g=a.jqx.mobile.getTouchEventName("touchmove")+".picker"+b),this.removeHandler(this.colorMap,f),this.removeHandler(this.colorMap,g),this.removeHandler(this.colorBar,d),this.removeHandler(this.colorBar,c),this.removeHandler(a(document),g),this.removeHandler(a(document),c),this.removeHandler(a(document),e)},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b],e=c?c:{};e.owner=this;var f=new a.Event(d);f.owner=this,f.args=e;var g=this.host.trigger(f);return g},setColor:function(b){b&&("transparent"==b?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):b.r?this.color=new a.jqx.color({rgb:b}):"#"==b.substring(0,1)?this.color=new a.jqx.color({hex:b.substring(1)}):this.color=new a.jqx.color({hex:b}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(a,b){this.width=a,this.height=b,this._setSize(),this.refresh()},propertyChangedHandler:function(a,b,c,d){void 0!=a.isInitialized&&0!=a.isInitialized&&("colorMode"==b&&a.refresh(),"color"==b&&(a._updateUI(),a._setPositionFromValue(),a._raiseEvent("0",{color:d})),("width"==b||"height"==b)&&(a._setSize(),a.refresh()),"showTransparent"==b&&a.refresh(),"disabled"==b&&(this.element.disabled=d,d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(b,c,d,e){var f=0,g=0,h=c.offset(),i=c.height(),j=c.width(),k=b.pageX,l=b.pageY;if(this._isTouchDevice){var m=a.jqx.position(b);k=m.left,l=m.top}f=k<h.left?0:k>h.left+j?j:k-h.left+1,g=l<h.top?0:l>h.top+i?i:l-h.top+1;var n=parseInt(f/j*d),o=parseInt(g/i*e);return{x:n,y:o}},_validateKey:function(a){return 9==a.keyCode||16==a.keyCode||38==a.keyCode||29==a.keyCode||40==a.keyCode||17==a.keyCode||37==a.keyCode||a.ctrlKey&&(a.keyCode=="c".charCodeAt()||a.keyCode=="v".charCodeAt())||a.ctrlKey&&(a.keyCode=="C".charCodeAt()||a.keyCode=="V".charCodeAt())?!1:a.ctrlKey||a.shiftKey?!1:!0},_setValueInRange:function(a,b,c){return""==a||isNaN(a)?b:(a=parseInt(a),a>c?c:b>a?b:a)},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(a){this.colorMapPointer.removeClass(),("transparent"==a||""==a.hex)&&this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));var b=105,c=.299*a.r+.587*a.g+.114*a.b,d=b>255-c?"Black":"White";"Black"==d?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var b=this;b.red.val(b.color.r),b.green.val(b.color.g),b.blue.val(b.color.b),b.hex.val(b.color.hex);var c=new a.jqx.color({hex:"fff"});"saturation"==this.colorMode?(c.setHsv(this.color.h,100,this.color.v),b.colorBar.css("background","#"+c.hex)):(c.setHsv(this.color.h,100,100),b.colorMap.css("background-color","#"+c.hex)),b.preview.css("background","#"+this.color.hex),b.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var a=this.host.height(),b=this.host.width(),c=a-44;if(this.showTransparent&&(c=a-64),!(0>=c)){this.colorMap.width(85*b/100),this.colorMap.height(c),this.colorBar.height(c),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*b/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(b),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",c+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var d=this.red.prev().outerWidth()-this.hex.prev().outerWidth();4>d&&(d=4),this.hex.css("margin-left",d+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var e=this.hex.width(),f=e-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return f>0?(this.blue.width(f/3),this.green.width(f/3),void this.red.width(f/3)):void 0}},_getColorPointer:function(){var b=a("<div></div>");return b.addClass(this.toThemeProperty("jqx-color-picker-pointer")),b},_getImageUrl:function(a){var b=a.css("backgroundImage");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=a("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=a("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=a("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=a("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),a.jqx.color=function(a){var b={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(a){a=this.validateHex(a);var b="00",c="00",d="00";return 6==a.length?(b=a.substring(0,2),c=a.substring(2,4),d=a.substring(4,6)):(a.length>4&&(b=a.substring(4,a.length),a=a.substring(0,4)),a.length>2&&(c=a.substring(2,a.length),a=a.substring(0,2)),a.length>0&&(d=a.substring(0,a.length))),{r:this.hexToInt(b),g:this.hexToInt(c),b:this.hexToInt(d)}},validateHex:function(a){return a=new String(a).toUpperCase(),a=a.replace(/[^A-F0-9]/g,"0"),a.length>6&&(a=a.substring(0,6)),a},webSafeDec:function(a){return a=Math.round(a/51),a*=51},hexToWebSafe:function(a){var b,c,d;return 3==a.length?(b=a.substring(0,1),c=a.substring(1,1),d=a.substring(2,1)):(b=a.substring(0,2),c=a.substring(2,4),d=a.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(b)))+this.intToHex(this.webSafeDec(this.hexToInt(c)))+this.intToHex(this.webSafeDec(this.hexToInt(d)))},rgbToWebSafe:function(a){return{r:this.webSafeDec(a.r),g:this.webSafeDec(a.g),b:this.webSafeDec(a.b)}},rgbToHex:function(a){return this.intToHex(a.r)+this.intToHex(a.g)+this.intToHex(a.b)},intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},hexToInt:function(a){return parseInt(a,16)},hslToRgb:function(a){var b=parseInt(a.h)/360,c=parseInt(a.s)/100,d=parseInt(a.l)/100;if(.5>=d)var e=d*(1+c);else var e=d+c-d*c;var f=2*d-e,g=b+1/3,h=b,i=b-1/3,j=Math.round(255*this.hueToRgb(f,e,g)),k=Math.round(255*this.hueToRgb(f,e,h)),l=Math.round(255*this.hueToRgb(f,e,i));return{r:j,g:k,b:l}},hueToRgb:function(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a},rgbToHsv:function(a){var b=a.r/255,c=a.g/255,d=a.b/255;hsv={h:0,s:0,v:0};var e=0,f=0;return b>=c&&b>=d?(f=b,e=c>d?d:c):c>=d&&c>=b?(f=c,e=b>d?d:b):(f=d,e=c>b?b:c),hsv.v=f,hsv.s=f?(f-e)/f:0,hsv.s?(delta=f-e,b==f?hsv.h=(c-d)/delta:c==f?hsv.h=2+(d-b)/delta:hsv.h=4+(b-c)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(a){rgb={r:0,g:0,b:0};var b=a.h,c=a.s,d=a.v;if(0==c)0==d?rgb.r=rgb.g=rgb.b=0:rgb.r=rgb.g=rgb.b=parseInt(255*d/100);else{360==b&&(b=0),b/=60,c/=100,d/=100;var e=parseInt(b),f=b-e,g=d*(1-c),h=d*(1-c*f),i=d*(1-c*(1-f));switch(e){case 0:rgb.r=d,rgb.g=i,rgb.b=g;break;case 1:rgb.r=h,rgb.g=d,rgb.b=g;break;case 2:rgb.r=g,rgb.g=d,rgb.b=i;break;case 3:rgb.r=g,rgb.g=h,rgb.b=d;break;case 4:rgb.r=i,rgb.g=g,rgb.b=d;break;case 5:rgb.r=d,rgb.g=g,rgb.b=h}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(a,b,c){var d=function(a){return 0>a||a>255?0:isNaN(parseInt(a))?0:a};this.r=d(a),this.g=d(b),this.b=d(c);var e=this.rgbToHsv(this);this.h=e.h,this.s=e.s,this.v=e.v,this.hex=this.rgbToHex(this)},setHsl:function(a,b,c){this.h=a,this.s=b,this.l=c;var d=this.hslToRgb(this);this.r=d.r,this.g=d.g,this.b=d.b,this.hex=this.rgbToHex(d)},setHsv:function(a,b,c){this.h=a,this.s=b,this.v=c;var d=this.hsvToRgb(this);this.r=d.r,this.g=d.g,this.b=d.b,this.hex=this.rgbToHex(d)},setHex:function(a){this.hex=a;var b=this.hexToRgb(this.hex);this.r=b.r,this.g=b.g,this.b=b.b;var c=this.rgbToHsv(b);this.h=c.h,this.s=c.s,this.v=c.v}};if(a)if(a.hex){var c=b.validateHex(a.hex);b.setHex(c)}else a.r?b.setRgb(a.r,a.g,a.b):a.h?b.setHsv(a.h,a.s,a.v):a.rgb&&b.setRgb(a.rgb.r,a.rgb.g,a.rgb.b);return b}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxSwitchButton","",{}),a.extend(a.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var b={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};a.extend(!0,this,b)},createInstance:function(b){if(this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),a.jqx.aria(this),this.render();var c=this;a.jqx.utilities.resize(this.host,function(){c.element.innerHTML="",c.render()})},resize:function(a,b){this.width=a,this.height=b,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var b=a.data(document.body,"jqx-switchbutton")||1;this._idHandler(b),a.data(document.body,"jqx-draggables",++b),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(a){this._onLabel.html('<div style="display: inline-block;">'+a+"</div>"),this._centerLabels()},setOffLabel:function(a){this._offLabel.html('<div style="display: inline-block;">'+a+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this.checked:("string"==typeof a?("true"==a&&this.check(),"false"==a&&this.uncheck(),""==a&&this.indeterminate()):(1==a&&this.check(),0==a&&this.uncheck(),null==a&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),a.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),a.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(a){if(!this.element.id){var b="jqx-switchbutton-"+a;this.element.id=b}},_dir:function(a){return this._dimensions[this.orientation][a]},_getEvent:function(b){if(this._isTouchDevice){var c=this._touchEvents[b];return a.jqx.mobile.getTouchEventName(c)}return b},_render:function(){this._thumb=a("<div/>"),this._onLabel=a("<div/>"),this._offLabel=a("<div/>"),this._wrapper=a("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var a=this._thumb,b=this._onLabel,c=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),a.addClass(this.toThemeProperty("jqx-fill-state-normal")),a.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),b.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),b.addClass(this.toThemeProperty("jqx-switchbutton-label")),c.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),c.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var a,b=this.host,c=this._dir("opSize"),d=this._dir("size"),e=this._wrapper;if(b.css({width:this.width,height:this.height}),e.css(c,b[c]()),this._thumbLayout(),this._labelsLayout(),a=this._borders[this._dir("opposite")],e.css(d,b[d]()+this._offLabel[this._dir("oSize")]()+a),e.css(c,b[c]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){var f=(this._thumb,this._onLabel),g=this._offLabel;f.css("position","relative"),f.css("top","1px"),f.css("margin-left","1px"),g.css("position","relative"),g.css("top","1px"),g.css("left","-2px"),g.css("margin-right","1px"),g.height(f.height()-2),g.width(f.width()-3),f.height(f.height()-2),f.width(f.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](b[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var a=this.thumbSize,b=this.host;a.toString().indexOf("%")>=0&&(a=b[this._dir("size")]()*parseInt(a,10)/100),this._thumb[this._dir("size")](a),this._thumb[this._dir("opSize")](b[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var a=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-a/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-a/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var a=this.host,b=this._thumb,c=this._dir("opSize"),d=this._dir("size"),e=this._dir("oSize"),f=a[d]()-b[e](),g=this._borders[this._dir("opposite")]/2;this._onLabel[d](f+g),this._offLabel[d](f+g),this.rtl&&this._onLabel[d](f+2*g),this._onLabel[c](a[c]()),this._offLabel[c](a[c]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var a="left";this.rtl&&(a="right"),this._onLabel.css("float",a),this._thumb.css("float",a),this._offLabel.css("float",a)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var a=this._onLabel.children("div"),b=this._offLabel.children("div"),c=a.parent(),d=c.height(),e=a.outerHeight(),f=this._borders[this.orientation]/2||0;0==e&&(e=14);var g=Math.floor((d-e)/2)+f;a.css("margin-top",g),b.css("margin-top",g)},_removeEventHandlers:function(){var b="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+b+this.element.id,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+b,this._mouseDown),this.removeHandler(a(document),this._getEvent("mouseup")+b,this._mouseUp),this.removeHandler(a(document),this._getEvent("mousemove")+b,this._mouseMove)},_addEventHandles:function(){var b="."+this.element.id,c=this;this.addHandler(this._thumb,"mouseenter"+b,function(){c._thumb.addClass(c.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+b,function(){
c._thumb.removeClass(c.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+b,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+b,this._mouseDown,{self:this}),this.addHandler(a(document),this._getEvent("mouseup")+b,this._mouseUp,{self:this}),this.addHandler(a(document),this._getEvent("mousemove")+b,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,a.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(a){var b=a.data.self;"click"!==b.toggleMode&&"default"!==b.toggleMode||b.disabled||b._isDistanceTraveled||b._dragged||(b._wrapper.stop(),b.toggle()),b._thumb.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(a){var b=a.data.self,c=b._wrapper;b.metroMode&&(b.host.css("overflow","hidden"),b._onLabel.css("visibility","visible"),b._offLabel.css("visibility","visible")),b._mouseStartPosition=b._getMouseCoordinates(a),b._buttonStartPosition={left:parseInt(c.css("margin-left"),10)||0,top:parseInt(c.css("margin-top"),10)||0},b.disabled||"slide"!==b.toggleMode&&"default"!==b.toggleMode||(b._wrapper.stop(),b._isMouseDown=!0,b._isDistanceTraveled=!1,b._dragged=!1),b._thumb.addClass(b.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(a){var b=a.data.self;if(b.metroMode,b._isMouseDown=!1,b._thumb.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._isDistanceTraveled){var c=b._wrapper,d=parseInt(c.css("margin-"+b._dir("pos")),10)||0,e=b._dropHandler(d);e?b._switchButton(!b.checked):b._switchButton(b.checked,null,!0),b._isDistanceTraveled=!1}},_mouseMove:function(a){var b=a.data.self,c=b._getMouseCoordinates(a);if(b._isMouseDown&&b._distanceTraveled(c)){var d=b._dir("pos"),e=b._wrapper,f=b._buttonStartPosition[d],g=f+c[d]-b._mouseStartPosition[d],g=b._validatePosition(g);return b._dragged=!0,e.css("margin-"+b._dir("pos"),g),b._onLabel.css("visibility","visible"),b._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(a){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var b=this._mouseStartPosition,c=this._distanceRequired;return this._isDistanceTraveled=Math.abs(a.left-b.left)>=c||Math.abs(a.top-b.top)>=c,this._isDistanceTraveled}return!1},_validatePosition:function(a){var b=this._borders[this._dir("opposite")],c=0,d=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-b;return a>c?c:d>a?d:a},_dropHandler:function(a){var b=0,c=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),d=Math.abs(c-b),e=Math.abs(a-this._buttonStartPosition[this._dir("pos")]),f=d*(this.switchRatio/100);return e>=f?!0:!1},_switchButton:function(a,b,c){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),a?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var d=this._wrapper,e=this,f={},g=this._borders[this._dir("opposite")],h=0;"undefined"==typeof b&&(b=this.animationEnabled?this.animationDuration:0),this.rtl?a?(h=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+g,this.metroMode&&(h+=5)):this.metroMode&&(h-=3):a||(h=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+g),f["margin-"+this._dir("pos")]=-h,a?e.host.addClass(e.toThemeProperty("jqx-switchbutton-on")):e.host.removeClass(e.toThemeProperty("jqx-switchbutton-on")),d.animate(f,b,function(){a?(e._onLabel.css("visibility","visible"),e._offLabel.css("visibility","hidden")):(e._onLabel.css("visibility","hidden"),e._offLabel.css("visibility","visible")),e.checked=a,c||e._handleEvent(!a)})},_handleEvent:function(a){a!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),a?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var b=this.host,c=b.find("*");a.each(c,function(b,c){c.onselectstart=function(){return!1},a(c).addClass("jqx-disableselect")})},_getMouseCoordinates:function(a){return this._isTouchDevice?{left:a.originalEvent.touches[0].pageX,top:a.originalEvent.touches[0].pageY}:{left:a.pageX,top:a.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_themeChanger:function(b,c,d){if(b){"undefined"==typeof d&&(d=this.host);for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(f.push(e[i]),g.push(e[i].replace(b,c)));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this._themeChanger(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},propertyChangedHandler:function(b,c,d,e){switch(c){case"disabled":e?this.disable():this.enable();break;case"switchRatio":this.switchRatio=parseInt(this.switchRatio,10);break;case"checked":e?this.check():this.uncheck();break;case"onLabel":this.setOnLabel(e);break;case"offLabel":this.setOffLabel(e);break;case"theme":a.jqx.utilities.setTheme(d,e,b.host);break;case"width":case"height":case"thumbSize":case"orientation":this._performLayout(),this._wrapper.css("left",0),this._wrapper.css("top",0),this._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxScrollBar","",{}),a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){var b={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){this._mouseup=new Date;var b=this,c="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(a.jqx.utilities&&"hidden"==a.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.host.html(c)}):this.element.innerHTML=c,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var d=this;a.jqx.utilities.resize(this.host,function(){d._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=a(this.element.firstChild),this.scrollWrap=a(this.scrollOuterWrap[0].firstChild),this.btnUp=a(this.scrollWrap[0].firstChild),this.areaUp=a(this.btnUp[0].nextSibling),this.btnThumb=a(this.areaUp[0].nextSibling),this.arrowUp=a("<div></div>"),this.arrowUp.appendTo(this.btnUp),this.areaDown=a(this.btnThumb[0].nextSibling),this.btnDown=a(this.areaDown[0].nextSibling),this.arrowDown=a("<div></div>"),this.arrowDown.appendTo(this.btnDown);var e=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+e,this.btnDown[0].id="jqxScrollBtnDown"+e,this.btnThumb[0].id="jqxScrollThumb"+e,this.areaUp[0].id="jqxScrollAreaUp"+e,this.areaDown[0].id="jqxScrollAreaDown"+e,this.scrollWrap[0].id="jqxScrollWrap"+e,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+e,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(a,b,c,d){isNaN(d)||c!=d&&a.setPosition(parseFloat(d),!0)},this.propertyChangeMap.width=function(a,b,c,d){void 0!=a.width&&parseInt(a.width)>0&&(a.host.width(parseInt(a.width)),a._arrange())},this.propertyChangeMap.height=function(a,b,c,d){void 0!=a.height&&parseInt(a.height)>0&&(a.host.height(parseInt(a.height)),a._arrange())},this.propertyChangeMap.theme=function(a,b,c,d){a.setTheme()},this.propertyChangeMap.max=function(a,b,c,d){isNaN(d)||c!=d&&(a.max=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.min=function(a,b,c,d){isNaN(d)||c!=d&&(a.min=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.disabled=function(a,b,c,d){c!=d&&(d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.btnUp.jqxRepeatButton("disabled",a.disabled),a.btnDown.jqxRepeatButton("disabled",a.disabled),a.btnThumb.jqxButton("disabled",a.disabled))},this.propertyChangeMap.touchMode=function(a,b,c,d){c!=d&&(a._updateTouchBehavior(),d===!0?(a.showButtons=!1,a.refresh()):d===!1&&(a.showButtons=!0,a.refresh()))},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(a,b){this.width=a,this.height=b,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=a.jqx.mobile.isTouchDevice(),1==this.touchMode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,a.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var b=this,c=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(c=!0,this._touchSupport=!0)}catch(d){}if((b.isTouchDevice||c)&&(this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(a){var c=b.vertical?b.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):b.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),d=b.toThemeProperty("jqx-fill-state-pressed");return b.btnThumb.removeClass(c),b.btnThumb.removeClass(d),b.disabled||b.handlemouseup(b,a),!1}),this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(a){if(!b.disabled){if(1==b.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var c=a;c.originalEvent.touches&&c.originalEvent.touches.length?(a.clientX=c.originalEvent.touches[0].clientX,a.clientY=c.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}b.handlemousedown(a),a.preventDefault&&a.preventDefault()}}),a.jqx.mobile.touchScroll(this.element,b.max,function(a,c,d,e,f){if("visible"==b.host.css("visibility")){if(1==b.touchMode)f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY;else{var g=f;g.originalEvent.touches&&g.originalEvent.touches.length?(f.clientX=g.originalEvent.touches[0].clientX,f.clientY=g.originalEvent.touches[0].clientY):(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY)}var h=b.vertical?b.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):b.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");b.btnThumb.addClass(h),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.thumbCapture=!0,b.handlemousemove(f)}},b.element.id)),this.addHandler(this.btnUp,"click",function(a){var c=b.step;b.rtl&&!b.vertical&&(c=-b.step),b.buttonUpCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value-c):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value-c)}),this.addHandler(this.btnDown,"click",function(a){var c=b.step;b.rtl&&!b.vertical&&(c=-b.step),b.buttonDownCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value+c):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value+c)}),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var f=function(a){b.disabled||b.handlemouseup(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)}}}catch(g){}this.addHandler(this.btnDown,"mouseup",function(a){if(!b.btnDownInstance.base.disabled&&b.buttonDownCapture){b.buttonDownCapture=!1,b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","down"),b.handlemouseup(b,a);var c=b.step;return b.rtl&&!b.vertical&&(c=-b.step),b.setPosition(b.value+c),!1}}),this.addHandler(this.btnUp,"mouseup",function(a){if(!b.btnUpInstance.base.disabled&&b.buttonUpCapture){b.buttonUpCapture=!1,b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","up"),b.handlemouseup(b,a);var c=b.step;return b.rtl&&!b.vertical&&(c=-b.step),b.setPosition(b.value-c),!1}}),this.addHandler(this.btnDown,"mousedown",function(a){return b.btnDownInstance.base.disabled?void 0:(b.buttonDownCapture=!0,b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","down"),!1)}),this.addHandler(this.btnUp,"mousedown",function(a){return b.btnUpInstance.base.disabled?void 0:(b.buttonUpCapture=!0,b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","up"),!1)})}var h="click";if(this.isTouchDevice&&(h=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,h,function(a){if(!b.disabled){var c=b.largestep;return b.rtl&&!b.vertical&&(c=-b.largestep),b.setPosition(b.value-c),!1}}),this.addHandler(this.areaDown,h,function(a){if(!b.disabled){var c=b.largestep;return b.rtl&&!b.vertical&&(c=-b.largestep),b.setPosition(b.value+c),!1}}),this.addHandler(this.areaUp,"mousedown",function(a){return b.disabled?void 0:(b.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(a){return b.disabled?void 0:(b.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown",function(a){return b.disabled||b.handlemousedown(a),!1}),this.addHandler(this.btnThumb,"dragstart",function(a){return!1}),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.disabled||b.handlemouseup(b,a)}),!this.isTouchDevice&&(this.mousemoveFunc=function(a){b.disabled||b.handlemousemove(a)},this.addHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(a(document),"mouseleave."+this.element.id,function(a){b.disabled||b.handlemouseleave(a)}),this.addHandler(a(document),"mouseenter."+this.element.id,function(a){b.disabled||b.handlemouseenter(a)}),!b.disabled)){this.addHandler(this.btnUp,"mouseenter",function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","up"))}),this.addHandler(this.btnUp,"mouseleave",function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","up"))});var i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover");b.vertical||(i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter",function(){b.disabled||1==b.touchMode||(b.btnThumb.addClass(i),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnThumb,"mouseleave",function(){b.disabled||1==b.touchMode||(b.btnThumb.removeClass(i),b.btnThumb.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter",function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","down"))}),this.addHandler(this.btnDown,"mouseleave",function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","down"))})}},destroy:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=(this.scrollWrap,this.areaUp),f=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,f.removeClass(),e.removeClass(),c.removeClass(),b.removeClass(),d.removeClass(),b.jqxRepeatButton("destroy"),c.jqxRepeatButton("destroy"),e.jqxRepeatButton("destroy"),f.jqxRepeatButton("destroy"),d.jqxButton("destroy");var g=a.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,g&&delete g.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(a(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(a(document),"mousemove."+this.element.id),this.removeHandler(a(document),"mouseleave."+this.element.id),this.removeHandler(a(document),"mouseenter."+this.element.id)},_addArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},_removeArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},setTheme:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=this.scrollWrap,f=(this.areaUp,this.areaDown,this.arrowUp),g=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var h=this.toThemeProperty("jqx-reset");this.areaDown[0].className=h,this.areaUp[0].className=h;var i=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(i),c[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),b[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var j="";if(this.vertical?(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-up"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-down"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-left"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-right"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),j+=" "+this.toThemeProperty("jqx-fill-state-normal"),d[0].className=j,this.disabled?(e.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var k=a.jqx.cssroundedcorners("top");k=this.toThemeProperty(k),b.addClass(k);var l=a.jqx.cssroundedcorners("bottom");l=this.toThemeProperty(l),c.addClass(l)}else{var m=a.jqx.cssroundedcorners("left");m=this.toThemeProperty(m),b.addClass(m);var n=a.jqx.cssroundedcorners("right");n=this.toThemeProperty(n),c.addClass(n)}else{var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),elBtnUp.addClass(o),elBtnDown.addClass(o)}var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),d.hasClass(o)||d.addClass(o),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(a){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var b=this.btnThumb;null!=b&&(b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=a.clientX,this.dragStartY=a.clientY,this.dragStartValue=this.value},toggleHover:function(a,b){},refresh:function(){this._arrange()},_setElementPosition:function(a,b,c){isNaN(b)||parseInt(a[0].style.left)!=parseInt(b)&&(a[0].style.left=b+"px"),isNaN(c)||parseInt(a[0].style.top)!=parseInt(c)&&(a[0].style.top=c+"px")},_setElementTopPosition:function(a,b){isNaN(b)||(a[0].style.top=b+"px")},_setElementLeftPosition:function(a,b){isNaN(b)||(a[0].style.left=b+"px")},handlemouseleave:function(a){var b=this.btnUp,c=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var d=this.btnThumb,e=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");d.removeClass(e),d.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(a){var b=this.btnUp,c=this.btnDown;if(this.buttonUpCapture&&(b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(c.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var d=this.btnThumb;this.vertical?d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(a){var b=this.btnUp,c=this.btnDown,d=0;if(null!=c&&null!=b){if(null!=b&&null!=c&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&a.which==d?(c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&a.which==d&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var e=this.btnThumb;if(a.which==d&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return e.removeClass(f),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();var g=0;try{g=this.vertical?a.clientY-this.dragStartY:a.clientX-this.dragStartX;var h=this._btnAndThumbSize;this._btnAndThumbSize||(h=this.vertical?b.height()+c.height()+e.height():b.width()+c.width()+e.width());var i=(this.max-this.min)/(this.scrollBarSize-h);if("auto"!=this.thumbStep){if(g*=i,Math.abs(this.dragStartValue+g-this.value)>=parseInt(this.thumbStep)){var j=Math.round(parseInt(g)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-j):this.setPosition(this.dragStartValue+j),!1}return!1}g*=i;var j=g;this.rtl&&!this.vertical&&(j=-g),this.setPosition(this.dragStartValue+j)}catch(k){alert(k)}return!1}},handlemouseup:function(a,b){var c=!1;if(this.thumbCapture){this.thumbCapture=!1;var d=this.btnThumb,e=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");d.removeClass(e),d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c=!0,this._mouseup=new Date}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var f=this.btnUp,g=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),g.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),g.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),c=!0,this._mouseup=new Date}c&&(void 0!=b.preventDefault&&b.preventDefault(),null!=b.originalEvent&&(b.originalEvent.mouseHandled=!0),void 0!=b.stopPropagation&&b.stopPropagation())},setPosition:function(b,c){this.element;if((void 0==b||NaN==b)&&(b=this.min),b>=this.max&&(b=this.max),b<this.min&&(b=this.min),this.value!==b||1==c){if(b==this.max){var d=new a.Event("complete");this.host.trigger(d)}var e=this.value;if(this._triggervaluechanged){var f=new a.Event("valueChanged");f.previousValue=this.value,f.currentValue=b}this.value=b,this._positionelements(),this._triggervaluechanged&&this.host.trigger(f),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:e})}return b},val:function(a){var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"==typeof a?!1:"date"==typeof a?!1:"boolean"==typeof a?!1:"string"==typeof a?!1:!0};return b(a)||0==arguments.length?this.value:(this.setPosition(a),a)},_getThumbSize:function(a){var b=this.max-this.min,c=0;return b>1?c=a/(b+a)*a:1==b&&(c=a),this.thumbSize>0&&(c=this.thumbSize),c<this.thumbMinSize&&(c=this.thumbMinSize),Math.min(c,a)},_positionelements:function(){var a=(this.element,this.areaUp),b=this.areaDown,c=(this.btnUp,this.btnDown,this.btnThumb),d=(this.scrollWrap,this._height?this._height:this.host.height()),e=this._width?this._width:this.host.width(),f=this.vertical?e:d;this.showButtons||(f=0);var g=this.vertical?d:e;this.scrollBarSize=g;var h=this._getThumbSize(g-2*f);h=Math.round(h),h<this.thumbMinSize&&(h=this.thumbMinSize),(NaN==d||10>d)&&(d=10),(NaN==e||10>e)&&(e=10),f+=2,this.btnSize=f;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=this.vertical?2*this.btnSize+c.outerHeight():2*this.btnSize+c.outerWidth();i=Math.round(i)}var j=(g-i)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(j=(g-i)/(this.max-this.min)*(this.max-this.value-this.min)),j=Math.round(j),0>j&&(j=0),this.vertical){var k=g-j-i;0>k&&(k=0),b[0].style.height=k+"px",a[0].style.height=j+"px",this._setElementTopPosition(a,f),this._setElementTopPosition(c,f+j),this._setElementTopPosition(b,f+j+h)}else a[0].style.width=j+"px",g-j-i>=0?b[0].style.width=g-j-i+"px":b[0].style.width="0px",this._setElementLeftPosition(a,f),this._setElementLeftPosition(c,f+j),this._setElementLeftPosition(b,2+f+j+h)},_arrange:function(){if(this._initialLayout)return void(this._initialLayout=!1);var a=(this.element,this.areaUp),b=this.areaDown,c=this.btnUp,d=this.btnDown,e=this.btnThumb,f=this.scrollWrap,g=parseInt(this.element.style.height),h=parseInt(this.element.style.width);if(this.isPercentage)var g=this.host.height(),h=this.host.width();isNaN(g)&&(g=0),isNaN(h)&&(h=0),this._width=h,this._height=g;var i=this.vertical?h:g;this.showButtons||(i=0),c[0].style.width=i+"px",c[0].style.height=i+"px",d[0].style.width=i+"px",d[0].style.height=i+"px",this.vertical?f[0].style.width=h+2+"px":f[0].style.height=g+2+"px",this._setElementPosition(c,0,0);var j=i+2;this.vertical?this._setElementPosition(d,0,g-j):this._setElementPosition(d,h-j,0);var k=this.vertical?g:h;this.scrollBarSize=k;var l=this._getThumbSize(k-2*i);l=Math.round(l),l<this.thumbMinSize&&(l=this.thumbMinSize);var m=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(m=!0),this.vertical?(e[0].style.width=h+"px",e[0].style.height=l+"px",m&&0!==this.thumbTouchSize&&(e.css({
width:this.thumbTouchSize+"px"}),e.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(e[0].style.width=l+"px",e[0].style.height=g+"px",m&&0!==this.thumbTouchSize&&(e.css({height:this.thumbTouchSize+"px"}),e.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(NaN==g||10>g)&&(g=10),(NaN==h||10>h)&&(h=10),i+=2,this.btnSize=i;var n=this.vertical?2*this.btnSize+(2+parseInt(e[0].style.height)):2*this.btnSize+(2+parseInt(e[0].style.width));n=Math.round(n),this._btnAndThumbSize=n;var o=(k-n)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(o=(k-n)/(this.max-this.min)*(this.max-this.value-this.min)),o=Math.round(o),(o===-(1/0)||o==1/0)&&(o=0),isNaN(o)&&(o=0),0>o&&(o=0),this.vertical){var p=k-o-n;0>p&&(p=0),b[0].style.height=p+"px",b[0].style.width=h+"px",a[0].style.height=o+"px",a[0].style.width=h+"px";var q=parseInt(this.element.style.height);this.isPercentage&&(q=this.host.height()),e[0].style.visibility="inherit",q-3*parseInt(i)<0?e[0].style.visibility="hidden":n>q?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,0,i),this._setElementPosition(e,0,i+o),this._setElementPosition(b,0,i+o+l)}else{o>0&&(a[0].style.width=o+"px"),g>0&&(a[0].style.height=g+"px");var r=k-o-n;0>r&&(r=0),b[0].style.width=r+"px",b[0].style.height=g+"px";var s=parseInt(this.element.style.width);this.isPercentage&&(s=this.host.width()),e[0].style.visibility="inherit",s-3*parseInt(i)<0?e[0].style.visibility="hidden":n>s?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,i,0),this._setElementPosition(e,i+o,0),this._setElementPosition(b,2+i+o+l,0)}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxPanel","",{}),a.extend(a.jqx._jqxPanel.prototype,{defineInstance:function(){var b={width:null,height:null,disabled:!1,scrollBarSize:a.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){15!=a.jqx.utilities.scrollBarSize&&(this.scrollBarSize=a.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var b=a("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var c=this.host.children();this._rtl=!1,c.length>0&&"rtl"==c.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(b);var d=this.host.find("#verticalScrollBar");d[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=d.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var e=this.host.find("#horizontalScrollBar");e[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=e.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;var f=this;this.propertyChangeMap.disabled=function(a,b,c,d){f.vScrollBar.jqxScrollBar({disabled:f.disabled}),f.hScrollBar.jqxScrollBar({disabled:f.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=f.content[0].scrollWidth,this.contentHeight=f.content[0].scrollHeight,this.autoUpdate&&f._autoUpdate(),this.propertyChangeMap.autoUpdate=function(a,b,c,d){f.autoUpdate?f._autoUpdate():(clearInterval(f.autoUpdateId),f.autoUpdateId=null)},this.addHandler(a(window),"unload",function(){null!=f.autoUpdateId&&(clearInterval(f.autoUpdateId),f.autoUpdateId=null,f.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return a.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var b=this;1==this.touchMode&&a.jqx.mobile.setMobileSimulator(this.element);var c=this.isTouchDevice();c&&(a.jqx.mobile.touchScroll(this.element,b.vScrollInstance.max,function(a,c){if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&0!=this.touchModeStyle&&(this.scrollBarSize=a.jqx.utilities.touchScrollBarSize),b},append:function(a){null!=a&&(this.content.append(a),this._arrange())},setcontent:function(a){this.content[0].innerHTML=a,this._arrange();var b=this;setTimeout(function(){b._arrange()},100)},prepend:function(a){null!=a&&(this.content.prepend(a),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(b){null!=b&&(a(b).remove(),this._arrange())},_autoUpdate:function(){var a=this;this.autoUpdateId=setInterval(function(){var b=a.content[0].scrollWidth,c=a.content[0].scrollHeight,d=!1;a.contentWidth!=b&&(a.contentWidth=b,d=!0),a.contentHeight!=c&&(a.contentHeight=c,d=!0),d&&a._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var b=this;this.addHandler(this.vScrollBar,"valueChanged",function(a){b._render(b)}),this.addHandler(this.hScrollBar,"valueChanged",function(a){b._render(b)}),this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(this.wrapper,"scroll",function(a){0!=b.wrapper[0].scrollTop&&(b.wrapper[0].scrollTop=0),0!=b.wrapper[0].scrollLeft&&(b.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(a){b.focused=!1}),this.addHandler(this.host,"focus",function(a){b.focused=!0}),this.addHandler(this.host,"blur",function(a){b.focused=!1}),this.addHandler(this.host,"mouseenter",function(a){b.focused=!0}),a.jqx.utilities.resize(this.host,function(){a.jqx.isHidden(b.host)||b._arrange(!1)})},resize:function(a,b){this.width=a,this.height=b,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(a(window),"resize."+this.element.id)},wheel:function(b,c){var d=0;if(b.originalEvent&&a.jqx.browser.msie&&b.originalEvent.wheelDelta&&(d=b.originalEvent.wheelDelta/120),b||(b=window.event),b.wheelDelta?d=b.wheelDelta/120:b.detail&&(d=-b.detail/3),d){var e=c._handleDelta(d);return e||b.preventDefault&&b.preventDefault(),e?!1:e}b.preventDefault&&b.preventDefault(),b.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):a.value+a.largestep!=a.max?(a.setPosition(a.max),!0):!1},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value-a.largestep!=a.min?(a.setPosition(a.min),!0):!1},_handleDelta:function(a){if(this.focused){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;if(b!=c)return!1}return!0},_render:function(a){void 0==a&&(a=this);var b=a.vScrollInstance.value,c=a.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(c=0==this._rtl?a.hScrollInstance.max-c:-a.hScrollInstance.value),a.content.css({left:-c+"px",top:-b+"px"})},scrollTo:function(a,b){void 0!=a&&void 0!=b&&(this.vScrollInstance.setPosition(b),this.hScrollInstance.setPosition(a))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var b=this.scrollBarSize;return isNaN(b)&&(b=parseInt(b),isNaN(b)?b="17px":b+="px"),this.isTouchDevice()&&(b=a.jqx.utilities.touchScrollBarSize),b=parseInt(b)},_getScrollArea:function(){var b=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(b=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var c=parseInt(this.content[0].scrollWidth);a.each(this.content.children(),function(){c=Math.max(c,this.scrollWidth),c=Math.max(c,a(this).outerWidth())}),a.jqx.browser.msie&&a.jqx.browser.version<10&&this.content.css("left",b);var d=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),a.jqx.browser.msie&&a.jqx.browser.version<9){var d=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var d=parseInt(this.content[0].scrollHeight),c=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var d=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:c,height:d}},_arrange:function(b){b!==!1&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var c=this._getScrollSize(),d=this.host.width(),e=this.host.height(),f=this._getScrollArea(),g=f.width,h=f.height,i=h-parseInt(Math.round(this.host.height())),j=g-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(j=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(i=this.verticalScrollBarMax);var k=function(a,b){var c=5;b>c?(a.vScrollBar.jqxScrollBar({max:b}),a.vScrollBar.css("visibility","inherit")):(a.vScrollBar.jqxScrollBar("setPosition",0),a.vScrollBar.css("visibility","hidden"))},l=function(b,d){d>0?a.jqx.browser.msie&&a.jqx.browser.version<8&&c>=d-10?(b.hScrollBar.css("visibility","hidden"),b.hScrollBar.jqxScrollBar("setPosition",0)):(b.hScrollBar.jqxScrollBar({max:d+4}),b.hScrollBar.css("visibility","inherit")):(b.hScrollBar.css("visibility","hidden"),b.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(g),this.host.height(h),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(g),this.hScrollBar.css("visibility","hidden"),k(this,i),void this._arrangeScrollbars(c,g,e);case"verticalWrap":case"verticalwrap":return this.host.height(h),this.vScrollBar.css("visibility","hidden"),l(this,j),void this._arrangeScrollbars(c,d,e)}k(this,i);var m=2;"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&j>0||j>0)&&(j+=c+m),l(this,j),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:i+c+m}),this._arrangeScrollbars(c,d,e)},_arrangeScrollbars:function(b,c,d){var e="hidden"!=this.vScrollBar[0].style.visibility,f=("hidden"!=this.hScrollBar[0].style.visibility,2),g=2;if(this.hScrollBar.height(b),this.hScrollBar.css({top:d-b-f-g+"px",left:"0px"}),this.hScrollBar.width(c-f+"px"),this.vScrollBar.width(b),this.vScrollBar.height(parseInt(d)-f+"px"),this.vScrollBar.css({left:parseInt(c)-parseInt(b)-f-g+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var h=e?parseInt(b)+"px":0;if("rtl"!=this.content.children().css("direction")){var i=!1;a.jqx.browser.msie&&a.jqx.browser.version<8&&(i=!0),i||this.content.css("padding-left",h)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(b)+3),this.bottomRight.height(parseInt(b)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:b+g+"px"})),this.hScrollBar.width(c-1*b-f-g+"px"),this.vScrollBar.height(parseInt(d)-f-b-g+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(a(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(b,c,d){if(void 0!=this.isInitialized&&1==this.isInitialized){var e=this.events[b],f=new a.Event(e);f.previousValue=c,f.currentValue=d,f.owner=this;var g=this.host.trigger(f);return g}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(a,b,c,d){a.isInitialized&&("rtl"==b&&(this.vScrollBar.jqxScrollBar({rtl:d}),this.hScrollBar.jqxScrollBar({rtl:d}),a._arrange()),a.updating||("scrollBarSize"==b||"width"==b||"height"==b)&&c!=d&&a._arrange(),"touchMode"==b&&"auto"!=d&&a._updateTouchScrolling(),"theme"==b&&(a.host.removeClass(),a.host.addClass(this.toThemeProperty("jqx-panel")),a.host.addClass(this.toThemeProperty("jqx-widget")),a.host.addClass(this.toThemeProperty("jqx-widget-content")),a.host.addClass(this.toThemeProperty("jqx-rc-all")),a.vScrollBar.jqxScrollBar({theme:this.theme}),a.hScrollBar.jqxScrollBar({theme:this.theme}),a.bottomRight.removeClass(),a.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),a.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),a.content.removeClass(),a.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){a.jqx.isHidden(this.host)||this.refresh()},refresh:function(a){this._arrange()}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxTooltip","",{}),a.extend(a.jqx._jqxTooltip.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,opening:null,value:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};a.extend(!0,this,b)},createInstance:function(b){this._isTouchDevice=a.jqx.mobile.isTouchDevice();var c=a.data(document.body,"_tooltipIDArray"+this.name);c?this.ID_Array=c:(this.ID_Array=new Array,a.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var d=this._generatekey(),e="jqxtooltip"+d;this.ID_Array.push({tooltipID:e,tooltipHost:this.host});var f=a('<div id="'+e+'"><div id ="'+e+'Main"><div id="'+e+'Text"></div></div><div id="'+e+'Arrow"></div></div>');a.jqx.browser.msie&&f.addClass(this.toThemeProperty("jqx-noshadow")),a("body").append(f),this._setTheme();var g=a("#"+e);g.css("visibility","hidden"),g.css("display","none"),g.css("opacity",0),g.css("z-index",99999),0==this.showArrow&&(a("#"+e+"Arrow").css("visibility","hidden"),a("#"+e+"Arrow").css("display","none")),this._setSize(),this._setContent(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2==arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var a=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=a}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(b){var c=this;a.isEmptyObject(b)&&(b=this.animationHideDelay);var d=new Number(a(this._id()).css("opacity")).toFixed(2),e=function(){clearTimeout(c.autoHideTimeout),c._raiseEvent("3"),a(c._id()).animate({opacity:0},b,function(){a(c._id()).css("visibility","hidden"),a(c._id()).css("display","none"),c._raiseEvent("1"),c._isOpen=!1})};return 0==this._isOpen&&0!=d?(a(c._id()).stop(),void e()):void(1==this._isOpen&&d==this.opacity&&e())},destroy:function(){var b=this.ID_Array.length;this._removeHandlers(),a(this._id()).remove();for(var c=0;b>c;c++)if(this.ID_Array[c].tooltipHost===this.host){this.ID_Array.splice(c,1);break}a(this.element).removeData("jqxTooltip")},refresh:function(b){if(1!=b){this.rtl&&(a(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl")),a(this._id()+"Text").css({direction:"rtl"}));var c=this,d=new Number(a(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&d==this.opacity&&(clearTimeout(this.autoHideTimeout),a(this._id()).stop(),a(this._id()).animate({opacity:0},this.animationHideDelay,function(){a(c._id()).css("visibility","hidden"),a(c._id()).css("display","none"),c._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!=this.position&&"mouseenter"!=this.position&&this._setPosition(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(a,b,c,d){"content"==b&&(this.changeContentFlag=!0),a.refresh()},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},_generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()},_id:function(){for(var a,b,c=this.ID_Array.length,d=0;c>d;d++)if(this.ID_Array[d].tooltipHost===this.host){a=this.ID_Array[d].tooltipID,b="#"+a;break}return void 0==b&&(b="removed"),b},_setPosition:function(b){if(0==this._isOpen&&0==a(this._id()).css("opacity")||1==this.changeContentFlag){if(!b&&("mouse"==this.position||"mouseenter"==this.position))return;a(this._id()).css("display","block"),this.changeContentFlag=!1,this.documentTop=a(document).scrollTop(),this.documentLeft=a(document).scrollLeft(),this.windowWidth=a(window).width(),this.windowHeight=a(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=a(this._id()).width(),this.tooltip_height=a(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=a(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var c=a(this._id()+"Arrow"),d=a(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+d.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this.tooltip_offset.top=parseInt(this.tooltip_offset.top),this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":a(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),c.css({"border-width":"0px"});break;case"mouse":var e=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){e.tooltip_offset.left=b.pageX+10,e.tooltip_offset.top=b.pageY+10,e._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=b.pageX+10,this.tooltip_offset.top=b.pageY+10,this._detectBrowserBounds()}else{var f=b.pageX,g=b.pageY;if(b.originalEvent){var h=null;if(b.originalEvent.touches&&b.originalEvent.touches.length)var h=b.originalEvent.touches[0];else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)var h=b.originalEvent.changedTouches[0];void 0!=h&&(f=h.pageX,g=h.pageY)}this.tooltip_offset.left=f+10,this.tooltip_offset.top=g+10,this._detectBrowserBounds()}c.css({"border-width":"0px"});break;case"mouseenter":var i={top:b.pageY,left:b.pageX};i.top<this.host_offset.top+10&&i.top>this.host_offset.top-10?(this.tooltip_offset.left=i.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.top<this.host_offset.top+this.host_height+10&&i.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=i.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.left<this.host_offset.left+10&&i.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=i.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.left<this.host_offset.left+this.host_width+10&&i.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=i.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,
left:this.tooltip_arrow_offset.left})}}},_setContent:function(){a(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var b=new Number(a(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==b){var c=this,d=a(this._id());if(d.css("visibility","visible"),d.css("display","block"),d.stop(),d.css("opacity",0),this.opening){var e=this.opening(this);if(e===!1)return}d.animate({opacity:this.opacity},this.animationShowDelay,function(){c._raiseEvent("0"),c._isOpen=!0;a.data(document.body,"_openedTooltip"+c.name);c.openedTooltip=c,a.data(document.body,"_openedTooltip"+c.name,c),c.autoHideTimeout&&clearTimeout(c.autoHideTimeout),c.autoHideDelay>0&&c.autoHide===!0&&(c.autoHideTimeout=setTimeout(function(){c._autoHide()},c.autoHideDelay))})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var b=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(a){1==b._enterFlag&&(b._raiseEvent("2"),b._setPosition(a),clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._animateShow(),b._enterFlag=0},b.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=b._leaveFlag&&(b._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(c){b._leaveFlag=1,clearTimeout(b.hoverShowTimeout);var d=a(b._id()).offset(),e=a(b._id()).width(),f=a(b._id()).height();(parseInt(c.pageX)<parseInt(d.left)||parseInt(c.pageX)>parseInt(d.left)+e)&&b.close(),(parseInt(c.pageY)<parseInt(d.top)||parseInt(c.pageY)>parseInt(d.top)+f)&&b.close()}),this.addHandler(a(this._id()),"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!=b._clickFlag&&0!=b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(a){clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._raiseEvent("2"),b._setPosition(a),b._animateShow()},b.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(c){if(b._leaveFlag=1,clearTimeout(b.hoverShowTimeout),b.autoHide){var d=c.pageX,e=c.pageY,f=a(b._id()).offset(),g=f.left,h=f.top,i=a(b._id()).width(),j=a(b._id()).height();(parseInt(d)<parseInt(g)||parseInt(d)>parseInt(g)+i||parseInt(e)<parseInt(h)||parseInt(e)>parseInt(h)+j)&&b.close()}}),this.addHandler(a(this._id()),"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!=b._clickFlag&&0!=b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.autoHide&&b.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(a){"mouseenter"==b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()});break;case"none":}else"none"!=this.trigger&&this.addHandler(this.host,"touchstart.tooltip",function(a){"mouseenter"==b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()})}},_autoHide:function(){var b=this,c=new Number(a(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&c>=this.opacity&&(b._raiseEvent("3"),a(b._id()).animate({opacity:0},b.animationHideDelay,function(){a(b._id()).css("visibility","hidden"),a(b._id()).css("display","none"),b._raiseEvent("1"),b._isOpen=!1}))},_clickHide:function(){var b=this;this.addHandler(a(this._id()),"click.tooltip",function(a){b._checkBoundariesClick(a),b.close()})},_setSize:function(){a(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var b=this._id(),c=a(b+"Main"),d=a(b+"Text"),e=a(b+"Arrow");c.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-fill-state-normal")),d.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),a(b).addClass(this.toThemeProperty("jqx-tooltip")),a(b).addClass(this.toThemeProperty("jqx-popup")),c.addClass(this.toThemeProperty("jqx-tooltip-main")),d.addClass(this.toThemeProperty("jqx-tooltip-text")),e.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var a=this.position;this.position="default",this._setPosition(),this.position=a},_detectBrowserBounds:function(){var b=this._id();this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?a(b).offset({top:this.documentTop,left:this.documentLeft}):this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?a(b).offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top<this.documentTop?a(b).offset({top:this.documentTop,left:this.tooltip_offset.left}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?a(b).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?a(b).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?a(b).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}):this.tooltip_offset.left<0?a(b).offset({top:this.tooltip_offset.top,left:this.documentLeft}):this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?a(b).offset({top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}):a(b).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left}):a(b).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(a){return a.pageX>=this.host_offset.left&&a.pageX<=this.host_offset.left+this.host_width&&a.pageY>=this.host_offset.top&&a.pageY<=this.host_offset.top+this.host_height?!0:!1},_checkBoundariesClick:function(a){this._checkBoundaries(a)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(a){this._checkBoundaries(a)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(a(this._id()),"click.tooltip"),this.removeHandler(a(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var b=this.ID_Array.length,c=0;b>c;c++){var d="#"+this.ID_Array[c].tooltipID;d!=this._id()&&(a(d).css({opacity:0,visibility:"hidden",display:"none"}),this._isOpen=!1)}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxCalendar","",{}),a.extend(a.jqx._jqxCalendar.prototype,{defineInstance:function(){var b={disabled:!1,multipleMonthRows:1,multipleMonthColumns:1,minDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:a.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:25,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};a.extend(!0,this,b),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)},createInstance:function(b){this.setCalendarSize(),""===this.element.id&&(this.element.id=a.jqx.utilities.createId()),this.element.innerHTML="",this.host.attr("data-role","calendar");var c=(this.element.id,this);if(this.propertyChangeMap.width=function(a,b,d,e){c.setCalendarSize()},this.propertyChangeMap.height=function(a,b,d,e){c.setCalendarSize()},a.global&&a.global.preferCulture(this.culture),"default"!=this.culture){if(a.global)a.global.preferCulture(this.culture),this.localization.calendar=a.global.culture.calendar;else if(Globalize){var d=Globalize.culture(this.culture);this.localization.calendar=d.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(a){var b=!0;return c.keyboardNavigation&&void 0!=c._handleKey&&(b=c._handleKey(a),b||(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault())),b});var e=!1,f=this,g=!1;null!=c.width&&-1!=c.width.toString().indexOf("%")&&(g=!0),null!=c.height&&-1!=c.height.toString().indexOf("%")&&(g=!0),a.jqx.utilities.resize(this.host,function(){var a=f.host.find("#View"+c.element.id);e?f.refreshTitle(a):(e=!0,f.render()),g&&(c.refreshTimer&&clearTimeout(c.refreshTimer),c.refreshTimer=setTimeout(function(){c.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(a,b,d,e){e?a.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),c.refreshControl()}},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(a){if(!a)return new Date(1900,0,1);var b=new Date(a.getFullYear(),a.getMonth(),1);return b},_handleKey:function(b){if(this.readOnly)return!0;var c=b.keyCode,d=this._getSelectedDate();if(void 0==d)return!0;if(b.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==c){var e=this._getSelectedCell();this._setDateAndSwitchViews(e,b,"keyboard")}if("year"==this.view){var f=d.getMonth(),g=this._getYearAndMonthPart(this.getMinDate()),h=this._getYearAndMonthPart(this.getMaxDate());switch(c){case 37:if(0==f){var i=new Date(d.getFullYear()-1,11,1);i>=g?(this.selectedDate=i,this.navigateBackward()):this.selectedDate!=g&&(this.selectedDate=g,this.navigateBackward())}else{var i=new Date(d.getFullYear(),f-1,1);i>=g&&this._selectDate(i,"key")}return!1;case 38:var i=new Date(d.getFullYear(),f-4,1);return g>i&&(i=g),0>f-4?(this.selectedDate=i,this.navigateBackward()):this._selectDate(i,"key"),!1;case 40:var i=new Date(d.getFullYear(),f+4,1);return i>h&&(i=h),f+4>11?(this.selectedDate=i,this.navigateForward()):this._selectDate(i,"key"),!1;case 39:if(11==f){var i=new Date(d.getFullYear()+1,0,1);h>=i?(this.selectedDate=i,this.navigateForward()):this.selectedDate!=h&&(this.selectedDate=h,this.navigateForward())}else{var i=new Date(d.getFullYear(),f+1,1);h>=i&&this._selectDate(i,"key")}return!1}return!0}if("decade"==this.view){var j=this._renderStartDate.getFullYear(),k=this._renderEndDate.getFullYear(),l=d.getFullYear(),m=this.getMinDate().getFullYear(),n=this.getMaxDate().getFullYear();switch(c){case 37:return l-1>=m&&(j>=l?(this.selectedDate=new Date(l-1,d.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(l-1,d.getMonth(),1),"key")),!1;case 38:var o=l-4;return m>l-4&&(o=m),j>o?(this.selectedDate=new Date(o,d.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(o,d.getMonth(),1),"key"),!1;case 40:var o=l+4;return o>n&&(o=n),o>k?(this.selectedDate=new Date(o,d.getMonth(),1),this.navigateForward()):this._selectDate(new Date(o,d.getMonth(),1),"key"),!1;case 39:return n>=l+1&&(l==k?(this.selectedDate=new Date(l+1,d.getMonth(),1),this.navigateForward()):this._selectDate(new Date(l+1,d.getMonth(),1),"key")),!1}return!0}var p=new a.jqx._jqxDateTimeInput.getDateTime(d),q=this.getViewStart(),r=this.getViewEnd(),s=a.data(this.element,"View"+this.element.id);if(void 0==s||null==s)return!0;if(36==c)return p._setDay(1),this._isDisabled(p.dateTime)?!1:(this._selectDate(p.dateTime,"key"),!1);if(35==c){var t=this.value._daysInMonth(this.value.year,this.value.month);return p._setDay(t),this._isDisabled(p.dateTime)?!1:(this._selectDate(p.dateTime,"key"),!1)}var u=1;if(b.ctrlKey&&(u=12),34==c){var v=this.navigateForward(u);if(v){if(p._addMonths(u),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(33==c){var v=this.navigateBackward(u);if(v){if(p._addMonths(-u),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(38==c){if(p._addDays(-7),p.dateTime<this.getMinDate())return!1;if(p.dateTime<q){var v=this.navigateBackward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x<=p.dateTime){this.value.day=x.getDate(),this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(40==c){if(p._addDays(7),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>r){var v=this.navigateForward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x>=p.dateTime){this.value.day=x.getDate(),this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}if(37==c){if(p._addDays(-1),p.dateTime<this.getMinDate())return!1;if(p.dateTime<q){var v=this.navigateBackward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x<=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;if(this._isDisabled(p.dateTime))return!1;this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(39==c){if(p._addDays(1),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>r){var v=this.navigateForward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x>=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var a=this._renderSingleCalendar("View"+this.element.id);this.host.append(a)}},addSpecialDate:function(a,b,c){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var d=this.specialDates.length;this.specialDates[d]={Date:a,Class:b,Tooltip:c},this.refreshControl()}},refresh:function(a){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var a=this.getVisibleDate(),b=this.getFirstDayOfWeek(a);return b.dateTime},getViewEnd:function(){var b=this.getViewStart(),c=new a.jqx._jqxDateTimeInput.getDateTime(b);return c._addDays(41),c.dateTime},refreshSingleCalendar:function(a,b){if(this.canRender){var c=this.host.find("#"+a),d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d);this.refreshCalendarCells(c,e,a),this.refreshTitle(c),this.refreshRowHeader(c,a),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var f=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(f=this.host.height()-this.titleHeight),this.showFooter&&(f-=20);var g=c.find("#cellsTable"+a),h=c.find("#calendarRowHeader"+a);g.height(f),h.height(f)}},refreshRowHeader:function(b,c){if(this.showWeekNumbers){var d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d),f=(e.dayOfWeek,this.getWeekOfYear(e)),g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(e.dateTime));g._addDays(5),g.dayOfWeek=g.dateTime.getDay();var h=(this.getWeekOfYear(g),this.rowHeader.find("table"));h.width(this.rowHeaderWidth);for(var i=e,j=new Array,k=0;6>k;k++){var l=(f.toString(),new a.jqx._jqxCalendar.cell(i.dateTime)),m=k+1+this.element.id,n=a(h[0].rows[k].cells[0]);l.element=n,l.row=k,l.column=0;var o=n.find("#headerCellContent"+m);o.addClass(this.toThemeProperty("jqx-calendar-row-cell")),o[0].innerHTML=f,j[k]=l,i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addWeeks(1))),f=this.getWeekOfYear(i)}var p=a.data(this.element,b[0].id);p.rowCells=j,this._refreshOtherMonthRows(p,c)}},_refreshOtherMonthRows:function(a,b){if(!this.showOtherMonthDays){this._displayLastRow(!0,b),this._displayFirstRow(!0,b);for(var c=!1,d=!1,e=0;e<a.cells.length;e++){var f=a.cells[e];f.isVisible&&7>e?c=!0:f.isVisible&&e>=a.cells.length-7&&(d=!0)}c||this._displayFirstRow(!1,b),d||this._displayLastRow(!1,b)}},_displayLastRow:function(b,c){var d=this.host.find("#"+c),e=d.find("#calendarRowHeader"+d[0].id).find("table"),f=null;if(this.showWeekNumbers&&e[0].cells)var f=a(e[0].rows[5]);var g=a(d.find("#cellTable"+d[0].id)[0].rows[5]);b?(this.showWeekNumbers&&f&&f.css("display","table-row"),g.css("display","table-row")):(this.showWeekNumbers&&f&&f.css("display","none"),g.css("display","none"))},_displayFirstRow:function(b,c){var d=this.host.find("#"+c),e=d.find("#calendarRowHeader"+d[0].id).find("table"),f=null;if(this.showWeekNumbers&&e[0].cells)var f=a(e[0].rows[0]);var g=a(d.find("#cellTable"+d[0].id)[0].rows[0]);b?(this.showWeekNumbers&&f&&f.css("display","table-row"),g.css("display","table-row")):(this.showWeekNumbers&&f&&f.css("display","none"),g.css("display","none"))},_renderSingleCalendar:function(b,c){if(this.canRender){var d=this.host.find("#"+b.toString());null!=d&&d.remove();var e=a("<div id='"+b.toString()+"'></div>"),f=this.getVisibleDate(),g=this.getFirstDayOfWeek(f),h=new a.jqx._jqxDateTimeInput.getDateTime(g.dateTime);h._addMonths(1);var i=a.jqx._jqxCalendar.monthView(g,h,null,null,null,e);void 0==c||null==c?(this.host.append(e),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&e.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&e.height("100%")):c.append(e),a.data(this.element,b,i);var j=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(j=this.host.height()-this.titleHeight),this.showFooter&&(j-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var k=this.rowHeaderWidth,l=this.columnHeaderHeight;this.showWeekNumbers||(k=0),this.showDayNames||(l=0);var m="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",n="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+l+"'><td role='gridcell' id='selectCell' width='"+k+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+j+"' width='"+k+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+j+"'></td></tr></table>",o="<div id='footer' style='margin: 0px; display: none; height:"+p+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";e[0].innerHTML=m+n+o,this.header=e.find("#calendarHeader"),this.header[0].id="calendarHeader"+b,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=e.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+b,this.table=e.find("#cellsTable"),this.table[0].id="cellsTable"+b,this.rowHeader=e.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+b,this.selectCell=e.find("#selectCell"),this.selectCell[0].id="selectCell"+b,this.title=e.find("#calendarTitle"),this.title[0].id="calendarTitle"+b,this.leftButton=e.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+b,this.titleHeader=e.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+b,this.rightButton=e.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+b,this.footer=e.find("#calendarFooter"),this._footer=e.find("#footer"),this._footer[0].id="footer"+b,this.footer[0].id="calendarFooter"+b,this.todayButton=e.find("#todayButton"),this.todayButton[0].id="todayButton"+b,this.doneButton=e.find("#doneButton"),this.doneButton[0].id="doneButton"+b,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var p=20;if(this.showFooter&&this._footer.css("display","block"),e.find("tr").addClass(this.toThemeProperty("jqx-reset")),e.addClass(this.toThemeProperty("jqx-widget-content")),e.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=e,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(e):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var q=a("<a href='javascript:;'>"+this.todayString+"</a>");q.appendTo(this.todayButton);var r=a("<a href='javascript:;'>"+this.clearString+"</a>");r.appendTo(this.doneButton),r.addClass(this.toThemeProperty("jqx-calendar-footer")),q.addClass(this.toThemeProperty("jqx-calendar-footer"));var s=this,t="mousedown";a.jqx.mobile.isTouchDevice()&&(t=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(q,t,function(){return s.today?s.today():s.setDate(new Date,"mouse"),!1}),this.addHandler(r,t,function(){return s.clear?s.clear():s.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(e),this.oldView=this.view,this.renderCalendarCells(e,g,b),(void 0==c||null==c)&&this.renderTitle(e),this._refreshOtherMonthRows(i,b),e.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var u=this;return this.addHandler(this.host,"focus",function(){u.focus()}),e}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(b){var c=a("<div role='button' style='float: left;'></div>"),d=a("<div role='button' style='float: right;'></div>"),e=this.title;e.addClass(this.toThemeProperty("jqx-reset")),e.addClass(this.toThemeProperty("jqx-widget-header")),e.addClass(this.toThemeProperty("jqx-calendar-title-header"));var f=e.find("td");if(a.jqx.browser.msie&&a.jqx.browser.version<8){if("transparent"!=f.css("background-color")){var g=e.css("background-color");f.css("background-color",g)}if("transparent"!=f.css("background-image")){var h=e.css("background-image"),i=e.css("background-repeat");e.css("background-position");f.css("background-image",h),f.css("background-repeat",i),f.css("background-position","left center scroll")}}else f.css("background-color","transparent");this.disabled&&e.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),c.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),c.appendTo(this.leftButton);var j=this.leftButton;d.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),d.appendTo(this.rightButton);var k=this.rightButton;this.enableTooltips&&a(j).jqxTooltip&&(a(j).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),a(k).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var l=this.titleHeader,m=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var n=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),o=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);m=n+" - "+o}else if("centuries"==this.view){var n=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),o=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);m=n+" - "+o}var p=a("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+m+"</div>");l.append(p),p.addClass(this.toThemeProperty("jqx-calendar-title-content"));var q=parseInt(c.width()),r=b.width()-2*q;l.find(".jqx-calendar-title-content").width(r);a.data(c,"navigateLeft",this),a.data(d,"navigateRight",this);var s=a.jqx.mobile.isTouchDevice();if(!this.disabled){var t=this;this.addHandler(l,"mousedown",function(a){if(t.enableViews){if(!t._viewAnimating&&!t._animating){var b=t.view;switch(t.oldView=b,t.view){case"month":t.view="year";break;case"year":t.view="decade"}if(-1==t.views.indexOf("year")&&"year"==t.view&&(t.view="decade"),-1==t.views.indexOf("decade")&&"decade"==t.view&&(t.view=b),b!=t.view){var c="View"+t.element.id,d=t.host.find("#"+c),e=t.getVisibleDate(),f=t.getFirstDayOfWeek(e);t.renderCalendarCells(d,f,c,!0),t.refreshTitle(d),t._raiseEvent("8")}}return!1}}),this.addHandler(c,"mousedown",function(b){if(t._animating)return!1;a.data(c,"navigateLeftRepeat",!0);var d=a.data(c,"navigateLeft");return d.enableFastNavigation&&!s&&d.startRepeat(d,c,!0,t.navigationDelay+200),d.navigateBackward(1,"arrow"),d._raiseEvent(0,b)}),this.addHandler(c,"mouseup",function(b){a.data(c,"navigateLeftRepeat",!1)}),this.addHandler(c,"mouseleave",function(b){a.data(c,"navigateLeftRepeat",!1)}),this.addHandler(d,"mousedown",function(b){if(t._animating)return!1;a.data(d,"navigateRightRepeat",!0);var c=a.data(d,"navigateRight");return c.enableFastNavigation&&!s&&c.startRepeat(c,d,!1,t.navigationDelay+200),c.navigateForward(1,"arrow"),c._raiseEvent(1,b)}),this.addHandler(d,"mouseup",function(b){a.data(d,"navigateRightRepeat",!1)}),this.addHandler(d,"mouseleave",function(b){a.data(d,"navigateRightRepeat",!1)})}},refreshTitle:function(b){var c=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var d=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),e=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);c=d+" - "+e}else if("centuries"==this.view){var d=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),e=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);c=d+" - "+e}var f=this.titleHeader;if(this.titleHeader){var g=f.find(".jqx-calendar-title-content"),h=a("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+c+"</div>");f.append(h),h.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=g&&g.remove()}},startRepeat:function(b,c,d,e){var f=window.setTimeout(function(){var g=a.data(c,"navigateLeftRepeat");return d||(g=a.data(c,"navigateRightRepeat")),g?(25>e&&(e=25),void(d?(b.navigateBackward(1,"arrow"),b.startRepeat(b,c,!0,e)):(b.navigateForward(1,"arrow"),f=b.startRepeat(b,c,!1,e)))):void window.clearTimeout(f)},e)},navigateForward:function(a,b){(void 0==a||null==a)&&(a=this.stepMonths);var c=this.value.year;if("decade"==this.view){if(c=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?c=this.value.year+1:"centuries"==this.view&&(c=this.value.year+100);if("month"!=this.view){var d=this.getMaxDate().getFullYear();if((c>d||c>d)&&(c=d),this.value.year==c)return;this.value.year=c,this.value.month=1,this.value.day=1}var e=this.value.day,f=this.value.month;if(12>=f+a){var g=this.value._daysInMonth(this.value.year,this.value.month+a);
e>g&&(e=g)}if("month"==this.view){var h=new Date(this.value.year,this.value.month-1+a,e);"arrow"==b&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+a,1))}else var h=new Date(this.value.year,this.value.month-1,e);return this.navigateTo(h)},navigateBackward:function(a,b){(void 0==a||null==a)&&(a=this.stepMonths);var c=this.value.year;if("decade"==this.view?c=this._renderStartDate.getFullYear()-12:"year"==this.view?c=this.value.year-1:"centuries"==this.view&&(c=this.value.year-100),"month"!=this.view){var d=this.getMinDate().getFullYear();if(d>c&&(c=d),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==c)return;this.value.year=c,this.value.month=1,this.value.day=1}var e=this.value.day,f=this.value.month;if(f-a>=1){var g=this.value._daysInMonth(this.value.year,this.value.month-a);e>g&&(e=g)}if("month"==this.view){var h=new Date(this.value.year,this.value.month-1-a,e);"arrow"==b&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-a,1))}else var h=new Date(this.value.year,this.value.month-1,e);return this.navigateTo(h)},_isDisabled:function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=a.getDay(),d=b[c];return-1==this.selectableDays.indexOf(d)?!0:!1},refreshCalendarCells:function(b,c,d){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(b,c,d);for(var e=this.table,f=e.find("#cellTable"+d.toString()),g=c,h=new Array,i=0,j=new a.jqx._jqxDateTimeInput.getDateTime(new Date),k=0;6>k;k++)for(var l=0;7>l;l++){var m=k+1,n=l;this.rtl&&(n=6-n);var o=n+1,p="#cell"+m+o+this.element.id,q=new Date(g.dateTime.getFullYear(),g.dateTime.getMonth(),g.dateTime.getDate()),r=new a.jqx._jqxCalendar.cell(q),s=a(f[0].rows[k].cells[o-1]);s[0].id=p.substring(1),r.element=s,r.row=k,r.column=l,r.isVisible=!0,r.isOtherMonth=!1,r.isToday=!1,r.isWeekend=!1,r.isHighlighted=!1,r.isSelected=!1,g.month!=this.value.month&&(r.isOtherMonth=!0,r.isVisible=this.showOtherMonthDays),(q<this.getMinDate()||q>this.getMaxDate()||this._isDisabled(q))&&(r.isDisabled=!0),g.month==j.month&&g.day==j.day&&g.year==j.year&&(r.isToday=!0),g.isWeekend()&&(r.isWeekend=!0),a.data(this.element,"cellContent"+p.substring(1),r),a.data(this.element,p.substring(1),r),h[i]=r,i++,a.jqx.utilities.html(s,g.day),this._applyCellStyle(r,s,s),g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(g._addDays(1)))}var t=a.data(this.element,b[0].id);void 0!=t&&null!=t&&(t.cells=h),this.renderedCells=h,this._refreshOtherMonthRows(t,d)},_getDecadeAndCenturiesData:function(){var a=new Array,b=new Array,c=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();12>c&&(c=12);var d=this.getMinDate(),e=this.getMaxDate(),f=this.value.dateTime.getFullYear();if("decade"==this.view){f+12>e.getFullYear()&&(f=e.getFullYear()-11),f<d.getFullYear()&&(f=d.getFullYear());for(var g=0;c>g;g++){var h=new Date(d.getFullYear()+g,0,1);if(d.getFullYear()<=f&&f<=h.getFullYear()){for(var i=new Date(h.getFullYear(),h.getMonth(),1),j=0;12>j;j++){var k=new Date(i.getFullYear()+j,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),l=k.getFullYear();d.getFullYear()<=l&&l<=e.getFullYear()?(a.push(l),b.push(k),0==j&&(this._renderStartDate=k),this._renderEndDate=k):(a.push(l),b.push(k))}break}}}else if("centuries"==this.view)for(var g=0;c>g;g+=120){var h=new Date(d.getFullYear()+g+120,0,1);if(d.getFullYear()<=f&&f<=h.getFullYear()){var i=new Date(h.getFullYear()-130,h.getMonth(),1);d>i&&(i=d);for(var j=0;12>j;j++){var m=new Date(i.getFullYear()+10*j,i.getMonth(),1);i.getFullYear()>=d.getFullYear()&&m.getFullYear()<=e.getFullYear()&&(a.push("<span style='visibility: hidden;'>-</span>"+m.getFullYear()+"-"+(m.getFullYear()+9)),b.push(m),0==j&&(this._renderCenturyStartDate=m),this._renderCenturyEndDate=new Date(m.getFullYear()+9,0,1))}break}}return{years:a,dates:b}},refreshViews:function(b,c,d){for(var e=new Array,f=b.find("#cellTable"+d.toString()),g=this._getDecadeAndCenturiesData(),h=g.years,i=g.dates,j=0,k=this.getMinDate(),l=this.getMaxDate(),m=0;3>m;m++)for(var n=0;4>n;n++){var o=n;this.rtl&&(o=3-o);var p=new Date(this.value.dateTime);p.setDate(1),p.setMonth(4*m+o);var q=new a.jqx._jqxCalendar.cell(p),r=f[0].rows["row"+(1+m)+this.element.id],s=a(r.cells[n]);q.isSelected=!1,q.isVisible=!0,q.element=s,q.row=m,q.column=n,q.index=e.length;var t="";if("year"==this.view){var u=this.localization.calendar.months.names,v=u[4*m+o];switch(this.monthNameFormat){case"default":v=this.localization.calendar.months.namesAbbr[4*m+o];break;case"shortest":v=this.localization.calendar.months.namesShort[4*m+o];break;case"firstTwoLetters":v=v.substring(0,2);break;case"firstLetter":v=v.substring(0,1)}t=v}else("decade"==this.view||"centuries"==this.view)&&(t=h[4*m+o],void 0==t&&(t="<span style='cursor: default; visibility: hidden;'>2013</span>"),q.setDate(i[4*m+o]));var p=q.getDate();"year"==this.view?p.getMonth()==this.getDate().getMonth()&&p.getFullYear()==this.getDate().getFullYear()&&(q.isSelected=!0):p.getFullYear()==this.getDate().getFullYear()&&(q.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(p)<this._getYearAndMonthPart(k)&&(q.isDisabled=!0),this._getYearAndMonthPart(p)>this._getYearAndMonthPart(l)&&(q.isDisabled=!0)):(p.getFullYear()<k.getFullYear()&&(q.isDisabled=!0),p.getFullYear()>l.getFullYear()&&(q.isDisabled=!0)),a.jqx.utilities.html(s,t),e[j]=q,j++}var w=a.data(this.element,b[0].id);void 0!=w&&null!=w&&(w.cells=e),this.renderedCells=e,this._applyCellStyles()},_createViewClone:function(){var a=this.host.find(".jqx-calendar-month"),b=a.clone();return b.css("position","absolute"),b.css("top",a.position().top),b},_addCellsTable:function(a,b){var c=this,d=this.showFooter?20:0;"month"!=this.view?b.height(this.host.height()-this.titleHeight):b.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-d),this._viewAnimating=!0;var e=this.host.find(".jqx-calendar-month-container");e.css("position","relative");var f=(this.host.find(".jqx-calendar-month"),this._createViewClone());e.append(f),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),a.children().remove(),a.append(b),this._animateViews(f,b,function(){c.selectedDate||(c.selectedDate=c.renderedCells[0].getDate());try{c.renderedCells[0].element.focus(),setTimeout(function(){c.renderedCells[0].element.focus()},10)}catch(a){}c._viewAnimating=!1}),b.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(a,b,c){var d=this;return d._viewAnimating=!0,d.oldView==d.view?(a.remove(),b.fadeOut(0),b.fadeIn(0),void c()):(a.fadeOut(this.navigationDelay+100,function(){a.remove()}),b.fadeOut(0),void b.fadeIn(this.navigationDelay+200,function(){c()}))},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var a=this;a.selectedDate||"range"==a.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(b){}},renderViews:function(b,c,d){var e=this,f=new Array,g=a("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+d.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),h=this.host.find(".jqx-calendar-month-container");h.css("position","relative");var i=b.find("#cellsTable"+b[0].id);i[0].style.borderColor="transparent";var j=this._getDecadeAndCenturiesData(),k=j.years,l=j.dates,m=0,n=this.getMinDate(),o=this.getMaxDate(),p=new Date(this.value.dateTime);p.setDate(1);for(var q=0;3>q;q++)for(var r=0;4>r;r++){var s=r;this.rtl&&(s=3-s);var t=g[0].rows["row"+(1+q)+this.element.id],u=new Date(p);u.setMonth(4*q+s);var v=new a.jqx._jqxCalendar.cell(u),w=a(t.cells[r]);v.isVisible=!0,v.element=w,v.row=q,v.column=r,v.index=f.length,v.isSelected=!1;var x="";if("year"==this.view){u.getMonth()==this.getDate().getMonth()&&u.getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0);var y=this.localization.calendar.months.names,z=y[4*q+s];switch(this.monthNameFormat){case"default":z=this.localization.calendar.months.namesAbbr[4*q+s];break;case"shortest":z=this.localization.calendar.months.namesShort[4*q+s];break;case"firstTwoLetters":z=z.substring(0,2);break;case"firstLetter":z=z.substring(0,1)}x=z}else("decade"==this.view||"centuries"==this.view)&&(x=k[4*q+s],v.setDate(l[4*q+s]),v.getDate().getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0),void 0==x&&(x="<span style='cursor: default; visibility: hidden;'>2013</span>"));var u=v.getDate();"year"==this.view?(this._getYearAndMonthPart(u)<this._getYearAndMonthPart(n)&&(v.isDisabled=!0),this._getYearAndMonthPart(u)>this._getYearAndMonthPart(o)&&(v.isDisabled=!0)):(u.getFullYear()<n.getFullYear()&&(v.isDisabled=!0),u.getFullYear()>o.getFullYear()&&(v.isDisabled=!0)),a.jqx.utilities.html(w,x),f[m]=v,m++}a.each(f,function(){var a=this.element,b=this;e.disabled||(e.addHandler(a,"mousedown",function(a){e._setDateAndSwitchViews(b,a,"mouse")}),e.addHandler(a,"mouseover",function(a){var c=e.renderedCells[b.index];("centuries"==e.view||-1==c.element.html().toLowerCase().indexOf("span"))&&(c.isHighlighted=!0,e._applyCellStyle(c,c.element,c.element))}),e.addHandler(a,"mouseout",function(a){var c=e.renderedCells[b.index];("centuries"==e.view||-1==c.element.html().toLowerCase().indexOf("span"))&&(c.isHighlighted=!1,e._applyCellStyle(c,c.element,c.element))}))});var A=a.data(this.element,b[0].id);void 0!=A&&null!=A&&(A.cells=f),this.renderedCells=f,this._addCellsTable(i,g),this._applyCellStyles()},_setDateAndSwitchViews:function(a,b,c){if(!this._viewAnimating&&!this._animating){var d=(this.getDate(),this.renderedCells[a.index].getDate()),e=this.value.dateTime.getDate(),f=new Date(d);-1!=this.views.indexOf("month")?f.setDate(e):(f.setDate(1),d.setDate(1)),f.getMonth()==d.getMonth()&&(d=f);var g=this.getMinDate(),h=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(d)<this._getYearAndMonthPart(g))return;if(this._getYearAndMonthPart(d)>this._getYearAndMonthPart(h))return}else{if(d.getFullYear()<g.getFullYear())return;if(d.getFullYear()>h.getFullYear())return}switch(this._selectDate(d),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(d)<this._getYearAndMonthPart(g)&&(d=g),this._getYearAndMonthPart(d)>this._getYearAndMonthPart(h)&&(d=h)):(d.getFullYear()<g.getFullYear()&&(d=g),d.getFullYear()>h.getFullYear()&&(d=h)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=d.getFullYear()||this.selectedDate.getMonth()!=d.getMonth()||this.selectedDate.getDate()!=d.getDate())&&(d=this.selectedDate),this.value._setYear(d.getFullYear()),this.value._setDay(d.getDate()),this.value._setMonth(d.getMonth()+1),this.value._setDay(d.getDate());var i=this.getVisibleDate(),j=this.getFirstDayOfWeek(i),k="View"+this.element.id;this.renderCalendarCells(this.month,j,k,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,k),3==this.views.length&&"month"==this.view&&this._selectDate(this.selectedDate,"view"),"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=c&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(b,c,d,e){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(b,c,d);var f=a("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+d.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),g=this.table;if(g[0].style.borderColor="transparent",void 0==e){var h=g.find("#cellTable"+d.toString());null!=h&&h.remove(),g.append(f)}var i=c,j=this.showDayNames?1:0,k=this.showWeekNumbers?1:0,l=new Array,m=0,n=(b.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(n=(b.width()-2)/7),n=parseInt(n);for(var o=new a.jqx._jqxDateTimeInput.getDateTime(new Date),p=0;6>p;p++){for(var q=0;7>q;q++){var r=p+1,s=q;this.rtl&&(s=6-s);var t=s+1,u="#cell"+r+t+this.element.id,v=new Date(i.dateTime.getFullYear(),i.dateTime.getMonth(),i.dateTime.getDate()),w=new a.jqx._jqxCalendar.cell(v),x=a(f[0].rows[p].cells[t-1]);x[0].id=u.substring(1),w.isVisible=!0,w.isDisabled=!1,i.month!=this.value.month&&(w.isOtherMonth=!0,w.isVisible=this.showOtherMonthDays),(v<this.getMinDate()||v>this.getMaxDate()||this._isDisabled(v))&&(w.isDisabled=!0),i.month==o.month&&i.day==o.day&&i.year==o.year&&(w.isToday=!0),i.isWeekend()&&(w.isWeekend=!0),w.element=x,w.row=j,w.column=k,a.jqx.utilities.html(x,i.day),i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1))),a.data(this.element,"cellContent"+u.substring(1),w),a.data(this.element,""+u.substring(1),w);var y=this;if(this.addHandler(x,"mousedown",function(b){if(!y.readOnly&&!y.disabled){var c=a(b.target),d=a.data(y.element,c[0].id);y._raiseEvent(3,b);if(null!=d&&void 0!=d){var e=d.getDate();if(y.getMinDate()<=e&&e<=y.getMaxDate()&&!d.isDisabled)if(d.isOtherMonth&&y.enableAutoNavigation)d.row<2?y.navigateBackward():y.navigateForward(),y._selectDate(d.getDate(),"mouse",b.shiftKey);else{new Date(y.getDate());y._selectDate(d.getDate(),"mouse",b.shiftKey),y.value._setYear(e.getFullYear()),y.value._setDay(1),y.value._setMonth(e.getMonth()+1),y.value._setDay(e.getDate());var f=y.host.find(".jqx-calendar-month");f.stop(),f.css("margin-left","0px");y.getDate();y._raiseEvent("2"),d.isOtherMonth&&y._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!y.disabled){var z=function(b,c){if(!y.readOnly){var d=a(b.target),e=a.data(y.element,d[0].id);if(null!=e&&void 0!=e){var f=e.getDate();y.getMinDate()<=f&&f<=y.getMaxDate()&&(e.isHighlighted=c,y._applyCellStyle(e,e.element,d))}}};this.addHandler(x,"mouseenter",function(a){return z(a,!0),!1}),this.addHandler(x,"mouseleave",function(a){return z(a,!1),!1})}k++,l[m]=w,m++}k=0,j++}var A=a.data(this.element,b[0].id);void 0!=A&&null!=A&&(A.cells=l),this.renderedCells=l,void 0!=e&&this._addCellsTable(g,f),this._applyCellStyles(),this._refreshOtherMonthRows(A,d)},setMaxDate:function(b,c){(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),c!==!1&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b,c){(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),c!==!1&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(b,c){if("month"==this.view){var d=this.getMinDate(),e=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(b<this._getYearAndMonthPart(d)||b>this._getYearAndMonthPart(e))return!1}else if(b&&(b.getFullYear()<this.getMinDate().getFullYear()||b.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==b)return!1;if(void 0==c){var f=this;if(this._animating)return;this._animating=!0;var g=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var h=this.host.find(".jqx-calendar-month");h.stop(),h.css("margin-left","0px");var i=h.clone();this._viewClone=i;var j=new Date(this.value.dateTime);this.value._setYear(b.getFullYear()),this.value._setDay(b.getDate()),this.value._setMonth(b.getMonth()+1),f.refreshControl(),g.css("position","relative"),i.css("position","absolute"),i.css("top",h.position().top),g.append(i),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var k=-this.host.width();j>b&&("month"==this.view&&b.getMonth()!=j.getMonth()?k=this.host.width():b.getFullYear()!=j.getFullYear()&&(k=this.host.width())),i.animate({marginLeft:parseInt(k)+"px"},this.navigationDelay,function(){i.remove()});var l=h.clone();this._newViewClone=l,l.css("position","absolute"),l.css("top",h.position().top),g.append(l),l.css("margin-left",-k),h.css("visibility","hidden"),l.animate({marginLeft:"0px"},this.navigationDelay,function(){l.remove(),h.css("visibility","visible"),f._animating=!1})}else{this.value._setYear(b.getFullYear()),this.value._setDay(b.getDate()),this.value._setMonth(b.getMonth()+1);var h=this.host.find(".jqx-calendar-month");h.stop(),h.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(a){return null!=a&&"string"==typeof a&&(a=new Date(a)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(a,"api"),this._selectDate(a),"range"==this.selectionMode&&this._selectDate(a,"mouse"),!0},val:function(a){return 0!=arguments.length&&(null==a&&this.setDate(null),a instanceof Date&&this.setDate(a),"string"==typeof a&&this.setDate(a)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(a,b){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(a,"api"),this._selectDate(a,"mouse"),this._selectDate(b,"mouse")},getRange:function(){return this.selection},_selectDate:function(b,c,d){if("none"!=this.selectionMode){(null==c||void 0==c)&&(c="none"),(null==d||void 0==d)&&(d=!1);var e=a.data(this.element,"View"+this.element.id);if(void 0!=e&&null!=e){if(this.changing&&b&&this.selectedDate){if(this.selectedDate.getFullYear()!=b.getFullYear()||this.selectedDate.getDate()!=b.getDate()||this.selectedDate.getMonth()!=b.getMonth())var f=this.changing(this.selectedDate,b);f&&(b=f)}var g=this;this.input&&(null!=b?this.input.val(b.toString()):this.input.val(""));var h=this.selectedDate;if(this.selectedDate=b,"month"!=this.view)return h!=b&&this._raiseEvent(7),a.each(this.renderedCells,function(c){var d=this,e=d.getDate(),f=a(d.element);f.find("#cellContent"+f[0].id);if(null==b)d.isSelected=!1,d.isDisabled=!1;else if(d.isSelected=!1,e&&(e.getMonth()==b.getMonth()&&"year"==g.view&&e.getFullYear()==b.getFullYear()||"decade"==g.view&&e.getFullYear()==b.getFullYear())){d.isSelected=!0;try{d.element.focus()}catch(h){}}g._applyCellStyle(d,f,f)}),void(this.change&&this.change(b));if("month"==this.view&&"range"==this.selectionMode&&"key"==c){var i=this.getVisibleDate(),j=this.getFirstDayOfWeek(i);this.refreshCalendarCells(this.month,j,"View"+this.element.id)}return a.each(this.renderedCells,function(e){var f=this,h=f.getDate(),i=a(f.element),j=i;if(0==i.length)return!1;if(null==b)f.isSelected=!1,f.isDisabled=!1,0==e&&(g.selection={from:null,to:null},g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c}));else if("range"!=g.selectionMode||"key"==c){if(h.getDate()==b.getDate()&&h.getMonth()==b.getMonth()&&h.getFullYear()==b.getFullYear()&&f.isSelected)return g._applyCellStyle(f,i,j),void g._raiseEvent("5",{selectionType:c});if(f.isSelected&&g._raiseEvent("6",{selectionType:c}),f.isSelected=!1,h.getDate()==b.getDate()&&h.getMonth()==b.getMonth()&&h.getFullYear()==b.getFullYear()){f.isSelected=!0,0==e&&(g.selection={date:b});try{f.element.focus(),g.host.focus()}catch(k){}f.isOtherMonth||(g.value._setMonth(b.getMonth()+1),g.value._setDay(b.getDate()),g.value._setYear(b.getFullYear()),g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c}))}"range"==g.selectionMode&&(g._clicks=0,g.selection={from:b,to:b})}else if("range"==g.selectionMode){if("view"==c)return f.isSelected=!1,f.isDisabled=!1,g.getMaxDate()<h&&(f.isDisabled=!0),g.getMinDate()>h&&(f.isDisabled=!0),g._isDisabled(h)&&(f.isDisabled=!0),g._applyCellStyle(f,i,j),!0;if(0==e)if("none"!=c)if(void 0==g._clicks&&(g._clicks=0),g._clicks++,d&&g._clicks++,1==g._clicks)g.selection={from:b,to:b};else{var l=g.selection.from,m=b>=l?l:b,n=b>=l?b:l;if(m)var o=new Date(m.getFullYear(),m.getMonth(),m.getDate());if(n)var p=new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59);g.selection={from:o,to:p},g._clicks=0}else(null==g.selection||null==g.selection.from)&&(g.selection={from:b,to:b},void 0==g._clicks&&(g._clicks=0),g._clicks++,2==g._clicks&&(g._clicks=0));var q=function(a){if(null==a)return new Date;var b=new Date;return b.setHours(0,0,0,0),b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b};f.isOtherMonth||q(h).toString()!=q(b).toString()||(g.value._setMonth(b.getMonth()+1),g.value._setDay(b.getDate()),g.value._setYear(b.getFullYear()),g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c})),f.isSelected=!1,f.isDisabled=!1,q(h)<q(g.selection.from)&&1==g._clicks&&(f.isDisabled=!0),g.getMaxDate()<h&&(f.isDisabled=!0),g.getMinDate()>h&&(f.isDisabled=!0),g._isDisabled(h)&&(f.isDisabled=!0),f.isDisabled||q(h)>=q(g.selection.from)&&q(h)<=q(g.selection.to)&&(f.isSelected=!0)}g._applyCellStyle(f,i,j)}),"range"==g.selectionMode&&0==g._clicks?void g._raiseEvent(7):void("range"!=g.selectionMode&&h!=b&&(g._raiseEvent(7),this.change&&this.change(b)))}}},_getSelectedDate:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b){if("month"!=this.view)return this.selectedDate;for(var c=0;c<b.cells.length;c++){var d=b.cells[c],e=d.getDate();if(d.isSelected)return e}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b)for(var c=0;c<b.cells.length;c++){var d=b.cells[c];d.getDate();if(d.isSelected)return d}},_applyCellStyle:function(b,c,d){var e=this;(null==d||null!=d&&0==d.length)&&(d=c);var f="";if(f=this.toThemeProperty("jqx-rc-all"),f+=" "+this.toThemeProperty("jqx-item"),(this.disabled||b.isDisabled)&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),f+=" "+this.toThemeProperty("jqx-fill-state-disabled")),b.isOtherMonth&&this.enableOtherMonthDays&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),b.isWeekend&&this.enableWeekend&&b.isVisible&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),b.isVisible?(f+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&d.length>0&&-1!=d.html().toLowerCase().indexOf("span")&&d.css("cursor","default")):f+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),d.removeAttr("aria-selected"),b.isSelected&&b.isVisible){f+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),f+=" "+this.toThemeProperty("jqx-fill-state-pressed"),d.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",d[0].id);var g=b.getDate();this._isDisabled(g)&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(b.isHighlighted&&b.isVisible&&this.enableHover&&(b.isDisabled||(f+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),f+=" "+this.toThemeProperty("jqx-fill-state-hover"))),f+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),b.isToday&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-today")),d[0].className=f,this.specialDates.length>0){var h=this;a.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?d.removeClass(this.Class):d.removeClass(e.toThemeProperty("jqx-calendar-cell-specialDate"));var c=b.getDate();if(c.getFullYear()==this.Date.getFullYear()&&c.getMonth()==this.Date.getMonth()&&c.getDate()==this.Date.getDate()){if(null==b.tooltip&&null!=this.Tooltip&&(b.tooltip=this.Tooltip,a(d).jqxTooltip)){var f=this.Class;a(d).jqxTooltip({value:{cell:b,specialDate:this.Date},name:h.element.id,content:this.Tooltip,position:"mouse",theme:h.theme,opening:function(a){return d.hasClass(e.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:d.hasClass(f)?!0:!1}})}return d.removeClass(e.toThemeProperty("jqx-calendar-cell-othermonth")),d.removeClass(e.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(d.addClass(e.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(d.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b)for(var c=0;c<b.cells.length;c++){var d=b.cells[c],e=a(d.element),f=e.find("#cellContent"+e[0].id);0==f.length&&(f=e),this._applyCellStyle(d,e,f)}},getWeekOfYear:function(a){var b=new Date(a.dateTime);dowOffset=this.firstDayOfWeek;var c=new Date(b.getFullYear(),0,1),d=c.getDay()-dowOffset;d=d>=0?d:d+7;var e,f=Math.floor((b.getTime()-c.getTime()-6e4*(b.getTimezoneOffset()-c.getTimezoneOffset()))/864e5)+1;return 4>d?(e=Math.floor((f+d-1)/7)+1,e>52&&(nYear=new Date(b.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,e=nday<4?1:53)):e=Math.floor((f+d-1)/7),e},renderColumnHeader:function(b){if(this.showDayNames){var c=a("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");c.find("table").addClass(this.toThemeProperty("jqx-reset")),c.find("tr").addClass(this.toThemeProperty("jqx-reset")),c.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),c.addClass(this.toThemeProperty("jqx-reset")),c.addClass(this.toThemeProperty("jqx-widget-content")),c.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(c);var d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d),f=(e.dayOfWeek,this.getWeekOfYear(e),this.firstDayOfWeek),g=this.localization.calendar.days.names,h=new Array,i=e,j=(b.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(j=(b.width()-2)/7);for(var k=0;7>k;k++){var l=g[f];switch(this.rtl&&(l=g[6-f]),this.dayNameFormat){case"default":l=this.localization.calendar.days.namesAbbr[f];break;case"shortest":l=this.localization.calendar.days.namesShort[f];break;case"firstTwoLetters":l=l.substring(0,2);break;case"firstLetter":l=l.substring(0,1)}var m=new a.jqx._jqxCalendar.cell(i.dateTime),n=k+1,o=n+this.element.id,p=a(c[0].rows[0].cells[k]),q=k;this.enableTooltips&&a(p).jqxTooltip&&a(p).jqxTooltip({name:this.element.id,content:g[f],theme:this.theme,position:"mouse"}),f>=6?f=0:f++,k=q,m.element=p,m.row=0,m.column=k+1;var r=this._textwidth(l),s="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+o+"'>"+l+"</div>";if(p.append(s),p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell")),p.width(j),this.disabled&&p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),r>0&&j>0)for(;r>p.width()&&0!=l.length;)l=l.substring(0,l.length-1),a.jqx.utilities.html(p.find("#columnCell"+o),l),r=this._textwidth(l);h[k]=m,i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());var t=a.data(this.element,b[0].id);t.columnCells=h}},_format:function(b,c,d){var e=!1;try{void 0!=Globalize&&(e=!0)}catch(f){}if(a.global)return a.global.culture.calendar=this.localization.calendar,a.global.format(b,c,this.culture);if(e)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(b,c,this.culture)):Globalize.format(b,c,this.culture)}catch(f){return Globalize.format(b,c)}else if(a.jqx.dataFormat)return a.jqx.dataFormat.formatdate(b,c,this.localization.calendar)},_textwidth:function(b){var c=a("<span>"+b+"</span>");c.addClass(this.toThemeProperty("jqx-calendar-column-cell")),a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_renderRowHeader:function(b){var c=this.getVisibleDate(),d=this.getFirstDayOfWeek(c),e=(d.dayOfWeek,this.getWeekOfYear(d)),f=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d.dateTime));f._addDays(5),f.dayOfWeek=f.dateTime.getDay();this.getWeekOfYear(f);53==e&&0==f.dateTime.getMonth()&&(e=1);var g=a("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");g.find("table").addClass(this.toThemeProperty("jqx-reset")),g.find("td").addClass(this.toThemeProperty("jqx-reset")),g.find("tr").addClass(this.toThemeProperty("jqx-reset")),g.addClass(this.toThemeProperty("jqx-calendar-row-header")),g.width(this.rowHeaderWidth),this.rowHeader.append(g);for(var h=d,i=new Array,j=0;6>j;j++){var k=e.toString(),l=new a.jqx._jqxCalendar.cell(h.dateTime),m=j+1+this.element.id,n=a(g[0].rows[j].cells[0]);l.element=n,l.row=j,l.column=0;var o="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+m+"'>"+k+"</div>";n.append(o),n.find("#headerCellContent"+m).addClass(this.toThemeProperty("jqx-calendar-row-cell")),i[j]=l,h=new a.jqx._jqxDateTimeInput.getDateTime(new Date(h._addWeeks(1))),e=this.getWeekOfYear(h)}var p=a.data(this.element,b[0].id);p.rowCells=i},getFirstDayOfWeek:function(b){var c=b;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var d=c.dayOfWeek-this.firstDayOfWeek;0>=d&&(d+=7);var e=a.jqx._jqxDateTimeInput.getDateTime(c._addDays(-d));return e},getVisibleDate:function(){var b=new a.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));b<this.minDate&&(b=this.minDate),b>this.maxDate&&(this.visibleDate=this.maxDate),b.dateTime.setHours(0);var c=b.day,d=a.jqx._jqxDateTimeInput.getDateTime(b._addDays(-c+1));return b=d},destroy:function(a){this.host.removeClass(),0!=a&&this.host.remove()},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b],e=c?c:{};e.owner=this;var f=new a.Event(d);if(f.owner=this,f.args=e,0==b||1==b||2==b||3==b||4==b||5==b||6==b||7==b||8==b){f.args.date=f.args.selectedDate=this.getDate(),f.args.range=this.getRange();var g=this.getViewStart(),h=this.getViewEnd();
f.args.view={from:g,to:h}}var i=this.host.trigger(f);return(0==b||1==b)&&(i=!1),i},propertyMap:function(a){return"value"==a?"range"!=this.selectionMode?this.getDate():this.getRange():null},updateSize:function(){var a=this.host.find("#View"+this.element.id);if(a.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&a.height(this.height):a.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&a.width(this.width):a.width(this.width);var b=this.host.height()-this.titleHeight-this.columnHeaderHeight,c="View"+this.element.id;a.find("#cellsTable"+c).height(b),a.find("#calendarRowHeader"+c).height(b),this.refreshControl()}},resize:function(){this.updateSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&"enableHover"!=c&&"keyboardNavigation"!=c){if("localization"==c&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==c)try{if(a.global)a.global.preferCulture(b.culture),b.localization.calendar=a.global.culture.calendar;else if(Globalize){var f=Globalize.culture(b.culture);b.localization.calendar=f.calendar}}catch(g){}return"views"==c?(-1==b.views.indexOf("month")&&(b.view="year"),-1==b.views.indexOf("year")&&-1==b.views.indexOf("month")&&(b.view="decade"),void b.render()):("showFooter"==c&&b.render(),"width"==c||"height"==c?void b.updateSize():void("theme"==c?a.jqx.utilities.setTheme(d,e,b.host):"rowHeaderWidth"==c||"showWeekNumbers"==c?b.render():(b.view="month",b.render())))}}})}(jqxBaseFramework),function(a){a.jqx._jqxCalendar.cell=function(b){var c={dateTime:new a.jqx._jqxDateTimeInput.getDateTime(b),_date:b,getDate:function(){return this._date},setDate:function(b){this.dateTime=new a.jqx._jqxDateTimeInput.getDateTime(b),this._date=b},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null};return c},a.jqx._jqxCalendar.monthView=function(a,b,c,d,e,f){var g={start:a,end:b,cells:c,rowCells:d,columnCells:e,element:f};return g}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{}),a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var b={value:a.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,columnHeaderHeight:20,titleHeight:25,firstDayOfWeek:0,showWeekNumbers:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",enableAbsoluteSelection:!1,disabled:!1,buttonSize:18,animationType:"slide",dropDownWidth:"200px",dropDownHeight:"205px",selectionMode:"default",rtl:!1,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate},createInstance:function(b){var c="",d=this;if(!d.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(d.host.attr("value")){c=!0;var e=d.host.attr("value");if("range"!=d.selectionMode){var f=new Date(e);void 0==f||isNaN(f)||(d.value=a.jqx._jqxDateTimeInput.getDateTime(f))}}if(null!=d.value&&d.value instanceof Date)d.value=a.jqx._jqxDateTimeInput.getDateTime(d.value);else if(null!=d.value&&"string"==typeof d.value){var f=new Date(d.value);if(void 0==f||isNaN(f)){if(d.value.indexOf(",")>=0){d.value=d.value.replace(/\,/g,"/");var f=new Date(d.value);void 0==f||isNaN(f)||(d.value=a.jqx._jqxDateTimeInput.getDateTime(f))}}else d.value=a.jqx._jqxDateTimeInput.getDateTime(f)}if(d.host.attr("data-role","input"),d.render(),a.jqx.aria(this),null!=d.getDate()?a.jqx.aria(this,"aria-label","Current focused date is "+d.getDate().toLocaleString()):a.jqx.aria(this,"aria-label","Current focused date is Null"),d.minDate!==d.defaultMinDate&&(d.min=d.minDate),d.maxDate!==d.defaultMaxDate&&(d.max=d.maxDate),d.setMaxDate(d.max,!1),d.setMinDate(d.min,!1),"range"==d.selectionMode)if(c){var e=d.host.attr("value"),g=e.substring(0,e.indexOf("-")),h=e.substring(e.indexOf("-")+1),i=new Date(g),j=new Date(h);void 0==i||isNaN(i)||void 0==j||isNaN(j)||d.setRange(i,j)}else null!=d.getDate()&&d.setRange(d.getDate(),d.getDate())},_format:function(b,c,d){var e=!1;try{void 0!=Globalize&&(e=!0)}catch(f){}if(a.global)return a.global.format(b,c,this.culture);if(!e){if(a.jqx.dataFormat)return b instanceof Date?a.jqx.dataFormat.formatdate(b,c,this.localization.calendar):"number"==typeof b?a.jqx.dataFormat.formatnumber(b,c,this.localization.calendar):a.jqx.dataFormat.formatdate(b,c,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var c=Globalize.format(b,c,this.culture);return c}catch(f){return Globalize.format(b,c)}},render:function(){var b=this;b._removeHandlers(),b.element.innerHTML="",b.host.attr({role:"textbox"}),b.id=a.jqx.utilities.createId();a.jqx.utilities.createId(),a.jqx.utilities.createId();b._setSize(),null==b.width&&(b.width=b.host.width(),b.host.width(b.width)),b.touch=a.jqx.mobile.isTouchDevice();var c=a("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(b.host);b.dateTimeInput=a("<input class='jqx-position-absolute' id='input"+b.element.id+"' autocomplete='off' type='textarea'/>").appendTo(c),b.dateTimeInput.addClass(b.toThemeProperty("jqx-reset")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-clear")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-input-content")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-widget-content")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-rc-all"));var d=b.host.attr("name");d&&b.dateTimeInput.attr("name",d),b.host.attr("tabindex")&&(b.dateTimeInput.attr("tabindex",b.host.attr("tabindex")),b.host.removeAttr("tabindex")),b.rtl&&(b.dateTimeInput.css("direction","rtl"),b.dateTimeInput.addClass("jqx-rtl")),b.calendarButton=a("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(c),b.rtl?b.calendarButton.addClass(b.toThemeProperty("jqx-action-button-rtl")):b.calendarButton.addClass(b.toThemeProperty("jqx-action-button")),b.calendarButtonIcon=a(b.calendarButton.children()[0]),b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon")),b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon-calendar")),b.calendarButton.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.rtl?b.calendarButton.addClass(b.toThemeProperty("jqx-rc-l")):b.calendarButton.addClass(b.toThemeProperty("jqx-rc-r"));var e=this;if(b._arrange(),null!=a.jqx._jqxCalendar&&void 0!=a.jqx._jqxCalendar)try{var f="calendar"+b.id,g=a(a.find("#"+f));g.length>0&&g.remove(),a.jqx.aria(this,"aria-owns",f),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-readonly","range"==b.selectionMode?!0:!1);var h=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+b.id+"'><div id='innerCalendar"+b.id+"'></div></div>");"opera"==a.jqx.utilities.getBrowser().browser&&h.hide(),h.appendTo(document.body),b.container=h,b.calendarContainer=a(a.find("#innerCalendar"+b.id)).jqxCalendar({changing:b.changing,change:b.change,enableViews:b.enableViews,selectableDays:b.selectableDays,views:b.views,rowHeaderWidth:b.rowHeaderWidth,titleHeight:b.titleHeight,columnHeaderHeight:b.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:b.localization,todayString:b.todayString,clearString:b.clearString,dayNameFormat:b.dayNameFormat,rtl:b.rtl,culture:b.culture,showFooter:b.showFooter,selectionMode:b.selectionMode,firstDayOfWeek:b.firstDayOfWeek,showWeekNumbers:b.showWeekNumbers,width:b.dropDownWidth,height:b.dropDownHeight,theme:b.theme}),b.calendarContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.calendarContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.calendarContainer.addClass(b.toThemeProperty("jqx-noshadow")),b._calendar=a.data(b.calendarContainer[0],"jqxCalendar").instance;var e=this;b._calendar.today=function(){e.today()},b._calendar.clear=function(){e.clear()},"opera"==a.jqx.utilities.getBrowser().browser&&h.show(),h.height(parseInt(b.calendarContainer.height())+25),h.width(parseInt(b.calendarContainer.width())+25),"range"==b.selectionMode&&(b.readonly=!0),"none"==b.animationType?b.container.css("display","none"):b.container.hide()}catch(i){}if(a.global&&a.global.preferCulture(b.culture),b.selectedText="",b._addHandlers(),b.self=this,b.oldValue=b.getDate(),b.items=new Array,b.editors=new Array,b._loadItems(),b.editorText="",1==b.readonly&&b.dateTimeInput.css("readonly",b.readonly),b.dateTimeInput.css("text-align",b.textAlign),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-datetimeinput")),b.host.addClass(b.toThemeProperty("jqx-input")),b.host.addClass(b.toThemeProperty("jqx-overflow-hidden")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-reset")),b.host.addClass(b.toThemeProperty("jqx-clear")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.propertyChangeMap.disabled=function(b,c,d,f){f?(b.host.addClass(e.toThemeProperty("jqx-input-disabled")),b.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(b.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(e.toThemeProperty("jqx-input-disabled"))),a.jqx.aria(this,"aria-disabled",f)},b.disabled&&(b.host.addClass(b.toThemeProperty("jqx-input-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dateTimeInput.attr("disabled",!0)),b.host.parents("form").length>0&&b.addHandler(b.host.parents("form"),"reset",function(){setTimeout(function(){e.setDate(new Date)},10)}),b.cookies){var j=a.jqx.cookie.cookie("jqxDateTimeInput"+b.element.id);null!=j&&b.setDate(new Date(j))}if(a.jqx.browser.msie&&a.jqx.browser.version<8&&b.host.parents(".jqx-window").length>0){var k=b.host.parents(".jqx-window").css("z-index");b.container.css("z-index",k+10),b.calendarContainer.css("z-index",k+10)}"default"!=b.culture&&b._applyCulture(),b.value&&(b.calendarContainer.jqxCalendar("_isDisabled",b.value.dateTime)?b.dateTimeInput.addClass(b.toThemeProperty("jqx-input-invalid")):b.dateTimeInput.removeClass(b.toThemeProperty("jqx-input-invalid")))},val:function(a){var b=this;if(0!=arguments.length){if(null==a&&b.setDate(null),"range"==b.selectionMode)return b.setRange(arguments[0],arguments[1]),b.getText();if(a instanceof Date&&b.setDate(a),"string"==typeof a){if("date"==a)return b.getDate();b.setDate(a)}}return b.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height));var c=this,d=function(){c.calendarContainer&&c._arrange()};if(b&&this.calendarContainer){this._arrange();var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var b=parseInt(this.host.width()),c=parseInt(this.host.height()),d=this.buttonSize,e=2;this.showCalendarButton||(d=0,buttonHeight=0,this.calendarButton.hide(),e=0);var f=b-d-1*e;f>0&&(this.dateTimeInput[0].style.width=f+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+f+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=d+1+"px",this.calendarButton[0].style.left=1+f+"px";var g=this.dateTimeInput.height();0==g&&(g=parseInt(this.dateTimeInput.css("font-size"))+3),-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var h=parseInt(c)/2-parseInt(g)/2;h>0&&(this.dateTimeInput[0].style.marginTop=parseInt(h)+"px"),this.rtl&&(this.calendarButton[0].style.width=d+"px",this.calendarButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),a.jqx.browser.msie&&a.jqx.browser.version<=8&&this.dateTimeInput.css("left",1+this.calendarButton.width()))},_removeHandlers:function(){this.removeHandler(a(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(a(window),"resize."+this.id)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXCalendar"+this.id);return null!=c&&c==b.calendarContainer?!0:!1},wheel:function(a,b){var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d?!1:(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){return 0>a?this.spinDown():this.spinUp(),!1},focus:function(){try{var a=this;this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){a._setSelectionStart(0),a._selectGroup(-1),a.dateTimeInput.focus()},15)}catch(b){}},_addHandlers:function(){var b=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(a){var c=b.isOpened();c&&b.close()}),this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(hovered=!0,b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon-calendar-hover")),b.calendarButton.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.calendarButtonIcon.removeClass(b.toThemeProperty("jqx-icon-calendar-hover")),b.calendarButton.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(a(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),a.jqx.mobile.isTouchDevice()&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(c){var d=a.data(document.body,"openedJQXCalendar"+b.id);if(null!=d&&d==b.calendarContainer){var e=b.handleCalendarKey(c,b);return e}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(a){if(13==a.keyCode)return b.isOpened()&&!b._calendar._viewAnimating&&"month"==b._calendar.view?(b.hideCalendar("selected"),b.dateTimeInput.focus(),!1):!0;if(9==a.keyCode){if(b.isOpened())return b.hideCalendar("selected"),!0}else if(27==a.keyCode)return b.isOpened()?(b.hideCalendar(),b.dateTimeInput.focus(),!1):!0;if(115==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1;if(!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}if(a.altKey)if(38==a.keyCode){if(b.isOpened())return b.hideCalendar(),b.dateTimeInput.focus(),!1}else if(40==a.keyCode&&!b.isOpened())return b.showCalendar(),b.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(c){if(b.closeCalendarAfterSelection){a.data(document.body,"openedJQXCalendarValue");"mouse"==c.args.selectionType&&("range"!=b.selectionMode?b.hideCalendar("selected"):0==b._calendar._clicks&&b.hideCalendar("selected"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(c){b.closeCalendarAfterSelection&&b._calendar.value&&a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(b._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(a){if(null!=b.value){b.isEditing=!1;b.value.dateTime.getDay(),b._oldDT;b._validateValue(!0),a.stopPropagation&&a.stopPropagation(),b._updateText(),b._raiseEvent(9,a)}b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(a){b.focus()}),this.addHandler(this.dateTimeInput,"focus",function(a){if(null!=b.value){"range"!=b.selectionMode?b._oldDT=new Date(b.value.dateTime):b._oldDT=b.getRange();var c=b._selection();b.isEditing=!0,b._validateValue(),b._updateText(),b._setSelectionStart(0),b._selectGroup(-1,c),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))}else b._setSelectionStart(0),b._selectGroup(-1),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"));return a.stopPropagation&&a.stopPropagation(),a.preventDefault?(a.preventDefault(),!1):void 0});var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,c,function(a){var c=b.container,d="block"==c.css("display");if(!b.disabled&&!b.isanimating){if(d)return b.hideCalendar(),!1;b.showCalendar(),a.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this.addHandler(this.dateTimeInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.dateTimeInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.dateTimeInput,"keyup",function(a){return b._raiseEvent(5,a)}),this.addHandler(this.dateTimeInput,"keypress",function(a){return b._raiseEvent(6,a)})},createID:function(){var a=Math.random()+"";return a=a.replace(".",""),a="99"+a,a/=1,"dateTimeInput"+a},setMaxDate:function(b,c){null!=b&&(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this._calendar&&this._calendar.setMaxDate(b),0!=c&&(null!=this.getDate()&&this.getDate()>b&&this.setDate(b),a.jqx.aria(this,"aria-valuemax",b),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b,c){null!=b&&(null==b||"string"!=typeof b||(b=new Date(b),"Invalid Date"!=b))&&(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this._calendar&&this._calendar.setMinDate(b),0!=c&&(null!=this.getDate()&&this.getDate()<b&&this.setDate(b),a.jqx.aria(this,"aria-valuemin",b),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var b=!1;try{void 0!=Globalize&&(b=!0)}catch(c){}try{if(a.global)a.global.preferCulture(this.culture),this.localization.calendar=a.global.culture.calendar;else if(b){var d=Globalize.culture(this.culture);this.localization.calendar=d.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(c){}},propertyMap:function(a){return"value"==a?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("popupZIndex"==c&&b.calendarContainer.css({zIndex:e}),"selectionMode"==c&&(b._calendar.selectionMode=e,b.refreshValue()),"min"==c&&("string"==typeof e?b.setMinDate(new Date(e)):b.setMinDate(e)),"max"==c&&("string"==typeof e?b.setMaxDate(new Date(e)):b.setMaxDate(e)),"value"==c)if(null!=e&&e instanceof Date){if(isNaN(e.getFullYear())||isNaN(e.getMonth())||isNaN(e.getDate()))return void(this.value=d);e=a.jqx._jqxDateTimeInput.getDateTime(e)}else if(null!=e&&"string"==typeof e){var f=new Date(e);void 0==f||isNaN(f)||(this.value=a.jqx._jqxDateTimeInput.getDateTime(f))}if("views"==c&&b.calendarContainer.jqxCalendar({views:e}),"enableViews"==c&&b.calendarContainer.jqxCalendar({enableViews:e}),"selectableDays"==c&&b.calendarContainer.jqxCalendar({selectableDays:e}),"showFooter"==c&&b.calendarContainer.jqxCalendar({showFooter:e}),"rtl"==c&&(b.calendarContainer.jqxCalendar({rtl:e}),e?(b.dateTimeInput.css("direction","rtl"),b.dateTimeInput.addClass("jqx-rtl")):(b.dateTimeInput.css("direction","ltr"),b.dateTimeInput.removeClass("jqx-rtl"))),("todayString"==c||"clearString"==c)&&b.calendarContainer.jqxCalendar({clearString:b.clearString,todayString:b.todayString}),"dayNameFormat"==c&&b.calendarContainer.jqxCalendar({dayNameFormat:e}),"firstDayOfWeek"==c&&b.calendarContainer.jqxCalendar({firstDayOfWeek:e}),"showWeekNumbers"==c&&b.calendarContainer.jqxCalendar({showWeekNumbers:e}),"culture"==c||"localization"==c?b._applyCulture():"formatString"==c&&b._loadItems(),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"width"==c||"height"==c)return void b.refresh();b._setOption(c,e),("dropDownWidth"==c||"dropDownHeight"==c)&&(b.calendarContainer.jqxCalendar({width:b.dropDownWidth,height:b.dropDownHeight}),b._calendar.render(),b.container.height(b.calendarContainer.height()),b.container.width(b.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var a=new Date;a.setHours(0,0,0,0),"range"!=this.selectionMode?this.setDate(a):(this._calendar._clicks=1,this.setRange(a,a),this._calendar._clicks=0),this.hideCalendar()},setDate:function(b){var c=this.getDate();if(null!=b&&"string"==typeof b&&(b.toString().indexOf(",")>=0&&(b=b.replace(/\,/g,"/"),b=new Date(b)),""!=b)){var d=b;if(b=new Date(b),"Invalid Date"==b&&(void 0!=Globalize?b=Globalize.parseDate(d,this.formatString,this.culture):a.jqx.dataFormat&&(b=a.jqx.dataFormat.parsedate(d,this.formatString,this.localization.calendar)),"Invalid Date"==b))return}if((null==b||"null"==b||"undefined"==b)&&(this.allowNullDate||(b=this.min)),"Invalid Date"==b&&(b=null),null==b||"null"==b||"undefined"==b||""===b)return void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",b),this._raiseEvent("9",b)));if(!(b<this.getMinDate()||b>this.getMaxDate())){null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),b.getFullYear&&(this.value._setYear(b.getFullYear()),this.value._setDay(1),this.value._setMonth(b.getMonth()+1),this.value._setHours(b.getHours()),this.value._setMinutes(b.getMinutes()),this.value._setSeconds(b.getSeconds()),this.value._setMilliseconds(b.getMilliseconds()),this.value._setDay(b.getDate())),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions);var e=this.getDate(),f=e-c;0!=f&&(this._raiseEvent("0",b),this._raiseEvent("9",b))}},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(b,c){if("Invalid Date"==b&&(b=null),"Invalid Date"==c&&(c=null),!(null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||null!=c&&"string"==typeof c&&(c=new Date(c),"Invalid Date"==c)||b&&isNaN(b)&&"NaN"==b.toString()&&"string"!=typeof b||c&&isNaN(c)&&"NaN"==c.toString()&&"string"!=typeof c)){this._calendar.setRange(b,c);var d=b;null!=d&&d.getFullYear&&(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(d.getFullYear()),this.value._setMonth(d.getMonth()+1),this.value._setHours(d.getHours()),this.value._setMinutes(d.getMinutes()),this.value._setSeconds(d.getSeconds()),this.value._setMilliseconds(d.getMilliseconds()),this.value._setDay(d.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){return this._calendar.getRange()},_validateValue:function(a){for(var b=!1,c=0;c<this.items.length;c++){var d=this.editors[c].value;switch(this.items[c].type){case"FORMAT_AMPM":0>d?d=0:d>1&&(d=1);break;case"Character":break;case"Day":1>d?d=1:d>31&&(d=31);break;case"FORMAT_hh":1>d?d=1:d>12&&(d=12);break;case"FORMAT_HH":0>d?d=0:d>23&&(d=23);break;case"Millisecond":0>d?d=0:d>99&&(d=99);break;case"Minute":0>d?d=0:d>59&&(d=59);break;case"Month":1>d?d=1:d>12&&(d=12);break;case"ReadOnly":break;case"Second":0>d?d=0:d>59&&(d=59);break;case"Year":d<this.minDate.year?d=this.minDate.year:d>this.maxDate.year&&(d=this.maxDate.year)}this.editors[c].value!=d&&(this.editors[c].value=d,b=!0)}this.updateValue(),null!=this.value&&a===!0&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},spinDown:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(-1==b)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},_passKeyToCalendar:function(a){if(13==a.keyCode||9==a.keyCode)return this.hideCalendar("selected"),!0;if(27==a.keyCode){var b=(this.calendarContainer,this._calendar),c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,b.setDate(this.value.dateTime),this.closeCalendarAfterSelection=c,this.hideCalendar()}var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var d=this._calendar._handleKey(a);return this.closeCalendarAfterSelection=c,d},handleCalendarKey:function(b,c){var d=(a(b.target),a.data(document.body,"openedJQXCalendar"+this.id));if(null!=d&&d.length>0){var e=c._passKeyToCalendar(b);return e}return!0},_findPos:function(b){if(null!=b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.showCalendar()},close:function(a){this.hideCalendar()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showCalendar:function(){var b=this.calendarContainer,c=this._calendar;a.jqx.aria(this,"aria-expanded",!0),null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,c.canRender||(c.canRender=!0,c.render());var d,e=(this.container,this),f=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),g=parseInt(Math.round(this.host.coord(!0).left));d=g+"px";var h=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone(),i=a.jqx.utilities.hasTransform(this.host);(i||null!=h&&h)&&(d=a.jqx.mobile.getLeftPos(this.element),
f=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(f=parseInt(f)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(d=parseInt(d)-this._getBodyOffset().left+"px")),this.container.css("left",d),this.container.css("top",f);var j=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==e.selectionMode){this._validateValue(),this._updateText();var k=null!=this.value?this.value.dateTime:new Date;c.setDate(k)}this.closeCalendarAfterSelection=j;var l=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var m=this.container.outerWidth(),n=Math.abs(m-this.host.outerWidth()+2);if(this.rtl||(n-=2),m>this.host.width()){var o=23;this.container.css("left",o+parseInt(Math.round(g))-n+"px")}else this.container.css("left",25+parseInt(Math.round(g))+n+"px")}if(this.enableBrowserBoundsDetection){var p=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(f)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=p.top?(l=!0,b.css("top",23),b.addClass(this.toThemeProperty("jqx-popup-up"))):b.css("top",0),this.container.css("top",p.top),parseInt(this.container.css("left"))!=p.left&&this.container.css("left",p.left)}if(this._raiseEvent(7,b),"none"!=this.animationType){this.container.css("display","block");var q=parseInt(b.outerHeight());b.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(b.css("margin-top",0),b.css("opacity",0),b.animate({opacity:1},this.openDelay,function(){e.isanimating=!1,e.opening=!1,a.data(document.body,"openedJQXCalendar"+e.id,b),e.calendarContainer.focus()})):(b.css("opacity",1),l?b.css("margin-top",q):b.css("margin-top",-q),b.animate({"margin-top":0},this.openDelay,function(){e.isanimating=!1,e.opening=!1,a.data(document.body,"openedJQXCalendar"+e.id,b),e.calendarContainer.focus()}))}else b.stop(),e.isanimating=!1,e.opening=!1,b.css("opacity",1),b.css("margin-top",0),this.container.css("display","block"),a.data(document.body,"openedJQXCalendar"+e.id,b),this.calendarContainer.focus();null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(b){var c=this.calendarContainer,d=this.container,e=this;if(a.jqx.aria(this,"aria-expanded",!1),a.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var f=c.outerHeight();c.css("margin-top",0),this.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?c.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1}):c.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1})}else d.css("display","none");void 0!=b&&this._updateSelectedDate(),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,c)},_updateSelectedDate:function(){var b=this.value;null==b&&(b=new a.jqx._jqxDateTimeInput.getDateTime(new Date),b._setHours(0),b._setMinutes(0),b._setSeconds(0),b._setMilliseconds(0));var c=b.hour,d=b.minute,e=b.second,f=b.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var g=new a.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);g._setHours(c),g._setMinutes(d),g._setSeconds(e),g._setMilliseconds(f),this.setDate(g.dateTime)},_closeOpenedCalendar:function(b){var c=a(b.target),d=a.data(document.body,"openedJQXCalendar"+b.data.me.id),e=!1;if(a.each(c.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return e=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return e=!0,!1}}),a(b.target).ischildof(b.data.me.host))return!0;if(null!=b.target&&("B"==b.target.tagName||"b"==b.target.tagName)){var f=b.data.me.host.coord(),g=b.data.me.host.width(),h=b.data.me.host.height(),i=parseInt(f.top),j=parseInt(f.left);if(i<=b.pageY&&b.pageY<=i+h&&j<=b.pageX&&b.pageX<=j+g)return!0}if(null!=d&&!e&&d.length>0){var k=d[0].id.toString(),l=k.toString().substring(13);a(document).find("#"+l);b.data.me.hideCalendar(),a.data(document.body,"openedJQXCalendar"+b.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var a=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(a),this.editors=new Array;for(var b=0;b<this.items.length;b++){var c=this.items[b].getDateTimeEditorByItemType(this.value,this);this.editors[b]=c}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var b=this,c="";if(0==b.items.length&&null!=b.value&&b._loadItems(),null!=b.value){b.items.length>=1&&(c=b.format(b.value,0,b.items.length));var d=b.dateTimeInput.val();d!=c&&b._raiseEvent(1,b.value)}if("range"==b.selectionMode){var e=b.getRange();if(fromText=b.format(b.value,0,b.items.length),e.to){var f=a.jqx._jqxDateTimeInput.getDateTime(e.from);fromText=b.format(f,0,b.items.length);var g=a.jqx._jqxDateTimeInput.getDateTime(e.to);toText=b.format(g,0,b.items.length);var c=fromText+" - "+toText;" - "==c&&(c="")}else c=""}b.dateTimeInput.val(c)},format:function(a,b,c){for(var d="",e=b;c>e;++e){var f=this.items[e].dateParser(a,this);if(this.isEditing&&"ReadOnly"!=this.items[e].type&&"range"!=this.selectionMode){var g="Day"==this.items[e].type&&this.items[e].format.length>2;if("FORMAT_AMPM"==this.items[e].type&&(g=!0,f=0==this.editors[e].value?this.editors[e].amString:this.editors[e].pmString),!g)for(f=this.items[e].dateParserInEditMode(new Number(this.editors[e].value),"d"+this.editors[e].maxEditPositions,this);f.length<this.editors[e].maxEditPositions;)f="0"+f}d+=f}return d},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i)if(a.substring(i,i+1)!=a.substring(0,1))return i;return a.length},_parseFormatValue:function(b){for(var c=new Array,d=b.toString(),e=0;d.length>0;){var f=this._getFormatValueGroupLength(d),g=null;switch(d.substring(0,1)){case":":case"/":f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var h=d.indexOf(d[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1+Math.max(1,h-1)),"ReadOnly",this.culture),f=Math.max(1,h+1);break;case"\\":d.length>=2&&(g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1),"ReadOnly",this.culture),f=2);break;case"d":case"D":g=f>2?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture);break;case"f":case"F":f>7&&(f=7),g=f>3?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Millisecond",this.culture);break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Minute",this.culture);break;case"M":f>4&&(f=4),g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_AMPM",this.culture);break;case"y":case"Y":f>1?g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Year",this.culture):(f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;default:f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture)}c[e]=a.extend(!0,{},g),d=d.substring(f),e++}return c},_getFormatValue:function(a){if((null==a||0==a.length)&&(a="d"),1==a.length)switch(a.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==a.length&&"%"==a.substring(0,1)&&(a=a.substring(1)),a},_updateEditorsValue:function(){var a=this.value;if(null!=a){var b=a.year,c=a.day,d=a.hour,e=a.millisecond,f=a.second,g=a.minute,h=a.month;if(null!=this.items)for(var i=0;i<this.items.length;i++)switch(this.items[i].type){case"FORMAT_AMPM":var j=d%12;0==j&&(j=12),d>=0&&12>d?this.editors[i].value=0:this.editors[i].value=1;break;case"Day":this.editors[i].value=c;break;case"FORMAT_hh":var j=d%12;0==j&&(j=12),this.editors[i].value=j;break;case"FORMAT_HH":this.editors[i].value=d;break;case"Millisecond":this.editors[i].value=e;break;case"Minute":this.editors[i].value=g;break;case"Month":this.editors[i].value=h;break;case"Second":this.editors[i].value=f;break;case"Year":this.editors[i].value=b}}},updateValue:function(){if(!(this.isEditing||this.items&&0==this.items.length)){for(var b=1,c=1,d=0,e=0,f=0,g=0,h=1,i=0,j=!1,k=!1,l=!1,m=new Array,n=null,o=0,p=0;p<this.items.length;p++)switch(this.items[p].type){case"FORMAT_AMPM":i=this.editors[p].value,n=this.editors[p];break;case"Character":break;case"Day":this.items[p].format.length<3&&(c=this.editors[p].value,m[o++]=this.editors[p],0==c&&(c=1),l=!0);break;case"FORMAT_hh":var q=this.editors[p];d=q.value;break;case"FORMAT_HH":d=this.editors[p].value;break;case"Millisecond":e=this.editors[p].value;break;case"Minute":g=this.editors[p].value;break;case"Month":h=this.editors[p].value,k=!0,0==h&&(h=1);break;case"ReadOnly":break;case"Second":f=this.editors[p].value;break;case"Year":j=!0,b=this.editors[p].value;var r=this.editors[p].getDateTimeItem().format;if(r.length<3){var s="1900";if(4==s.Length){var t,u=""+s[0]+s[1];t=parseInt(u),b+=100*t}}0==b&&(b=1)}var v=null!=this.value?new Date(this.value.dateTime):null;if(b>0&&h>0&&c>0&&g>=0&&d>=0&&f>=0&&e>=0){var w=this.value;null!=w&&(j||(b=w.year),k||(h=w.month),l||(c=w.day));try{if(h>12&&(h=12),1>h&&(h=1),w._daysInMonth(b,h)<=c&&(c=w._daysInMonth(b,h),null!=m&&m.length>0))for(p=0;p<m.length;p++)m[p].value=c;null!=n&&(0==n.value?d>=12&&(d-=12):24>d+12&&(d+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(b)),this.value._setDay(c),this.value._setMonth(h),this.value._setHours(d),this.value._setMinutes(g),this.value._setSeconds(f),this.value._setMilliseconds(e)}catch(x){this.value=w}if(null!=v){var y=this.value.dateTime.getFullYear()==v.getFullYear()&&this.value.dateTime.getDate()==v.getDate()&&this.value.dateTime.getMonth()==v.getMonth()&&this.value.dateTime.getHours()==v.getHours()&&this.value.dateTime.getMinutes()==v.getMinutes()&&this.value.dateTime.getSeconds()==v.getSeconds();if(!y){if(this.changing){var z=this.changing(v,this.value.dateTime);z&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(z))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}var A=this.editors.indexOf(this.activeEditor);this.items[A];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year)),this.value._setDay(a.day),this.value._setMonth(a.month),this.value._setHours(a.hour),this.value._setMinutes(a.minute),this.value._setSeconds(a.second),this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(b,c){var d=this.events[b],e={};e.owner=this,null==c&&(c={});var f=c.charCode?c.charCode:c.keyCode?c.keyCode:0,g=!0,h=this.readonly,i=new a.Event(d);if(i.owner=this,i.args=e,i.args.date=this.getDate(),this.element.value=this.dateTimeInput.val(),9==b&&"range"!=this.selectionMode){var j=i.args.date;if(this._oldDT){if(null!=j&&j.getFullYear()==this._oldDT.getFullYear()&&j.getMonth()==this._oldDT.getMonth()&&j.getDate()==this._oldDT.getDate()&&j.getHours()==this._oldDT.getHours()&&j.getMinutes()==this._oldDT.getMinutes()&&j.getSeconds()==this._oldDT.getSeconds())return!0;a.jqx.aria(this,"aria-valuenow",this.getDate()),a.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?a.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):a.jqx.aria(this,"aria-label","Current focused date is Null")}}if("range"==this.selectionMode&&(i.args.date=this.getRange(),this._oldDT)){var j=i.args.date.from;if(9==b){var k=!1,l=!1,m=this._oldDT.from;null!=j&&m&&j.getFullYear()==m.getFullYear()&&j.getMonth()==m.getMonth()&&j.getDate()==m.getDate()&&j.getHours()==m.getHours()&&j.getMinutes()==m.getMinutes()&&j.getSeconds()==m.getSeconds()&&(k=!0);var j=i.args.date.to;if(null!=j&&(m=this._oldDT.to,m&&j.getFullYear()==m.getFullYear()&&j.getMonth()==m.getMonth()&&j.getDate()==m.getDate()&&j.getHours()==m.getHours()&&j.getMinutes()==m.getMinutes()&&j.getSeconds()==m.getSeconds()&&(l=!0)),k&&l)return!0;var k=i.args.date.from;k=null==k?"":k.toString();var l=i.args.date.to;l=null==l?"":l.toString(),a.jqx.aria(this,"aria-valuenow",k+"-"+l),a.jqx.aria(this,"aria-valuetext",this.getText()),k&&l&&a.jqx.aria(this,"aria-label","Current focused range is "+k.toLocaleString()+"-"+l.toLocaleString())}}if("none"==this.host.css("display"))return!0;2!=b&&3!=b&&4!=b&&5!=b&&6!=b&&(g=this.host.trigger(i),i.stopPropagation&&i.stopPropagation());var n=this;if(h||2!=b||this.disabled||setTimeout(function(){n.isEditing=!0,"range"==this.selectionMode?n._selectGroup(-1):n._selectGroup(-1)},25),4==b){if(h||this.disabled)return(8==f||46==f)&&(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==f?!0:!1;g=this._handleKeyDown(c,f)}else if(5==b){if(9==f)return!0;if(h||this.disabled)return!1}else if(6==b){if(9==f)return!0;if(h||this.disabled)return!1;g=this._handleKeyPress(c,f)}return g},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(c);for(;c>0;)if(this.activeEditor=this.editors[--c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&a!=this.activeEditor&&"ReadOnly"!=this.items[c].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(c);for(;c<=this.editors.length-2;)if(this.activeEditor=this.editors[++c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){if("Day"==this.items[c].type&&this.items[c].format.length>2)break;b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&this.activeEditor!=a&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=0),this.activeEditor!=a?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var a=this._selection(),b="",c=this.dateTimeInput.val();if(a.start>0||a.length>0)for(i=a.start;i<a.end;i++)b+=c[i];return window.clipboardData.setData("Text",b),b},_selectWithAdvancePattern:function(){var a=this.editors.indexOf(this.activeEditor),b=!1;if("ReadOnly"!=this.items[a].type&&(b=!0),b){var c=this.activeEditor;if(null!=c){var d=c.positions==c.maxEditPositions;if(d){this.editorText="";var e=c.value,f=!1;switch(this.items[a].type){case"FORMAT_AMPM":0>e?e=0:e>1&&(e=1);break;case"Character":break;case"Day":1>e?e=1:e>31&&(e=31);break;case"FORMAT_hh":1>e?e=1:e>12&&(e=12);break;case"FORMAT_HH":0>e?e=0:e>23&&(e=23);break;case"Millisecond":0>e?e=0:e>99&&(e=99);break;case"Minute":0>e?e=0:e>59&&(e=59);break;case"Month":1>e?e=1:e>12&&(e=12);break;case"ReadOnly":break;case"Second":0>e?e=0:e>59&&(e=59);break;case"Year":e<this.minDate.year?e=this.minDate.year:e>this.maxDate.year&&(e=this.maxDate.year)}return c.value!=e&&(f=!0),f?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(a,b){var c=this._selection(),d=this;if(a.ctrlKey&&97==b||a.ctrlKey&&65==b)return!0;if(8==b)return c.start>0&&d._setSelectionStart(c.start),!1;if(46==b)return c.start<this.items.length&&d._setSelectionStart(c.start),!1;if(c.start>=0){var e=String.fromCharCode(b),f=parseInt(e);if(("p"==e||"a"==e||"A"==e||"P"==e)&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=e&&"P"!=e?1!=this.activeEditor.value||"a"!=e&&"A"!=e||this.spinDown():this.spinUp()),!isNaN(f)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var g=!1,h=this.editors.indexOf(this.activeEditor),i=null;if(this.isEditing=!0,"ReadOnly"!=h.type&&(i=this.activeEditor),null!=i&&0==i.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(e),null!=i&&this.editorText.length>=i.maxEditPositions&&(this.editorText=""),this.editorText+=e;var j=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var k=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==k&&j&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return g=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var l=this._isSpecialKey(b);return l},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(b,c){if(115==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1;if(!this.isOpened())return this.showCalendar(),!1}if(b.altKey)if(38==b.keyCode){if(this.isOpened())return this.hideCalendar(),!1}else if(40==b.keyCode&&!this.isOpened())return this.showCalendar(),!1;{if(!this.isOpened()){this._selection();if(b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this._saveSelectedText(b),!1;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return!1;if(8==c||46==c){if(b.altKey||b.ctrlKey||46!=c){if(null!=this.activeEditor){var d=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var e=this._format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);if(tmp=e,tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1),parseInt(tmp)<this.activeEditor.minValue&&(tmp=this._format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)),this.enableAbsoluteSelection?this.activeEditor.value=tmp:this.activeEditor.value=this.activeEditor.minValue,this._validateValue(),this._updateText(),8==c){var f=this;this.enableAbsoluteSelection&&this.activeEditor.positions>0?setTimeout(function(){f.activeEditor.positions=f.activeEditor.positions-1,f._selectGroup(d)},10):setTimeout(function(){f._doLeftKey()},10)}else this._selectGroup(d)}else this._doLeftKey()}}else this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()));return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;if(37==c){if(this._editor){var g=this._doLeftKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doLeftKey(),!1}if(39==c||191==c){if(this._editor){var g=this._doRightKey();return g||(this.isEditing=!1,this._validateValue()),!g}return this._doRightKey(),!1}var h=this._isSpecialKey(c);return null==this.value&&(c>=48&&57>=c||c>=96&&105>=c)&&(new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),a.jqx.browser.mozilla?a.jqx.browser.mozilla&&a.jqx.browser.version>24?!0:h:!0}if(9==b.keyCode)return this.hideCalendar("selected"),!0}},_isSpecialKey:function(a){return 8!=a&&9!=a&&13!=a&&35!=a&&36!=a&&37!=a&&39!=a&&27!=a&&46!=a?!1:!0},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var a=this.dateTimeInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.dateTimeInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_selectGroup:function(a,b){if("none"!=this.host.css("display")&&!this.readonly){if(!b)var b=this._selection();for(var c="",d="",e=null,f=0;f<this.items.length;f++){if(d=this.items[f].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[f].type){var g="Day"==this.items[f].type&&this.items[f].format.length>2;if(!g&&"FORMAT_AMPM"!=this.items[f].type)for(d=this.items[f].dateParserInEditMode(new Number(this.editors[f].value),"d"+this.editors[f].maxEditPositions,this);d.length<this.editors[f].maxEditPositions;)d="0"+d}if(c+=d,"ReadOnly"!=this.items[f].type&&!("Day"==this.items[f].type&&this.items[f].format.length>2))if(void 0!=a&&-1!=a){if(f>=a){var h=c.length-d.length,i=d.length;this.enableAbsoluteSelection&&!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(i=1,h+=this.editors[f].positions),h==this.dateTimeInput.val().length&&h--,this._setSelection(h,h+i),e=this.editors[f],this.activeEditor=e;break}}else if(c.length>=b.start){e=this.editors[f],this.activeEditor=e;var h=c.length-d.length,i=1;this.enableAbsoluteSelection?!isNaN(parseInt(d))&&this.isEditing&&-1!=a&&(i=1,h+=this.editors[f].positions):i=d.length,this._setSelection(h,h+i);break}}f<this.items.length&&-1==a&&"ReadOnly"!=this.items[f].type&&(this.activeEditor.positions=0);var j=this._selection();if(0==j.length&&j.start>0){this._getLastEditableEditorIndex()}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(a=i));return a},_setSelection:function(a,b){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(a,b);else{var c=this.dateTimeInput[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){this.host.removeClass("jqx-rc-all"),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(a){1!=a&&(this._setSize(),this._arrange())},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_setOption:function(a,b){"value"===a&&(this.value=b,this._refreshValue(),this._raiseEvent(9,{})),"maxDate"==a&&(this._calendar.maxDate=b,this._raiseEvent(9,{})),"minDate"==a&&(this._calendar.minDate=b,this._raiseEvent(9,{})),"showCalendarButton"==a&&(b?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==a&&this.dateTimeInput.attr("disabled",b),"readonly"==a&&(this.readonly=b,this.dateTimeInput.css("readonly",b)),"textAlign"==a&&(this.dateTimeInput.css("text-align",b),this.textAlign=b),"width"==a?(this.width=b,this.width=parseInt(this.width),this._arrange()):"height"==a&&(this.height=b,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={},a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(a,b,c){return this.format=a,this.type=b,this.culture=c,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(a,b){if(null==a)return"";var c=b._format(a.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return c},dateParserInEditMode:function(a,b,c){if(null==a)return"";var d=c._format(a.toString(),1==b.length?"%"+b:b,this.culture);return d},getDateTimeEditorByItemType:function(b,c){switch(this.type){case"FORMAT_AMPM":var d=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,b.hour/12,c.localization.calendar.AM[0],c.localization.calendar.PM[0],this,c),e=a.extend({},d);return e;case"Character":return null;case"Day":var f,g=b.year,h=b.month;f=3==this.format.length?c.localization.calendar.days.namesAbbr:this.format.length>3?c.localization.calendar.days.names:null;var i=b.day;null!=f&&(i=b.dayOfWeek+1);var j=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(b,b.day,1,b._daysInMonth(g,h),1==this.format.length?1:2,2,f,this,c),e=a.extend({},j);return e;case"FORMAT_hh":var k=b.hour%12;0==k&&(k=12);var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(k,1,12,1==this.format.length?1:2,2,this,c),e=a.extend({},l);return e;case"FORMAT_HH":var m=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.hour,0,23,1==this.format.length?1:2,2,this,c),e=a.extend({},m);return e;case"Millisecond":var n=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,c),e=a.extend({},n);return e;case"Minute":var o=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.minute,0,59,1==this.format.length?1:2,2,this,c),e=a.extend({},o);return e;case"Month":var p;p=3==this.format.length?c.localization.calendar.months.namesAbbr:this.format.length>3?c.localization.calendar.months.names:null;var q=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(b.month,2==this.format.length?2:1,p,this,c),e=a.extend({},q);return e;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,b.day,this,c);case"Second":var r=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.second,0,59,1==this.format.length?1:2,2,this,c),e=a.extend({},r);return e;case"Year":var s=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(b.year,this.format.length,this,c),e=a.extend({},s);return e}return null}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},_createYearEditor:function(b,c,d,e){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(0,4>c?99:9999,2==c?2:1,c>3?4:2,d),this.initializeYearEditor(b,c,d.culture),this.handleYears=!0,this.that=e,this},initializeYearEditor:function(a,b,c){this.formatValueLength=b,this.dateTimeFormatInfo=c;var d=a;d=Math.min(d,9999),d=Math.max(d,1),d=this.formatValueLength<4?d%100:d,this.updateActiveEditor(d),this.value=d},updateActiveEditor:function(a){this.value=a,this.positions=0},_createDayEditor:function(b,c,d,e,f,g,h,i,j){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(d,e,1,g,i),this.currentValue=b,this.value=c,this.days=h,this.handleDays=!0,this.that=j,this},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},defaultTextValue:function(){var a=(this.value,this.minEditPositions),b=a,c=this.that._format(this.value,"d"+b,"");return c},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var a=this.value%7+1;return a=this.getDayOfWeek(a),this.days[a]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(a){if(null==a)return this.deleteValue();if(0==a.length)return this.deleteValue();var b=a.substring(0,1);if(!isNaN(b)){var c,d=1,e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return c=e,this.positions>=this.maxEditPositions&&(this.positions=0),c=c.substring(0,this.positions)+b+c.substring(this.positions+1),c=this.setValueByString(c,d),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(null!=this.days){var b=!1;if(b=this.insertLongString(a,b))return b;if(b=this.insertShortString(a,b))return b}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=a,this.defaultInsertString(a)}if(this.handleMonths&&null!=this.dateTimeMonths){var b=!1;if(b=this.insertLongString2(a,b))return b;if(b=this.insertShortString2(a,b))return b}return this.defaultInsertString(a)},insertShortString:function(a,b){if(1==a.length)for(i=0;i<6;++i){var c=(this.value+i)%7+1,d=this.days[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},insertLongString:function(a,b){if(a.length>0)for(i=0;i<6;++i){var c=(this.value+i)%7+1;if(this.days[c-1]==a)return this.updateActiveEditor(c),b=!0}return b},_createMonthEditor:function(b,c,d,e,f){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),
this.initializeFields(1,12,c,2,e),this.dateTimeMonths=d,this.value=b,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=f,this},insertLongString2:function(a,b){if(a.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==a)return this.updateActiveEditor(month),b=!0;return b},insertShortString2:function(a,b){if(1==a.length)for(i=0;i<11;++i){var c=(this.value+i)%12+1,d=this.dateTimeMonths[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)+1,c>9&&(c=0),!a){var d=this.value+1;return d=this.correctMaximumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},decreaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)-1,0>c&&(c=9),!a){var d=this.value-1;return d=this.correctMinimumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(b,c,d,e,f,g,h){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(c,d,e,f,g),this.that=h,this},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},updateActiveEditor:function(a){this.value=a,this.positions=0},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},textValue:function(){var a=(this.value,this.minEditPositions),b=a,c=this.that._format(this.value,"d"+b,"");return c},insert:function(a){if(null==a)return this.deleteValue();if(0==a.length)return this.deleteValue();var b=a.substring(0,1);if(!isNaN(b)){var c,d=1,e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return c=e,this.positions>=this.maxEditPositions&&(this.positions=0),c=c.substring(0,this.positions)+b+c.substring(this.positions+1),c=this.setValueByString(c,d),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)+1,c>9&&(c=0),!a){var d=this.value+1;return d=this.correctMaximumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},decreaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)-1,0>c&&(c=9),!a){var d=this.value-1;return d=this.correctMinimumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return e!=this.value||this.hasDigits()?(this.updateActiveEditor(e),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.DisabledEditor={},a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(a,b,c,d,e,f){return this.format=a,this.value=-1,this.item=e,this.that=f,this},textValue:function(){return""},insert:function(a){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.AmPmEditor={},a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(a,b,c,d,e,f){return this.format=a,this.value=b,this.amString=c,this.pmString=d,this.item=e,this.that=f,c==d&&(this.amString="<"+c,this.pmString=">"+d),this},textValue:function(){var a=this.amString;return 0!=this.value&&(a=this.pmString),1==this.format.length&&a.length>1&&(a=a.substring(0,1)),a},insert:function(a){var b=a.toString();if(0==b.Length)return this.deleteValue();var c=!1;if(this.amString.Length>0&&this.pmString.Length>0){var d=amString[0],e=b[0],f=pmString[0];d.toString()==e.toString()?(this.value=0,c=!0):f.toString()==e.toString()&&(this.value=1,c=!0)}else this.pmString.Length>0?(this.value=1,c=!0):this.amString.Length>0&&(this.value=0,c=!0);return c},deleteValue:function(){var a=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return a},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.getDateTime=function(a){var b={dateTime:new Date(a),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:a.getHours(),minute:a.getMinutes(),day:a.getDate(),second:a.getSeconds(),month:1+a.getMonth(),year:a.getFullYear(),millisecond:a.getMilliseconds(),dayOfWeek:a.getDay(),isWeekend:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=a.getDay()%6==0;return b},dayOfYear:function(a){(void 0==a||null==a)&&(a=this.dateTime);var b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},_setDay:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setDate(a),this.day=this.dateTime.getDate()},_setMonth:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMonth(a-1),this.month=1+this.dateTime.getMonth()},_setYear:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setFullYear(a),this.year=this.dateTime.getFullYear()},_setHours:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setHours(a),this.hour=this.dateTime.getHours()},_setMinutes:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMinutes(a),this.minute=this.dateTime.getMinutes()},_setSeconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setSeconds(a),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(a){(void 0==a||null==a)&&(a=0),this.dateTime.setMilliseconds(a),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(a){var b=this.dateTime,c=b.getDate();return b.setDate(b.getDate()+a),c===b.getDate()&&b.setHours(b.getHours()+b.getTimezoneOffset()/60),b},_addWeeks:function(a){var b=this.dateTime;return b.setDate(b.getDate()+7*a),b},_addMonths:function(a){var b=this.dateTime;return b.setMonth(b.getMonth()+a),b},_addYears:function(a){var b=this.dateTime;return b.setFullYear(b.getFullYear()+a),b},_addHours:function(a){var b=this.dateTime;return b.setHours(b.getHours()+a),b},_addMinutes:function(a){var b=this.dateTime;return b.setMinutes(b.getMinutes()+a),b},_addSeconds:function(a){var b=this.dateTime;return b.setSeconds(b.getSeconds()+a),b},_addMilliseconds:function(a){var b=this.dateTime;return b.setMilliseconds(b.getMilliseconds()+a),b},_isLeapYear:function(a){if(1>a||a>9999)throw"invalid year";return a%4!=0?!1:a%100==0?a%400==0:!0},_dateToTicks:function(a,b,c){if(a>=1&&9999>=a&&b>=1&&12>=b){var d=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;if(c>=1&&c<=d[b]-d[b-1]){var a=a-1,e=365*a+a/4-a/100+a/400+d[b-1]+c-1;return 864e9*e}}},_daysInMonth:function(a,b){if(1>b||b>12)throw"Invalid month.";var c=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;return c[b]-c[b-1]},_timeToTicks:function(a,b,c){var d=3600*a+60*b+c;return 1e7*d},_equalDate:function(a){return this.year==a.getFullYear()&&this.day==a.getDate()&&this.month==a.getMonth()+1?!0:!1}};return b}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxChart","",{}),a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){var b={title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipFormatFunction:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#888888",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,drawBefore:null,draw:null};a.extend(!0,this,b),this._createColorsCache()},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},createInstance:function(b){if(!a.jqx.dataAdapter)throw"jqxdata.js is not loaded";var c=this;c._refreshOnDownloadComlete(),c._isTouchDevice=a.jqx.mobile.isTouchDevice(),c.addHandler(c.host,c._getEvent("mousemove"),function(b){if(0!=c.enabled){b.preventDefault();var d=b.pageX||b.clientX||b.screenX,e=b.pageY||b.clientY||b.screenY,f=c.host.offset();c._isTouchDevice&&(f=a.jqx.position(b),d=f.left,e=f.top),d-=f.left,e-=f.top,c.onmousemove(d,e)}}),c.addHandler(c.host,c._getEvent("mouseleave"),function(a){if(0!=c.enabled){var b=c._mouseX,d=c._mouseY,e=c._plotRect;e&&b>=e.x&&b<=e.x+e.width&&d>=e.y&&d<=e.y+e.height||(c._cancelTooltipTimer(),c._hideToolTip(0),c._unselect())}}),c.addHandler(c.host,"click",function(a){0!=c.enabled&&(!isNaN(c._lastClickTs)&&(new Date).valueOf()-c._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(c._isTouchDevice||(c._cancelTooltipTimer(),c._hideToolTip(),c._unselect()),c._pointMarker&&c._pointMarker.element){var a=c.seriesGroups[c._pointMarker.gidx],b=a.series[c._pointMarker.sidx];c._raiseItemEvent("click",a,b,c._pointMarker.iidx)}},100)))});var d=c.element.style;if(d){var e=!1;null!=d.width&&(e|=-1!=d.width.toString().indexOf("%")),null!=d.height&&(e|=-1!=d.height.toString().indexOf("%")),e&&a.jqx.utilities.resize(this.host,function(){c.timer&&clearTimeout(c.timer);var a=1;c.timer=setTimeout(function(){var a=c.enableAnimations;c.enableAnimations=!1,c.refresh(),c.enableAnimations=a},a)},!1,!0)}},_refreshOnDownloadComlete:function(){var b=this,c=this.source;if(c instanceof a.jqx.dataAdapter){var d=c._options;(void 0==d||void 0!=d&&!d.autoBind)&&(c.autoSync=!1,c.dataBind());var e=this.element.id;if(0==c.records.length){var f=function(){b.ready&&b.ready(),b.refresh()};c.unbindDownloadComplete(e),c.bindDownloadComplete(e,f)}else b.ready&&b.ready();c.unbindBindingUpdate(e),c.bindBindingUpdate(e,function(){b.refresh()})}},propertyChangedHandler:function(a,b,c,d){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==b&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b._stopAnimations(),b.renderer&&(b._isToggleRefresh||b._isUpdate)||(b._isVML=!1,b.host.empty(),b._ttEl=void 0,b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh(),b._isUpdate=!1}}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut"],_render:function(b){var c=this,d=c.renderer;c._colorsCache.clear(),!c._isToggleRefresh&&c._isUpdate&&c._renderData&&c._renderDataClone(),c._renderData=[],d.clear(),c._unselect(),c._hideToolTip(0);var e=c.backgroundImage;void 0==e||""==e?c.host.css({"background-image":""}):c.host.css({"background-image":-1!=e.indexOf("(")?e:"url('"+e+"')"}),c._rect=b;var f=c.padding||{left:5,top:5,right:5,bottom:5},g=d.createClipRect(b),h=d.beginGroup();d.setClip(h,g);var i=d.rect(b.x,b.y,b.width-2,b.height-2);if(void 0==e||""==e?d.attr(i,{fill:c.backgroundColor||c.background||"white"}):d.attr(i,{fill:"transparent"}),0!=c.showBorderLine){var j=void 0==c.borderLineColor?c.borderColor:c.borderLineColor;void 0==j&&(j="#888888");var k=this.borderLineWidth;(isNaN(k)||0>k||k>10)&&(k=1),d.attr(i,{"stroke-width":k,stroke:j})}a.isFunction(c.drawBefore)&&c.drawBefore(d,b);var l={x:f.left,y:f.top,width:b.width-f.left-f.right,height:b.height-f.top-f.bottom};c._paddedRect=l;var m,n=c.titlePadding||{left:2,top:2,right:2,bottom:2};if(c.title&&c.title.length>0){var o=c.toThemeProperty("jqx-chart-title-text",null);m=d.measureText(c.title,0,{"class":o}),d.text(c.title,l.x+n.left,l.y+n.top,l.width-(n.left+n.right),m.height,0,{"class":o},!0,"center","center"),l.y+=m.height,l.height-=m.height}if(c.description&&c.description.length>0){var p=c.toThemeProperty("jqx-chart-title-description",null);m=d.measureText(c.description,0,{"class":p}),d.text(c.description,l.x+n.left,l.y+n.top,l.width-(n.left+n.right),m.height,0,{"class":p},!0,"center","center"),l.y+=m.height,l.height-=m.height}(c.title||c.description)&&(l.y+=n.bottom+n.top,l.height-=n.bottom+n.top);var q={x:l.x,y:l.y,width:l.width,height:l.height};c._buildStats(q);for(var r,s=c._isPieOnlySeries(),t=c.seriesGroups,u={},v=0;v<t.length&&!s;v++)if("pie"!=t[v].type&&"donut"!=t[v].type){r="horizontal"==t[v].orientation;var w=t[v].valueAxis;w||(w=t[v].valueAxis={});var x=c._getCategoryAxis(v);if(!x)throw"seriesGroup["+v+"] is missing "+(r?"valueAxis":"xAxis")+" definition";var y=x==c._getCategoryAxis()?-1:v;u[y]=0}var z=c.axisPadding;isNaN(z)&&(z=5);var A={left:0,right:0,leftCount:0,rightCount:0},B=[];for(v=0;v<t.length;v++){var C=t[v];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){r="horizontal"==C.orientation;var D=c._getCategoryAxis(v),y=D==c._getCategoryAxis()?-1:v,w=C.valueAxis;w||(w=C.valueAxis={});var E,F=r?D.axisSize:w.axisSize,G={x:0,y:q.y,width:q.width,height:q.height};F&&"auto"!=F||(r?(F=this._renderCategoryAxis(v,G,!0,q).width,1==(1&u[y])?F=0:F>0&&(u[y]|=1),E=c._getCategoryAxis(v).position):(F=c._renderValueAxis(v,G,!0,q).width,C.valueAxis&&(E=C.valueAxis.position))),"left"!=E&&1==c.rtl&&(E="right"),"right"!=E&&(E="left"),A[E+"Count"]>0&&A[E]>0&&F>0&&(A[E]+=z),B.push({width:F,position:E,xRel:A[E]}),A[E]+=F,A[E+"Count"]++}else B.push({width:0,position:0,xRel:0})}var H=Math.max(1,Math.max(b.width,b.height)),I={top:0,bottom:0,topCount:0,bottomCount:0},J=[];for(v=0;v<t.length;v++){var C=t[v];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){r="horizontal"==C.orientation;var w=C.valueAxis;w||(w=C.valueAxis={});var E,x=c._getCategoryAxis(v),y=x==c._getCategoryAxis()?-1:v,K=r?w.axisSize:x.axisSize;K&&"auto"!=K||(r?(K=c._renderValueAxis(v,{x:0,y:0,width:H,height:0},!0,q).height,c.seriesGroups[v].valueAxis&&(E=C.valueAxis.position)):(K=c._renderCategoryAxis(v,{x:0,y:0,width:H,height:0},!0).height,2==(2&u[y])?K=0:K>0&&(u[y]|=2),E=c._getCategoryAxis(v).position)),"top"!=E&&(E="bottom"),I[E+"Count"]>0&&I[E]>0&&K>0&&(I[E]+=z),J.push({height:K,position:E,yRel:I[E]}),I[E]+=K,I[E+"Count"]++}else J.push({height:0,position:0,yRel:0})}c._createAnimationGroup("series"),c._plotRect=q;var L=0!=c.showLegend,M=L?c._renderLegend(c.legendLayout?c._rect:l,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(M={width:0,height:0}),l.height<I.top+I.bottom+M.height||l.width<A.left+A.right)return void d.endGroup();q.height-=I.top+I.bottom+M.height,q.x+=A.left,q.width-=A.left+A.right,q.y+=I.top;var N=[];if(!s){c._getCategoryAxis().tickMarksColor||"#888888";for(v=0;v<t.length;v++){var C=t[v];if(1!=C.polar&&1!=C.spider){r="horizontal"==C.orientation;var y=c._getCategoryAxis(v)==c._getCategoryAxis()?-1:v,G={x:q.x,y:0,width:q.width,height:J[v].height};if("top"!=J[v].position?G.y=q.y+q.height+J[v].yRel:G.y=q.y-J[v].yRel-J[v].height,r)c._renderValueAxis(v,G,!1,q);else{if(4==(4&u[y]))continue;if(!c._isGroupVisible(v))continue;N.push(G),c._renderCategoryAxis(v,G,!1,q),u[y]|=4}}}}if(L){var O=c.legendLayout?c._rect:l,P=l.x+a.jqx._ptrnd((l.width-M.width)/2),Q=q.y+q.height+I.bottom,F=l.width,K=M.height;c.legendLayout&&(isNaN(c.legendLayout.left)||(P=c.legendLayout.left),isNaN(c.legendLayout.top)||(Q=c.legendLayout.top),isNaN(c.legendLayout.width)||(F=c.legendLayout.width),isNaN(c.legendLayout.height)||(K=c.legendLayout.height)),P+F>O.x+O.width&&(F=O.x+O.width-P),Q+K>O.y+O.height&&(K=O.y+O.height-Q),c._renderLegend({x:P,y:Q,width:F,height:K})}if(c._hasHorizontalLines=!1,!s)for(v=0;v<t.length;v++){var C=t[v];if(1!=C.polar&&1!=C.spider){r="horizontal"==t[v].orientation;var G={x:q.x-B[v].xRel-B[v].width,y:q.y,width:B[v].width,height:q.height};if("left"!=B[v].position&&(G.x=q.x+q.width+B[v].xRel),r){if(8==(8&u[c._getCategoryAxis(v)]))continue;if(!c._isGroupVisible(v))continue;N.push(G),c._renderCategoryAxis(v,G,!1,q),u[c._getCategoryAxis(v)]|=8}else c._renderValueAxis(v,G,!1,q)}}if(!(q.width<=0||q.height<=0)){for(c._plotRect={x:q.x,y:q.y,width:q.width,height:q.height},v=0;v<t.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(v,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(v=0;v<t.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(v,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var R=d.createClipRect({x:q.x,y:q.y,width:q.width,height:q.height}),S=d.beginGroup();for(d.setClip(S,R),v=0;v<t.length;v++){var C=t[v],T=!1;for(var U in c._seriesTypes)if(c._seriesTypes[U]==C.type){T=!0;break}if(!T)throw'jqxChart: invalid series type "'+C.type+'"';if(a.isFunction(C.drawBefore)&&C.drawBefore(d,b,v),(1==C.polar||1==C.spider)&&-1==C.type.indexOf("pie")&&-1==C.type.indexOf("donut")&&c._renderSpiderAxis(v,q),C.bands)for(var V=0;V<C.bands.length;V++)c._renderBand(v,V,q);-1!=C.type.indexOf("column")?c._renderColumnSeries(v,q):-1!=C.type.indexOf("pie")||-1!=C.type.indexOf("donut")?c._renderPieSeries(v,q):-1!=C.type.indexOf("line")||-1!=C.type.indexOf("area")?c._renderLineSeries(v,q):(-1!=C.type.indexOf("scatter")||-1!=C.type.indexOf("bubble"))&&c._renderScatterSeries(v,q),a.isFunction(C.draw)&&c.draw(d,b,v)}if(d.endGroup(),0==c.enabled){var W=d.rect(b.x,b.y,b.width,b.height);d.attr(W,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}if(a.isFunction(c.draw)&&c.draw(d,b),d.endGroup(),c._startAnimation("series"),this._renderCategoryAxisRangeSelector){var X=[];for(v=0;v<c.seriesGroups.length;v++){var Y=this._getCategoryAxis(v);-1==X.indexOf(Y)&&(this._renderCategoryAxisRangeSelector(v,N[v]),X.push(Y))}}}},_isPieOnlySeries:function(){var a=this.seriesGroups;if(0==a.length)return!1;for(var b=0;b<a.length;b++)if("pie"!=a[b].type&&"donut"!=a[b].type)return!1;return!0},_renderChartLegend:function(b,c,d,e){for(var f=this,g=f.renderer,h={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6},i={width:h.width,height:0},j=0,k=0,l=20,m=0,n=10,o=10,p=0,q=0;q<b.length;q++){var r=b[q].css;r||(r=f.toThemeProperty("jqx-chart-legend-text",null)),l=20;var s=b[q].text,t=g.measureText(s,0,{"class":r});t.height>l&&(l=t.height),t.width>p&&(p=t.width),e?(0!=q&&(k+=l),k>h.height&&(k=0,j+=p+o,p=t.width,i.width=j+p)):(0!=j&&(j+=o),j+2*n+t.width>h.width&&t.width<h.width&&(j=0,k+=l,l=20,m=h.width,i.height=k+l));var u=!1;if(t.width>c.width){u=!0;for(var v=c.width,w=s,x=w.split(/\s+/).reverse(),y=[],z="",A=[];void 0!=(word=x.pop());){y.push(word),z=y.join(" ");var B=f.renderer.measureText(z,0,{"class":r});B.width>v&&A.length>0&&(y.pop(),y=[word],z=y.join(" ")),A.push({text:z})}t.width=0;for(var C=0,D=0;D<A.length;D++){var E=A[D].text,B=f.renderer.measureText(E,0,{"class":r});t.width=Math.max(t.width,B.width),C+=t.height}t.height=C}var F=h.x+j+t.width<c.x+c.width&&h.y+k+t.height<c.y+c.height;if(f.legendLayout)var F=h.x+j+t.width<f._rect.x+f._rect.width&&h.y+k+t.height<f._rect.y+f._rect.height;if(!d&&F){var G=b[q].seriesIndex,H=b[q].groupIndex,I=b[q].itemIndex,J=b[q].color,K=f._isSerieVisible(H,G,I),L=g.beginGroup(),M=K?b[q].opacity:.1;if(u){for(var w=s,v=c.width,x=w.split(/\s+/).reverse(),y=[],z="",N=0,A=[];void 0!=(word=x.pop());){y.push(word),z=y.join(" ");var B=f.renderer.measureText(z,0,{"class":r});B.width>v&&A.length>0&&(y.pop(),N+=B.height,y=[word],z=y.join(" ")),A.push({text:z,dy:N})}for(var D=0;D<A.length;D++){var E=A[D].text;N=A[D].dy;var B=f.renderer.measureText(E,0,{"class":r});e?f.renderer.text(E,h.x+j+1.5*n,h.y+k+N,t.width,l,0,{"class":r},!1,"left","center"):f.renderer.text(E,h.x+j+1.5*n,h.y+k+N,t.width,l,0,{"class":r},!1,"center","center")}var O=g.rect(h.x+j,h.y+k+n/2+N/2,n,n);e&&(k+=N),f.renderer.attr(O,{fill:J,"fill-opacity":M,stroke:J,"stroke-width":1,"stroke-opacity":b[q].opacity})}else{var O=g.rect(h.x+j,h.y+k+n/2,n,n);f.renderer.attr(O,{fill:J,"fill-opacity":M,stroke:J,"stroke-width":1,"stroke-opacity":b[q].opacity}),e?f.renderer.text(s,h.x+j+1.5*n,h.y+k,t.width,t.height+n/2,0,{"class":r},!1,"left","center"):f.renderer.text(s,h.x+j+1.5*n,h.y+k,t.width,l,0,{"class":r},!1,"center","center")}f.renderer.endGroup(),f._setLegendToggleHandler(H,G,I,L)}e||(j+=t.width+2*n,j>m&&(m=j))}return d?(i.height=a.jqx._ptrnd(k+l+5),i.width=a.jqx._ptrnd(m),i):void 0},_isSerieVisible:function(b,c,d){for(;this._itemsToggleState.length<b+1;)this._itemsToggleState.push([]);for(var e=this._itemsToggleState[b];e.length<c+1;)e.push(isNaN(d)?!0:[]);var f=e[c];if(isNaN(d))return f;for(a.isArray(f)||(e[c]=f=[]);f.length<d+1;)f.push(!0);return f[d]},_isGroupVisible:function(a){var b=!1,c=this.seriesGroups[a].series;if(!c)return b;for(var d=0;d<c.length;d++)if(this._isSerieVisible(a,d)){b=!0;break}return b},_toggleSerie:function(b,c,d,e){var f=!this._isSerieVisible(b,c,d);void 0!=e&&(f=e);var g=this.seriesGroups[b],h=g.series[c];if(this._raiseEvent("toggle",{state:f,seriesGroup:g,serie:h,elementIndex:d}),isNaN(d))this._itemsToggleState[b][c]=f;else{var i=this._itemsToggleState[b][c];for(a.isArray(i)||(i=[]);i.length<d;)i.push(!0);i[d]=f}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(a,b,c){this._toggleSerie(a,b,c,!0)},hideSerie:function(a,b,c){this._toggleSerie(a,b,c,!1)},_setLegendToggleHandler:function(a,b,c,d){var e=this.seriesGroups[a],f=e.series[b],g=f.enableSeriesToggle;if(void 0==g&&(g=0!=e.enableSeriesToggle),g){var h=this;this.renderer.addHandler(d,"click",function(d){d.preventDefault(),h._toggleSerie(a,b,c)})}},_renderLegend:function(a,b){for(var c=this,d=[],e=0;e<c.seriesGroups.length;e++){var f=c.seriesGroups[e];if(0!=f.showLegend)for(var g=0;g<f.series.length;g++){var h=f.series[g];if(0!=h.showLegend){var i,j=c._getSerieSettings(e,g);if("pie"!=f.type&&"donut"!=f.type){var k=h.legendFormatSettings||f.legendFormatSettings,l=h.legendFormatFunction||f.legendFormatFunction;i=c._formatValue(h.displayText||h.dataField||"",k,l,e,g,NaN);var m=c._getSeriesColors(e,g);d.push({groupIndex:e,seriesIndex:g,text:i,css:h.displayTextClass,color:m.fillColor,opacity:j.opacity})}else for(var n=c._getCategoryAxis(e),k=h.legendFormatSettings||f.legendFormatSettings||n.formatSettings||h.formatSettings||f.formatSettings,l=h.legendFormatFunction||f.legendFormatFunction||n.formatFunction||h.formatFunction||f.formatFunction,o=c._getDataLen(e),p=0;o>p;p++){i=c._getDataValue(p,h.displayText,e),i=c._formatValue(i,k,l,e,g,p);var m=c._getColors(e,g,p);d.push({groupIndex:e,seriesIndex:g,itemIndex:p,text:i,css:h.displayTextClass,color:m.fillColor,opacity:j.opacity})}}}}return c._renderChartLegend(d,a,b,c.legendLayout&&"vertical"==c.legendLayout.flow)},_renderCategoryAxis:function(a,b,c,d){var e=this,f=e._getCategoryAxis(a),g=e.seriesGroups[a],h="horizontal"==g.orientation,i={width:0,height:0};if(!f||0==f.visible||"spider"==g.type)return i;if(!e._isGroupVisible(a))return i;var j=e._alignValuesWithTicks(a);e.rtl&&(f.flip=!0);var k=h?b.height:b.width,l=f.text,m=e._calculateXOffsets(a,k),n=m.axisStats,o=f.rangeSelector,p=0;if(o){if(!this._selectorGetSize)throw new Error("jqxChart: Missing reference to jqxchart.rangeselector.js");p=this._selectorGetSize(f)}var q=n.interval;if(!isNaN(q)){var r,s={visible:0!=f.showGridLines,color:f.gridLinesColor||"#888888",unitInterval:f.gridLinesInterval||q,dashStyle:f.gridLinesDashStyle,offsets:[],alternatingBackgroundColor:f.alternatingBackgroundColor,alternatingBackgroundColor2:f.alternatingBackgroundColor2,alternatingBackgroundOpacity:f.alternatingBackgroundOpacity},t={visible:0!=f.showTickMarks,color:f.tickMarksColor||"#888888",unitInterval:f.tickMarksInterval||q,dashStyle:f.tickMarksDashStyle,offsets:[]},u=f.textRotationAngle||0,v=n.min,w=n.max,x=m.padding,y=1==f.flip||e.rtl;"date"==f.type?(s.offsets=this._generateDTOffsets(v,w,k,x,s.unitInterval,q,n.dateTimeUnit,j,NaN,!1,y),t.offsets=this._generateDTOffsets(v,w,k,x,t.unitInterval,q,n.dateTimeUnit,j,NaN,!1,y),r=this._generateDTOffsets(v,w,k,x,q,q,n.dateTimeUnit,j,NaN,!0,y)):(s.offsets=this._generateOffsets(v,w,k,x,s.unitInterval,q,j,NaN,!1,y),t.offsets=this._generateOffsets(v,w,k,x,t.unitInterval,q,j,NaN,!1,y),r=this._generateOffsets(v,w,k,x,q,q,j,NaN,!0,y)),0==m.length&&(r=[]);var z,A=f.horizontalTextAlignment,B=e.renderer.getRect();B.width-b.x-b.width,e._getDataLen(a);e._elementRenderInfo&&e._elementRenderInfo.length>a&&(z=e._elementRenderInfo[a].xAxis);var C=[],D=f.formatFunction,E=f.formatSettings;"date"!=f.type||E||D||(D=this._getDefaultDTFormatFn(f.baseUnit||"day"));for(var F=0;F<r.length;F++){var G=r[F].value,H=r[F].offset;if("date"!=f.type&&n.useIndeces&&f.dataField){var I=Math.round(G);G=e._getDataValue(I,f.dataField),void 0==G&&(G="")}var l=e._formatValue(G,E,D,a,void 0,F);(void 0==l||""==l)&&(l=n.useIndeces?(n.min+F).toString():void 0==G?"":G.toString());var J={key:G,text:l,targetX:H,x:H};z&&z.itemOffsets[G]&&(J.x=z.itemOffsets[G].x,J.y=z.itemOffsets[G].y),C.push(J)}var K=f.descriptionClass;K||(K=e.toThemeProperty("jqx-chart-axis-description",null));var L=f["class"];L||(L=e.toThemeProperty("jqx-chart-axis-text",null)),h&&(u-=90);for(var M={text:f.description,style:K,halign:f.horizontalDescriptionAlignment||"center",valign:f.verticalDescriptionAlignment||"center",textRotationAngle:h?-90:0},N={textRotationAngle:u,style:L,halign:A,valign:f.verticalTextAlignment||"center",textRotationPoint:f.textRotationPoint||"auto",textOffset:f.textOffset},O=h&&"right"==f.position||!h&&"top"==f.position,P={rangeLength:m.rangeLength,itemWidth:m.itemWidth,intervalWidth:m.intervalWidth,data:m,rect:b},Q={items:C,renderData:P};e._renderData.length<a+1;)e._renderData.push({});e._renderData[a].xAxis=P;var R=e._getAnimProps(a),S=R.enabled&&C.length<500?R.duration:0;0==e.enableAxisTextAnimation&&(S=0),!c&&o&&(h?(b.width-=p,"right"!=f.position&&(b.x+=p)):(b.height-=p,"top"==f.position&&(b.y+=p))),P.gridLinesSettings=s,P.tickMarksSettings=t,P.isMirror=O,P.rect=b;var T=e._renderAxis(h,O,M,N,{x:b.x,y:b.y,width:b.width,height:b.height},d,q,!1,!0,Q,s,t,c,S);return h?T.width+=p:T.height+=p,T}},_animateAxisText:function(a,b){for(var c=a.items,d=a.textSettings,e=0;e<c.length;e++){var f=c[e];if(f.visible){var g=f.targetX,h=f.targetY;isNaN(f.x)||isNaN(f.y)||(g=f.x+(g-f.x)*b,h=f.y+(h-f.y)*b),f.element&&(this.renderer.removeElement(f.element),f.element=void 0),f.element=this.renderer.text(f.text,g,h,f.width,f.height,d.textRotationAngle,{"class":d.style},!1,d.halign,d.valign,d.textRotationPoint)}}},_getPolarAxisCoords:function(b,c){var d=this.seriesGroups[b],e=this._calcGroupOffsets(b,c).xoffsets;if(e){var f=c.x+a.jqx.getNum([d.offsetX,c.width/2]),g=c.y+a.jqx.getNum([d.offsetY,c.height/2]),h=d.radius;isNaN(h)&&(h=Math.min(c.width,c.height)/2*.6);var i=this._alignValuesWithTicks(b),j=d.startAngle;return isNaN(j)?j=0:(j=(0>j?-1:1)*(Math.abs(j)%360),j=2*Math.PI*j/360),{x:f,y:g,r:h,itemWidth:e.itemWidth,rangeLength:e.rangeLength,valuesOnTicks:i,startAngle:j}}},_toPolarCoord:function(b,c,d,e){var f=2*(d-c.x)*Math.PI/Math.max(1,c.width)+b.startAngle,g=(c.height+c.y-e)*b.r/Math.max(1,c.height),h=b.x+g*Math.cos(f),i=b.y+g*Math.sin(f);return{x:a.jqx._ptrnd(h),y:a.jqx._ptrnd(i)}},_renderSpiderAxis:function(b,c){var d=this,e=d._getCategoryAxis(b);if(e&&0!=e.visible){var f=(d.seriesGroups[b],d._getPolarAxisCoords(b,c));if(f){var g=a.jqx._ptrnd(f.x),h=a.jqx._ptrnd(f.y),i=f.r,j=f.startAngle;if(!(1>i)){i=a.jqx._ptrnd(i);var k=2*Math.PI*i,l=d._calculateXOffsets(b,k);if(l.rangeLength){var m=e.unitInterval;(isNaN(m)||1>m)&&(m=1);var n,o={visible:0!=e.showGridLines,color:e.gridLinesColor||"#888888",unitInterval:e.gridLinesInterval||e.unitInterval||m,dashStyle:e.gridLinesDashStyle,offsets:[]},p={visible:0!=e.showTickMarks,color:e.tickMarksColor||"#888888",unitInterval:e.tickMarksInterval||e.unitInterval||m,dashStyle:e.tickMarksDashStyle,offsets:[]},q=e.horizontalTextAlignment,r=d._alignValuesWithTicks(b),s=d.renderer,t=l.axisStats,u=t.min,v=t.max,w=this._getPaddingSize(l.axisStats,e,r,k,!0,!1),x=1==e.flip||d.rtl;"date"==e.type?(o.offsets=this._generateDTOffsets(u,v,k,w,o.unitInterval,m,e.baseUnit,!1,0,!1,x),p.offsets=this._generateDTOffsets(u,v,k,w,p.unitInterval,m,e.baseUnit,!1,0,!1,x),n=this._generateDTOffsets(u,v,k,w,m,m,e.baseUnit,!1,0,!0,x)):(o.offsets=this._generateOffsets(u,v,k,w,o.unitInterval,m,!0,0,!1,x),p.offsets=this._generateOffsets(u,v,k,w,p.unitInterval,m,!0,0,!1,x),n=this._generateOffsets(u,v,k,w,m,m,!0,0,!1,x));var y,q=e.horizontalTextAlignment,z=d.renderer.getRect();z.width-c.x-c.width,d._getDataLen(b);d._elementRenderInfo&&d._elementRenderInfo.length>b&&(y=d._elementRenderInfo[b].xAxis);for(var A=[],B=0;B<n.length;B++){var C=n[B].offset,D=n[B].value;if("date"!=e.type&&t.useIndeces&&e.dataField){var E=Math.round(D);
D=d._getDataValue(E,e.dataField),void 0==D&&(D="")}var F=d._formatValue(D,e.formatSettings,e.formatFunction,b,void 0,B);(void 0==F||""==F)&&(F=t.useIndeces?(t.min+B).toString():void 0==D?"":D.toString());var G={key:D,text:F,targetX:C,x:C};y&&y.itemOffsets[D]&&(G.x=y.itemOffsets[D].x,G.y=y.itemOffsets[D].y),A.push(G)}var H=e.descriptionClass;H||(H=d.toThemeProperty("jqx-chart-axis-description",null));var I=e["class"];I||(I=d.toThemeProperty("jqx-chart-axis-text",null));var F=e.text,J=e.textRotationAngle||0,K="horizontal"==d.seriesGroups[b].orientation;K&&(J-=90);for(var L=({text:e.description,style:H,halign:e.horizontalDescriptionAlignment||"center",valign:e.verticalDescriptionAlignment||"center",textRotationAngle:K?-90:0},{textRotationAngle:J,style:I,halign:q,valign:e.verticalTextAlignment||"center",textRotationPoint:e.textRotationPoint||"auto",textOffset:e.textOffset},K&&"right"==e.position||!K&&"top"==e.position,{rangeLength:l.rangeLength,itemWidth:l.itemWidth});d._renderData.length<b+1;)d._renderData.push({});d._renderData[b].xAxis=L;for(var M={stroke:o.color,fill:"none","stroke-width":1,"stroke-dasharray":o.dashStyle||""},N=(s.circle(g,h,i,M),A.length),O=(2*Math.PI/N,j),B=0;B<A.length;B++){var P=A[B].x,Q=O+2*P*Math.PI/Math.max(1,k);Q=(360-Q/(2*Math.PI)*360)%360,0>Q&&(Q=360+Q);var R=s.measureText(A[B].text,0,{"class":I}),S=this._adjustTextBoxPosition(g,h,R,i+(p.visible?7:2),Q,!1,!1,!0);s.text(A[B].text,S.x,S.y,R.width,R.height,0,{"class":I},!1,"center","center")}if(o.visible)for(var B=0;B<o.offsets.length;B++){var P=o.offsets[B].offset;r||(P-=w.right/2);var Q=O+2*P*Math.PI/Math.max(1,k),T=g+i*Math.cos(Q),U=h+i*Math.sin(Q);s.line(g,h,a.jqx._ptrnd(T),a.jqx._ptrnd(U),M)}if(p.visible)for(var V=5,M={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},B=0;B<p.offsets.length;B++){var P=p.offsets[B].offset;r||(P-=w.right/2);var Q=O+2*P*Math.PI/Math.max(1,k),W={x:g+i*Math.cos(Q),y:h+i*Math.sin(Q)},X={x:g+(i+V)*Math.cos(Q),y:h+(i+V)*Math.sin(Q)};s.line(a.jqx._ptrnd(W.x),a.jqx._ptrnd(W.y),a.jqx._ptrnd(X.x),a.jqx._ptrnd(X.y),M)}d._renderSpiderValueAxis(b,c)}}}}},_renderSpiderValueAxis:function(b,c){var d=this.seriesGroups[b],e=this._getPolarAxisCoords(b,c);if(e){var f=a.jqx._ptrnd(e.x),g=a.jqx._ptrnd(e.y),h=e.r;e.startAngle;if(!(1>h)){h=a.jqx._ptrnd(h);var i=this.seriesGroups[b].valueAxis;if(i&&0!=i.displayValueAxis&&0!=i.visible){var j=i["class"];j||(j=this.toThemeProperty("jqx-chart-axis-text",null));var k=i.formatSettings,l=-1!=d.type.indexOf("stacked")&&-1!=d.type.indexOf("100");l&&!k&&(k={sufix:"%"}),this._calcValueAxisItems(b,h);var m=this._stats.seriesGroups[b].mu,n={visible:0!=i.showGridLines,color:i.gridLinesColor||"#888888",unitInterval:i.gridLinesInterval||m||1,dashStyle:i.gridLinesDashStyle},o={stroke:n.color,fill:"none","stroke-width":1,"stroke-dasharray":n.dashStyle||""},p=this._renderData[b].valueAxis,q=p.items;q.length&&this.renderer.line(f,g,f,a.jqx._ptrnd(g-h),o),q=q.reverse();for(var r=this.renderer,s=0;s<q.length-1;s++){var t=q[s],u=i.formatFunction?i.formatFunction(t):this._formatNumber(t,k),v=r.measureText(u,0,{"class":j}),w=f+(0!=i.showTickMarks?3:2),x=g-p.itemWidth*s-v.height;r.text(u,w,x,v.width,v.height,0,{"class":j},!1,"center","center")}var y=1==i.logarithmicScale,z=y?q.length:p.rangeLength;if(aIncrement=2*Math.PI/z,n.visible)for(var o={stroke:n.color,fill:"none","stroke-width":1,"stroke-dasharray":n.dashStyle||""},s=0;z>s;s+=n.unitInterval){var x=a.jqx._ptrnd(h*s/z);r.circle(f,g,x,o)}var A={visible:0!=i.showTickMarks,color:i.tickMarksColor||"#888888",unitInterval:i.tickMarksInterval||m,dashStyle:i.tickMarksDashStyle};if(A.visible){tickMarkSize=5;for(var o={stroke:A.color,fill:"none","stroke-width":1,"stroke-dasharray":A.dashStyle||""},B=f-Math.round(tickMarkSize/2),C=B+tickMarkSize,s=0;z>s;s+=A.unitInterval)if(!n.visible||s%n.unitInterval!=0){var x=a.jqx._ptrnd(g-h*s/z);r.line(a.jqx._ptrnd(B),x,a.jqx._ptrnd(C),x,o)}}}}}},_renderAxis:function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=m.visible?4:0,q=2,r={width:0,height:0},s={width:0,height:0};b?r.height=s.height=f.height:r.width=s.width=f.width,!n&&c&&b&&(f.x-=f.width);var t=k.renderData,u=t.itemWidth;if(void 0!=d.text&&""!=d){var v=d.textRotationAngle,w=this.renderer.measureText(d.text,v,{"class":d.style});s.width=w.width,s.height=w.height,n||this.renderer.text(d.text,f.x+(b?c?-q+2*f.width-s.width:q:0),f.y+(b?0:c?q:f.height-q-s.height),b?s.width:f.width,b?f.height:s.height,v,{"class":d.style},!0,d.halign,d.valign)}var x=0,y=j?-u/2:0;j&&!b&&(e.halign="center");var z=f.x,A=f.y,B=e.textOffset;B&&(isNaN(B.x)||(z+=B.x),isNaN(B.y)||(A+=B.y)),b?(z+=q+(s.width>0?s.width+q:0)+(c?f.width-s.width:0),A+=y):(z+=y,c?(A+=s.height>0?s.height+3*q:2*q,A+=p-(j?p:p/4)):A+=j?p:p/4);var C=0,D=0,E=k.items;t.itemOffsets={},(this._isToggleRefresh||!this._isUpdate)&&(o=0);for(var F=!1,G=0,H=0;H<E.length;H++,x+=u){var I=E[H].text;isNaN(E[H].targetX)||(x=E[H].targetX);var w=this.renderer.measureText(I,e.textRotationAngle,{"class":e.style});if(w.width>D&&(D=w.width),w.height>C&&(C=w.height),G+=b?C:D,!n){if(b&&x>f.height+2||!b&&x>f.width+2)break;var J=b?z+(c?0==s.width?p:p-q:0):z+x,K=b?A+x:A;t.itemOffsets[E[H].key]={x:J,y:K},F||(!isNaN(E[H].x)||!isNaN(E[H].y)&&o)&&(F=!0),E[H].targetX=J,E[H].targetY=K,E[H].width=b?f.width-2*q-p-(s.width>0?s.width+q:0):u,E[H].height=b?u:f.height-2*q-p-(s.height>0?s.height+q:0),E[H].visible=!i||i&&H%h==0}}if(t.avgWidth=0==E.length?0:G/E.length,!n){var L={items:E,textSettings:e};if((isNaN(o)||!F)&&(o=0),this._animateAxisText(L,0==o?1:0),0!=o){var M=this;this._enqueueAnimation("series",void 0,void 0,o,function(a,b,c){M._animateAxisText(b,c)},L)}}r.width+=2*q+p+s.width+D+(b&&s.width>0?q:0),r.height+=2*q+p+s.height+C+(!b&&s.height>0?q:0);var N={stroke:l.color,"stroke-width":1,"stroke-dasharray":l.dashStyle||""};if(!n){var K=a.jqx._ptrnd(f.y+(c?f.height:0));b?this.renderer.line(a.jqx._ptrnd(f.x+f.width),f.y,a.jqx._ptrnd(f.x+f.width),f.y+f.height,N):this.renderer.line(a.jqx._ptrnd(f.x),K,a.jqx._ptrnd(f.x+f.width+1),K,N)}return r.width=a.jqx._rup(r.width),r.height=a.jqx._rup(r.height),r},_drawPlotAreaLines:function(b,c,d){var e=this.seriesGroups[b],f="horizontal"!=e.orientation;if(this._renderData&&!(this._renderData.length<=b)){var g=c?"valueAxis":"xAxis",h=this._renderData[b][g];if(h){var i=this._renderData.axisDrawState;i||(i=this._renderData.axisDrawState={});var j="";j=c?"valueAxis_"+b:"xAxis_"+(e.xAxis||e.categoryAxis?b:""),i=i[j]?i[j]:i[j]={},c||(f=!f);var k=h.gridLinesSettings,l=h.tickMarksSettings,m=h.rect,n=this._plotRect;if(k&&l){var o=.5,p=[],q={stroke:k.color,"stroke-width":1,"stroke-dasharray":k.dashStyle||""},r=c?m.y:m.x,s=k.offsets;if(s&&0!=s.length){for(var t=0;t<s.length;t++){if(f){if(x=a.jqx._ptrnd(m.y+s[t].offset),x<m.y-o)break}else if(x=a.jqx._ptrnd(m.x+s[t].offset),x>m.x+m.width+o)break;if(d.gridLines&&0!=k.visible&&1!=i.gridLines&&(f?this.renderer.line(a.jqx._ptrnd(n.x),x,a.jqx._ptrnd(n.x+n.width),x,q):this.renderer.line(x,a.jqx._ptrnd(n.y),x,a.jqx._ptrnd(n.y+n.height),q)),p[x]=!0,d.alternatingBackground&&(k.alternatingBackgroundColor||k.alternatingBackgroundColor2)&&1!=i.alternatingBackground){var u=t%2==0?k.alternatingBackgroundColor2:k.alternatingBackgroundColor;if(u){var v;v=f?this.renderer.rect(a.jqx._ptrnd(n.x),r,a.jqx._ptrnd(n.width-1),x-r,q):this.renderer.rect(r,a.jqx._ptrnd(n.y),x-r,a.jqx._ptrnd(n.height),q),this.renderer.attr(v,{"stroke-width":0,fill:u,opacity:k.alternatingBackgroundOpacity||1})}r=x}}var q={stroke:l.color,"stroke-width":1,"stroke-dasharray":l.dashStyle||""};if(d.tickMarks&&l.visible&&1!=i.tickMarks)for(var w=4,s=l.offsets,t=0;t<s.length;t++){var x=a.jqx._ptrnd(f?m.y+s[t].offset:m.x+s[t].offset);if(p[x-1]?x--:p[x+1]&&x++,f){if(x>m.y+m.height+o)break}else if(x>m.x+m.width+o)break;var y=h.isMirror?w:-w;if(f)this.renderer.line(m.x+m.width,x,m.x+m.width+y,x,q);else{var z=a.jqx._ptrnd(m.y+(h.isMirror?m.height:0));this.renderer.line(x,z,x,z-y,q)}}i.tickMarks=i.tickMarks||d.tickMarks,i.gridLines=i.gridLines||d.gridLines,i.alternatingBackground=i.alternatingBackground||d.alternatingBackground}}}}},_calcValueAxisItems:function(a,b){var c=this._stats.seriesGroups[a];if(!c||!c.isValid)return!1;var d=this.seriesGroups[a],e=("horizontal"==d.orientation,d.valueAxis),f=0!=e.valuesOnTicks,g=(e.dataField,c.intervals),h=b/g,i=c.min,j=c.mu,k=1==e.logarithmicScale,l=e.logarithmicScaleBase||10,m=-1!=d.type.indexOf("stacked")&&-1!=d.type.indexOf("100");for(k&&(j=isNaN(e.unitInterval)?1:e.unitInterval),f||(g=Math.max(g-1,1));this._renderData.length<a+1;)this._renderData.push({});this._renderData[a].valueAxis={};var n=this._renderData[a].valueAxis;n.itemWidth=n.intervalWidth=h,n.items=[];for(var o=n.items,p=0;g>=p;p++){var q=0;q=k?m?c.max/Math.pow(l,g-p):i*Math.pow(l,p):f?i+p*j:i+(p+.5)*j,o.push(q)}return n.rangeLength=k&&!m?c.intervals:c.intervals*j,1!=d.valueAxis.flip&&(o=o.reverse()),!0},_renderValueAxis:function(a,b,c,d){var e=this.seriesGroups[a],f="horizontal"==e.orientation,g=e.valueAxis;if(!g)throw"SeriesGroup "+a+" is missing valueAxis definition";var h={width:0,height:0};if(!this._isGroupVisible(a)||this._isPieOnlySeries()||"spider"==e.type)return h;if(!this._calcValueAxisItems(a,f?b.width:b.height)||0==g.displayValueAxis||0==g.visible)return h;var i=g.descriptionClass;i||(i=this.toThemeProperty("jqx-chart-axis-description",null));var j={text:g.description,style:i,halign:g.horizontalDescriptionAlignment||"center",valign:g.verticalDescriptionAlignment||"center",textRotationAngle:f?0:this.rtl?90:-90},k=g.itemsClass;k||(k=this.toThemeProperty("jqx-chart-axis-text",null));var l={style:k,halign:g.horizontalTextAlignment||"center",valign:g.verticalTextAlignment||"center",textRotationAngle:g.textRotationAngle||0,textRotationPoint:g.textRotationPoint||"auto",textOffset:g.textOffset},m=0!=g.valuesOnTicks,n=this._stats.seriesGroups[a],o=n.mu,p=g.formatSettings,q=-1!=e.type.indexOf("stacked")&&-1!=e.type.indexOf("100");q&&!p&&(p={sufix:"%"});var r=1==g.logarithmicScale;g.logarithmicScaleBase||10;r&&(o=isNaN(g.unitInterval)?1:g.unitInterval);var s,t=[],u=this._renderData[a].valueAxis;this._elementRenderInfo&&this._elementRenderInfo.length>a&&(s=this._elementRenderInfo[a].valueAxis);for(var v=0;v<u.items.length;v++){var w=u.items[v],x=g.formatFunction?g.formatFunction(w):this._formatNumber(w,p),y={key:w,text:x};s&&s.itemOffsets[w]&&(y.x=s.itemOffsets[w].x,y.y=s.itemOffsets[w].y),t.push(y)}var z=g.gridLinesInterval||g.unitInterval;(isNaN(z)||r&&o>z)&&(z=o);var A=f?b.width:b.height,B={visible:0!=g.showGridLines,color:g.gridLinesColor||"#888888",unitInterval:z,dashStyle:g.gridLinesDashStyle,alternatingBackgroundColor:g.alternatingBackgroundColor,alternatingBackgroundColor2:g.alternatingBackgroundColor2,alternatingBackgroundOpacity:g.alternatingBackgroundOpacity},C=n.logarithmic?n.minPow:n.min,D=n.logarithmic?n.maxPow:n.max,E=!1;(B.visible||g.alternatingBackgroundColor||g.alternatingBackgroundColor2)&&(B.offsets=this._generateOffsets(C,D,A,{left:0,right:0},B.unitInterval,o,!0,0,!1,E));var F=g.tickMarksInterval||g.unitInterval;(isNaN(F)||r&&o>F)&&(F=o);var G={visible:0!=g.showTickMarks,color:g.tickMarksColor||"#888888",unitInterval:F,dashStyle:g.tickMarksDashStyle};G.visible&&(G.offsets=this._generateOffsets(C,D,A,{left:0,right:0},G.unitInterval,o,!0,0,!1,E));var H=f&&"top"==g.position||!f&&"right"==g.position||!f&&this.rtl&&"left"!=g.position,I={items:t,renderData:u},J=this._getAnimProps(a),K=J.enabled&&t.length<500?J.duration:0;return 0==this.enableAxisTextAnimation&&(K=0),u.gridLinesSettings=B,u.tickMarksSettings=G,u.isMirror=H,u.rect=b,this._renderAxis(!f,H,j,l,b,d,o,r,m,I,B,G,c,K)},_generateOffsets:function(a,b,c,d,e,f,g,h,i,j){var k=[],l=b-a,m=c-d.left-d.right;if(0==l)return i||g?k.push({offset:d.left+m/2,value:a}):k.push({offset:0,value:a}),k;var n=m/l,o=n*f,p=d.left;g||i||(b+=f);for(var q=a;b>=q;q+=f,p+=o)k.push({offset:p,value:q});if(!g&&k.length>1){isNaN(h)&&(h=i?0:o/2);for(var q=0;q<k.length;q++)k[q].offset-=h,k[q].offset<=2&&(k[q].offset=0),k[q].offset>=c-2&&(k[q].offset=c)}if(e>f){for(var r=[],s=Math.round(e/f),q=0;q<k.length;q++)q%s==0&&r.push({offset:k[q].offset,value:k[q].value});k=r}if(j)for(var q=0;q<k.length;q++)k[q].offset=c-k[q].offset;return k},_generateDTOffsets:function(b,c,d,e,f,g,h,i,j,k,l){h||(h="day");var m=[];if(b>c)return m;if(b==c)return k?m.push({offset:i?d/2:e.left,value:b}):i&&m.push({offset:d/2,value:b}),m;var n=d-e.left-e.right,o=b,p=e.left,q=p;g=Math.max(g,1);var r=g,s=Math.min(1,g);for(g>1&&(g=1);a.jqx._ptrnd(q)<=a.jqx._ptrnd(e.left+n+(i?0:e.right));){m.push({offset:q,value:o});var t=new Date(o.valueOf());"millisecond"==h?t.setMilliseconds(o.getMilliseconds()+g):"second"==h?t.setSeconds(o.getSeconds()+g):"minute"==h?t.setMinutes(o.getMinutes()+g):"hour"==h?t.setHours(o.getHours()+g):"day"==h?t.setDate(o.getDate()+g):"month"==h?t.setMonth(o.getMonth()+g):"year"==h&&t.setFullYear(o.getFullYear()+g),o=t,q=p+(o.valueOf()-b.valueOf())*s/(c.valueOf()-b.valueOf())*n}if(l)for(var u=0;u<m.length;u++)m[u].offset=d-m[u].offset;if(r>1){for(var v=[],u=0;u<m.length;u+=r)v.push({offset:m[u].offset,value:m[u].value});m=v}if(!i&&!k&&m.length>1){var v=[];v.push({offset:0,value:void 0});for(var u=1;u<m.length;u++)v.push({offset:m[u-1].offset+(m[u].offset-m[u-1].offset)/2,value:void 0});var w=v.length;w>1?v.push({offset:v[w-1].offset+(v[w-1].offset-v[w-2].offset)}):v.push({offset:d,value:void 0}),m=v}if(f>g){for(var v=[],x=Math.round(f/r),u=0;u<m.length;u++)u%x==0&&v.push({offset:m[u].offset,value:m[u].value});m=v}return m},_buildStats:function(b){var c={seriesGroups:[]};this._stats=c;for(var d=0;d<this.seriesGroups.length;d++){var e=this.seriesGroups[d];c.seriesGroups[d]={};var f=c.seriesGroups[d];f.isValid=!0;var g=void 0!=e.valueAxis,h="horizontal"==e.orientation?b.width:b.height,i=!1,j=10;g&&(i=1==e.valueAxis.logarithmicScale,j=e.valueAxis.logarithmicScaleBase,isNaN(j)&&(j=10));var k=-1!=e.type.indexOf("stacked"),l=k&&-1!=e.type.indexOf("100"),m=-1!=e.type.indexOf("range");l&&(f.psums=[],f.nsums=[]);var n=NaN,o=NaN,p=NaN,q=NaN,r=e.baselineValue;isNaN(r)&&(r=i&&!l?1:0);for(var s=this._getDataLen(d),t=0,u=NaN,v=0;s>v&&f.isValid;v++){for(var w=g?e.valueAxis.minValue:1/0,x=g?e.valueAxis.maxValue:-(1/0),y=0,z=0,A=0;A<e.series.length;A++)if(this._isSerieVisible(d,A)){var B,C,D;if(m){var E=this._getDataValueAsNumber(v,e.series[A].dataFieldFrom,d),F=this._getDataValueAsNumber(v,e.series[A].dataFieldTo,d);C=Math.max(E,F),D=Math.min(E,F)}else{if(B=this._getDataValueAsNumber(v,e.series[A].dataField,d),isNaN(B)||i&&0>=B)continue;D=C=B}(isNaN(x)||C>x)&&(!g||isNaN(e.valueAxis.maxValue)?!0:C<=e.valueAxis.maxValue)&&(x=C),(isNaN(w)||w>D)&&(!g||isNaN(e.valueAxis.minValue)?!0:D>=e.valueAxis.minValue)&&(w=D),isNaN(B)||(B>r?y+=B:r>B&&(z+=B))}if(!l&&g&&(isNaN(e.valueAxis.maxValue)||(y=Math.min(e.valueAxis.maxValue,y)),isNaN(e.valueAxis.minValue)||(z=Math.max(e.valueAxis.minValue,z))),i&&l)for(var A=0;A<e.series.length;A++)if(this._isSerieVisible(d,A)){var B=this._getDataValueAsNumber(v,e.series[A].dataField,d);if(isNaN(B)||0>=B)u=.01;else{var G=0==y?0:B/y;(isNaN(u)||u>G)&&(u=G)}}else u=.01;var H=y-z;H>t&&(t=H),l&&(f.psums[v]=y,f.nsums[v]=z),(x>o||isNaN(o))&&(o=x),(n>w||isNaN(n))&&(n=w),(y>p||isNaN(p))&&(p=y),(q>z||isNaN(q))&&(q=z)}l&&(p=0==p?0:Math.max(p,-q),q=0==q?0:Math.min(q,-p));var I=g?e.valueAxis.unitInterval:0;I||(I=g?this._calcInterval(k?q:n,k?p:o,Math.max(h/80,2)):k?(p-q)/10:(o-n)/10);var J=NaN,K=0,L=0;if(i){if(l){J=0;var G=1;for(K=L=a.jqx.log(100,j);G>u;)G/=j,K--,J++;n=Math.pow(j,K)}else k&&(o=Math.max(o,p)),L=a.jqx._rnd(a.jqx.log(o,j),1,!0),o=Math.pow(j,L),K=a.jqx._rnd(a.jqx.log(n,j),1,!1),n=Math.pow(j,K);I=j}q>n&&(q=n),o>p&&(p=o);var M=i?n:a.jqx._rnd(k?q:n,I,!1),N=i?o:a.jqx._rnd(k?p:o,I,!0);l&&N>100&&(N=100),l&&!i&&(N=N>0?100:0,M=0>M?-100:0,I=g?e.valueAxis.unitInterval:10,(isNaN(I)||0>=I||I>=100)&&(I=10)),isNaN(N)||isNaN(M)||isNaN(I)||(isNaN(J)&&(J=parseInt(((N-M)/(0==I?1:I)).toFixed())),i&&!l&&(J=L-K,t=Math.pow(j,J)),1>J||(f.min=M,f.max=N,f.logarithmic=i,f.logBase=j,f.base=r,f.minPow=K,f.maxPow=L,f.mu=I,f.maxRange=t,f.intervals=J))}},_getDataLen:function(b){var c=this.source;return void 0!=b&&-1!=b&&this.seriesGroups[b].source&&(c=this.seriesGroups[b].source),c instanceof a.jqx.dataAdapter&&(c=c.records),c?c.length:0},_getDataValue:function(b,c,d){var e=this.source;return void 0!=d&&-1!=d&&(e=this.seriesGroups[d].source||e),e instanceof a.jqx.dataAdapter&&(e=e.records),!e||0>b||b>e.length-1?void 0:a.isFunction(c)?c(b,e):c&&""!=c?e[b][c]:e[b]},_getDataValueAsNumber:function(a,b,c){var d=this._getDataValue(a,b,c);return this._isDate(d)?d.valueOf():("number"!=typeof d&&(d=parseFloat(d)),"number"!=typeof d&&(d=void 0),d)},_renderPieSeries:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._calcGroupOffsets(b,c).offsets,g=0;g<e.series.length;g++){var h=e.series[g],i=this._getSerieSettings(b,g),j=(h.colorScheme||e.colorScheme||this.colorScheme,this._getAnimProps(b,g)),k=j.enabled&&5e3>d&&!this._isToggleRefresh&&1!=this._isVML?j.duration:0;a.jqx.mobile.isMobileBrowser()&&this.renderer instanceof a.jqx.HTML5Renderer&&(k=0);for(var l={rect:c,groupIndex:b,serieIndex:g,settings:i,items:[]},m=0;d>m;m++){var n=f[g][m];if(n.visible){var o=n.fromAngle,p=n.toAngle,q=this.renderer.pieslice(n.x,n.y,n.innerRadius,n.outerRadius,o,0==k?p:o,n.centerOffset),r={element:q,displayValue:n.displayValue,itemIndex:m,visible:n.visible,x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:n.outerRadius,fromAngle:o,toAngle:p,centerOffset:n.centerOffset};l.items.push(r)}}this._animatePieSlices(l,0);var s=this;this._enqueueAnimation("series",void 0,void 0,k,function(a,b,c){s._animatePieSlices(b,c)},l)}},_sliceSortFunction:function(a,b){return a.fromAngle-b.fromAngle},_animatePieSlices:function(b,c){var d;this._elementRenderInfo&&this._elementRenderInfo.length>b.groupIndex&&this._elementRenderInfo[b.groupIndex].series&&this._elementRenderInfo[b.groupIndex].series.length>b.serieIndex&&(d=this._elementRenderInfo[b.groupIndex].series[b.serieIndex]);for(var e=[],f=0;f<b.items.length;f++){var g=b.items[f];if(g.visible){var h=g.fromAngle,i=g.fromAngle+c*(g.toAngle-g.fromAngle);if(d&&d[g.displayValue]){var j=d[g.displayValue].fromAngle,k=d[g.displayValue].toAngle;h=j+(h-j)*c,i=k+(i-k)*c}e.push({index:f,from:h,to:i})}}d&&e.sort(this._sliceSortFunction);for(var l=NaN,f=0;f<e.length;f++){var g=b.items[e[f].index];g.labelElement&&this.renderer.removeElement(g.labelElement);var h=e[f].from,i=e[f].to;d&&(!isNaN(l)&&h>l&&(h=l),l=i,f==e.length-1&&i!=e[0].from&&(i=360+e[0].from));var m=this.renderer.pieSlicePath(g.x,g.y,g.innerRadius,g.outerRadius,h,i,g.centerOffset);this.renderer.attr(g.element,{d:m});var n=this._getColors(b.groupIndex,b.serieIndex,g.itemIndex,"radialGradient",g.outerRadius),o=b.settings;this.renderer.attr(g.element,{fill:n.fillColor,stroke:n.lineColor,"stroke-width":o.stroke,"fill-opacity":o.opacity,"stroke-opacity":o.opacity,"stroke-dasharray":"none"});var p=this.seriesGroups[b.groupIndex],q=p.series[b.serieIndex];if(1==q.showLabels||!q.showLabels&&1==p.showLabels){var r=h,s=i,t=Math.abs(r-s);t>360&&(r=0,s=360);var u=(r*Math.PI*2/360,s*Math.PI*2/360,t/2+r);u%=360;var v,w=u*Math.PI*2/360;1==q.labelsAutoRotate&&(v=90>u||u>270?360-u:180-u);var x=this._showLabel(b.groupIndex,b.serieIndex,g.itemIndex,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,v),y=q.labelRadius||g.outerRadius+Math.max(x.width,x.height);y+=g.centerOffset;var z=a.jqx.getNum([q.offsetX,p.offsetX,b.rect.width/2]),A=a.jqx.getNum([q.offsetY,p.offsetY,b.rect.height/2]),B=b.rect.x+z,C=b.rect.y+A,D=this._adjustTextBoxPosition(B,C,x,y,u,g.outerRadius>y,0!=q.labelLinesAngles,1==q.labelsAutoRotate);g.labelElement=this._showLabel(b.groupIndex,b.serieIndex,g.itemIndex,{x:D.x,y:D.y,width:x.width,height:x.height},"left","top",!1,!1,!1,v),y>g.outerRadius+5&&0!=q.labelLinesEnabled&&(g.labelArrowPath=this._updateLebelArrowPath(g.labelArrowPath,B,C,y,g.outerRadius,w,0!=q.labelLinesAngles,n,o))}1==c&&this._installHandlers(g.element,"pieslice",b.groupIndex,b.serieIndex,g.itemIndex)}},_updateLebelArrowPath:function(b,c,d,e,f,g,h,i,j){var k=a.jqx._ptrnd(c+(e-0)*Math.cos(g)),l=a.jqx._ptrnd(d-(e-0)*Math.sin(g)),m=a.jqx._ptrnd(c+(f+2)*Math.cos(g)),n=a.jqx._ptrnd(d-(f+2)*Math.sin(g)),o="M "+k+","+l+" L"+m+","+n;return h&&(o="M "+k+","+l+" L"+m+","+l+" L"+m+","+n),b?this.renderer.attr(b,{d:o}):b=this.renderer.path(o,{}),this.renderer.attr(b,{fill:"none",stroke:i.lineColor,"stroke-width":j.stroke,"stroke-opacity":j.opacity,"stroke-dasharray":"none"}),b},_adjustTextBoxPosition:function(b,c,d,e,f,g,h,i){var j=f*Math.PI*2/360,k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));if(i){var m=d.width,n=d.height,o=Math.atan(n/m)%(2*Math.PI),p=j%(2*Math.PI),q=0,r=0,s=0;o>=p?(s=m/2*Math.cos(j),r=s*Math.sin(j),q=-m/2):p>=o&&p<Math.PI-o?(s=n/2*Math.sin(j),r=n/2,q=-Math.cos(j)*s):p>=Math.PI-o&&p<Math.PI+o?(s=m/2*Math.cos(j),r=-s*Math.sin(j),q=m/2):p>=Math.PI+o&&p<2*Math.PI-o?(s=n/2*Math.sin(j),r=-n/2,q=Math.cos(j)*s):p>=2*Math.PI-o&&p<2*Math.PI&&(s=m/2*Math.cos(j),r=s*Math.sin(j),q=-m/2),e+=Math.abs(s)+3;var k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));return k-=d.width/2,l-=d.height/2,{x:k,y:l}}return g?(k-=d.width/2,l-=d.height/2):h?f>=90&&270>f?(l-=d.height/2,k-=d.width):l-=d.height/2:f>=0&&45>f||f>=315&&360>f?l-=d.height/2:f>=45&&135>f?(l-=d.height,k-=d.width/2):f>=135&&225>f?(l-=d.height/2,k-=d.width):f>=225&&315>f&&(k-=d.width/2),{x:k,y:l}},_getColumnGroupsCount:function(a){var b=0;a=a||"vertical";for(var c=this.seriesGroups,d=0;d<c.length;d++){var e=c[d].orientation||"vertical";-1!=c[d].type.indexOf("column")&&e==a&&b++}return b},_getColumnGroupIndex:function(a){for(var b=0,c=this.seriesGroups[a].orientation||"vertical",d=0;a>d;d++){var e=this.seriesGroups[d],f=e.orientation||"vertical";-1!=e.type.indexOf("column")&&f==c&&b++}return b},_renderBand:function(a,b,c){var d=this.seriesGroups[a];if(d.bands&&!(d.bands.length<=b)){var e=c;"horizontal"==d.orientation&&(e={x:c.y,y:c.x,width:c.height,height:c.width});var f=this._calcGroupOffsets(a,e);if(f&&!(f.length<=a)){var g=d.bands[b],h=f.bands[b],i=h.from,j=h.to,k=Math.abs(i-j),l={x:e.x,y:Math.min(i,j),width:e.width,height:k};if("horizontal"==d.orientation){var m=l.x;l.x=l.y,l.y=m,m=l.width,l.width=l.height,l.height=m}var n=this.renderer.rect(l.x,l.y,l.width,l.height),o=g.color||"#AAAAAA",p=g.opacity;(isNaN(p)||0>p||p>1)&&(p=.5),this.renderer.attr(n,{fill:o,"fill-opacity":p,stroke:o,"stroke-opacity":p,"stroke-width":0})}}},_renderColumnSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("stacked"),f=(e&&-1!=d.type.indexOf("100"),-1!=d.type.indexOf("range"),this._getDataLen(b),d.columnsGapPercent);(isNaN(f)||0>f||f>100)&&(f=25);var g=d.seriesGapPercent;(isNaN(g)||0>g||g>100)&&(g=10);var h="horizontal"==d.orientation,i=c;h&&(i={x:c.y,y:c.x,width:c.height,height:c.width});var j=this._calcGroupOffsets(b,i);if(j&&0!=j.xoffsets.length){var k=this._getColumnGroupsCount(d.orientation),l=this._getColumnGroupIndex(b);1==this.columnSeriesOverlap&&(k=1,l=0);var m,n=!0;(1==d.polar||1==d.spider)&&(m=this._getPolarAxisCoords(b,i),f=0,g=0);for(var o={groupIndex:b,rect:c,vertical:!h,seriesCtx:[],renderData:j,polarAxisCoords:m},p=this._getGroupGradientType(b),q=0;q<d.series.length;q++){var r=d.series[q],s=r.columnsMaxWidth||d.columnsMaxWidth,t=(r.dataField,this._getAnimProps(b,q)),u=t.enabled&&!this._isToggleRefresh&&j.xoffsets.length<100?t.duration:0,v=0,w=j.xoffsets.itemWidth;n&&(v-=w/2),v+=w*(l/k),w/=k;var y=v+w,z=y-v,A=(y-v)/(1+f/100),B=!e&&d.series.length>1?A*g/100/(d.series.length-1):0,C=A-B*(d.series.length-1);1>A&&(A=1);var D=0;!e&&d.series.length>1&&(C/=d.series.length,D=q);var E=v+(z-A)/2+D*(B+C);if(D==d.series.length&&(C=z-v+A-x),!isNaN(s)){var F=Math.min(C,s);E+=(C-F)/2,C=F}var G=this._isSerieVisible(b,q),H=this._getSerieSettings(b,q),I=this._getColors(b,q,NaN,this._getGroupGradientType(b),4),J=[];if(a.isFunction(r.colorFunction)&&!m)for(var K=j.xoffsets.first;K<=j.xoffsets.last;K++)J.push(this._getColors(b,q,K,p,4));var L={seriesIndex:q,serieColors:I,itemsColors:J,settings:H,columnWidth:C,xAdjust:E,isVisible:G};o.seriesCtx.push(L)}this._animateColumns(o,0==u?1:0);var M=this;this._enqueueAnimation("series",void 0,void 0,u,function(a,b,c){M._animateColumns(b,c)},o)}}},_getColumnOffsets:function(a,b,c,d,e,f){for(var g=this.seriesGroups[b],h=[],i=0;i<c.length;i++){var j,k=c[i],l=k.seriesIndex,m=(g.series[l],a.offsets[l][d].from),n=a.offsets[l][d].to,o=a.xoffsets.data[d],p=k.isVisible;if(p||(n=m),p&&this._elementRenderInfo&&this._elementRenderInfo.length>b){var q=a.xoffsets.xvalues[d];j=this._elementRenderInfo[b].series[l][q],!j||isNaN(j.from)||isNaN(j.to)||(m=j.from+(m-j.from)*f,n=j.to+(n-j.to)*f,o=j.xoffset+(o-j.xoffset)*f)}j||(n=m+(n-m)*(e?1:f)),isNaN(m)&&(m=0),isNaN(n)&&(n=isNaN(m)?0:m),h.push({from:m,to:n,xOffset:o})}if(e&&h.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>b)){for(var r=0,s=0,t=0;t<h.length;t++)h[t].to>=h[t].from?s+=h[t].to-h[t].from:r+=h[t].from-h[t].to;r*=f,s*=f;for(var u=0,v=0,t=0;t<h.length;t++)if(h[t].to>=h[t].from){var w=h[t].to-h[t].from;w+v>s&&(w=Math.max(0,s-v),h[t].to=h[t].from+w),v+=w}else{var w=h[t].from-h[t].to;w+u>r&&(w=Math.max(0,r-u),h[t].to=h[t].from-w),u+=w}}return h},_columnAsPieSlice:function(b,c,d,e,f){var g=this._toPolarCoord(e,d,f.x,f.y),h=this._toPolarCoord(e,d,f.x,f.y+f.height),i=(this._toPolarCoord(e,d,f.x+f.width,f.y),a.jqx._ptdist(e.x,e.y,h.x,h.y)),j=a.jqx._ptdist(e.x,e.y,g.x,g.y),k=d.width,l=-(360*(f.x-d.x))/k,m=-(360*(f.x+f.width-d.x))/k,n=e.startAngle;if(n=360*n/(2*Math.PI),l-=n,m-=n,void 0!=b[c]){var o=this.renderer.pieSlicePath(e.x,e.y,i,j,m,l,0);this.renderer.attr(b[c],{d:o})}else b[c]=this.renderer.pieslice(e.x,e.y,i,j,m,l,0);return{fromAngle:m,toAngle:l,innerRadius:i,outerRadius:j}},_animateColumns:function(b,c){for(var d=b.groupIndex,e=this.seriesGroups[d],f=b.renderData,g=-1!=e.type.indexOf("stacked"),h=b.polarAxisCoords,i=(this._getGroupGradientType(d),f.xoffsets.first);i<=f.xoffsets.last;i++)for(var j=this._getColumnOffsets(f,d,b.seriesCtx,i,g,c),k=0;k<b.seriesCtx.length;k++){var l=b.seriesCtx[k],m=l.seriesIndex,n=(e.series[m],j[k].from),o=j[k].to,p=j[k].xOffset;l.elements||(l.elements={}),l.labelElements||(l.labelElements={});var q=l.elements,r=l.labelElements,s=(b.vertical?b.rect.x:b.rect.y)+l.xAdjust,t=l.settings,u=0!=l.itemsColors.length?l.itemsColors[i-f.xoffsets.first]:l.serieColors,v=this._isSerieVisible(d,m);if(v||g){var w=a.jqx._ptrnd(s+p),x={x:w,width:l.columnWidth},y=!0;b.vertical?(x.y=n,x.height=o-n,x.height<0&&(x.y+=x.height,x.height=-x.height,y=!1)):(x.x=o>n?n:o,x.width=Math.abs(n-o),x.y=w,x.height=l.columnWidth);var z=n-o;if(!isNaN(z)){if(z=Math.abs(z),void 0==q[i]&&(h?this._columnAsPieSlice(q,i,b.rect,h,x):q[i]=this.renderer.rect(x.x,x.y,b.vertical?x.width:0,b.vertical?0:x.height),this.renderer.attr(q[i],{fill:u.fillColor,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,stroke:u.lineColor,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle})),1>z&&1!=c?this.renderer.attr(q[i],{display:"none"}):this.renderer.attr(q[i],{display:"block"}),h){var A=this._columnAsPieSlice(q,i,b.rect,h,x),u=this._getColors(d,m,void 0,"radialGradient",A.outerRadius);this.renderer.attr(q[i],{fill:u.fillColor,"fill-opacity":t.opacity,"stroke-opacity":t.opacity,stroke:u.lineColor,"stroke-width":t.stroke,"stroke-dasharray":t.dashStyle})}else 1==b.vertical?this.renderer.attr(q[i],{x:x.x,y:x.y,height:z}):this.renderer.attr(q[i],{x:x.x,y:x.y,width:z});this.renderer.removeElement(r[i]),!v||0==z&&1>c||(r[i]=this._showLabel(d,m,i,x,void 0,void 0,!1,!1,y),1==c&&this._installHandlers(q[i],"column",d,m,i))}}}},_renderScatterSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("bubble"),f="horizontal"==d.orientation,g=c;f&&(g={x:c.y,y:c.x,width:c.height,height:c.width});var h=this._calcGroupOffsets(b,g);if(h&&0!=h.xoffsets.length){var i,j=g.width;(d.polar||d.spider)&&(i=this._getPolarAxisCoords(b,g),j=2*i.r);for(var k=(this._alignValuesWithTicks(b),this._getGroupGradientType(b)),l=0;l<d.series.length;l++){var m=this._getSerieSettings(b,l),n=d.series[l],o=n.dataField,p=a.isFunction(n.colorFunction),q=this._getColors(b,l,NaN,k),r=NaN,s=NaN;if(e)for(var t=h.xoffsets.first;t<=h.xoffsets.last;t++){var u=this._getDataValueAsNumber(t,n.radiusDataField||n.sizeDataField,b);if("number"!=typeof u)throw"Invalid radiusDataField value at ["+t+"]";isNaN(u)||((isNaN(r)||r>u)&&(r=u),(isNaN(s)||u>s)&&(s=u))}var v=n.minRadius||n.minSymbolSize;isNaN(v)&&(v=j/50);var w=n.maxRadius||n.maxSymbolSize;isNaN(w)&&(w=j/25),v>w&&(w=v);var x=n.radius;x=isNaN(x)&&!isNaN(n.symbolSize)?"circle"==n.symbolType?n.symbolSize/2:n.symbolSize:5;for(var y=this._getAnimProps(b,l),z=y.enabled&&!this._isToggleRefresh&&h.xoffsets.length<5e3?y.duration:0,A={groupIndex:b,seriesIndex:l,symbolType:n.symbolType,symbolSize:n.symbolSize,"fill-opacity":m.opacity,"stroke-opacity":m.opacity,"stroke-width":m.stroke,"stroke-dasharray":m.dashStyle,items:[],polarAxisCoords:i},t=h.xoffsets.first;t<=h.xoffsets.last;t++){var u=this._getDataValueAsNumber(t,o,b);if("number"==typeof u){var B=h.xoffsets.data[t],C=h.offsets[l][t].to,D=h.xoffsets.xvalues[t];if(!isNaN(B)&&!isNaN(C)){if(f){var E=B;B=C,C=E+c.y}else B+=c.x;var F=x;if(e){var G=this._getDataValueAsNumber(t,n.radiusDataField||n.sizeDataField,b);if("number"!=typeof G)continue;F=v+(w-v)*(G-r)/Math.max(1,s-r),isNaN(F)&&(F=v)}var H=NaN,I=NaN,J=0;if(void 0!=D&&this._elementRenderInfo&&this._elementRenderInfo.length>b){var K=this._elementRenderInfo[b].series[l][D];if(K&&!isNaN(K.to)){if(H=K.to,I=K.xoffset,J=x,f){var E=I;I=H,H=E+c.y}else I+=c.x;e&&(J=v+(w-v)*(K.valueRadius-r)/Math.max(1,s-r),isNaN(J)&&(J=v))}}p&&(q=this._getColors(b,l,t,k)),A.items.push({from:J,to:F,itemIndex:t,fill:q.fillColor,stroke:q.lineColor,x:B,y:C,xFrom:I,yFrom:H})}}}this._animR(A,0);var L=this;this._enqueueAnimation("series",void 0,void 0,z,function(a,b,c){L._animR(b,c)},A)}}}},_animR:function(b,c){for(var d=b.items,e=b.symbolType||"circle",f=b.symbolSize,g=0;g<d.length;g++){var h=d[g],i=h.x,j=h.y,k=Math.round((h.to-h.from)*c+h.from);if(isNaN(h.yFrom)||(j=h.yFrom+(j-h.yFrom)*c),isNaN(h.xFrom)||(i=h.xFrom+(i-h.xFrom)*c),b.polarAxisCoords){var l=this._toPolarCoord(b.polarAxisCoords,this._plotRect,i,j);i=l.x,j=l.y}i=a.jqx._ptrnd(i),j=a.jqx._ptrnd(j),k=a.jqx._ptrnd(k);var m=h.element;"circle"==e?(m||(m=this.renderer.circle(i,j,k),this.renderer.attr(m,{fill:h.fill,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:h.stroke,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]}),h.element=m),this._isVML?this.renderer.updateCircle(m,void 0,void 0,k):this.renderer.attr(m,{r:k,cy:j,cx:i})):(m&&this.renderer.removeElement(m),h.element=m=this._drawSymbol(e,i,j,h.fill,b["fill-opacity"],h.stroke,b["stroke-opacity"]||b["fill-opacity"],b["stroke-width"],b["stroke-dasharray"],f||k)),h.labelElement&&this.renderer.removeElement(h.labelElement),h.labelElement=this._showLabel(b.groupIndex,b.seriesIndex,h.itemIndex,{x:i-k,y:j-k,width:2*k,height:2*k}),c>=1&&this._installHandlers(m,"circle",b.groupIndex,b.seriesIndex,h.itemIndex)}},_showToolTip:function(b,c,d,e,f){var g=this,h=g._getCategoryAxis(d);if(!g._ttEl||d!=g._ttEl.gidx||e!=g._ttEl.sidx||f!=g._ttEl.iidx){var i=g.seriesGroups[d],j=i.series[e],k=g.enableCrosshairs&&!(i.polar||i.spider);g._pointMarker?(b=parseInt(g._pointMarker.x+5),c=parseInt(g._pointMarker.y-5)):k=!1;var l=k&&0==g.showToolTips;b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var m=void 0==g._ttEl;if(0!=i.showToolTips&&0!=j.showToolTips){var n=j.toolTipFormatSettings||i.toolTipFormatSettings,o=j.toolTipFormatFunction||i.toolTipFormatFunction||g.toolTipFormatFunction,p=g._getColors(d,e,f),q=g._getDataValue(f,h.dataField,d);(void 0==h.dataField||""==h.dataField)&&(q=f),"date"==h.type&&(q=g._castAsDate(q));var r="";if(a.isFunction(o)){var s={};-1==i.type.indexOf("range")?s=g._getDataValue(f,j.dataField,d):(s.from=g._getDataValue(f,j.dataFieldFrom,d),
s.to=g._getDataValue(f,j.dataFieldTo,d)),r=o(s,f,j,i,q,h)}else{r=g._getFormattedValue(d,e,f,n,o);var t=h.toolTipFormatSettings||h.formatSettings,u=h.toolTipFormatFunction||h.formatFunction;u||t||"date"!=h.type||(u=this._getDefaultDTFormatFn(h.baseUnit||"day"));var v=g._formatValue(q,t,u);"pie"!=i.type&&"donut"!=i.type?r=(j.displayText||j.dataField||"")+", "+v+": "+r:(q=g._getDataValue(f,j.displayText||j.dataField,d),v=g._formatValue(q,t,u),r=v+": "+r)}var w=j.toolTipClass||i.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),x=j.toolTipBackground||i.toolTipBackground||"#FFFFFF",y=j.toolTipLineColor||i.toolTipLineColor||p.lineColor;if(g._ttEl||(g._ttEl={}),g._ttEl.sidx=e,g._ttEl.gidx=d,g._ttEl.iidx=f,rect=g.renderer.getRect(),k){var z=a.jqx._ptrnd(g._pointMarker.x),A=a.jqx._ptrnd(g._pointMarker.y);if(g._ttEl.vLine&&g._ttEl.hLine)g.renderer.attr(g._ttEl.vLine,{x1:z,x2:z}),g.renderer.attr(g._ttEl.hLine,{y1:A,y2:A});else{var B=g.crosshairsColor||"#888888";g._ttEl.vLine=g.renderer.line(z,g._plotRect.y,z,g._plotRect.y+g._plotRect.height,{stroke:B,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""}),g._ttEl.hLine=g.renderer.line(g._plotRect.x,A,g._plotRect.x+g._plotRect.width,A,{stroke:B,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""})}}if(!l&&0!=g.showToolTips){var C=m?document.createElement("div"):g._ttEl.box,D={left:0,top:0};m&&(C.style.position="absolute",C.style.cursor="default",C.style.overflow="hidden",a(C).addClass("jqx-rc-all jqx-button"),a(C).css("z-index",9999999),a(document.body).append(C)),C.style.backgroundColor=x,C.style.borderColor=y,g._ttEl.box=C,g._ttEl.txt=r;var E="<span class='"+w+"'>"+r+"</span>",F=g._ttEl.tmp;if(m&&(g._ttEl.tmp=F=document.createElement("div"),F.style.position="absolute",F.style.cursor="default",F.style.overflow="hidden",F.style.display="none",F.style.zIndex=999999,F.style.backgroundColor=x,F.style.borderColor=y,a(F).addClass("jqx-rc-all jqx-button"),g.host.append(F)),a(F).html(E),!r||0==r.length)return void a(C).fadeTo(0,0);var G={width:a(F).width(),height:a(F).height()};if(G.width=G.width+5,G.height=G.height+6,b=Math.max(b,rect.x),c=Math.max(c-G.height,rect.y),G.width>rect.width||G.height>rect.height)return;b+D.left+G.width>rect.x+rect.width-5&&(b=rect.x+rect.width-G.width-D.left-5),c+D.top+G.height>rect.y+rect.height-5&&(c=rect.y+rect.height-G.height-5);var H=g.host.coord();m&&(a(C).fadeOut(0,0),C.style.left=D.left+b+H.left+"px",C.style.top=D.top+c+H.top+"px"),a(C).html(E),a(C).clearQueue(),a(C).animate({left:D.left+b+H.left,top:D.top+c+H.top,opacity:1},300,"easeInOutCirc"),a(C).fadeTo(400,1)}}}},_hideToolTip:function(b){this._ttEl&&(this._ttEl.box&&(0==b?a(this._ttEl.box).hide():a(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_showLabel:function(a,b,c,d,e,f,g,h,i,j){var k=this.seriesGroups[a],l=k.series[b],m={width:0,height:0};if(0==l.showLabels||!l.showLabels&&!k.showLabels)return g?m:void 0;if(d.width<0||d.height<0)return g?m:void 0;var n=l.labelClass||k.labelClass||this.toThemeProperty("jqx-chart-label-text",null),o=l.labelAngle||l.labelsAngle||k.labelAngle||k.labelsAngle||0;isNaN(j)||(o=j);var p=l.labelOffset||l.labelsOffset||k.labelOffset||k.labelsOffset||{},q={x:p.x,y:p.y};isNaN(q.x)&&(q.x=0),isNaN(q.y)&&(q.y=0),e=e||l.labelsHorizontalAlignment||k.labelsHorizontalAlignment||"center",f=f||l.labelsVerticalAlignment||k.labelsVerticalAlignment||"center";var r=this._getFormattedValue(a,b,c),s=d.width,t=d.height;if(1==h&&"center"!=e&&(e="right"==e?"left":"right"),1==i&&"center"!=f&&"middle"!=f&&(f="top"==f?"bottom":"top",q.y*=-1),m=this.renderer.measureText(r,o,{"class":n}),g)return m;var u=0;s>0&&(""==e||"center"==e?u+=(s-m.width)/2:"right"==e&&(u+=s-m.width));var v=0;t>0&&(""==f||"center"==f?v+=(t-m.height)/2:"bottom"==f&&(v+=t-m.height)),u+=d.x+q.x,v+=d.y+q.y;var w=this._plotRect;u<=w.x&&(u=w.x+2),v<=w.y&&(v=w.y+2);var x={width:Math.max(m.width,1),height:Math.max(m.height,1)};v+x.height>=w.y+w.height&&(v=w.y+w.height-x.height-2),u+x.width>=w.x+w.width&&(u=w.x+w.width-x.width-2);var y=this.renderer.text(r,u,v,m.width,m.height,o,{"class":n},!1,"center","center");return this.renderer.attr(y,{"class":n}),this._isVML&&(this.renderer.removeElement(y),this.renderer.getContainer()[0].appendChild(y)),y},_getAnimProps:function(a,b){var c=this.seriesGroups[a],d=isNaN(b)?void 0:c.series[b],e=1==this.enableAnimations;c.enableAnimations&&(e=1==c.enableAnimations),d&&d.enableAnimations&&(e=1==d.enableAnimations);var f=this.animationDuration;isNaN(f)&&(f=1e3);var g=c.animationDuration;if(isNaN(g)||(f=g),d){var h=d.animationDuration;isNaN(h)||(f=h)}return f>5e3&&(f=1e3),{enabled:e,duration:f}},_isColorTransition:function(a,b,c,d){if(d-1<c.xoffsets.first)return!1;var e=this._getColors(a,b,d,this._getGroupGradientType(a)),f=this._getColors(a,b,d-1,this._getGroupGradientType(a));return e.fillColor!=f.fillColor},_renderLineSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("area"),f=-1!=d.type.indexOf("stacked"),g=f&&-1!=d.type.indexOf("100"),h=-1!=d.type.indexOf("spline"),i=-1!=d.type.indexOf("step"),j=-1!=d.type.indexOf("range"),k=1==d.polar||1==d.spider;if(k&&(i=!1),!i||!h){var l=this._getDataLen(b),m=(c.width/l,"horizontal"==d.orientation),n=1==this._getCategoryAxis(b).flip,o=c;m&&(o={x:c.y,y:c.x,width:c.height,height:c.width});var p=this._calcGroupOffsets(b,o);if(p&&0!=p.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[b]={};for(var q=d.series.length-1;q>=0;q--){var r=this._getSerieSettings(b,q),s={groupIndex:b,serieIndex:q,swapXY:m,isArea:e,isSpline:h,isRange:j,isPolar:k,settings:r,segments:[],pointsLength:0},t=this._isSerieVisible(b,q);if(t){var u,v=d.series[q],w=a.isFunction(v.colorFunction),x=p.xoffsets.first,y=x,z=this._getColors(b,q,NaN,this._getGroupGradientType(b));do{var A=[],B=[],C=[],D=0,E=0,F=NaN,G=NaN,H=NaN;if(!(p.xoffsets.length<1)){var I=this._getAnimProps(b,q),J=I.enabled&&!this._isToggleRefresh&&p.xoffsets.length<1e4&&1!=this._isVML?I.duration:0,K=x;u=!1;for(var L=(this._getColors(b,q,x,this._getGroupGradientType(b)),x);L<=p.xoffsets.last;L++){x=L;var M=p.xoffsets.data[L],N=p.xoffsets.xvalues[L];if(!isNaN(M)){M=Math.max(M,1),D=M,E=p.offsets[q][L].to;var O=p.offsets[q][L].from;if(isNaN(E)||isNaN(O)){if("connect"==v.emptyPointsDisplay)continue;if("zero"!=v.emptyPointsDisplay){u=!0;break}isNaN(E)&&(E=p.baseOffset),isNaN(O)&&(O=p.baseOffset)}if(w&&this._isColorTransition(b,q,p,x)&&A.length>1){x--;break}if(this._elementRenderInfo&&this._elementRenderInfo.length>b&&this._elementRenderInfo[b].series.length>q){var P=this._elementRenderInfo[b].series[q][N],H=a.jqx._ptrnd(P?P.to:void 0),Q=a.jqx._ptrnd(o.x+(P?P.xoffset:void 0));C.push(m?{y:Q,x:H,index:L}:{x:Q,y:H,index:L})}y=L,r.stroke<2&&(E-o.y<=1&&(E=o.y+1),O-o.y<=1&&(O=o.y+1),o.y+o.height-E<=1&&(E=o.y+o.height-1),o.y+o.height-E<=1&&(O=o.y+o.height-1)),!e&&g&&(E<=o.y&&(E=o.y+1),E>=o.y+o.height&&(E=o.y+o.height-1),O<=o.y&&(O=o.y+1),O>=o.y+o.height&&(O=o.y+o.height-1)),M=Math.max(M,1),D=M+o.x,!i||isNaN(F)||isNaN(G)||G!=E&&A.push(m?{y:D,x:a.jqx._ptrnd(G)}:{x:D,y:a.jqx._ptrnd(G)}),A.push(m?{y:D,x:a.jqx._ptrnd(E),index:L}:{x:D,y:a.jqx._ptrnd(E),index:L}),B.push(m?{y:D,x:a.jqx._ptrnd(O),index:L}:{x:D,y:a.jqx._ptrnd(O),index:L}),F=D,G=E,isNaN(H)&&(H=E)}}if(0!=A.length){var R=A[A.length-1].index;w&&(z=this._getColors(b,q,R,this._getGroupGradientType(b)));var S=o.x+p.xoffsets.data[K],T=o.x+p.xoffsets.data[y];if(e&&1==d.alignEndPointsWithIntervals){if(S>o.x&&(S=o.x),T<o.x+o.width&&(T=o.x+o.width),n){var U=S;S=T,T=U}}T=a.jqx._ptrnd(T),S=a.jqx._ptrnd(S);var V=p.baseOffset;H=a.jqx._ptrnd(H);var W=a.jqx._ptrnd(E)||V;j&&(A=A.concat(B.reverse())),s.pointsLength+=A.length;var X={lastItemIndex:R,colorSettings:z,pointsArray:A,pointsStart:C,left:S,right:T,pyStart:H,pyEnd:W,yBase:V,labelElements:[],symbolElements:[]};s.segments.push(X)}else x++}}while(x<p.xoffsets.length-1||u);this._linesRenderInfo[b][q]=s}else this._linesRenderInfo[b][q]=s}var Y=this._linesRenderInfo[b],Z=[];for(var L in Y)Z.push(Y[L]);Z=Z.sort(function(a,b){return a.serieIndex-b.serieIndex}),e&&f&&Z.reverse();for(var L=0;L<Z.length;L++){var s=Z[L];this._animateLine(s,0==J?1:0);var $=this;this._enqueueAnimation("series",void 0,void 0,J,function(a,b,c){$._animateLine(b,c)},s)}}}}},_animateLine:function(a,b){for(var c=a.settings,d=a.groupIndex,e=a.serieIndex,f=this.seriesGroups[d],g=f.series[e],h=this._getSymbol(d,e),i=1==g.showLabels||f.showLabels&&0!=g.showLabels,j=0,k=0;k<a.segments.length;k++){var l=a.segments[k],m=this._calculateLine(d,a.pointsLength,j,l.pointsArray,l.pointsStart,l.yBase,b,a.isArea,a.swapXY);if(j+=l.pointsArray.length,""!=m){var n=m.split(" "),o=(n.length,m);o=""!=o?this._buildLineCmd(m,a.isRange,l.left,l.right,l.pyStart,l.pyEnd,l.yBase,a.isArea,a.isPolar,a.isSpline,a.swapXY):"M 0 0";var p=l.colorSettings;if(l.pathElement?this.renderer.attr(l.pathElement,{d:o}):(l.pathElement=this.renderer.path(o,{"stroke-width":c.stroke,stroke:p.lineColor,"stroke-opacity":c.opacity,"fill-opacity":c.opacity,"stroke-dasharray":c.dashStyle,fill:a.isArea?p.fillColor:"none"}),this._installHandlers(l.pathElement,"path",d,e,l.lastItemIndex)),l.labelElements){for(var q=0;q<l.labelElements.length;q++)this.renderer.removeElement(l.labelElements[q]);l.labelElements=[]}if(l.symbolElements){for(var q=0;q<l.symbolElements.length;q++)this.renderer.removeElement(l.symbolElements[q]);l.symbolElements=[]}if(l.pointsArray.length==n.length&&("none"!=h||i))for(var r=g.symbolSize,q=0;q<n.length;q++){var s=n[q].split(",");if(s={x:parseFloat(s[0]),y:parseFloat(s[1])},"none"!=h){var t=this._getColors(d,e,l.pointsArray[q].index,this._getGroupGradientType(d)),u=this._drawSymbol(h,s.x,s.y,t.fillColorSymbol,c.opacity,t.lineColorSymbol,c.opacity,1,void 0,r);l.symbolElements.push(u)}if(i){var v=(q>0?n[q-1]:n[q]).split(",");v={x:parseFloat(v[0]),y:parseFloat(v[1])};var w=(q<n.length-1?n[q+1]:n[q]).split(",");w={x:parseFloat(w[0]),y:parseFloat(w[1])},s=this._adjustLineLabelPosition(d,e,l.pointsArray[q].index,s,v,w);var x=this._showLabel(d,e,l.pointsArray[q].index,{x:s.x,y:s.y,width:0,height:0});l.labelElements.push(x)}}if(1==b&&"none"!=h)for(var q=0;q<l.symbolElements.length;q++)this._installHandlers(l.symbolElements[q],"symbol",d,e,l.pointsArray[q].index)}}},_adjustLineLabelPosition:function(a,b,c,d,e,f){var g=this._showLabel(a,b,c,{width:0,height:0},"","",!0),h={x:0,y:0};return d.y==e.y&&d.x==e.x?h=f.y<d.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}:d.y==f.y&&d.x==f.x&&(h=e.y<d.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}),h=d.y>e.y&&d.y>f.y?{x:d.x,y:d.y+g.height}:{x:d.x,y:d.y-g.height}},_calculateLine:function(b,c,d,e,f,g,h,i,j){var k,l=this.seriesGroups[b];(1==l.polar||1==l.spider)&&(k=this._getPolarAxisCoords(b,this._plotRect));var m="",n=e.length;if(!i&&0==f.length){var o=c*h;n=o-d}for(var p=NaN,q=0;n+1>q&&q<e.length;q++){q>0&&(m+=" ");var r=e[q].y,s=e[q].x,t=i?g:r,u=s;if(f&&f.length>q&&(t=f[q].y,u=f[q].x,(isNaN(t)||isNaN(u))&&(t=r,u=s)),p=u,n<=e.length&&q>0&&q==n&&(u=e[q-1].x,t=e[q-1].y),j?(s=a.jqx._ptrnd((s-t)*(i?h:1)+t),r=a.jqx._ptrnd(r)):(s=a.jqx._ptrnd((s-u)*h+u),r=a.jqx._ptrnd((r-t)*h+t)),k){var v=this._toPolarCoord(k,this._plotRect,s,r);s=v.x,r=v.y}m+=s+","+r,1!=e.length||i||(m+=" "+(s+2)+","+(r+2))}return m},_buildLineCmd:function(a,b,c,d,e,f,g,h,i,j,k){var l=a,m=k?g+","+c:c+","+g,n=k?g+","+d:d+","+g;!h||i||b||(l=m+" "+a+" "+n),j&&(l=this._getBezierPoints(l));var o=l.split(" "),p=o[0].replace("C","");return l=h&&!i?b?"M "+p+" L "+p+(j?"":" L "+p+" ")+l:"M "+m+" L "+p+" "+l:j?"M "+p+" "+l:"M "+p+" L "+p+" "+l,i&&(l+=" Z"),l},_getSerieSettings:function(a,b){var c=this.seriesGroups[a],d=-1!=c.type.indexOf("area"),e=-1!=c.type.indexOf("line"),f=c.series[b],g=f.dashStyle||c.dashStyle||"",h=f.opacity||c.opacity;(isNaN(h)||0>h||h>1)&&(h=1);var i=f.lineWidth;return isNaN(i)&&"auto"!=i&&(i=c.lineWidth),("auto"==i||isNaN(i)||0>i||i>15)&&(i=d?2:e?3:1),{stroke:i,opacity:h,dashStyle:g}},_getColors:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i=h.useGradient;void 0==i&&(i=h.useGradientColors),void 0==i&&(i=g.useGradient),void 0==i&&(i=g.useGradientColors),void 0==i&&(i=!0);var j=this._getSeriesColors(b,c,d);j.fillColor||(j.fillColor=color,j.fillColorSelected=a.jqx.adjustColor(color,1.1),j.lineColor=j.symbolColor=a.jqx.adjustColor(color,.9),j.lineColorSelected=j.symbolColorSelected=a.jqx.adjustColor(color,.9));var k=[[0,1.4],[100,1]],l=[[0,1],[25,1.1],[50,1.4],[100,1]],m=[[0,1.3],[90,1.2],[100,1]],n=NaN;if(isNaN(f)||(n=2==f?k:l),i){var o={};for(var p in j)o[p]=j[p];if(j=o,"verticalLinearGradient"==e)j.fillColor=this.renderer._toLinearGradient(j.fillColor,!0,n||k),j.fillColorSelected=this.renderer._toLinearGradient(j.fillColorSelected,!0,n||k);else if("horizontalLinearGradient"==e)j.fillColor=this.renderer._toLinearGradient(j.fillColor,!1,n||l),j.fillColorSelected=this.renderer._toLinearGradient(j.fillColorSelected,!1,n||l);else if("radialGradient"==e){var q,n=k;("pie"==g.type||"donut"==g.type||g.polar)&&void 0!=d&&this._renderData[b]&&this._renderData[b].offsets[c]&&(q=this._renderData[b].offsets[c][d],n=m),j.fillColor=this.renderer._toRadialGradient(j.fillColor,n,q),j.fillColorSelected=this.renderer._toRadialGradient(j.fillColorSelected,n,q)}}return j},_installHandlers:function(a,b,c,d,e){if(!this.enableEvents)return!1;var f=this,g=this.seriesGroups[c],h=this.seriesGroups[c].series[d],i=-1!=g.type.indexOf("line")||-1!=g.type.indexOf("area");i||(this.renderer.addHandler(a,"mousemove",function(a){var b=f._selected;if(!b||!b.isLineType||"click"!=b.linesUnselectMode||b.group==c&&b.series==d){a.preventDefault();var g=a.pageX||a.clientX||a.screenX,h=a.pageY||a.clientY||a.screenY,i=f.host.offset();g-=i.left,h-=i.top,(f._mouseX!=g||f._mouseY!=h)&&(f._ttEl&&f._ttEl.gidx==c&&f._ttEl.sidx==d&&f._ttEl.iidx==e||f._startTooltipTimer(c,d,e))}}),this.renderer.addHandler(a,"mouseout",function(a){if((isNaN(f._lastClickTs)||!((new Date).valueOf()-f._lastClickTs<100))&&(a.preventDefault(),void 0!=e&&f._cancelTooltipTimer(),!i)){var b=f._selected;(!b||!b.isLineType||"click"!=b.linesUnselectMode||b.group==c&&b.series==d)&&f._unselect()}})),this.renderer.addHandler(a,"mouseover",function(g){g.preventDefault();var h=f._selected;(!h||!h.isLineType||"click"!=h.linesUnselectMode||h.group==c&&h.series==d)&&f._select(a,b,c,d,e,e)}),this.renderer.addHandler(a,"click",function(a){clearTimeout(f._hostClickTimer),f._lastClickTs=(new Date).valueOf(),i&&"symbol"!=b&&"pointMarker"!=b||(-1!=g.type.indexOf("column")&&f._unselect(),isNaN(e)||f._raiseItemEvent("click",g,h,e))})},_getHorizontalOffset:function(b,c,d,e){var f=this._plotRect,g=this._getDataLen(b);if(0==g)return{index:void 0,value:d};var h=this._calcGroupOffsets(b,this._plotRect);if(0==h.xoffsets.length)return{index:void 0,value:void 0};var i,j=d,k=e,l=this.seriesGroups[b];if((l.polar||l.spider)&&(i=this._getPolarAxisCoords(b,f)),"horizontal"==l.orientation&&!i){var m=j;j=k,k=m}for(var n,o,p,q,r=(1==this._getCategoryAxis(b).flip,h.xoffsets.first);r<=h.xoffsets.last;r++){var s=h.xoffsets.data[r],t=h.offsets[c][r].to,u=0;if(i){var v=this._toPolarCoord(i,f,s+f.x,t);s=v.x,t=v.y,u=a.jqx._ptdist(j,k,s,t)}else s+=f.x,t+=f.y,u=Math.abs(j-s);(isNaN(n)||n>u)&&(n=u,o=r,p=s,q=t)}return{index:o,value:h.xoffsets.data[o],polarAxisCoords:i,x:p,y:q}},onmousemove:function(b,c){if((this._mouseX!=b||this._mouseY!=c)&&(this._mouseX=b,this._mouseY=c,this._selected)){var d=this._selected.group,e=this._selected.series,f=this.seriesGroups[d],g=f.series[e],h=this._plotRect;if(this.renderer&&(h=this.renderer.getRect(),h.x+=5,h.y+=5,h.width-=10,h.height-=10),b<h.x||b>h.x+h.width||c<h.y||c>h.y+h.height)return this._hideToolTip(),void this._unselect();var i="horizontal"==f.orientation,h=this._plotRect;if(-1!=f.type.indexOf("line")||-1!=f.type.indexOf("area")){var j=this._getHorizontalOffset(d,this._selected.series,b,c),k=j.index;if(void 0==k)return;if(this._selected.item==k)return;for(var l=this._linesRenderInfo[d][e].segments,m=0;k>l[m].lastItemIndex;)if(m++,m>=l.length)return;var n=l[m].pathElement,o=l[m].lastItemIndex;this._unselect(!1),this._select(n,"path",d,e,k,o);var p=this._getSymbol(this._selected.group,this._selected.series);"none"==p&&(p="circle");var q=this._calcGroupOffsets(d,h),r=q.offsets[this._selected.series][k].to,s=r;-1!=f.type.indexOf("range")&&(s=q.offsets[this._selected.series][k].from);var t=i?b:c;if(c=!isNaN(s)&&Math.abs(t-s)<Math.abs(t-r)?s:r,isNaN(c))return;if(b=j.value,i){var u=b;b=c,c=u+h.y}else b+=h.x;if(j.polarAxisCoords&&(b=j.x,c=j.y),c=a.jqx._ptrnd(c),b=a.jqx._ptrnd(b),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(b)||isNaN(c))return;var v=this._getSeriesColors(d,e,k),w=g.opacity;(isNaN(w)||0>w||w>1)&&(w=f.opacity),(isNaN(w)||0>w||w>1)&&(w=1);var x=g.symbolSizeSelected;isNaN(x)&&(x=g.symbolSize),(isNaN(x)||x>50||0>x)&&(x=f.symbolSize),(isNaN(x)||x>50||0>x)&&(x=6),this._pointMarker={type:p,x:b,y:c,gidx:d,sidx:e,iidx:k},this._pointMarker.element=this._drawSymbol(p,b,c,v.fillColorSymbolSelected,w,v.lineColorSymbolSelected,w,1,void 0,x),this._installHandlers(this._pointMarker.element,"pointMarker",d,e,k),this._startTooltipTimer(d,this._selected.series,k)}}},_drawSymbol:function(a,b,c,d,e,f,g,h,i,j){var k,l=j||6,m=l/2;switch(a){case"none":return void 0;case"circle":k=this.renderer.circle(b,c,l/2);break;case"square":l-=1,m=l/2,k=this.renderer.rect(b-m,c-m,l,l);break;case"diamond":var n="M "+(b-m)+","+c+" L"+b+","+(c-m)+" L"+(b+m)+","+c+" L"+b+","+(c+m)+" Z";k=this.renderer.path(n);break;case"triangle_up":case"triangle":var n="M "+(b-m)+","+(c+m)+" L "+(b+m)+","+(c+m)+" L "+b+","+(c-m)+" Z";k=this.renderer.path(n);break;case"triangle_down":var n="M "+(b-m)+","+(c-m)+" L "+b+","+(c+m)+" L "+(b+m)+","+(c-m)+" Z";k=this.renderer.path(n);break;case"triangle_left":var n="M "+(b-m)+","+c+" L "+(b+m)+","+(c+m)+" L "+(b+m)+","+(c-m)+" Z";k=this.renderer.path(n);break;case"triangle_right":var n="M "+(b-m)+","+(c-m)+" L "+(b-m)+","+(c+m)+" L "+(b+m)+","+c+" Z";k=this.renderer.path(n);break;default:k=this.renderer.circle(b,c,l)}return this.renderer.attr(k,{fill:d,"fill-opacity":e,stroke:f,"stroke-width":h,"stroke-opacity":g,"stroke-dasharray":i||""}),k},_getSymbol:function(a,b){var c,d=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],e=this.seriesGroups[a],f=e.series[b];return void 0!=f.symbolType&&(c=f.symbolType),void 0==c&&(c=e.symbolType),"default"==c?d[b%d.length]:void 0!=c?c:"none"},_startTooltipTimer:function(a,b,c){this._cancelTooltipTimer();var d=this,e=(d.seriesGroups[a],this.toolTipShowDelay||this.toolTipDelay);(isNaN(e)||e>1e4||0>e)&&(e=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(e=0),clearTimeout(this._tttimerHide),0==e&&d._showToolTip(d._mouseX,d._mouseY-3,a,b,c),this._tttimer=setTimeout(function(){0!=e&&d._showToolTip(d._mouseX,d._mouseY-3,a,b,c);var f=d.toolTipHideDelay;isNaN(f)&&(f=4e3),d._tttimerHide=setTimeout(function(){d._hideToolTip(),d._unselect()},f)},e)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(a){var b=this.seriesGroups[a];return-1!=b.type.indexOf("area")?"horizontal"==b.orientation?"horizontalLinearGradient":"verticalLinearGradient":-1!=b.type.indexOf("column")?b.polar?"radialGradient":"horizontal"==b.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=b.type.indexOf("scatter")||-1!=b.type.indexOf("bubble")||-1!=b.type.indexOf("pie")||-1!=b.type.indexOf("donut")?"radialGradient":void 0},_select:function(a,b,c,d,e,f){if(this._selected){if(this._selected.item==e&&this._selected.series==d&&this._selected.group==c)return;this._unselect()}var g=this.seriesGroups[c],h=g.series[d],i=-1!=g.type.indexOf("line")&&-1==g.type.indexOf("area");this._selected={element:a,type:b,group:c,series:d,item:e,iidxBase:f,isLineType:i,linesUnselectMode:h.linesUnselectMode||g.linesUnselectMode};var j=this._getColors(c,d,f||e,this._getGroupGradientType(c)),k=j.fillColorSelected;i&&(k="none");var l=this._getSerieSettings(c,d),m="symbol"==b?j.lineColorSymbolSelected:j.lineColorSelected;k="symbol"==b?j.fillColorSymbolSelected:k;var n=l.stroke;this.renderer.attr(a,{stroke:m,fill:k,"stroke-width":n}),this._raiseItemEvent("mouseover",g,h,e)},_unselect:function(){var a=this;if(a._selected){var b=a._selected.group,c=a._selected.series,d=a._selected.item,e=a._selected.iidxBase,f=a._selected.type,g=a.seriesGroups[b],h=g.series[c],i=-1!=g.type.indexOf("line")&&-1==g.type.indexOf("area"),j=a._getColors(b,c,e||d,a._getGroupGradientType(b)),k=j.fillColor;i&&(k="none");var l=a._getSerieSettings(b,c),m="symbol"==f?j.lineColorSymbol:j.lineColor;k="symbol"==f?j.fillColorSymbol:k;var n=l.stroke;this.renderer.attr(a._selected.element,{stroke:m,fill:k,"stroke-width":n}),a._selected=void 0,isNaN(d)||a._raiseItemEvent("mouseout",g,h,d)}a._pointMarker&&(a._pointMarker.element&&(a.renderer.removeElement(a._pointMarker.element),a._pointMarker.element=void 0),a._pointMarker=void 0,a._hideCrosshairs())},_raiseItemEvent:function(b,c,d,e){for(var f=d[b]||c[b],g=0;g<this.seriesGroups.length&&this.seriesGroups[g]!=c;g++);if(g!=this.seriesGroups.length){var h={event:b,seriesGroup:c,serie:d,elementIndex:e,elementValue:this._getDataValue(e,d.dataField,g)};f&&a.isFunction(f)&&f(h),this._raiseEvent(b,h)}},_raiseEvent:function(b,c){var d=new a.Event(b);d.owner=this,d.args=c;var e=this.host.trigger(d);return e},_calcInterval:function(a,b,c){var d=Math.abs(b-a),e=d/c,f=[1,2,3,4,5,10,15,20,25,50,100],g=[.5,.25,.125,.1],h=.1,i=f;1>e&&(i=g,h=10);var j=0;do{j=0,e>=1?h*=10:h/=10;for(var k=1;k<i.length&&Math.abs(i[j]*h-e)>Math.abs(i[k]*h-e);k++)j=k}while(j==i.length-1);return i[j]*h},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var a=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var b=0;b<this._renderData.length;b++){for(this._getCategoryAxis(b).dataField;a.length<=b;)a.push({});var c=a[b],d=this._renderData[b];if(d.offsets){if(d.valueAxis){c.valueAxis={itemOffsets:{}};for(var e in d.valueAxis.itemOffsets)c.valueAxis.itemOffsets[e]=d.valueAxis.itemOffsets[e]}if(d.xAxis){c.xAxis={itemOffsets:{}};for(var e in d.xAxis.itemOffsets)c.xAxis.itemOffsets[e]=d.xAxis.itemOffsets[e]}c.series=[];for(var f=c.series,g=this.seriesGroups[b].type,h=-1!=g.indexOf("pie")||-1!=g.indexOf("donut"),i=0;i<d.offsets.length;i++){f.push({});for(var j=0;j<d.offsets[i].length;j++)if(h){var k=d.offsets[i][j];f[i][k.displayValue]={value:k.value,x:k.x,y:k.y,fromAngle:k.fromAngle,toAngle:k.toAngle}}else f[i][d.xoffsets.xvalues[j]]={value:d.offsets[i][j].value,valueFrom:d.offsets[i][j].valueFrom,valueRadius:d.offsets[i][j].valueRadius,xoffset:d.xoffsets.data[j],from:d.offsets[i][j].from,to:d.offsets[i][j].to}}}}}},_calcGroupOffsets:function(b,c){for(var d=this.seriesGroups[b];this._renderData.length<b+1;)this._renderData.push({});if(null!=this._renderData[b]&&void 0!=this._renderData[b].offsets)return this._renderData[b];if(-1!=d.type.indexOf("pie")||-1!=d.type.indexOf("donut"))return this._calcPieSeriesGroupOffsets(b,c);if(!d.valueAxis||!d.series||0==d.series.length)return this._renderData[b];var e=1==d.valueAxis.flip,f=1==d.valueAxis.logarithmicScale,g=d.valueAxis.logarithmicScaleBase||10,h=[],i=-1!=d.type.indexOf("stacked"),j=i&&-1!=d.type.indexOf("100"),k=-1!=d.type.indexOf("range"),l=-1!=d.type.indexOf("column"),m=this._getDataLen(b),n=d.baselineValue||d.valueAxis.baselineValue||0;j&&(n=0);var o=this._stats.seriesGroups[b];if(o&&o.isValid){n>o.max&&(n=o.max),n<o.min&&(n=o.min);var p=j||f?o.maxRange:o.max-o.min,q=o.min,r=o.max,s=c.height/(f?o.intervals:p),t=0;j?0>q*r?(p/=2,t=-(p+n)*s):t=-n*s:t=-(n-q)*s,e?t=c.y-t:t+=c.y+c.height;var u,v,w=[],x=[],y=[];f&&(u=a.jqx.log(r,g)-a.jqx.log(n,g),i&&(u=o.intervals,n=j?0:q),v=o.intervals-u,e||(t=c.y+u/o.intervals*c.height)),t=a.jqx._ptrnd(t);var z=0>q*r?c.height/2:c.height,A=[],B=[];if(d.bands)for(var C=0;C<d.bands.length;C++){var D=d.bands[C].minValue,E=d.bands[C].maxValue;isNaN(D)&&(D=n),isNaN(E)&&(E=n);var F=0,G=0;f?(F=(a.jqx.log(D,g)-a.jqx.log(n,g))*s,G=(a.jqx.log(E,g)-a.jqx.log(n,g))*s):(F=(D-n)*s,G=(E-n)*s),this._isVML&&(F=Math.round(F),G=Math.round(G)),e?B.push({from:t+G,to:t+F}):B.push({from:t-G,to:t-F})}for(var H=[],I=l||!l&&!i||j||f,C=0;C<d.series.length;C++){!i&&f&&(A=[]);var J=d.series[C].dataField,K=d.series[C].dataFieldFrom,L=d.series[C].dataFieldTo,M=d.series[C].radiusDataField||d.series[C].sizeDataField;h.push([]);for(var N=this._isSerieVisible(b,C),O=0;m>O;O++){for(;H.length<=O;)H.push(0);var P=NaN;k&&(P=this._getDataValueAsNumber(O,K,b),isNaN(P)&&(P=n));var Q=NaN;Q=k?this._getDataValueAsNumber(O,L,b):this._getDataValueAsNumber(O,J,b);var R=this._getDataValueAsNumber(O,M,b);if(N||(Q=NaN),isNaN(Q)||f&&0>=Q)h[C].push({from:void 0,to:void 0});else{var S;I?S=Q>=n?w:x:H[O]=Q=H[O]+Q;var T=s*(Q-n);if(k&&(T=s*(Q-P)),f){for(;A.length<=O;)A.push({p:{value:0,height:0},n:{value:0,height:0}});var U=k?P:n,V=Q>U?A[O].p:A[O].n;V.value+=Q,j?(Q=V.value/(o.psums[O]+o.nsums[O])*100,T=(a.jqx.log(Q,g)-o.minPow)*s):(T=a.jqx.log(V.value,g)-a.jqx.log(U,g),T*=s),T-=V.height,V.height+=T}var W=t;if(k){var X=0;X=f?(a.jqx.log(P,g)-a.jqx.log(n,g))*s:(P-n)*s,W+=e?X:-X}if(i){if(j&&!f){var Y=o.psums[O]-o.nsums[O];Q>n?(T=o.psums[O]/Y*z,0!=o.psums[O]&&(T*=Q/o.psums[O])):(T=o.nsums[O]/Y*z,0!=o.nsums[O]&&(T*=Q/o.nsums[O]))}I&&(isNaN(S[O])&&(S[O]=W),W=S[O])}isNaN(y[O])&&(y[O]=0);var Z=y[O];T=Math.abs(T);var $=T;if(h_new=this._isVML?Math.round(T):a.jqx._ptrnd(T)-1,T=Math.abs(T-h_new)>.5?Math.round(T):h_new,Z+=T-$,i||(Z=0),Math.abs(Z)>.5&&(Z>0?(T-=1,Z-=1):(T+=1,Z+=1)),y[O]=Z,C==d.series.length-1&&j){for(var _=0,aa=0;C>aa;aa++)_+=Math.abs(h[aa][O].to-h[aa][O].from);if(_+=T,z>_)if(T>.5)T=a.jqx._ptrnd(T+z-_);else for(var aa=C-1;aa>=0;){var ba=Math.abs(h[aa][O].to-h[aa][O].from);if(ba>1){h[aa][O].from>h[aa][O].to&&(h[aa][O].from+=z-_);break}aa--}}e&&(T*=-1);var ca=n>Q;k&&(ca=P>Q);var da=isNaN(P)?Q:{from:P,to:Q};ca?(I&&(S[O]+=T),h[C].push({from:W,to:W+T,value:da,valueFrom:P,valueRadius:R})):(I&&(S[O]-=T),h[C].push({from:W,to:W-T,value:da,valueFrom:P,valueRadius:R}))}}}var ea=this._renderData[b];return ea.baseOffset=t,ea.offsets=h,ea.bands=B,ea.xoffsets=this._calculateXOffsets(b,c.width),this._renderData[b]}},_calcPieSeriesGroupOffsets:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._renderData[b]={},g=f.offsets=[],h=0;h<e.series.length;h++){var i=e.series[h],j=i.minAngle;(isNaN(j)||0>j||j>360)&&(j=0);var k=i.maxAngle;(isNaN(k)||0>k||k>360)&&(k=360);var l=k-j,m=i.initialAngle||0;j>m&&(m=j),m>k&&(m=k);var n=m,o=i.radius||.4*Math.min(c.width,c.height);isNaN(o)&&(o=1);var p=i.innerRadius||0;(isNaN(p)||p>=o)&&(p=0);var q=i.centerOffset||0,r=a.jqx.getNum([i.offsetX,e.offsetX,c.width/2]),s=a.jqx.getNum([i.offsetY,e.offsetY,c.height/2]);g.push([]);for(var t=0,u=0,v=0;d>v;v++){var w=this._getDataValueAsNumber(v,i.dataField,b);isNaN(w)||(this._isSerieVisible(b,h,v)||1==i.hiddenPointsDisplay)&&(w>0?t+=w:u+=w)}var x=t-u;0==x&&(x=1);for(var v=0;d>v;v++){var w=this._getDataValueAsNumber(v,i.dataField,b);if(isNaN(w))g[h].push({});else{var y=i.displayText||i.displayField,z=this._getDataValue(v,y,b);void 0==z&&(z=v);var A=0,B=this._isSerieVisible(b,h,v);(B||1==i.hiddenPointsDisplay)&&(A=Math.abs(w)/x*l);var C=c.x+r,D=c.y+s,E=q;a.isFunction(q)&&(E=q({seriesIndex:h,seriesGroupIndex:b,itemIndex:v})),isNaN(E)&&(E=0);var F={key:b+"_"+h+"_"+v,value:w,displayValue:z,x:C,y:D,fromAngle:n,toAngle:n+A,centerOffset:E,innerRadius:p,outerRadius:o,visible:B};g[h].push(F),n+=A}}}return f},_isPointSeriesOnly:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1==b.type.indexOf("line")&&-1==b.type.indexOf("area")&&-1==b.type.indexOf("scatter")&&-1==b.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1!=b.type.indexOf("column"))return!0}return!1},_alignValuesWithTicks:function(a){var b=this._isPointSeriesOnly(),c=this.seriesGroups[a],d=this._getCategoryAxis(a),e=void 0==d.valuesOnTicks?b:0!=d.valuesOnTicks;return void 0==a?e:void 0==c.valuesOnTicks?e:c.valuesOnTicks},_getYearsDiff:function(a,b){return b.getFullYear()-a.getFullYear()},_getMonthsDiff:function(a,b){return 12*(b.getFullYear()-a.getFullYear())+b.getMonth()-a.getMonth()},_getDateDiff:function(b,c,d,e){var f=0;switch("year"!=d&&"month"!=d&&(f=c.valueOf()-b.valueOf()),d){case"year":f=this._getYearsDiff(b,c);break;case"month":f=this._getMonthsDiff(b,c);break;case"day":f/=864e5;break;case"hour":f/=36e5;break;case"minute":f/=6e4;break;case"second":f/=1e3;break;case"millisecond":}return"year"!=d&&"month"!=d&&0!=e&&(f=a.jqx._rnd(f,1,!0)),f},_getAsDate:function(a,b){return a=this._castAsDate(a),"month"==b?new Date(a.getFullYear(),a.getMonth(),1):"year"==b?new Date(a.getFullYear(),0,1):"day"==b?new Date(a.getFullYear(),a.getMonth(),a.getDate()):a},_getCategoryAxisStats:function(a,b,c){for(var d,e,f=this._getDataLen(a),g="date"==b.type||"time"==b.type,h=g?this._castAsDate(b.minValue):this._castAsNumber(b.minValue),i=g?this._castAsDate(b.maxValue):this._castAsNumber(b.maxValue),j=h,k=i,l=void 0==b.type||"auto"==b.type,m=l||"basic"==b.type,n=0,o=0,p=0;f>p&&b.dataField;p++){var q=this._getDataValue(p,b.dataField,a);q=g?this._castAsDate(q):this._castAsNumber(q),isNaN(q)||(g?n++:o++,(isNaN(d)||d>q)&&(d=q),(isNaN(e)||q>=e)&&(e=q))}l&&(!g&&o==f||g&&n==f)&&(m=!1),m&&(d=0,e=f-1),isNaN(j)&&(j=d),isNaN(k)&&(k=e),g?(j=new Date(j),k=new Date(k),this._isDate(j)||(j=this._isDate(k)?k:new Date),this._isDate(k)||(k=this._isDate(j)?j:new Date)):(isNaN(j)&&(j=0),isNaN(k)&&(k=m?f-1:j)),void 0==d&&(d=j),void 0==e&&(e=k);var r,s;if(g){if(r=b.baseUnit,!r){r="day";var t=k.valueOf()-j.valueOf();r=1e3>t?"second":36e5>t?"minute":864e5>t?"hour":2592e6>t?"day":31104e6>t?"month":"year"}s="hour"==r||"minute"==r||"second"==r||"millisecond"==r}var u=b.unitInterval;return(isNaN(u)||0>=u)&&(u=this._estAxisInterval(j,k,a,c,r)),{min:j,max:k,dsRange:{min:d,max:e},useIndeces:m,isDateTime:g,isTimeUnit:s,dateTimeUnit:r,interval:u}},_getDefaultDTFormatFn:function(a){var b,c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b="year"==a||"month"==a||"day"==a?function(a){return a.getDate()+"-"+c[a.getMonth()]+"-"+a.getFullYear()}:function(a){return a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}},_estimateDTIntCnt:function(a,b,c,d){var e=0,f=new Date(a),g=new Date(b);if(0>=c)return 1;for(;f.valueOf()<g.valueOf();)"millisecond"==d?f.setMilliseconds(f.getMilliseconds()+c):"second"==d?f.setSeconds(f.getSeconds()+c):"minute"==d?f.setMinutes(f.getMinutes()+c):"hour"==d?f.setHours(f.getHours()+c):"day"==d?f.setDate(f.getDate()+c):"month"==d?f.setMonth(f.getMonth()+c):"year"==d&&f.setFullYear(f.getFullYear()+c),e++;return e},_estAxisInterval:function(a,b,c,d,e){var f=[1,2,5,10,15,20,50,100,200,500],g=0,h=d/50;if(this._renderData&&this._renderData.length>c&&this._renderData[c].xAxis&&!isNaN(this._renderData[c].xAxis.avgWidth)){var i=Math.max(1,this._renderData[c].xAxis.avgWidth);0!=i&&(h=.9*d/i)}if(1>=h)return 1;for(var j=0;;){var k=g>=f.length?Math.pow(10,3+g-f.length):f[g];if(j=this._isDate(a)&&this._isDate(b)?this._estimateDTIntCnt(a,b,k,e):(b-a)/k,h>=j)return k;g++}},_getPaddingSize:function(a,b,c,d,e,f){var g=a.min,h=a.max,i=a.interval,j=a.dateTimeUnit;if(e)return{left:0,right:d/Math.max(1,h-g+1)*i};if(c&&!f)return{left:0,right:0};if(this._isDate(g)&&this._isDate(h)){var k=this._estimateDTIntCnt(g,h,Math.min(i,h-g),j),l=d/Math.max(2,k);return{left:l/2,right:l/2}}var k=Math.max(1,h-g);if(1==k)return sz=d/4,{left:sz,right:sz};var l=d/(k+1);return{left:l/2,right:l/2}},_calculateXOffsets:function(b,c){
var d=this.seriesGroups[b],e=this._getCategoryAxis(b),f=[],g=[],h=this._getDataLen(b),i=this._getCategoryAxisStats(b,e,c),j=i.min,k=i.max,l=i.isDateTime,m=i.isTimeUnit,n=this._hasColumnSeries(),o=d.polar||d.spider,p=this._alignValuesWithTicks(b),q=this._getPaddingSize(i,e,p,c,o,n),r=k-j;0==r&&(r=1);var s=c-q.left-q.right;o&&p&&(q.left=q.right=0);for(var t=-1,u=-1,v=0;h>v;v++){var w=void 0===e.dataField?v:this._getDataValue(v,e.dataField,b);if(i.useIndeces){if(j>v||v>k){f.push(NaN),g.push(void 0);continue}f.push(a.jqx._ptrnd(q.left+(v-j)/r*s)),g.push(w),-1==t&&(t=v),(-1==u||v>u)&&(u=v)}else if(w=l?this._castAsDate(w):this._castAsNumber(w),isNaN(w)||j>w||w>k)f.push(NaN),g.push(void 0);else{var x=0;!l||l&&m?(diffFromMin=w-j,x=(w-j)*s/r):x=(w.valueOf()-j.valueOf())/(k.valueOf()-j.valueOf())*s,x=a.jqx._ptrnd(q.left+x),f.push(x),g.push(w),-1==t&&(t=v),(-1==u||v>u)&&(u=v)}}if(1==e.flip)for(var v=0;v<f.length;v++)isNaN(f[v])||(f[v]=c-f[v]);m&&(r=this._getDateDiff(j,k,e.baseUnit),r=a.jqx._rnd(r,1,!1));var y=Math.max(1,l?f.length:r),z=s/y;return t==u&&(f[t]=q.left+s/2),{axisStats:i,data:f,xvalues:g,first:t,last:u,length:-1==u?0:u-t+1,itemWidth:z,intervalWidth:z*i.interval,rangeLength:r,useIndeces:i.useIndeces,padding:q}},_getCategoryAxis:function(a){return void 0==a||this.seriesGroups.length<=a?this.categoryAxis||this.xAxis:this.seriesGroups[a].categoryAxis||this.seriesGroups[a].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(a,b){var c=this.seriesGroups[a],d=c.series[b];return 1==d.greyScale?!0:0==d.greyScale?!1:1==c.greyScale?!0:0==c.greyScale?!1:1==this.greyScale},_getSeriesColors:function(b,c,d){var e=this._getSeriesColorsInternal(b,c,d);if(this._isGreyScale(b,c))for(var f in e)e[f]=a.jqx.toGreyScale(e[f]);return e},_getColorFromScheme:function(a,b,c){var d="#000000",e=this.seriesGroups[a],f=e.series[b];if("pie"==e.type||"donut"==e.type){var g=this._getDataLen(a);d=this._getItemColorFromScheme(f.colorScheme||e.colorScheme||this.colorScheme,b*g+c,a,b)}else{for(var h=0,i=0;a>=i;i++)for(var j in this.seriesGroups[i].series){if(i==a&&j==b)break;h++}var k=this.colorScheme;if(e.colorScheme&&(k=e.colorScheme,sidex=seriesIndex),(void 0==k||""==k)&&(k=this.colorSchemes[0].name),!k)return d;for(var i=0;i<this.colorSchemes.length;i++){var l=this.colorSchemes[i];if(l.name==k){for(;h>l.colors.length;)h-=l.colors.length,++i>=this.colorSchemes.length&&(i=0),l=this.colorSchemes[i];d=l.colors[h%l.colors.length]}}}return d},_createColorsCache:function(){this._colorsCache={get:function(a){return this._store[a]?this._store[a]:void 0},set:function(a,b){this._size<1e4&&(this._store[a]=b,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(b,c,d){var e=b+"_"+c+"_"+(isNaN(d)?"NaN":d);if(this._colorsCache.get(e))return this._colorsCache.get(e);var f,g=this.seriesGroups[b],h=g.series[c],i={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333"};if(a.isFunction(h.colorFunction)){var j=isNaN(d)?NaN:this._getDataValue(d,h.dataField,b);if(-1!=g.type.indexOf("range")){var k=this._getDataValue(d,h.dataFieldFrom,b),l=this._getDataValue(d,h.dataFieldTo,b);j={from:k,to:l}}if(f=h.colorFunction(j,d,h,g),"object"==typeof f)for(var m in f)i[m]=f[m];else i.fillColor=f}else{for(var m in i)h.key&&(i[m]=h[m]);h.fillColor||h.color?h.fillColor=h.fillColor||h.color:i.fillColor=this._getColorFromScheme(b,c,d)}var n={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},lineColor:{baseColor:"fillColor",adjust:.9},lineColorSelected:{baseColor:"lineColor",adjust:.8},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var m in i)"object"==typeof f&&f[m]||(h[m]?i[m]=h[m]:i[m]=a.jqx.adjustColor(i[n[m].baseColor],n[m].adjust));return this._colorsCache.set(e,i),i},_getItemColorFromScheme:function(b,c,d,e){(void 0==b||""==b)&&(b=this.colorSchemes[0].name);for(var f=0;f<this.colorSchemes.length&&b!=this.colorSchemes[f].name;f++);for(var g=0;c>=g;){f==this.colorSchemes.length&&(f=0);var h=this.colorSchemes[f].colors.length;if(!(c>=g+h)){var i=this.colorSchemes[f].colors[c-g];return this._isGreyScale(d,e)&&0==i.indexOf("#")&&(i=a.jqx.toGreyScale(i)),i}g+=h,f++}},getColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a)return this.colorSchemes[b].colors;return void 0},addColorScheme:function(a,b){for(var c in this.colorSchemes)if(this.colorSchemes[c].name==a)return void(this.colorSchemes[c].colors=b);this.colorSchemes.push({name:a,colors:b})},removeColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a){this.colorSchemes.splice(b,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(b,c,d,e,f,g){if(void 0==b)return"";if(this._isObject(b)&&!d)return"";if(d){if(!a.isFunction(d))return b.toString();try{return d(b,g,f,e)}catch(h){return h.message}}return this._isNumber(b)?this._formatNumber(b,c):this._isDate(b)?this._formatDate(b,c):c?(c.prefix||"")+b.toString()+(c.sufix||""):b.toString()},_getFormattedValue:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i="",j=e,k=f;if(k||(k=h.formatFunction||g.formatFunction),j||(j=h.formatSettings||g.formatSettings),!h.formatFunction&&h.formatSettings&&(k=void 0),-1!=g.type.indexOf("range")){var l=this._getDataValue(d,h.dataFieldFrom,b),m=this._getDataValue(d,h.dataFieldTo,b);if(k&&a.isFunction(k))try{return k({from:l,to:m},d,h,g)}catch(n){return n.message}void 0!=l&&(i=this._formatValue(l,j,k,b,c,d)),void 0!=m&&(i+=", "+this._formatValue(m,j,k,b,c,d))}else{var o=this._getDataValue(d,h.dataField,b);void 0!=o&&(i=this._formatValue(o,j,k,b,c,d))}return i||""},_isNumberAsString:function(b){if("string"!=typeof b)return!1;b=a.trim(b);for(var c=0;c<b.length;c++){var d=b.charAt(c);if(!(d>="0"&&"9">=d||","==d||"."==d||"-"==d&&0==c||"("==d&&0==c||")"==d&&c==b.length-1))return!1}return!0},_castAsDate:function(b){if(b instanceof Date&&!isNaN(b))return b;if("string"==typeof b){var c=new Date(b);if(isNaN(c))if(a.jqx.dataFormat){var d=a.jqx.dataFormat.tryparsedate(b);c=d?d:this._parseISO8601Date(b)}else c=this._parseISO8601Date(b);else-1==b.indexOf(":")&&c.setHours(0,0,0,0);if(void 0!=c&&!isNaN(c))return c}return void 0},_parseISO8601Date:function(a){var b=a.split(" ");if(b.length<0)return NaN;var c=b[0].split("-"),d=2==b.length?b[1].split(":"):"",e=c[0],f=c.length>1?c[1]-1:0,g=c.length>2?c[2]:1,h=d[1],i=d.length>1?d[1]:0,h=d.length>2?d[2]:0,j=d.length>3?d[3]:0;return new Date(e,f,g,h,i,j)},_castAsNumber:function(a){if(a instanceof Date&&!isNaN(a))return a.valueOf();if("string"==typeof a)if(this._isNumber(a))a=parseFloat(a);else if(!/[a-zA-Z]/.test(a)){var b=new Date(a);void 0!=b&&(a=b.valueOf())}return a},_isNumber:function(a){return"string"==typeof a&&this._isNumberAsString(a)&&(a=parseFloat(a)),"number"==typeof a&&isFinite(a)},_isDate:function(a){return a instanceof Date&&!isNaN(a.getDate())},_isBoolean:function(a){return"boolean"==typeof a},_isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},_formatDate:function(a,b){return a.toString()},_formatNumber:function(a,b){if(!this._isNumber(a))return a;b=b||{};var c=b.decimalSeparator||".",d=b.thousandsSeparator||"",e=b.prefix||"",f=b.sufix||"",g=b.decimalPlaces;isNaN(g)&&(g=100*a!=100*parseInt(a)?2:0);var h=b.negativeWithBrackets||!1,i=0>a;i&&h&&(a*=-1);var j,k=a.toString(),l=Math.pow(10,g);if(k=(Math.round(a*l)/l).toString(),isNaN(k)&&(k=""),j=k.lastIndexOf("."),g>0)for(0>j?(k+=c,j=k.length-1):"."!==c&&(k=k.replace(".",c));k.length-1-j<g;)k+="0";j=k.lastIndexOf(c),j=j>-1?j:k.length;for(var m=k.substring(j),n=0,o=j;o>0;o--,n++)n%3===0&&o!==j&&(!i||o>1||i&&h)&&(m=d+m),m=k.charAt(o-1)+m;return k=m,i&&h&&(k="("+k+")"),e+k+f},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_getBezierPoints:function(b){for(var c=[],d=b.split(" "),e=0;e<d.length;e++){var f=d[e].split(",");c.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}var g="";if(c.length<3)for(var e=0;e<c.length;e++)g+=(e>0?" ":"")+c[e].x+","+c[e].y;else for(var e=0;e<c.length-1;e++){var h=[];0==e?(h.push(c[e]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2])):c.length-2==e?(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+1])):(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2]));var i=[],j=e>3?9:5,k=0==e?81:j,l={x:(-h[0].x+k*h[1].x+h[2].x)/k,y:(-h[0].y+k*h[1].y+h[2].y)/k};0==e&&(k=j);var m={x:(h[1].x+k*h[2].x-h[3].x)/k,y:(h[1].y+k*h[2].y-h[3].y)/k};i.push({x:h[1].x,y:h[1].y}),i.push(l),i.push(m),i.push({x:h[2].x,y:h[2].y}),g+="C"+a.jqx._ptrnd(i[1].x)+","+a.jqx._ptrnd(i[1].y)+" "+a.jqx._ptrnd(i[2].x)+","+a.jqx._ptrnd(i[2].y)+" "+a.jqx._ptrnd(i[3].x)+","+a.jqx._ptrnd(i[3].y)+" "}return g},_animTickInt:50,_createAnimationGroup:function(a){this._animGroups||(this._animGroups={}),this._animGroups[a]={animations:[],startTick:NaN}},_startAnimation:function(a){var b=new Date,c=b.getTime();this._animGroups[a].startTick=c,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(a,b,c,d,e,f,g){0>d&&(d=0),void 0==g&&(g="easeInOutSine"),this._animGroups[a].animations.push({key:b,properties:c,duration:d,fn:e,context:f,easing:g})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var a=this;this._animtimer=setTimeout(function(){a._runAnimation()},this._animTickInt)}},_runAnimation:function(b){if(this._animGroups){var c=new Date,d=c.getTime(),e={};for(var f in this._animGroups){for(var g=this._animGroups[f].animations,h=this._animGroups[f].startTick,i=0,j=0;j<g.length;j++){var k=g[j],l=d-h;k.duration>i&&(i=k.duration);var m=k.duration>0?l/k.duration:1,n=m;if(k.easing&&0!=k.duration&&(n=a.easing[k.easing](m,l,0,1,k.duration)),m>1&&(m=1,n=1),k.fn)k.fn(k.key,k.context,n);else{for(var o={},f=0;f<k.properties.length;f++){var p=k.properties[f],q=0;q=1==m?p.to:easeParecent*(p.to-p.from)+p.from,o[p.key]=q}this.renderer.attr(k.key,o)}}h+i>d&&(e[f]={startTick:h,animations:g})}this._animGroups=e,this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var f in this._animGroups){this._enableAnimTimer();break}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxChart.prototype,{_renderCategoryAxisRangeSelector:function(b,c){var d=this;d._isTouchDevice=a.jqx.mobile.isTouchDevice();var e=d._getCategoryAxis(b),f=d.seriesGroups[b];if(e&&0!=e.visible&&"spider"!=f.type&&d._isGroupVisible(b)){var g=e.rangeSelector;if(g){this._isSelectorRefresh||this.host.find(".rangeSelector").remove();var h="horizontal"==f.orientation;g.renderTo&&(h=!1),d.rtl&&(e.flip=!0);var i=h?this.host.height():this.host.width();i-=3;var j=this._getCategoryAxisStats(b,e,i),k=e.position;if(g.renderTo&&g.position&&(k=g.position),!this._isSelectorRefresh){var l=g.renderTo,m="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>",n=a(m).appendTo(l?l:this.host.find(".chartContainer"));if(l)n.css({width:l.width(),height:l.height()}),c.width=l.width(),c.height=l.height();else{var o=this.host.coord();selectorSize=this._selectorGetSize(e),h?(n.css("left",o.left+1+c.x+("right"!=k?-selectorSize:c.width)),n.css("top",o.top),n.css("height",i),n.css("width",selectorSize),c.height=selectorSize):(n.css("left",o.left+1),n.css("top",o.top+c.y+("top"!=k?c.height:-selectorSize)),n.css("height",selectorSize),n.css("width",i),c.width=selectorSize)}this._refreshSelector(b,e,j,n,c,h)}this._isSelectorRefresh=!1}}},_refreshSelector:function(b,c,d,e,f,g){var h={},i=c.rangeSelector;this.seriesGroups[b];for(var j in i)h[j]=i[j];var k=h.minValue,l=h.maxValue;void 0==k&&(k=Math.min(d.min.valueOf(),d.dsRange.min.valueOf())),void 0==l&&(l=Math.max(d.max.valueOf(),d.dsRange.max.valueOf())),this._isDate(d.min)&&(k=new Date(k)),this._isDate(d.max)&&(l=new Date(l));var m=c.position;i.renderTo&&i.position&&(m=i.position),h.dataField=c.dataField,h.rangeSelector=void 0,h.type=c.type,h.baseUnit=i.baseUnit||c.baseUnit,h.minValue=k,h.maxValue=l,h.flip=c.flip,h.position=m;var n=5,o=g?0:f.x,p=g?0:this.padding.right,q=g?f.y:n,r=g?this._paddedRect.height-this._plotRect.height:n,s=i.padding;s=void 0!=s||i.renderTo?{left:s&&s.left?s.left:o,top:s&&s.top?s.top:q,right:s&&s.right?s.right:p,bottom:s&&s.bottom?s.bottom:r}:{left:o,top:q,right:p,bottom:r};for(var t=c.rangeSelector.dataField,j=0;void 0==t&&j<this.seriesGroups.length;j++)for(var u=0;void 0==t&&u<this.seriesGroups[j].series.length;u++)t=this.seriesGroups[j].series[u].dataField;var v={padding:s,title:i.title||"",description:i.description||"",titlePadding:i.titlePadding,colorScheme:i.colorScheme||this.colorScheme,backgroundColor:i.backgroundColor||this.backgroundColor||"transparent",backgroundImage:i.backgroundImage||"",showBorderLine:i.showBorderLine||(i.renderTo?!0:!1),borderLineWidth:i.borderLineWidth||this.borderLineWidth,borderLineColor:i.borderLineColor||this.borderLineColor,rtl:i.rtl||this.rtl,greyScale:i.greyScale||this.greyScale,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:h,seriesGroups:[{orientation:g?"horizontal":"vertical",valueAxis:{visible:!1},type:c.rangeSelector.serieType||"area",series:[{dataField:t,opacity:.8,lineWidth:1}]}]};e.empty(),e.jqxChart(v);var w=this;e.on(w._getEvent("mousemove"),function(){w._unselect(),w._hideToolTip()});var x=e.jqxChart("getInstance");if(x._plotRect){var y=x._paddedRect;if(y.height=x._plotRect.height,g||"top"!=m){if(g){var z=x._renderData[0].xAxis.rect.width;y.width-=z,"right"!=m&&(y.x+=z)}}else y.y+=x._renderData[0].xAxis.rect.height;w._createSliderElements(b,e,y,i),w.addHandler(a(document),w._getEvent("mousemove"),w._onSliderMouseMove,{self:this,groupIndex:b,renderTo:e,swapXY:g}),w.addHandler(a(document),w._getEvent("mousedown"),w._onSliderMouseDown,{self:this,groupIndex:b,renderTo:e,swapXY:g}),w.addHandler(a(document),w._getEvent("mouseup"),w._onSliderMouseUp,{self:this,groupIndex:b,renderTo:e,swapXY:g})}},_createSliderElements:function(b,c,d,e){c.find(".slider").remove();var f=e.colorSelectedRange||"blue",g=e.colorUnselectedRange||"white",h=a("<div class='slider' style='position: absolute;'></div>");for(h.css({background:f,opacity:.1,left:d.x,top:d.y,width:d.width,height:d.height}),h.appendTo(c),this._sliders||(this._sliders=[]);this._sliders.length<b+1;)this._sliders.push({});var i="<div class='slider' style='position: absolute;  background: "+g+"; opacity: 0.5;'></div>",j="<div class='slider' style='position: absolute; background: grey; opacity: 0.5;'></div>";this._sliders[b]={element:h,host:c,fullRect:{x:h.coord().left,y:h.coord().top,width:d.width,height:d.height},rect:d,left:a(i),right:a(i),leftTop:a(j),rightTop:a(j),leftBorder:a(j),rightBorder:a(j)},this._sliders[b].left.appendTo(c),this._sliders[b].right.appendTo(c),this._sliders[b].leftTop.appendTo(c),this._sliders[b].rightTop.appendTo(c),this._sliders[b].leftBorder.appendTo(c),this._sliders[b].rightBorder.appendTo(c);var k=this._renderData[b].xAxis,l=k.data.axisStats,m=l.min.valueOf(),n=l.max.valueOf(),o=this._valueToOffset(b,m),p=this._valueToOffset(b,n);if(o>p){var q=p;p=o,o=q}"horizontal"!=this.seriesGroups[b].orientation?h.css({left:Math.round(d.x+o),top:d.y,width:Math.round(p-o),height:d.height}):h.css({top:Math.round(d.y+o),left:d.x,height:Math.round(p-o),width:d.width}),this._setSliderPositions(b,o,p)},_setSliderPositions:function(a,b,c){var d=this.seriesGroups[a],e=this._getCategoryAxis(a),f=e.rangeSelector,g="horizontal"==d.orientation;e.rangeSelector.renderTo&&(g=!1);var h=e.position;f.renderTo&&f.position&&(h=f.position);var i=this._sliders[a],j=g?"top":"left",k=g?"left":"top",l=g?"height":"width",m=g?"width":"height",n=g?"y":"x",o=g?"x":"y",p=i.rect;i.left.css(j,p[n]),i.left.css(k,p[o]),i.left.css(l,b),i.left.css(m,p[m]),i.right.css(j,p[n]+c),i.right.css(k,p[o]),i.right.css(l,p[l]-c+1),i.right.css(m,p[m]),i.leftTop.css(j,p[n]),i.leftTop.css(k,p[o]+(g&&"right"==h||!g&&"top"!=h?0:p[m])),i.leftTop.css(l,b),i.leftTop.css(m,1),i.rightTop.css(j,p[n]+c),i.rightTop.css(k,p[o]+(g&&"right"==h||!g&&"top"!=h?0:p[m])),i.rightTop.css(l,p[l]-c+1),i.rightTop.css(m,1),i.leftBorder.css(j,p[n]+b),i.leftBorder.css(k,p[o]),i.leftBorder.css(l,1),i.leftBorder.css(m,p[m]),i.rightBorder.css(j,p[n]+c),i.rightBorder.css(k,p[o]),i.rightBorder.css(l,1),i.rightBorder.css(m,p[m])},_resizeState:{},_onSliderMouseDown:function(a){var b=a.data.self,c=b._sliders[a.data.groupIndex];c&&(void 0==b._resizeState.state&&b._testAndSetReadyResize(a),"ready"==b._resizeState.state&&(b._resizeState.state="resizing"))},_valueToOffset:function(a,b){var c=this.seriesGroups[a],d=this._sliders[a],e=d.host.jqxChart("getInstance"),f=e._renderData[0].xAxis,g=f.data.axisStats,h=Math.min(g.min.valueOf(),g.dsRange.min.valueOf()),i=Math.max(g.max.valueOf(),g.dsRange.max.valueOf()),j=i-h;0==j&&(j=1);var k=this._getCategoryAxis(a),l="horizontal"==c.orientation?"height":"width",m=(b.valueOf()-h)/j;return d.fullRect[l]*(k.flip?1-m:m)},_offsetToValue:function(a,b){var c=this._sliders[a],d=this.seriesGroups[a],e=this._getCategoryAxis(a),f="horizontal"==d.orientation?"height":"width",g=c.fullRect[f];0==g&&(g=1);var h=c.host.jqxChart("getInstance"),i=h._renderData[0].xAxis,j=i.data.axisStats,k=Math.min(j.min.valueOf(),j.dsRange.min.valueOf()),l=Math.max(j.max.valueOf(),j.dsRange.max.valueOf()),m=b/g*(l-k)+k;return 1==e.flip&&(m=l-b/g*(l-k)),this._isDate(j.min)||this._isDate(j.max)?m=new Date(m):(void 0==e.dataField&&(m=Math.round(m)),m<j.min&&(m=j.min),m>j.max&&(m=j.max)),m},_onSliderMouseUp:function(a){var b=a.data.self,c=a.data.groupIndex,d=a.data.swapXY,e=b._sliders[c];if(e&&"resizing"==b._resizeState.state){b._resizeState={},b.host.css("cursor","default");var f=d?"top":"left",g=d?"y":"x",h=e.element.coord()[f],i=h+(d?e.element.height():e.element.width()),j=b._offsetToValue(c,h-e.fullRect[g]),k=b._offsetToValue(c,i-e.fullRect[g]),l=e.host.jqxChart("getInstance"),m=l._renderData[0].xAxis,n=m.data.axisStats;!n.isTimeUnit&&k.valueOf()-j.valueOf()>864e5&&(j.setHours(0,0,0,0),k.setDate(k.getDate()+1),k.setHours(0,0,0,0));var o=b._getCategoryAxis(c);if(o.flip){var p=j;j=k,k=p}o.minValue=j,o.maxValue=k,b._isSelectorRefresh=!0;var q=b.enableAnimations;b.enableAnimations=!1,b.update(),b.enableAnimations=q}},_onSliderMouseMove:function(b){var c=b.data.self,d=(b.data.renderTo,b.data.groupIndex),e=c._sliders[d],f=b.data.swapXY;if(e){var g=e.fullRect,h=e.element,i=a.jqx.position(b),j=h.coord(),k=f?"top":"left",l=f?"height":"width",m=f?"y":"x";if("resizing"==c._resizeState.state){if("left"==c._resizeState.side){var n=Math.round(i[k]-j[k]),o=g[m];if(j[k]+n>=o&&j[k]+n<=o+g[l]){var p=parseInt(h.css(k)),q=Math.max(2,(f?h.height():h.width())-n);h.css(l,q),h.css(k,p+n)}}else if("right"==c._resizeState.side){var r=f?h.height():h.width(),n=Math.round(i[k]-j[k]-r),o=g[m];if(j[k]+r+n>=o&&j[k]+n+r<=o+g[l]){var q=Math.max(2,r+n);h.css(l,q)}}var s=parseInt(h.css(k))-e.rect[m],t=s+(f?h.height():h.width());c._setSliderPositions(d,s,t)}else c._testAndSetReadyResize(b)}},_testAndSetReadyResize:function(b){var c=b.data.self,d=b.data.renderTo,e=b.data.groupIndex,f=c._sliders[e],g=b.data.swapXY,h=f.fullRect,i=f.element,j=a.jqx.position(b),k=i.coord(),l=g?"left":"top",m=g?"top":"left",n=g?"width":"height",o=c._isTouchDevice?15:5;j[l]>=k[l]&&j[l]<=k[l]+h[n]?Math.abs(j[m]-k[m])<=o?(d.css("cursor",g?"row-resize":"col-resize"),c._resizeState={state:"ready",side:"left"}):Math.abs(j[m]-k[m]-(g?i.height():i.width()))<=o?(d.css("cursor",g?"row-resize":"col-resize"),c._resizeState={state:"ready",side:"right"}):(d.css("cursor","default"),c._resizeState={}):(d.css("cursor","default"),c._resizeState={})},_selectorGetSize:function(a){return a.rangeSelector.renderTo?0:a.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDraw","",{}),a.extend(a.jqx._jqxDraw.prototype,{defineInstance:function(){var b={renderEngine:""};a.extend(!0,this,b);var c=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var d in c)this._addFn(a.jqx._jqxDraw.prototype,c[d])},_addFn:function(a,b){a[b]||(a[b]=function(){return this.renderer[b].apply(this.renderer,arguments)})},createInstance:function(a){},_initRenderer:function(b){return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b.renderer||(b.host.empty(),b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh()}}},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},_render:function(a){var b=this;b.renderer;b._plotRect=a},refresh:function(){this._internalRefresh()},getSize:function(){var a=this._plotRect;return{width:a.width,height:a.height}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)}})}(jqxBaseFramework),function(a){a.jqx.toGreyScale=function(b){if(-1==b.indexOf("#"))return b;var c=a.jqx.cssToRgb(b);c[0]=c[1]=c[2]=Math.round(.3*c[0]+.59*c[1]+.11*c[2]);var d=a.jqx.rgbToHex(c[0],c[1],c[2]);return"#"+d[0]+d[1]+d[2]},a.jqx.adjustColor=function(b,c){if("string"!=typeof b)return"#000000";if(-1==b.indexOf("#"))return b;var d=a.jqx.cssToRgb(b),e=a.jqx.rgbToHsl(d);e[2]=Math.min(1,e[2]*c),e[1]=Math.min(1,e[1]*c*1.1),d=a.jqx.hslToRgb(e);for(var b="#",f=0;3>f;f++){var g=Math.round(d[f]);g=a.jqx.decToHex(g),1==g.toString().length&&(b+="0"),b+=g}return b.toUpperCase()},a.jqx.decToHex=function(a){return a.toString(16)},a.jqx.hexToDec=function(a){return parseInt(a,16)},a.jqx.rgbToHex=function(b,c,d){return[a.jqx.decToHex(b),a.jqx.decToHex(c),a.jqx.decToHex(d)]},a.jqx.hexToRgb=function(b,c,d){return[a.jqx.hexToDec(b),a.jqx.hexToDec(c),a.jqx.hexToDec(d)]},a.jqx.cssToRgb=function(b){return b.indexOf("rgb")<=-1?a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7)):b.substring(4,b.length-1).split(",")},a.jqx.hslToRgb=function(c){var d=parseFloat(c[0]),e=parseFloat(c[1]),f=parseFloat(c[2]);if(0==e)r=g=b=f;else{var h=.5>f?f*(1+e):f+e-f*e,i=2*f-h;r=a.jqx.hueToRgb(i,h,d+1/3),g=a.jqx.hueToRgb(i,h,d),b=a.jqx.hueToRgb(i,h,d-1/3)}return[255*r,255*g,255*b]},a.jqx.hueToRgb=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a},a.jqx.rgbToHsl=function(a){var b,c,d=parseFloat(a[0])/255,e=parseFloat(a[1])/255,f=parseFloat(a[2])/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g==h)b=c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+(f>e?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i]},a.jqx.swap=function(a,b){var c=a;a=b,b=c},a.jqx.getNum=function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++)if(!isNaN(b[c]))return b[c]}else if(isNaN(b))return 0;return 0},a.jqx._ptdist=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},a.jqx._ptrnd=function(b){if(!document.createElementNS)return Math.round(b)==b?b:a.jqx._rnd(b,1,!1,!0);var c=a.jqx._rnd(b,.5,!1,!0);return.5!=Math.abs(c-Math.round(c))?c>b?c-.5:c+.5:c},a.jqx._rup=function(a){var b=Math.round(a);return a>b&&b++,b},a.jqx.log=function(a,b){return Math.log(a)/(b?Math.log(b):1)},a.jqx._mod=function(a,b){var c=Math.abs(a>b?b:a),d=1;if(0!=c)for(;100>c*d;)d*=10;return a*=d,b*=d,a%b/d},a.jqx._rnd=function(b,c,d,e){if(isNaN(b))return b;var f=b-(1==e?b%c:a.jqx._mod(b,c));return b==f?f:(d?b>f&&(f+=c):f>b&&(f-=c),f)},a.jqx.commonRenderer={pieSlicePath:function(a,b,c,d,e,f,g){d||(d=1);var h=Math.abs(e-f),i=h>180?1:0;h>=360&&(f=e+359.99);var j=e*Math.PI*2/360,k=f*Math.PI*2/360,l=a,m=a,n=b,o=b,p=!isNaN(c)&&c>0;if(p&&(g=0),g+c>0){if(g>0){var q=h/2+e,r=q*Math.PI*2/360;a+=g*Math.cos(r),b-=g*Math.sin(r)}if(p){var s=c;l=a+s*Math.cos(j),n=b-s*Math.sin(j),m=a+s*Math.cos(k),o=b-s*Math.sin(k)}}var t=a+d*Math.cos(j),u=a+d*Math.cos(k),v=b-d*Math.sin(j),w=b-d*Math.sin(k),x="";return p?(x="M "+m+","+o,x+=" a"+c+","+c,x+=" 0 "+i+",1 "+(l-m)+","+(n-o),x+=" L"+t+","+v,x+=" a"+d+","+d,x+=" 0 "+i+",0 "+(u-t)+","+(w-v)):(x="M "+u+","+w,x+=" a"+d+","+d,x+=" 0 "+i+",1 "+(t-u)+","+(v-w),x+=" L"+a+","+b+" Z"),x},measureText:function(b,c,d,e,f){var g=f._getTextParts(b,c,d),h=g.width,i=g.height;0==e&&(i/=.6);var j={};if(isNaN(c)&&(c=0),0==c)j={width:a.jqx._rup(h),height:a.jqx._rup(i)};else{var k=c*Math.PI*2/360,l=Math.abs(Math.sin(k)),m=Math.abs(Math.cos(k)),n=Math.abs(h*l+i*m),o=Math.abs(h*m+i*l);j={width:a.jqx._rup(o),height:a.jqx._rup(n)}}return e&&(j.textPartsInfo=g),j},alignTextInRect:function(b,c,d,e,f,g,h,i,j,k){var l=j*Math.PI*2/360,m=Math.sin(l),n=Math.cos(l),o=f*m,p=f*n;"center"==h||""==h||"undefined"==h?b+=d/2:"right"==h&&(b+=d),"center"==i||"middle"==i||""==i||"undefined"==i?c+=e/2:"bottom"==i?c+=e-g/2:"top"==i&&(c+=g/2),k=k||"";var q="middle";-1!=k.indexOf("top")?q="top":-1!=k.indexOf("bottom")&&(q="bottom");var r="center";return-1!=k.indexOf("left")?r="left":-1!=k.indexOf("right")&&(r="right"),"center"==r?(b-=p/2,c-=o/2):"right"==r&&(b-=p,c-=o),"top"==q?(b-=g*m,c+=g*n):"middle"==q&&(b-=g*m/2,c+=g*n/2),b=a.jqx._rup(b),c=a.jqx._rup(c),{x:b,y:c}}},a.jqx.svgRenderer=function(){},a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(a){var b="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' onselectstart='return false;'></div></td></tr></table>";a.append(b),this.host=a;var c=a.find(".chartContainer");c[0].style.width=a.width()+"px",c[0].style.height=a.height()+"px";try{var d=document.createElementNS(this._svgns,"svg");d.setAttribute("id","svgChart"),d.setAttribute("version","1.1"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("overflow","hidden"),c[0].appendChild(d),this.canvas=d}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var b=a(this.canvas).position(),c=parseFloat(b.left)==parseInt(b.left),d=parseFloat(b.top)==parseInt(b.top);if(a.jqx.browser.msie){for(var c=!0,d=!0,e=this.host,f=0,g=0;e&&e.position&&e[0].parentNode;){var h=e.position();f+=parseFloat(h.left)-parseInt(h.left),g+=parseFloat(h.top)-parseInt(h.top),e=e.parent()}c=parseFloat(f)==parseInt(f),d=parseFloat(g)==parseInt(g)}c||(this.host.find("#tdLeft")[0].style.width="0.5px"),d||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var b=(a(this.canvas).offset(),this.host.find(".chartContainer"));this._width=Math.max(a.jqx._rup(this.host.width())-1,0),this._height=Math.max(a.jqx._rup(this.host.height())-1,0),b[0].style.width=this._width,b[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(a){if(void 0!=a){this.removeHandler(a);try{for(;a.firstChild;)this.removeElement(a.firstChild);a.parentNode?a.parentNode.removeChild(a):this.canvas.removeChild(a)}catch(b){}}},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElementNS(this._svgns,"g");return a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElementNS(this._svgns,"clipPath"),c=document.createElementNS(this._svgns,"rect");return this.attr(c,{x:a.x,y:a.y,width:a.width,height:a.height,fill:"none"}),this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),b.appendChild(c),this._defs.appendChild(b),b},setClip:function(a,b){return this.attr(a,{"clip-path":"url(#"+b.id+")"})},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},shape:function(a,b){var c=document.createElementNS(this._svgns,a);if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElementNS(this._svgns,"text");this.attr(i,d);for(var j=0;j<g.length;j++){var k=g[j],l=i.ownerDocument.createTextNode(k);i.appendChild(l),h.appendChild(i);var m;try{m=i.getBBox()}catch(n){}var o=a.jqx._rup(m.width),p=a.jqx._rup(m.height*f);i.removeChild(l),e.width=Math.max(e.width,o),e.height+=p+(j>0?4:0),e.parts.push({width:o,height:p,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k,l){var m,n=this._measureText(b,g,h,!0),o=n.textPartsInfo,p=o.parts;if(j||(j="center"),k||(k="center"),(p.length>1||i)&&(m=this.beginGroup()),i){var q=this.createClipRect({x:a.jqx._rup(c)-1,y:a.jqx._rup(d)-1,width:a.jqx._rup(e)+2,height:a.jqx._rup(f)+2});this.setClip(m,q)}var r=this._activeParent(),s=0,t=0;s=o.width,t=o.height,(isNaN(e)||0>=e)&&(e=s),
(isNaN(f)||0>=f)&&(f=t);var u=e||0,v=f||0;if(!g||0==g){d+=t,"center"==k||"middle"==k?d+=(v-t)/2:"bottom"==k&&(d+=v-t),e||(e=s),f||(f=t);for(var r=this._activeParent(),w=0,x=p.length-1;x>=0;x--){var y=document.createElementNS(this._svgns,"text");this.attr(y,h),this.attr(y,{cursor:"default"});var z=y.ownerDocument.createTextNode(p[x].text);y.appendChild(z);var A=c,B=p[x].width,C=p[x].height;"center"==j?A+=(u-B)/2:"right"==j&&(A+=u-B),this.attr(y,{x:a.jqx._rup(A),y:a.jqx._rup(d+w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),r.appendChild(y),w-=p[x].height+4}return m?(this.endGroup(),m):y}var D=a.jqx.commonRenderer.alignTextInRect(c,d,e,f,s,t,j,k,g,l);c=D.x,d=D.y;var E=this.shape("g",{transform:"translate("+c+","+d+")"}),F=this.shape("g",{transform:"rotate("+g+")"});E.appendChild(F);for(var w=0,x=p.length-1;x>=0;x--){var G=document.createElementNS(this._svgns,"text");this.attr(G,h),this.attr(G,{cursor:"default"});var z=G.ownerDocument.createTextNode(p[x].text);G.appendChild(z);var A=0,B=p[x].width,C=p[x].height;"center"==j?A+=(o.width-B)/2:"right"==j&&(A+=o.width-B),this.attr(G,{x:a.jqx._rup(A),y:a.jqx._rup(w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),F.appendChild(G),w-=C+4}return r.appendChild(E),m&&this.endGroup(),E},line:function(a,b,c,d,e){var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});return this.attr(f,e),f},path:function(a,b){var c=this.shape("path");return c.setAttribute("d",a),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",{x:b,y:c,width:d,height:e});return f&&this.attr(g,f),g},circle:function(a,b,c,d){var e=this.shape("circle",{cx:a,cy:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.shape("path");return j.setAttribute("d",i),h&&this.attr(j,h),j},attr:function(a,b){if(a&&b)for(var c in b)"textContent"==c?a.textContent=b[c]:a.setAttribute(c,b[c])},getAttr:function(a,b){return a.getAttribute(b)},_gradients:{},_toLinearGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+(c?"v":"h"),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"linearGradient");this.attr(g,{x1:"0%",y1:"0%",x2:c?"0%":"100%",y2:c?"100%":"0%",id:e});for(var h in d){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx.adjustColor(b,d[h][1]);this.attr(i,{offset:d[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f},_toRadialGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+"r"+(void 0!=d?d.key:""),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==d?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:d.x,cy:d.y,r:d.outerRadius,id:e,gradientUnits:"userSpaceOnUse"});for(var h in c){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx.adjustColor(b,c[h][1]);this.attr(i,{offset:c[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f}},a.jqx.vmlRenderer=function(){},a.jqx.vmlRenderer.prototype={init:function(b){var c="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";b.append(c),this.host=b;var d=b.find(".chartContainer");d[0].style.width=b.width()+"px",d[0].style.height=b.height()+"px";var e=!0;try{for(var f=0;f<document.namespaces.length;f++)if("v"==document.namespaces[f].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[f].urn){e=!1;break}}catch(g){return!1}return a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(e&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):e&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=d[0],this._width=Math.max(a.jqx._rup(d.width()),0),this._height=Math.max(a.jqx._rup(d.height()),0),d[0].style.width=this._width+2,d[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(a){null!=a&&(this.removeHandler(a),a.parentNode.removeChild(a))},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElement("v:group");return b.style.position="absolute",b.coordorigin="0,0",b.coordsize=this._width+","+this._height,b.style.left=0,b.style.top=0,b.style.width=this._width,b.style.height=this._height,a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElement("div");return b.style.height=a.height+1+"px",b.style.width=a.width+1+"px",b.style.position="absolute",b.style.left=a.x+"px",b.style.top=a.y+"px",b.style.overflow="hidden",this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(b),b},setClip:function(a,b){},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElement("v:textbox");this.attr(i,d),h.appendChild(i);for(var j=0;j<g.length;j++){var k=g[j],l=document.createElement("span");l.appendChild(document.createTextNode(k)),i.appendChild(l),d&&d["class"]&&(l.className=d["class"]);var m=a(i),n=a.jqx._rup(m.width()),o=a.jqx._rup(m.height()*f);if(0==o&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var p=m.css("font-size");p&&(o=parseInt(p),isNaN(o)&&(o=0))}i.removeChild(l),e.width=Math.max(e.width,n),e.height+=o+(j>0?2:0),e.parts.push({width:n,height:o,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return c=Math.abs(c)>45?90:0,a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k){var l;h&&h.stroke&&(l=h.stroke),void 0==l&&(l="black");var m=this._measureText(b,g,h,!0),n=m.textPartsInfo,o=n.parts,p=m.width,q=m.height;(isNaN(e)||0==e)&&(e=p),(isNaN(f)||0==f)&&(f=q);var r;if(j||(j="center"),k||(k="center"),(o.length>0||i)&&(r=this.beginGroup()),i){var s=this.createClipRect({x:a.jqx._rup(c),y:a.jqx._rup(d),width:a.jqx._rup(e),height:a.jqx._rup(f)});this.setClip(r,s)}var t=this._activeParent(),u=e||0,v=f||0;g=Math.abs(g)>45?90:0;var w=0,x=0;"center"==j?w+=(u-p)/2:"right"==j&&(w+=u-p),"center"==k?x=(v-q)/2:"bottom"==k&&(x=v-q),0==g?(d+=q+x,c+=w):(c+=p+w,d+=x);for(var y,z=0,A=o.length-1;A>=0;A--){var B=o[A],C=(p-B.width)/2;0==g&&"left"==j?C=0:0==g&&"right"==j?C=p-B.width:90==g&&(C=(q-B.width)/2);var D=z-B.height;x=90==g?C:D,w=90==g?D:C,y=document.createElement("v:textbox"),y.style.position="absolute",y.style.left=a.jqx._rup(c+w),y.style.top=a.jqx._rup(d+x),y.style.width=a.jqx._rup(B.width),y.style.height=a.jqx._rup(B.height),90==g&&(y.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)");var E=document.createElement("span");E.appendChild(document.createTextNode(B.text)),h&&h["class"]&&(E.className=h["class"]),y.appendChild(E),t.appendChild(y),z-=B.height+(A>0?2:0)}return r?(this.endGroup(),t):y},shape:function(a,b){var c=document.createElement(this._createElementMarkup(a));if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},line:function(a,b,c,d,e){var f="M "+a+","+b+" L "+c+","+d+" X E",g=this.path(f);return this.attr(g,e),g},_createElementMarkup:function(a){var b="<v:"+a+' style=""></v:'+a+">";return this._ie8mode&&(b=b.replace('style=""','style="behavior: url(#default#VML);"')),b},path:function(a,b){var c=document.createElement(this._createElementMarkup("shape"));return c.style.position="absolute",c.coordsize=this._width+" "+this._height,c.coordorigin="0 0",c.style.width=parseInt(this._width),c.style.height=parseInt(this._height),c.style.left="0px",c.style.top="0px",c.setAttribute("path",a),this._activeParent().appendChild(c),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",f);return g.style.position="absolute",g.style.left=b,g.style.top=c,g.style.width=d,g.style.height=e,g.strokeweight=0,f&&this.attr(g,f),g},circle:function(b,c,d,e){var f=this.shape("oval");return b=a.jqx._ptrnd(b-d),c=a.jqx._ptrnd(c-d),d=a.jqx._rup(d),f.style.position="absolute",f.style.left=b,f.style.top=c,f.style.width=2*d,f.style.height=2*d,e&&this.attr(f,e),f},updateCircle:function(b,c,d,e){void 0==c&&(c=parseFloat(b.style.left)+parseFloat(b.style.width)/2),void 0==d&&(d=parseFloat(b.style.top)+parseFloat(b.style.height)/2),void 0==e&&(e=parseFloat(b.width)/2),c=a.jqx._ptrnd(c-e),d=a.jqx._ptrnd(d-e),e=a.jqx._rup(e),b.style.left=c,b.style.top=d,b.style.width=2*e,b.style.height=2*e},pieSlicePath:function(b,c,d,e,f,g,h){e||(e=1);var i=Math.abs(f-g);i>360&&(f=0,g=360);var j=f*Math.PI*2/360,k=g*Math.PI*2/360,l=b,m=b,n=c,o=c,p=!isNaN(d)&&d>0;if(p&&(h=0),h>0){var q=i/2+f,r=q*Math.PI*2/360;b+=h*Math.cos(r),c-=h*Math.sin(r)}if(p){var s=d;l=a.jqx._ptrnd(b+s*Math.cos(j)),n=a.jqx._ptrnd(c-s*Math.sin(j)),m=a.jqx._ptrnd(b+s*Math.cos(k)),o=a.jqx._ptrnd(c-s*Math.sin(k))}var t=(a.jqx._ptrnd(b+e*Math.cos(j)),a.jqx._ptrnd(b+e*Math.cos(k))),u=(a.jqx._ptrnd(c-e*Math.sin(j)),a.jqx._ptrnd(c-e*Math.sin(k)));e=a.jqx._ptrnd(e),d=a.jqx._ptrnd(d),b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var v=Math.round(65535*f),w=Math.round(65536*(g-f));0>d&&(d=1);var x="";return p?(x="M"+l+" "+n,x+=" AE "+b+" "+c+" "+d+" "+d+" "+v+" "+w,x+=" L "+t+" "+u,v=Math.round(65535*(f-g)),w=Math.round(65536*g),x+=" AE "+b+" "+c+" "+e+" "+e+" "+w+" "+v,x+=" L "+l+" "+n):(x="M"+b+" "+c,x+=" AE "+b+" "+c+" "+e+" "+e+" "+v+" "+w),x+=" X E"},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.path(i,h);return h&&this.attr(j,h),j},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(a){for(var b in this._keymap)if(this._keymap[b].svg==a)return this._keymap[b].vml;return a},attr:function(a,b){if(a&&b)for(var c in b){var d=this._translateParam(c);"fillcolor"==d&&-1!=b[c].indexOf("grd")?a.type=b[c]:"fillcolor"==d&&"transparent"==b[c]?(a.style.filter="alpha(opacity=0)",a["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==d||"fillopacity"==d?a.fill&&(a.fill.opacity=b[c]):"textContent"==d?a.children[0].innerText=b[c]:"dashstyle"==d?a.dashstyle=b[c].replace(","," "):-1==d.indexOf("style.")?a[d]=b[c]:a.style[d.replace("style.","")]=b[c]}},getAttr:function(a,b){var c=this._translateParam(b);return"opacity"==c||"fillopacity"==c?a.fill?a.fill.opacity:1:-1==c.indexOf("style.")?a[c]:a.style[c.replace("style.","")]},_gradients:{},_toRadialGradient:function(a,b,c){return a},_toLinearGradient:function(b,c,d){if(this._ie8mode)return b;var e="grd"+b.replace("#","")+(c?"v":"h"),f="#"+e;if(this._gradients[f])return f;var g=document.createElement(this._createElementMarkup("fill"));g.type="gradient",g.method="linear",g.angle=c?0:90;var h="";for(var i in d)i>0&&(h+=", "),h+=d[i][0]+"% "+a.jqx.adjustColor(b,d[i][1]);g.colors=h;var j=document.createElement(this._createElementMarkup("shapetype"));return j.appendChild(g),j.id=e,this.canvas.appendChild(j),f}},a.jqx.HTML5Renderer=function(){},a.jqx.ptrnd=function(a){if(.5==Math.abs(Math.round(a)-a))return a;var b=Math.round(a);return a>b&&(b-=1),b+.5},a.jqx.HTML5Renderer.prototype={_elements:{},init:function(a){try{this.host=a,this.host.append("<canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/>"),this.canvas=a.find("#__jqxCanvasWrap"),this.canvas[0].width=a.width(),this.canvas[0].height=a.height(),this.ctx=this.canvas[0].getContext("2d")}catch(b){return!1}return!0},getContainer:function(){return this.canvas&&1==this.canvas.length?this.canvas:void 0},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(a){},addHandler:function(a,b,c){},removeHandler:function(a,b,c){},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(a){void 0!=a&&this._elements[a.id]&&delete this._elements[a.id]},_maxId:0,shape:function(a,b){var c={type:a,id:this._maxId++};for(var d in b)c[d]=b[d];return this._elements[c.id]=c,c},attr:function(a,b){for(var c in b)a[c]=b[c]},rect:function(a,b,c,d,e){if(isNaN(a))throw'Invalid value for "x"';if(isNaN(b))throw'Invalid value for "y"';if(isNaN(c))throw'Invalid value for "width"';if(isNaN(d))throw'Invalid value for "height"';var f=this.shape("rect",{x:a,y:b,width:c,height:d});return e&&this.attr(f,e),f},path:function(a,b){var c=this.shape("path",b);return this.attr(c,{d:a}),c},line:function(a,b,c,d,e){return this.path("M "+a+","+b+" L "+c+","+d,e)},circle:function(a,b,c,d){var e=this.shape("circle",{x:a,y:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.path(this.pieSlicePath(a,b,c,d,e,f,g),h);return this.attr(i,{x:a,y:b,innerRadius:c,outerRadius:d,angleFrom:e,angleTo:f}),i},_getCSSStyle:function(a){var b=document.styleSheets;try{for(var c=0;c<b.length;c++)for(var d=0;b[c].cssRules&&d<b[c].cssRules.length;d++)if(-1!=b[c].cssRules[d].selectorText.indexOf(a))return b[c].cssRules[d].style}catch(e){}return{}},_getTextParts:function(b,c,d){var e="Arial",f="10pt",g="";if(d&&d["class"]){var h=this._getCSSStyle(d["class"]);h.fontSize&&(f=h.fontSize),h.fontFamily&&(e=h.fontFamily),h.fontWeight&&(g=h.fontWeight)}this.ctx.font=g+" "+f+" "+e;for(var i={width:0,height:0,parts:[]},j=.6,k=b.toString().split("<br>"),l=0;l<k.length;l++){var m=k[l],n=this.ctx.measureText(m).width,o=document.createElement("span");o.font=this.ctx.font,o.textContent=m,document.body.appendChild(o);var p=o.offsetHeight*j;document.body.removeChild(o),i.width=Math.max(i.width,a.jqx._rup(n)),i.height+=p+(l>0?4:0),i.parts.push({width:n,height:p,text:m})}return i},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(a,b,c,d,e,f,g,h,i,j,k){var l=this.shape("text",{text:a,x:b,y:c,width:d,height:e,angle:f,clip:h,halign:i,valign:j,rotateAround:k});if(g&&this.attr(l,g),l.fontFamily="Arial",l.fontSize="10pt",l.fontWeight="",l.color="#000000",g&&g["class"]){var m=this._getCSSStyle(g["class"]);l.fontFamily=m.fontFamily||l.fontFamily,l.fontSize=m.fontSize||l.fontSize,l.fontWeight=m.fontWeight||l.fontWeight,l.color=m.color||l.color}var n=this._measureText(a,0,g,!0);return this.attr(l,{textPartsInfo:n.textPartsInfo,textWidth:n.width,textHeight:n.height}),(0>=d||isNaN(d))&&this.attr(l,{width:n.width}),(0>=e||isNaN(e))&&this.attr(l,{height:n.height}),l},_toLinearGradient:function(b,c,d){if(this._renderers._gradients[b])return b;for(var e=[],f=0;f<d.length;f++)e.push({percent:d[f][0]/100,color:a.jqx.adjustColor(b,d[f][1])});var g="gr"+this._gradientId++;return this.createGradient(g,c?"vertical":"horizontal",e),g},_toRadialGradient:function(b,c){if(this._renderers._gradients[b])return b;for(var d=[],e=0;e<c.length;e++)d.push({percent:c[e][0]/100,color:a.jqx.adjustColor(b,c[e][1])});var f="gr"+this._gradientId++;return this.createGradient(f,"radial",d),f},_gradientId:0,createGradient:function(a,b,c){this._renderers.createGradient(a,b,c)},_renderers:{_gradients:{},createGradient:function(a,b,c){this._gradients[a]={orientation:b,colorStops:c}},setStroke:function(a,b){a.strokeStyle=b.stroke||"transparent",a.lineWidth=b["stroke-width"]||1,b["fill-opacity"]?a.globalAlpha=b["fill-opacity"]:a.globalAlpha=1,a.setLineDash&&(b["stroke-dasharray"]?a.setLineDash(b["stroke-dasharray"].split(",")):a.setLineDash([]))},setFillStyle:function(b,c){if(b.fillStyle="transparent",c["fill-opacity"]?b.globalAlpha=c["fill-opacity"]:b.globalAlpha=1,c.fill&&-1==c.fill.indexOf("#")&&this._gradients[c.fill]){var d,e="horizontal"!=this._gradients[c.fill].orientation,f="radial"==this._gradients[c.fill].orientation,g=a.jqx.ptrnd(c.x),h=a.jqx.ptrnd(c.y),i=a.jqx.ptrnd(c.x+(e?0:c.width)),j=a.jqx.ptrnd(c.y+(e?c.height:0));"circle"!=c.type&&"path"!=c.type||!f||(x=a.jqx.ptrnd(c.x),y=a.jqx.ptrnd(c.y),r1=c.innerRadius||0,r2=c.outerRadius||c.r||0,d=b.createRadialGradient(x,y,r1,x,y,r2)),f||((isNaN(g)||isNaN(i)||isNaN(h)||isNaN(j))&&(g=0,h=0,i=e?0:b.canvas.width,j=e?b.canvas.height:0),d=b.createLinearGradient(g,h,i,j));for(var k=this._gradients[c.fill].colorStops,l=0;l<k.length;l++)d.addColorStop(k[l].percent,k[l].color);b.fillStyle=d}else c.fill&&(b.fillStyle=c.fill)},rect:function(b,c){0!=c.width&&0!=c.height&&(b.fillRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height),b.strokeRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height))},circle:function(b,c){0!=c.r&&(b.beginPath(),b.arc(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.r,0,2*Math.PI,!1),b.closePath(),b.fill(),b.stroke())},_parsePoint:function(a){var b=this._parseNumber(a),c=this._parseNumber(a);return{x:b,y:c}},_parseNumber:function(a){for(var b=!1,c=this._pos;c<a.length;c++)if(a[c]>="0"&&a[c]<="9"||"."==a[c]||"-"==a[c]&&!b)b=!0;else{if(b||" "!=a[c]&&","!=a[c])break;this._pos++}var d=parseFloat(a.substring(this._pos,c));return isNaN(d)?void 0:(this._pos=c,d)},_pos:0,_cmds:"mlcaz",_lastCmd:"",_isRelativeCmd:function(b){return a.jqx.string.contains(this._cmds,b)},_parseCmd:function(b){for(var c=this._pos;c<b.length;c++){if(a.jqx.string.containsIgnoreCase(this._cmds,b[c]))return this._pos=c+1,this._lastCmd=b[c],this._lastCmd;if(" "!=b[c]){if(b[c]>="0"&&b[c]<="9"){if(this._pos=c,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}return void 0},_toAbsolutePoint:function(a){return{x:this._currentPoint.x+a.x,y:this._currentPoint.y+a.y}},_currentPoint:{x:0,y:0},path:function(a,b){var c=b.d;this._pos=0,this._lastCmd="";var d=void 0;this._currentPoint={x:0,y:0},a.beginPath();for(;this._pos<c.length;){var e=this._parseCmd(c);if(void 0==e)break;if("M"!=e&&"m"!=e)if("L"!=e&&"l"!=e)if("A"!=e&&"a"!=e)if("Z"!=e&&"z"!=e||void 0==d)if("C"!=e&&"c"!=e);else{var f=this._parsePoint(c),g=this._parsePoint(c),h=this._parsePoint(c);a.bezierCurveTo(f.x,f.y,g.x,g.y,h.x,h.y),this._currentPoint=h}else a.lineTo(d.x,d.y),this._currentPoint=d;else{var i=this._parseNumber(c),j=this._parseNumber(c),k=this._parseNumber(c)*(Math.PI/180),l=this._parseNumber(c),m=this._parseNumber(c),n=this._parsePoint(c);if(this._isRelativeCmd(e)&&(n=this._toAbsolutePoint(n)),0==i||0==j)continue;var o=this._currentPoint,p={x:Math.cos(k)*(o.x-n.x)/2+Math.sin(k)*(o.y-n.y)/2,y:-Math.sin(k)*(o.x-n.x)/2+Math.cos(k)*(o.y-n.y)/2},q=Math.pow(p.x,2)/Math.pow(i,2)+Math.pow(p.y,2)/Math.pow(j,2);q>1&&(i*=Math.sqrt(q),j*=Math.sqrt(q));var r=(l==m?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(j,2)-Math.pow(i,2)*Math.pow(p.y,2)-Math.pow(j,2)*Math.pow(p.x,2))/(Math.pow(i,2)*Math.pow(p.y,2)+Math.pow(j,2)*Math.pow(p.x,2)));isNaN(r)&&(r=0);var s={x:r*i*p.y/j,y:r*-j*p.x/i},t={x:(o.x+n.x)/2+Math.cos(k)*s.x-Math.sin(k)*s.y,y:(o.y+n.y)/2+Math.sin(k)*s.x+Math.cos(k)*s.y},u=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},v=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(u(a)*u(b))},w=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(v(a,b))},x=w([1,0],[(p.x-s.x)/i,(p.y-s.y)/j]),y=[(p.x-s.x)/i,(p.y-s.y)/j],z=[(-p.x-s.x)/i,(-p.y-s.y)/j],A=w(y,z);v(y,z)<=-1&&(A=Math.PI),v(y,z)>=1&&(A=0),0==m&&A>0&&(A-=2*Math.PI),1==m&&0>A&&(A+=2*Math.PI);var v=i>j?i:j,B=i>j?1:i/j,C=i>j?j/i:1;a.translate(t.x,t.y),a.rotate(k),a.scale(B,C),a.arc(0,0,v,x,x+A,1-m),a.scale(1/B,1/C),a.rotate(-k),a.translate(-t.x,-t.y)}else{var D=this._parsePoint(c);if(void 0==D)break;a.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(c);if(void 0==D)break;a.moveTo(D.x,D.y),this._currentPoint=D,void 0==d&&(d=D)}}a.fill(),a.stroke(),a.closePath()},text:function(b,c){var d=a.jqx.ptrnd(c.x),e=a.jqx.ptrnd(c.y),f=a.jqx.ptrnd(c.width),g=a.jqx.ptrnd(c.height),h=c.halign,i=c.valign,j=c.angle,k=c.rotateAround,l=c.textPartsInfo,m=l.parts,n=c.clip;void 0==n&&(n=!0),b.save(),h||(h="center"),i||(i="center"),n&&(b.rect(d,e,f,g),b.clip());var o=c.textWidth,p=c.textHeight,q=f||0,r=g||0;if(b.fillStyle=c.color,b.font=c.fontWeight+" "+c.fontSize+" "+c.fontFamily,!j||0==j){e+=p,"center"==i||"middle"==i?e+=(r-p)/2:"bottom"==i&&(e+=r-p),f||(f=o),g||(g=p);for(var s=0,t=m.length-1;t>=0;t--){var u=m[t],v=d,w=m[t].width;m[t].height;"center"==h?v+=(q-w)/2:"right"==h&&(v+=q-w),b.fillText(u.text,v,e+s),s-=u.height+(t>0?4:0)}return void b.restore()}var x=a.jqx.commonRenderer.alignTextInRect(d,e,f,g,o,p,h,i,j,k);d=x.x,e=x.y;var y=j*Math.PI*2/360;b.translate(d,e),b.rotate(y);for(var s=0,z=l.width,t=m.length-1;t>=0;t--){var v=0;"center"==h?v+=(z-m[t].width)/2:"right"==h&&(v+=z-m[t].width),b.fillText(m[t].text,v,s),s-=m[t].height+4}b.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var a in this._elements){var b=this._elements[a];this._renderers.setFillStyle(this.ctx,b),this._renderers.setStroke(this.ctx,b),this._renderers[this._elements[a].type](this.ctx,b)}}},a.jqx.createRenderer=function(b,c){var d=b,e=d.renderer=null;if(document.createElementNS&&"HTML5"!=d.renderEngine&&"VML"!=d.renderEngine&&(e=new a.jqx.svgRenderer,!e.init(c))){if("SVG"==d.renderEngine)throw"Your browser does not support SVG";return null}if(null==e&&"HTML5"!=d.renderEngine){if(e=new a.jqx.vmlRenderer,!e.init(c)){if("VML"==d.renderEngine)throw"Your browser does not support VML";return null}d._isVML=!0}if(null==e&&("HTML5"==d.renderEngine||void 0==d.renderEngine)&&(e=new a.jqx.HTML5Renderer,!e.init(c)))throw"Your browser does not support HTML5 Canvas";return d.renderer=e,e},a.jqx._widgetToImage=function(b,c,d,e,f){var g=b;if(!g)return!1;(void 0==d||""==d)&&(d="image."+c);var h=g.renderEngine,i=g.enableAnimations;if(g.enableAnimations=!1,g.renderEngine="HTML5",g.renderEngine!=h)try{g.refresh()}catch(j){return g.renderEngine=h,g.refresh(),g.enableAnimations=i,!1}var k=g.renderer.getContainer()[0],l=a.jqx.exportImage(k,c,d,e,f);return g.renderEngine!=h&&(g.renderEngine=h,g.refresh(),g.enableAnimations=i),l},a.jqx.exportImage=function(b,c,d,e,f){if(!b)return!1;if((void 0==d||""==d)&&(d="image."+c),void 0==e||""==e)throw"Please specifiy export server";var g=!0;try{if(b){var h=b.toDataURL("image/"+c);if(h=h.replace("data:image/"+c+";base64,",""),f)a.ajax({dataType:"string",url:e,type:"POST",data:{content:h,fname:d},async:!1,success:function(a,b,c){g=!0},error:function(a,b,c){g=!1}});else{var i=document.createElement("form");i.method="POST",i.action=e,i.style.display="none",document.body.appendChild(i);var j=document.createElement("input");j.name="fname",j.value=d,j.style.display="none";var k=document.createElement("input");k.name="content",k.value=h,k.style.display="none",i.appendChild(j),i.appendChild(k),i.submit(),document.body.removeChild(i),g=!0}}}catch(l){g=!1}return g}}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxChart.prototype,{_renderCategoryAxisRangeSelector:function(b,c){var d=this;d._isTouchDevice=a.jqx.mobile.isTouchDevice();var e=d._getCategoryAxis(b),f=d.seriesGroups[b];if(e&&0!=e.visible&&"spider"!=f.type&&d._isGroupVisible(b)){var g=e.rangeSelector;if(g){this._isSelectorRefresh||this.host.find(".rangeSelector").remove();var h="horizontal"==f.orientation;g.renderTo&&(h=!1),d.rtl&&(e.flip=!0);var i=h?this.host.height():this.host.width();i-=3;var j=this._getCategoryAxisStats(b,e,i),k=e.position;if(g.renderTo&&g.position&&(k=g.position),!this._isSelectorRefresh){var l=g.renderTo,m="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>",n=a(m).appendTo(l?l:this.host.find(".chartContainer"));if(l)n.css({width:l.width(),height:l.height()}),c.width=l.width(),c.height=l.height();else{var o=this.host.coord();selectorSize=this._selectorGetSize(e),h?(n.css("left",o.left+1+c.x+("right"!=k?-selectorSize:c.width)),n.css("top",o.top),n.css("height",i),n.css("width",selectorSize),c.height=selectorSize):(n.css("left",o.left+1),n.css("top",o.top+c.y+("top"!=k?c.height:-selectorSize)),n.css("height",selectorSize),n.css("width",i),c.width=selectorSize)}this._refreshSelector(b,e,j,n,c,h)}this._isSelectorRefresh=!1}}},_refreshSelector:function(b,c,d,e,f,g){var h={},i=c.rangeSelector;this.seriesGroups[b];for(var j in i)h[j]=i[j];var k=h.minValue,l=h.maxValue;void 0==k&&(k=Math.min(d.min.valueOf(),d.dsRange.min.valueOf())),void 0==l&&(l=Math.max(d.max.valueOf(),d.dsRange.max.valueOf())),this._isDate(d.min)&&(k=new Date(k)),this._isDate(d.max)&&(l=new Date(l));var m=c.position;i.renderTo&&i.position&&(m=i.position),h.dataField=c.dataField,h.rangeSelector=void 0,h.type=c.type,h.baseUnit=i.baseUnit||c.baseUnit,h.minValue=k,h.maxValue=l,h.flip=c.flip,h.position=m;var n=5,o=g?0:f.x,p=g?0:this.padding.right,q=g?f.y:n,r=g?this._paddedRect.height-this._plotRect.height:n,s=i.padding;s=void 0!=s||i.renderTo?{left:s&&s.left?s.left:o,top:s&&s.top?s.top:q,right:s&&s.right?s.right:p,bottom:s&&s.bottom?s.bottom:r}:{left:o,top:q,right:p,bottom:r};for(var t=c.rangeSelector.dataField,j=0;void 0==t&&j<this.seriesGroups.length;j++)for(var u=0;void 0==t&&u<this.seriesGroups[j].series.length;u++)t=this.seriesGroups[j].series[u].dataField;var v={padding:s,title:i.title||"",description:i.description||"",titlePadding:i.titlePadding,colorScheme:i.colorScheme||this.colorScheme,backgroundColor:i.backgroundColor||this.backgroundColor||"transparent",backgroundImage:i.backgroundImage||"",showBorderLine:i.showBorderLine||(i.renderTo?!0:!1),borderLineWidth:i.borderLineWidth||this.borderLineWidth,borderLineColor:i.borderLineColor||this.borderLineColor,rtl:i.rtl||this.rtl,greyScale:i.greyScale||this.greyScale,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:h,seriesGroups:[{orientation:g?"horizontal":"vertical",valueAxis:{visible:!1},type:c.rangeSelector.serieType||"area",series:[{dataField:t,opacity:.8,lineWidth:1}]}]};e.empty(),e.jqxChart(v);var w=this;e.on(w._getEvent("mousemove"),function(){w._unselect(),w._hideToolTip()});var x=e.jqxChart("getInstance");if(x._plotRect){var y=x._paddedRect;if(y.height=x._plotRect.height,g||"top"!=m){if(g){var z=x._renderData[0].xAxis.rect.width;y.width-=z,"right"!=m&&(y.x+=z)}}else y.y+=x._renderData[0].xAxis.rect.height;w._createSliderElements(b,e,y,i),w.addHandler(a(document),w._getEvent("mousemove"),w._onSliderMouseMove,{self:this,groupIndex:b,renderTo:e,swapXY:g}),w.addHandler(a(document),w._getEvent("mousedown"),w._onSliderMouseDown,{self:this,groupIndex:b,renderTo:e,swapXY:g}),w.addHandler(a(document),w._getEvent("mouseup"),w._onSliderMouseUp,{self:this,groupIndex:b,renderTo:e,swapXY:g})}},_createSliderElements:function(b,c,d,e){c.find(".slider").remove();var f=e.colorSelectedRange||"blue",g=e.colorUnselectedRange||"white",h=a("<div class='slider' style='position: absolute;'></div>");for(h.css({background:f,opacity:.1,left:d.x,top:d.y,width:d.width,height:d.height}),h.appendTo(c),this._sliders||(this._sliders=[]);this._sliders.length<b+1;)this._sliders.push({});var i="<div class='slider' style='position: absolute;  background: "+g+"; opacity: 0.5;'></div>",j="<div class='slider' style='position: absolute; background: grey; opacity: 0.5;'></div>";this._sliders[b]={element:h,host:c,fullRect:{x:h.coord().left,y:h.coord().top,width:d.width,height:d.height},rect:d,left:a(i),right:a(i),leftTop:a(j),rightTop:a(j),leftBorder:a(j),rightBorder:a(j)},this._sliders[b].left.appendTo(c),this._sliders[b].right.appendTo(c),this._sliders[b].leftTop.appendTo(c),this._sliders[b].rightTop.appendTo(c),this._sliders[b].leftBorder.appendTo(c),this._sliders[b].rightBorder.appendTo(c);var k=this._renderData[b].xAxis,l=k.data.axisStats,m=l.min.valueOf(),n=l.max.valueOf(),o=this._valueToOffset(b,m),p=this._valueToOffset(b,n);if(o>p){var q=p;p=o,o=q}"horizontal"!=this.seriesGroups[b].orientation?h.css({left:Math.round(d.x+o),top:d.y,width:Math.round(p-o),height:d.height}):h.css({top:Math.round(d.y+o),left:d.x,height:Math.round(p-o),width:d.width}),this._setSliderPositions(b,o,p)},_setSliderPositions:function(a,b,c){var d=this.seriesGroups[a],e=this._getCategoryAxis(a),f=e.rangeSelector,g="horizontal"==d.orientation;e.rangeSelector.renderTo&&(g=!1);var h=e.position;f.renderTo&&f.position&&(h=f.position);var i=this._sliders[a],j=g?"top":"left",k=g?"left":"top",l=g?"height":"width",m=g?"width":"height",n=g?"y":"x",o=g?"x":"y",p=i.rect;i.left.css(j,p[n]),i.left.css(k,p[o]),i.left.css(l,b),i.left.css(m,p[m]),i.right.css(j,p[n]+c),i.right.css(k,p[o]),i.right.css(l,p[l]-c+1),i.right.css(m,p[m]),i.leftTop.css(j,p[n]),i.leftTop.css(k,p[o]+(g&&"right"==h||!g&&"top"!=h?0:p[m])),i.leftTop.css(l,b),i.leftTop.css(m,1),i.rightTop.css(j,p[n]+c),i.rightTop.css(k,p[o]+(g&&"right"==h||!g&&"top"!=h?0:p[m])),i.rightTop.css(l,p[l]-c+1),i.rightTop.css(m,1),i.leftBorder.css(j,p[n]+b),i.leftBorder.css(k,p[o]),i.leftBorder.css(l,1),i.leftBorder.css(m,p[m]),i.rightBorder.css(j,p[n]+c),i.rightBorder.css(k,p[o]),i.rightBorder.css(l,1),i.rightBorder.css(m,p[m])},_resizeState:{},_onSliderMouseDown:function(a){var b=a.data.self,c=b._sliders[a.data.groupIndex];c&&(void 0==b._resizeState.state&&b._testAndSetReadyResize(a),"ready"==b._resizeState.state&&(b._resizeState.state="resizing"))},_valueToOffset:function(a,b){var c=this.seriesGroups[a],d=this._sliders[a],e=d.host.jqxChart("getInstance"),f=e._renderData[0].xAxis,g=f.data.axisStats,h=Math.min(g.min.valueOf(),g.dsRange.min.valueOf()),i=Math.max(g.max.valueOf(),g.dsRange.max.valueOf()),j=i-h;0==j&&(j=1);var k=this._getCategoryAxis(a),l="horizontal"==c.orientation?"height":"width",m=(b.valueOf()-h)/j;return d.fullRect[l]*(k.flip?1-m:m)},_offsetToValue:function(a,b){var c=this._sliders[a],d=this.seriesGroups[a],e=this._getCategoryAxis(a),f="horizontal"==d.orientation?"height":"width",g=c.fullRect[f];0==g&&(g=1);var h=c.host.jqxChart("getInstance"),i=h._renderData[0].xAxis,j=i.data.axisStats,k=Math.min(j.min.valueOf(),j.dsRange.min.valueOf()),l=Math.max(j.max.valueOf(),j.dsRange.max.valueOf()),m=b/g*(l-k)+k;return 1==e.flip&&(m=l-b/g*(l-k)),this._isDate(j.min)||this._isDate(j.max)?m=new Date(m):(void 0==e.dataField&&(m=Math.round(m)),m<j.min&&(m=j.min),m>j.max&&(m=j.max)),m},_onSliderMouseUp:function(a){var b=a.data.self,c=a.data.groupIndex,d=a.data.swapXY,e=b._sliders[c];if(e&&"resizing"==b._resizeState.state){b._resizeState={},b.host.css("cursor","default");var f=d?"top":"left",g=d?"y":"x",h=e.element.coord()[f],i=h+(d?e.element.height():e.element.width()),j=b._offsetToValue(c,h-e.fullRect[g]),k=b._offsetToValue(c,i-e.fullRect[g]),l=e.host.jqxChart("getInstance"),m=l._renderData[0].xAxis,n=m.data.axisStats;
!n.isTimeUnit&&k.valueOf()-j.valueOf()>864e5&&(j.setHours(0,0,0,0),k.setDate(k.getDate()+1),k.setHours(0,0,0,0));var o=b._getCategoryAxis(c);if(o.flip){var p=j;j=k,k=p}o.minValue=j,o.maxValue=k,b._isSelectorRefresh=!0;var q=b.enableAnimations;b.enableAnimations=!1,b.update(),b.enableAnimations=q}},_onSliderMouseMove:function(b){var c=b.data.self,d=(b.data.renderTo,b.data.groupIndex),e=c._sliders[d],f=b.data.swapXY;if(e){var g=e.fullRect,h=e.element,i=a.jqx.position(b),j=h.coord(),k=f?"top":"left",l=f?"height":"width",m=f?"y":"x";if("resizing"==c._resizeState.state){if("left"==c._resizeState.side){var n=Math.round(i[k]-j[k]),o=g[m];if(j[k]+n>=o&&j[k]+n<=o+g[l]){var p=parseInt(h.css(k)),q=Math.max(2,(f?h.height():h.width())-n);h.css(l,q),h.css(k,p+n)}}else if("right"==c._resizeState.side){var r=f?h.height():h.width(),n=Math.round(i[k]-j[k]-r),o=g[m];if(j[k]+r+n>=o&&j[k]+n+r<=o+g[l]){var q=Math.max(2,r+n);h.css(l,q)}}var s=parseInt(h.css(k))-e.rect[m],t=s+(f?h.height():h.width());c._setSliderPositions(d,s,t)}else c._testAndSetReadyResize(b)}},_testAndSetReadyResize:function(b){var c=b.data.self,d=b.data.renderTo,e=b.data.groupIndex,f=c._sliders[e],g=b.data.swapXY,h=f.fullRect,i=f.element,j=a.jqx.position(b),k=i.coord(),l=g?"left":"top",m=g?"top":"left",n=g?"width":"height",o=c._isTouchDevice?15:5;j[l]>=k[l]&&j[l]<=k[l]+h[n]?Math.abs(j[m]-k[m])<=o?(d.css("cursor",g?"row-resize":"col-resize"),c._resizeState={state:"ready",side:"left"}):Math.abs(j[m]-k[m]-(g?i.height():i.width()))<=o?(d.css("cursor",g?"row-resize":"col-resize"),c._resizeState={state:"ready",side:"right"}):(d.css("cursor","default"),c._resizeState={}):(d.css("cursor","default"),c._resizeState={})},_selectorGetSize:function(a){return a.rangeSelector.renderTo?0:a.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(a){var b={defineInstance:function(){var b={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},createInstance:function(b){var c=this;c.that=this,a.jqx.aria(c),c._radius=c.radius,c.value=new Number(c.value),c.endAngle=c.endAngle*Math.PI/180+Math.PI/2,c.startAngle=c.startAngle*Math.PI/180+Math.PI/2,c._refresh(),c.setValue(c.value,0),c.renderer.getContainer().css("overflow","hidden"),a.jqx.utilities.resize(c.host,function(){c._refresh()}),c.host.addClass(c.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!a.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var a=0;a<this.ranges.length;a+=1)this.ranges[a]=new this._rangeConstructor(this.ranges[a],this)},_hostInit:function(){var a,b=this._getScale(this.width,"width",this.host.parent()),c=this._getScale(this.height,"height",this.host.parent()),d=this._outerBorderOffset(),e=this.host;e.width(b),e.height(c),this.radius=a=(this._getScale(this._radius,"width",this.host)||b/2)-d,this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e[0].innerHTML="<div />",this._gaugeParent=e.children(),this._gaugeParent.width(b),this._gaugeParent.height(c),this.renderer.init(this._gaugeParent)},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},_refresh:function(){var b=this;b.renderer||(b._isVML=!1,b.host.empty(),b._initRenderer(b.host));var c=b.renderer;c&&(b._ranges&&a(b._ranges).remove(),b._pointer&&a(b._pointer).remove(),b._labels&&a(b._labels).remove(),b._cap&&a(b._cap).remove(),b._ticks&&a(b._ticks).remove(),b._border&&a(b._border).remove(),b._caption&&a(b._caption).remove(),b._caption=null,b._labels=[],b._cap=null,b._ticks=[],b._ranges=[],b._border=null,b._pointer=null,b._validateProperties(),b._removeElements(),b._hostInit(),b._render(),b.setValue(this.value,0))},val:function(a){return 0==arguments.length||"object"==typeof a?this.value:void this.setValue(a,0)},refresh:function(){this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){var a=parseInt(this.border.style["stroke-width"],10)||1;return a/2},_removeCollection:function(b){for(var c=0;c<b.length;c+=1)a(b[c]).remove();b=[]},_render:function(){this._addBorder(),this._addGauge(),this._addRanges(),this._addTicks(),this._addLabels(),this._addCaption(),this._addPointer(),this._addCap()},_addBorder:function(){if(this.border.visible){var a=this.border.style.fill,b=this._outerBorderOffset();a||(a="#BABABA"),this.border.showGradient&&(a.indexOf("url")<0&&a.indexOf("#grd")<0?this._originalColor=a:a=this._originalColor,a=this.renderer._toLinearGradient(a,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+b,this._originalRadius+b,this._originalRadius),this.border.style.fill=a,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(){var a=this._originalRadius,b=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]]),this._outerBorderOffset());this._gauge=this.renderer.circle(a+b,a+b,this._innerRadius),this.renderer.attr(this._gauge,this.style)},_addCap:function(){var b="visible",c=this._outerBorderOffset();this.cap.visible||(b="hidden");var d,e=this._originalRadius,f=this._getSize(this.cap.size);d=this.renderer.circle(e+c,e+c,f),this._capCenter=[e,e],this.renderer.attr(d,this.cap.style),a(d).css("visibility",b),this._cap=d},_addTicks:function(){for(var a=this.ticksMinor,b=this.ticksMajor,c=a.interval,d=b.interval,e={},f=this.min,g=this.min;f<=this.max||g<=this.max;f+=c,g+=d)g<=this.max&&b.visible&&(this._drawTick({angle:this._getAngleByValue(g),distance:this._getDistance(this.ticksDistance),style:b.style,size:this._getSize(b.size),type:"major"}),e[g.toFixed(5)]=!0),!e[f.toFixed(5)]&&a.visible&&f<=this.max&&this._drawTick({angle:this._getAngleByValue(f),distance:this._getDistance(this.ticksDistance),style:a.style,size:this._getSize(a.size),type:"minor"});this._handleTicksVisibility()},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(a){return a.toString().indexOf("%")>=0&&(a=parseInt(a,10)/100*this._innerRadius),a=parseInt(a,10)},_getDistance:function(a){return this._getSize(a)+(this._originalRadius-this._innerRadius)},_drawTick:function(a){var b,c=this.that,d=a.angle,e=a.distance,f=a.size,g=c._outerBorderOffset(),h=c._originalRadius,i=h-e,j=i-f,k=h+g+i*Math.sin(d),l=h+g+i*Math.cos(d),m=h+g+j*Math.sin(d),n=h+g+j*Math.cos(d);a.style["class"]=c.toThemeProperty("jqx-gauge-tick-"+a.type),c._isVML&&(k=Math.round(k),m=Math.round(m),l=Math.round(l),n=Math.round(n)),b=c.renderer.line(k,l,m,n,a.style),c._ticks.push(b)},_addRanges:function(){var a="visible";if(this.showRanges)for(var b=this.ranges,c=0;c<b.length;c+=1)this._addRange(b[c],a);else a="hidden"},_getMaxRangeSize:function(){for(var a,b,c=-1,d=0;d<this.ranges.length;d+=1)a=this.ranges[d].startWidth,b=this.ranges[d].endWidth,a>c&&(c=a),b>c&&(c=b);return c},_getRangeDistance:function(a,b){var c=this._getLabelsDistance(),d=this._getDistance(a),e=this._getMaxRangeSize();if("outside"===this.labels.position){if(c<d+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+e/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&c+this._getMaxTickSize()<d)return this._getSize(this.border.size)+this._originalRadius/20;return d},_addRange:function(a,b){var c=this.that;if(!(a.startValue<c.min||a.endValue>c.max)){var d,a,e=c._getAngleByValue(a.startValue),f=c._getAngleByValue(a.endValue),g=c._originalRadius,h=g-c._getRangeDistance(a.startDistance,a.startWidth),i=g-c._getRangeDistance(a.endDistance,a.endWidth),j=a.startWidth,k=a.endWidth,l=c._outerBorderOffset(),m={x:g+l+h*Math.sin(e),y:g+l+h*Math.cos(e)},n={x:g+l+i*Math.sin(f),y:g+l+i*Math.cos(f)},o=c._getProjectionPoint(e,g+l,h,j),p=c._getProjectionPoint(f,g+l,i,k),q="default";Math.abs(f-e)>Math.PI&&(q="opposite"),d=c._isVML?c._rangeVMLRender(m,n,g,o,p,k,j,h,i,q):c._rangeSVGRender(m,n,g,o,p,k,j,h,i,q),a.style.visibility=b,a.style["class"]=c.toThemeProperty("jqx-gauge-range"),a=c.renderer.path(d,a.style),c._ranges.push(a)}},_rangeSVGRender:function(a,b,c,d,e,f,g,h,i,j){var k="",h=c-h,l=["0,1","0,0"];return"opposite"===j&&(l=["1,1","1,0"]),k="M"+a.x+","+a.y+" ",k+="A"+(c-h)+","+(c-h)+" 100 "+l[0]+" "+b.x+","+b.y+" ",k+="L "+e.x+","+e.y+" ",k+="A"+(c-f-h)+","+(c-f-h)+" 100 "+l[1]+" "+d.x+","+d.y+" ",k+="L "+a.x+","+a.y+" ",k+="z"},_rangeVMLRender:function(a,b,c,d,e,f,g,h,i,j){c-=c-h+10;var k="",l=Math.floor(c+(g+f)/2),h=Math.floor(c-h),i=Math.floor(i),m={x:(d.x+e.x)/2,y:(d.y+e.y)/2},n=Math.sqrt((e.x-d.x)*(e.x-d.x)+(e.y-d.y)*(e.y-d.y)),o=Math.floor(m.x+Math.sqrt(c*c-n/2*(n/2))*(d.y-e.y)/n),p=Math.floor(m.y+Math.sqrt(c*c-n/2*(n/2))*(e.x-d.x)/n),q={x:(a.x+b.x)/2,y:(a.y+b.y)/2},r=Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y)),s=Math.floor(q.x+Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(a.y-b.y)/r),t=Math.floor(q.y+Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(b.x-a.x)/r);return"opposite"===j&&(o=Math.floor(m.x-Math.sqrt(c*c-n/2*(n/2))*(d.y-e.y)/n),p=Math.floor(m.y-Math.sqrt(c*c-n/2*(n/2))*(e.x-d.x)/n),s=Math.floor(q.x-Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(a.y-b.y)/r),t=Math.floor(q.y-Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(b.x-a.x)/r)),c=Math.floor(c),b={x:Math.floor(b.x),y:Math.floor(b.y)},a={x:Math.floor(a.x),y:Math.floor(a.y)},d={x:Math.floor(d.x),y:Math.floor(d.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},k="m "+b.x+","+b.y,k+="at "+(s-l)+" "+(t-l)+" "+(l+s)+" "+(l+t)+" "+b.x+","+b.y+" "+a.x+","+a.y,k+="l "+d.x+","+d.y,k+="m "+b.x+","+b.y,k+="l "+e.x+","+e.y,k+="at "+(o-c)+" "+(p-c)+" "+(c+o)+" "+(c+p)+" "+e.x+","+e.y+" "+d.x+","+d.y,k+="qx "+d.x+" "+d.y},_getProjectionPoint:function(a,b,c,d){var e={x:b+(c-d)*Math.sin(a),y:b+(c-d)*Math.cos(a)};return e},_addLabels:function(a){for(var b=this._getDistance(this._getLabelsDistance()),c=this.min;c<=this.max;c+=this.labels.interval)this.labels.visible&&this._addLabel({angle:this._getAngleByValue(c),value:this.labels.interval>=1?c:new Number(c).toFixed(2),distance:b,style:this.labels.className})},_getLabelsDistance:function(){var a=this._getMaxLabelSize(),b=this._getDistance(this.labels.distance),c=this._getDistance(this.ticksDistance);return a=a.width,"inside"===this.labels.position?c+a-5:"outside"===this.labels.position?c-1.5*a>b?b:Math.max(c-1.5*a,.6*a):this.labels.distance},_addLabel:function(a){var b,c,d=this.that,e=a.angle,f=d._originalRadius,g=f-a.distance,h=d.labels.offset,i=d.labels.formatValue,j=d._outerBorderOffset(),k=f+j+g*Math.sin(e)+h[0],l=f+j+g*Math.cos(e)+h[1],m=a.value,n=a.style||"";"function"==typeof i&&(m=i(m)),b=d.renderer.measureText(m,0,{"class":n}),c=d.renderer.text(m,Math.round(k)-b.width/2,Math.round(l),b.width,b.height,0,{"class":this.toThemeProperty("jqx-gauge-label")}),d._labels.push(c)},_addCaption:function(){var a=this.that,b=a.caption.value,c=a.toThemeProperty("jqx-gauge-caption"),d=a.caption.offset,e=a.renderer.measureText(b,0,{"class":c}),f=a._getPosition(this.caption.position,e,d),g=(a.caption.style,a._outerBorderOffset()),h=a.renderer.text(b,f.left+g,f.top+g,e.width,e.height,0,{"class":c});this._caption=h},_getPosition:function(a,b,c){var d=0,e=0,f=this._originalRadius;switch(a){case"left":d=(f-b.width)/2,e=f-b.height/2;break;case"right":d=f+(f-b.width)/2,e=f-b.height/2;break;case"bottom":d=(2*f-b.width)/2,e=(f+2*f-b.height)/2;break;default:d=(2*f-b.width)/2,e=(f+b.height)/2}return{left:d+c[0],top:e+c[1]}},_addPointer:function(){var b="visible";this.pointer.visible||(b="hidden");var c,d=(this._originalRadius,this._getSize(this.pointer.length)),e=this._getAngleByValue(this.value),f=this.pointer.pointerType;c=this._computePointerPoints(this._getSize(this.pointer.width),e,d,"default"!==f),this._pointer=this.renderer.path(c,this.pointer.style),a(this._pointer).css("visibility",b)},_computePointerPoints:function(a,b,c,d){return d?this._computeRectPoints(a,b,c):this._computeArrowPoints(a,b,c)},_computeArrowPoints:function(a,b,c){var d,e=this._originalRadius-.5,f=Math.sin(b),g=Math.cos(b),h=this._outerBorderOffset(),i=e+h+c*f,j=e+h+c*g,k=e+h+a*g,l=e+h-a*f,m=e+h-a*g,n=e+h+a*f;return this._isVML&&(k=Math.round(k),m=Math.round(m),l=Math.round(l),n=Math.round(n),i=Math.round(i),j=Math.round(j)),d="M "+k+","+l+" L "+m+","+n+" L "+i+","+j},_computeRectPoints:function(a,b,c){var d,e=this._originalRadius,f=Math.sin(b),g=Math.cos(b),h=this._outerBorderOffset(),i=e+h-a*g+c*f,j=e+h+a*f+c*g,k=e+h+a*g+c*f,l=e+h-a*f+c*g,m=e+h+a*g,n=e+h-a*f,o=e+h-a*g,p=e+h+a*f;return this._isVML&&(m=Math.round(m),o=Math.round(o),n=Math.round(n),p=Math.round(p),i=Math.round(i),j=Math.round(j),k=Math.round(k),l=Math.round(l)),d="M "+m+","+n+" L "+o+","+p+" L "+i+","+j+" "+k+","+l},_getAngleByValue:function(a){var b=this.startAngle,c=this.endAngle,d=this.min,e=this.max,f=(b-c)/(e-d),g=f*(a-this.min)+b+Math.PI;return g},_setValue:function(b){if(b<=this.max&&b>=this.min){var c=this._getAngleByValue(b),d=this.pointer.pointerType,e=this._computePointerPoints(this._getSize(this.pointer.width),c,this._getSize(this.pointer.length),"default"!==d);this._isVML?(this._pointer&&a(this._pointer).remove(),this._pointer=this.renderer.path(e,this.pointer.style)):this.renderer.attr(this._pointer,{d:e}),this.value=b,a.jqx.aria(this,"aria-valuenow",b)}},resize:function(a,b){this.width=a,this.height=b,this.refresh()},propertyChangedHandler:function(b,c,d,e){e!=d&&("min"==c&&(this.min=parseInt(e),a.jqx.aria(b,"aria-valuemin",e)),"max"==c&&(this.max=parseInt(e),a.jqx.aria(b,"aria-valuemax",e)),"value"==c&&(this.value=parseInt(e)),"disabled"===c?(e?this.disable():this.enable(),a.jqx.aria(this,"aria-disabled",e)):"value"===c?(this.value=d,this.setValue(e)):("startAngle"===c?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===c?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===c?(this.pointer.style=null,this.cap.style=null):"radius"===c&&(this._radius=e),"animationDuration"!==c&&"easing"!==c&&this._refresh()),this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh())},_tickConstructor:function(a,b){return this.host?new this._tickConstructor(a,b):(a=a||{},this.size=b._validatePercentage(a.size,"10%"),this.interval=parseFloat(a.interval),this.interval||(this.interval=5),this.style=a.style||{stroke:"#898989","stroke-width":1},void("undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible))},_capConstructor:function(a,b){var c=b._getColorScheme(b.colorScheme)[0];return this.host?new this._capConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.size=b._validatePercentage(a.size,"4%"),void(this.style=a.style||{fill:c,"stroke-width":"1px",stroke:c,"z-index":30}))},_pointerConstructor:function(a,b){var c=b._getColorScheme(b.colorScheme)[0];return this.host?new this._pointerConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.pointerType=a.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=a.style||{"z-index":0,stroke:c,fill:c,"stroke-width":1},this.length=b._validatePercentage(a.length,"70%"),void(this.width=b._validatePercentage(a.width,"2%")))},_labelsConstructor:function(a,b){return this.host?new this._labelsConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.offset=a.offset,this.offset instanceof Array||(this.offset=[0,-10]),this.interval=parseFloat(a.interval),this.interval||(this.interval=20),this.distance=b._validatePercentage(a.distance,"38%"),this.position=a.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=a.formatValue,void("function"!=typeof this.formatValue&&(this.formatValue=function(a){return a})))},_captionConstructor:function(a,b){return this.host?new this._captionConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.value=a.value||"",this.position=a.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=a.offset,void(this.offset instanceof Array||(this.offset=[0,0])))},_rangeConstructor:function(a,b){return this.host?new this._rangeConstructor(a,b):(a=a||{},this.startDistance=b._validatePercentage(a.startDistance,"5%"),this.endDistance=b._validatePercentage(a.endDistance,"5%"),this.style=a.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(a.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(a.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),this.startValue=parseFloat(a.startValue,10),this.startValue||(this.startValue=0),this.endValue=parseFloat(a.endValue,10),void(void 0==this.endValue&&(this.endValue=100)))},_borderConstructor:function(a,b){return this.host?new this._borderConstructor(a,b):(a=a||{},this.size=b._validatePercentage(a.size,"10%"),this.style=a.style||{stroke:"#cccccc"},"undefined"==typeof a.showGradient?this.showGradient=!0:this.showGradient=a.showGradient,void("undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible))}},c={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(a,b,c){return a&&a.toString().indexOf("%")>=0?(a=parseInt(a,10)/100,c[b]()*a):parseInt(a,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getMaxLabelSize:function(){var a=this.max,b=this.min;this.labels.interval<1&&(b=new Number(b).toFixed(2),a=new Number(a).toFixed(2));var c=this.renderer.measureText(a,0,{"class":this.toThemeProperty("jqx-gauge-label")}),d=this.renderer.measureText(b,0,{"class":this.toThemeProperty("jqx-gauge-label")});return d.width>c.width?d:c},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var b=this;b._timeout&&clearTimeout(this._timeout),b._timeout=null,a.jqx.utilities.resize(b.host,null,!0),b._removeElements(),b.renderer.clear(),b.renderer=null;var c=a.data(b.element,"jqxGauge");c&&delete c.instance,b.host.children().remove(),b._caption=null,b._caption=null,b._pointer=null,b._labels=[],b._cap=null,b._ticks=[],b._ranges=[],b._border=null,b._gauge=null,b._caption=null,b.renderer=null,b._animations=[],b.host.removeData(),b.host.removeClass(),b.host.remove(),b.that=null,b.element=null,b._gaugeParent=null,delete b._gaugeParent,delete b.element,delete b.host},_validatePercentage:function(a,b){return 0===parseFloat(a)||a&&parseInt(a,10)||(a=b),a},_getColorScheme:function(a){for(var b,c=0;c<this._schemes.length;c+=1)if(b=this._schemes[c],b.name===a)return b.colors;return null},setValue:function(b,c){if(!this.disabled){b>this.max&&(b=this.max),b<this.min&&(b=this.min),c=c||this.animationDuration||0;var d=c/this._animationTimeout;this._animate((b-this.value)/d,this.value,b,c),a.jqx.aria(this,"aria-valuenow",b)}},_animate:function(a,b,c,d){return this._timeout&&this._endAnimation(this.value,!1),d?void this._animateHandler(a,b,c,0,d):void this._endAnimation(c,!0)},_animateHandler:function(b,c,d,e,f){var g=this;f>=e?this._timeout=setTimeout(function(){g.value=c+(d-c)*a.easing[g.easing](e/f,e,0,1,f),g._setValue(g.value),g._raiseEvent(0,{value:g.value}),g._animateHandler(b,c,d,e+g._animationTimeout,f)},this._animationTimeout):this._endAnimation(d,!0)},_endAnimation:function(a,b){clearTimeout(this._timeout),this._timeout=null,this._setValue(a),b&&this._raiseEvent(1,{value:a})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(b,c){var d,e=a.Event(this._events[b]);return e.args=c||{},d=this.host.trigger(e)}},d={defineInstance:function(){var b={value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_originalColor:"",_width:null,_height:null,renderer:null};a.extend(!0,this,b)},createInstance:function(){a.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget"));var b=this;a.jqx.utilities.resize(this.host,function(){b.refresh(!1,!1)})},val:function(a){return 0==arguments.length||"object"==typeof a?this.value:void this.setValue(a,0)},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},refresh:function(a,b){var c=this;c.renderer||(c._isVML=!1,c.host.empty(),c._initRenderer(c.host));var d=c.renderer;d&&(c._validateProperties(),c._reset(),c._init(),c._performLayout(),c._render(),b!==!1&&c.setValue(c.value,1))},_getBorderSize:function(){var a,b=1;return this._isVML&&(b=0),this.background?(a=(parseInt(this.background.style["stroke-width"],10)||b)/2,this._isVML?Math.round(a):a):b},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var a=0;a<this.ranges.length;a+=1)this.ranges[a]=this._rangeConstructor(this.ranges[a],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?a.extend(this,linearVerticalGauge):a.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var a=parseInt(this.background.style["stroke-width"],10)||1;this._width-=a,this._height-=a,this.host.css("padding",a/2)},_init:function(){var a;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),a=this.renderer.getContainer(),a.width(this._width),a.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this._renderLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var b,c=this.background.style,d=a.jqx._rup(this._getBorderSize()),e="rect";c=this._handleShapeOptions(c),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(e="roundrect"),this._Vml||(c.x=d,c.y=d),b=this.renderer.shape(e,c),this._isVML&&this._fixVmlRoundrect(b,c)}},_handleShapeOptions:function(a){var b=this.background.style.fill;this._getBorderSize();return b||(b="#cccccc"),this.background.showGradient&&(b.indexOf("url")<0&&b.indexOf("#grd")<0?this._originalColor=b:b=this._originalColor,b=this.renderer._toLinearGradient(b,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=b,"roundedRectangle"===this.background.backgroundType&&(this._isVML?a.arcsize=this.background.borderRadius+"%":(a.rx=this.background.borderRadius,a.ry=this.background.borderRadius)),a.width=this._width-1,a.height=this._height-1,a},_fixVmlRoundrect:function(a,b){var c=this._getBorderSize();a.style.position="absolute",a.style.left=c,a.style.top=c,a.style.width=this._width-1,a.style.height=this._height-1,a.strokeweight=0,delete b.width,delete b.height,delete b.arcsize,this.renderer.attr(a,b)},_renderTicks:function(){var a,b,c=Math.abs(this.max-this.min),d=this.ticksMinor,e=this.ticksMajor;c/e.interval,c/d.interval;a={size:this._getSize(e.size),style:e.style,visible:e.visible,interval:e.interval},b={size:this._getSize(d.size),style:d.style,visible:d.visible,interval:d.interval,checkOverlap:!0},("near"===this.ticksPosition||"both"===this.ticksPosition)&&(this._ticksRenderHandler(a),this._ticksRenderHandler(b)),("far"===this.ticksPosition||"both"===this.ticksPosition)&&(a.isFar=!0,b.isFar=!0,this._ticksRenderHandler(a),this._ticksRenderHandler(b)),this._renderConnectionLine()},_ticksRenderHandler:function(a){if(a.visible){var b=(this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height"),this._getBorderSize()),c=this._calculateTickOffset()+this._getMaxTickSize();a.isFar&&(c+=a.size),this._drawTicks(a,b,c+b)}},_drawTicks:function(a,b,c){for(var d,e=this.min;e<=this.max;e+=a.interval)d=this._valueToCoordinates(e),a.checkOverlap&&this._overlapTick(e)||this._renderTick(a.size,d,a.style,c)},_calculateTickOffset:function(){var a=this._getSize(this.ticksOffset[0],"width"),b=this._getSize(this.ticksOffset[1],"height"),c=b;return"vertical"===this.orientation&&(c=a),c},_overlapTick:function(a){return a+=this.min,a%this.ticksMinor.interval===a%this.ticksMajor.interval?!0:!1},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){var a=(this._getScaleLength(),this._getBorderSize()),b=this._valueToCoordinates(this.max),c=this._valueToCoordinates(this.min),d=this._getMaxTickSize(),e=d+a;"vertical"===this.orientation?(e+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(e,b,e,c,this.scaleStyle)):(e+=this._getSize(this.ticksOffset[1],"height"),this.renderer.line(b,e,c,e,this.scaleStyle))}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(a,b,c,d){var e=this._handleTickCoordinates(a,b,d);this.renderer.line(Math.round(e.x1),Math.round(e.y1),Math.round(e.x2),Math.round(e.y2),c)},_handleTickCoordinates:function(a,b,c){return"vertical"===this.orientation?{x1:c-a,x2:c,y1:b,y2:b}:{x1:b,x2:b,y1:c-a,y2:c}},_getTickCoordinates:function(a,b){var c=this._handleTickCoordinates(a,0,this._calculateTickOffset());return c="vertical"===this.orientation?c.x1:c.y1,c+=a},_renderLabels:function(){if(this.labels.visible){var a,b=this._getSize(this.ticksOffset[0],"width"),c=this._getMaxTickSize(),d=this.labels.position,e="height",f=this._getBorderSize(),g=this._calculateTickOffset()+c;"vertical"===this.orientation&&(b=this._getSize(this.ticksOffset[1],"height"),e="width"),a=this._getMaxLabelSize()[e],("near"===d||"both"===d)&&this._labelListRender(g-c-a+f,b+f,a,"near"),("far"===d||"both"===d)&&this._labelListRender(g+c+a+f,b+f,a,"far")}},_labelListRender:function(a,b,c,d){var e=this.labels.interval,f=Math.abs(this.max-this.min)/e,g=this._getScaleLength(),h=g/f,i="vertical"===this.orientation?this.max:this.min;a+=this._getSize(this.labels.offset);for(var j=0;f>=j;j+=1)this._renderLabel(b,d,a,c,i),i+="vertical"===this.orientation?-e:e,b+=h},_renderLabel:function(a,b,c,d,e){var f,g,h,i={"class":this.toThemeProperty("jqx-gauge-label")};this.labels.interval;h=this.labels.formatValue(e,b),g=this.renderer.measureText(h,0,i),"vertical"===this.orientation?(f="near"===b?d-g.width:0,this.renderer.text(h,Math.round(c)+f-d/2,Math.round(a-g.height/2),g.width,g.height,0,i)):(f="near"===b?d-g.height:0,this.renderer.text(h,Math.round(a-g.width/2),Math.round(c)+f-d/2,g.width,g.height,0,i))},_renderRanges:function(){if(this.showRanges)for(var a,b="vertical"===this.orientation?"width":"height",c=this._getSize(this.rangesOffset,b),d=this._getSize(this.rangeSize,b),e=0;e<this.ranges.length;e+=1)a=this.ranges[e],a.size=d,this._renderRange(a,c)},_renderRange:function(a,b){var c=(this._getScaleLength(),this._getBorderSize()),d=this._getSize(this.ticksOffset[0],"width"),e=this._getSize(this.ticksOffset[1],"height"),f=this._getMaxTickSize(),g=this._getSize(a.size),h=this._valueToCoordinates(a.endValue),i=a.startValue;
i<this.min&&(i=this.min);var j,k,l=Math.abs(this._valueToCoordinates(i)-h);"vertical"===this.orientation?j=this.renderer.rect(d+f+b-g+c,h,a.size,l,a.style):(k=l,j=this.renderer.rect(this._valueToCoordinates(a.startValue),e+f+c,k,a.size,a.style)),this.renderer.attr(j,a.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),this._setValue(this.value)},_renderArrowPointer:function(){var a=this._getArrowPathByValue(0);this._pointer=this.renderer.path(a,this.pointer.style)},_renderArrowPointerByValue:function(a){var b=this._getArrowPathByValue(a);this._pointer=this.renderer.path(b,this.pointer.style)},_getArrowPathByValue:function(a){var b,c,d,e=this._getBorderSize(),f=Math.ceil(this._valueToCoordinates(a))+e,g=e,h=Math.ceil(this._getSize(this.ticksOffset[0],"width")),i=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),j=Math.ceil(this._getMaxTickSize()),k=Math.ceil(this._getSize(this.pointer.size)),l=Math.ceil(Math.sqrt(k*k/3));if("vertical"===this.orientation)g+=h+j+i,c=i>=0?g+k:g-k,b="M "+g+" "+f+" L "+c+" "+(f-l)+" L "+c+" "+(f+l);else{var m=this._getMaxLabelSize().height;g+=h+j+i+m,this._isVML&&(g-=2),d=f,f=g,g=d,c=f-k,b="M "+g+" "+f+" L "+(g-l)+" "+c+" L "+(g+l)+" "+c}return b},_setValue:function(a){"default"===this.pointer.pointerType?this._performColumnPointerLayout(a):this._performArrowPointerLayout(a),this.value=a},_performColumnPointerLayout:function(a){var b,c=this._valueToCoordinates(this.min),d=this._valueToCoordinates(a),e=Math.abs(c-d),f=this._getBorderSize(),g=this._getSize(this.ticksOffset[0],"width"),h=this._getSize(this.ticksOffset[1],"height"),i=this._getMaxTickSize(),j=this._getSize(this.pointer.size),k=this._getSize(this.pointer.offset),l={};"vertical"===this.orientation?(b=g+i,l={left:b+k+1+f,top:d,height:e,width:j}):(b=h+i,l={left:c,top:b+k-j-1+f,height:j,width:e}),this._setRectAttrs(l)},_performArrowPointerLayout:function(b){var c=this._getArrowPathByValue(b);this._isVML?(this._pointer&&a(this._pointer).remove(),this._renderArrowPointerByValue(b)):this.renderer.attr(this._pointer,{d:c})},_setRectAttrs:function(a){this._isVML?(this._pointer.style.top=a.top,this._pointer.style.left=a.left,this._pointer.style.width=a.width,this._pointer.style.height=a.height):(this.renderer.attr(this._pointer,{x:a.left}),this.renderer.attr(this._pointer,{y:a.top}),this.renderer.attr(this._pointer,{width:a.width}),this.renderer.attr(this._pointer,{height:a.height}))},_valueToCoordinates:function(a){var b=this._getBorderSize(),c=this._getScaleLength(),d=this._getSize(this.ticksOffset[0],"width"),e=this._getSize(this.ticksOffset[1],"height"),f=Math.abs(this.min-a),g=Math.abs(this.max-this.min);return"vertical"===this.orientation?this._height-f/g*c-(this._height-e-c)+b:f/g*c+(this._width-d-c)+b},_getSize:function(a,b){return b=b||("vertical"===this.orientation?"width":"height"),a.toString().indexOf("%")>=0&&(a=parseInt(a,10)/100*this["_"+b]),a=parseInt(a,10)},propertyChangedHandler:function(b,c,d,e){if(e!=d){if("min"==c&&(this.min=parseInt(e),a.jqx.aria(this,"aria-valuemin",e)),"max"==c&&(this.max=parseInt(e),a.jqx.aria(this,"aria-valuemax",e)),"value"==c&&(this.value=parseInt(e)),"disabled"===c)e?this.disable():this.enable(),a.jqx.aria(this,"aria-disabled",e);else if("value"===c)void 0!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=d,this.setValue(e);else{if("colorScheme"===c)this.pointer.style=null;else if("orientation"===c&&d!==e){var f=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=f}"animationDuration"!==c&&"easing"!==c&&this.refresh()}this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(a,b){if(this.host)return new this._backgroundConstructor(a,b);var c={rectangle:!0,roundedRectangle:!0};a=a||{},this.style=a.style||{stroke:"#cccccc",fill:null},a.visible||"undefined"==typeof a.visible?this.visible=!0:this.visible=!1,c[a.backgroundType]?this.backgroundType=a.backgroundType:this.backgroundType="roundedRectangle","roundedRectangle"===this.backgroundType&&("number"==typeof a.borderRadius?this.borderRadius=a.borderRadius:this.borderRadius=15),"undefined"==typeof a.showGradient?this.showGradient=!0:this.showGradient=a.showGradient},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_tickConstructor:function(a,b){return this.host?new this._tickConstructor(a,b):(this.size=b._validatePercentage(a.size,"10%"),this.interval=parseFloat(a.interval),this.interval||(this.interval=5),this.style=a.style||{stroke:"#A1A1A1","stroke-width":"1px"},void("undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible))},_labelsConstructor:function(a,b){return this.host?new this._labelsConstructor(a,b):(this.position=a.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),"function"==typeof a.formatValue?this.formatValue=a.formatValue:this.formatValue=function(a){return a},this.visible=a.visible,this.visible!==!1&&this.visible!==!0&&(this.visible=!0),"number"!=typeof a.interval?this.interval=10:this.interval=a.interval,void(this.offset=b._validatePercentage(a.offset,0)))},_rangeConstructor:function(a,b){return this.host?new this._rangeConstructor(a,b):("number"==typeof a.startValue?this.startValue=a.startValue:this.startValue=b.min,"number"==typeof a.endValue&&a.endValue>a.startValue?this.endValue=a.endValue:this.endValue=this.startValue+1,void(this.style=a.style||{fill:"#dddddd",stroke:"#dddddd"}))},_pointerConstructor:function(a,b){if(this.host)return new this._pointerConstructor(a,b);var c=b._getColorScheme(b.colorScheme)[0];this.pointerType=a.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=a.style||{fill:c,stroke:c,"stroke-width":1},this.size=b._validatePercentage(a.size,"7%"),this.visible=a.visible,this.visible!==!0&&this.visible!==!1&&(this.visible=!0),this.offset=b._validatePercentage(a.offset,0)}};a.extend(b,c),a.extend(d,c),a.jqx.jqxWidget("jqxLinearGauge","",{}),a.jqx.jqxWidget("jqxGauge","",{}),a.extend(a.jqx._jqxGauge.prototype,b),a.extend(a.jqx._jqxLinearGauge.prototype,d)}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxCheckBox","",{}),a.extend(a.jqx._jqxCheckBox.prototype,{defineInstance:function(){var b={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};a.extend(!0,this,b)},createInstance:function(a){this.render()},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this.checked),this.host.attr("role","checkbox"),a.jqx.aria(this)}},render:function(){this.init=!0;var b=this;this.setSize(),this.propertyChangeMap.width=function(a,c,d,e){b.setSize()},this.propertyChangeMap.height=function(a,c,d,e){b.setSize()},this._removeHandlers(),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var c=parseInt(this.boxSize)+"px";this.checkbox=a('<div><div style="width: '+c+"; height: "+c+';"><span style="width: '+c+"; height: "+c+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=a('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=a(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var d=this.element.getAttribute("checked");("checked"==d||"true"==d||1==d)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1},refresh:function(a){a||(this.setSize(),this._render())},resize:function(a,b){this.width=a,this.height=b,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var b=this,c=a.jqx.mobile.isTouchDevice(),d="mousedown";c&&(d=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,d,function(a){return b.disabled||b.enableContainerClick||b.locked?void 0:(b.toggle(),b.updated&&(a.owner=b,b.updated(a,b.checked,b.oldChecked)),a.preventDefault&&a.preventDefault(),!1)}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(a){return b.disabled||b.locked||!b.keyboardCheck||32!=a.keyCode?void 0:b._canFocus?(b.toggle(),b.updated&&(a.owner=b,b.updated(a,b.checked,b.oldChecked)),a.preventDefault&&a.preventDefault(),!1):!0}),this.addHandler(this.host,d,function(a){return b.disabled||!b.enableContainerClick||b.locked?void 0:(b.toggle(),a.preventDefault&&a.preventDefault(),!1)}),this.addHandler(this.host,"selectstart",function(a){return!b.disabled&&b.enableContainerClick?(a.preventDefault&&a.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(a){!b.disabled&&b.enableContainerClick&&a.preventDefault&&a.preventDefault()}),this.addHandler(this.host,"focus",function(a){return b.disabled||b.locked?void 0:b._canFocus?(b.enableHover&&b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault&&a.preventDefault(),b.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(a){return b.disabled||b.locked?void 0:b._canFocus?(b.enableHover&&b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault&&a.preventDefault(),b.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(a){return b.locked&&b.host.css("cursor","arrow"),b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked?(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault&&a.preventDefault(),b.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(a){return b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked?(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault&&a.preventDefault(),b.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){b.locked||b.disabled||b.enableContainerClick||(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){b.disabled||b.enableContainerClick||(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){var b=a.jqx.mobile.isTouchDevice(),c="mousedown";b&&(c="touchend"),this.box&&(this.removeHandler(this.box,c),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,c),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(a){this.checked!=a&&(this.checked=a,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className="")},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this.checked:("string"==typeof a?("true"==a&&this.check(),"false"==a&&this.uncheck(),""==a&&this.indeterminate()):(1==a&&this.check(),0==a&&this.uncheck(),null==a&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var b=this;if(this.checkMark.removeClass(),a.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var c=a.find(this.toThemeProperty(".jqx-checkbox",!0));a.each(c,function(){var c=a(this).jqxCheckBox("groupName");c==b.groupName&&this!=b.element&&a(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var b=this;a.jqx.browser.msie||0==this.animationHideDelay?""!=b.checkMark[0].className&&(b.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=b.checkMark[0].className&&(b.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),a.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),a.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this.checked&&(this.checked=!0,this.updateStates()));this.oldChecked=this.checked,1==this.checked?this.checked=this.hasThreeStates?null:!1:this.checked=null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),a.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(b,c){if(!this.init){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f}},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(c!=b.enableContainerClick||b.disabled||b.locked||(e?b.host.css("cursor","pointer"):b.host.css("cursor","auto")),"rtl"==c&&(e?(b.box.addClass(b.toThemeProperty("jqx-checkbox-rtl")),b.host.addClass(b.toThemeProperty("jqx-rtl"))):(b.box.removeClass(b.toThemeProperty("jqx-checkbox-rtl")),b.host.removeClass(b.toThemeProperty("jqx-rtl")))),"boxSize"==c&&b.render(),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"checked"==c&&e!=d)switch(e){case!0:b.check();break;case!1:b.uncheck();break;case null:b.indeterminate()}"disabled"==c&&e!=d&&(e?b.disable():b.enable())}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxButtonGroup","",{}),a.extend(a.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var b={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},createInstance:function(b){var c=this;c._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(c),c.addHandler(c.host,"selectstart",function(a){c.disabled||a.preventDefault()})},refresh:function(){var a=this;a.width&&(a.width.toString()&&a.width.indexOf("%")>=0?a.element.style.width=a.width:a.host.width(a.width)),a.height&&a.host.height(a.height),a._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(a){var b=this;if(b._isTouchDevice){var c=b._eventsMap[a]||a;return c+="."+b.element.id}return a+="."+b.element.id},_refreshButtons:function(){var b=this;b.lastElement&&b.lastElement.remove(),b.lastElement=a("<div style='clear: both;'></div>");var c,d=b.host.children(),e=d.length;switch(b.mode){case"radio":b.host.attr("role","radiogroup");break;case"checkbox":case"default":b.host.attr("role","group")}for(var f=new Number(100/e).toFixed(2),g=0;e>g;g+=1)c=a(d[g]),b.width&&("horizontal"===b.orientation?(c.css("width",f+"%"),c.css("box-sizing","border-box"),c.css("-moz-box-sizing","border-box"),c.css("white-space","nowrap"),c.css("text-overflow","ellipsis"),c.css("overflow","hidden")):(c.css("box-sizing","border-box"),c.css("-moz-box-sizing","border-box"),c.css("width","100%"))),b._refreshButton(c,g,e);b.lastElement.appendTo(b.host)},_refreshButton:function(a,b,c){(function(a){var d=this;a=d._render(a),d._removeStyles(a),d._addStyles(a,b,c),d._performLayout(a),d._removeButtonListeners(a),d._addButtonListeners(a),d._handleButtonId(a,b),"radio"==d.mode?a.attr("role","radio"):a.attr("role","button"),a.attr("disabled",d.disabled),d.disabled?a.addClass(d.toThemeProperty("jqx-fill-state-disabled")):a.removeClass(d.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[a])},destroy:function(b){for(var c,d=this,e=d.host.children(),f=e.length,g=0;f>g;g+=1)c=a(e[g]),d._removeStyles(c),d._removeButtonListeners(c);0!=b&&d.host.remove()},_render:function(a){var b=this;return"button"===a[0].tagName.toLowerCase()?b._renderFromButton(a):b._renderButton(a)},_renderButton:function(a){return a.wrapInner("<div/>"),a},_removeStyles:function(a){var b=this,c=b.toThemeProperty;b.host.removeClass("jqx-widget"),b.host.removeClass("jqx-rc-all"),a.removeClass(c.call(this,"jqx-fill-state-normal")),a.removeClass(c.call(this,"jqx-group-button-normal")),a.removeClass(c.call(this,"jqx-rc-tl")),a.removeClass(c.call(this,"jqx-rc-bl")),a.removeClass(c.call(this,"jqx-rc-tr")),a.removeClass(c.call(this,"jqx-rc-br")),a.css("margin-left",0)},_addStyles:function(a,b,c){var d=this,e=this.toThemeProperty;d.host.addClass(e.call(this,"jqx-widget")),d.host.addClass(e.call(this,"jqx-rc-all")),d.host.addClass(e.call(this,"jqx-buttongroup")),a.addClass(e.call(this,"jqx-button")),a.addClass(e.call(this,"jqx-group-button-normal")),a.addClass(e.call(this,"jqx-fill-state-normal")),d.roundedCorners&&(0===b?d._addRoundedCorners(a,!0):b===c-1&&d._addRoundedCorners(a,!1)),"horizontal"==d.orientation?a.css("margin-left",-parseInt(a.css("border-left-width"),10)):a.css("margin-top",-parseInt(a.css("border-left-width"),10))},_addRoundedCorners:function(a,b){var c=this,d=c.toThemeProperty;"horizontal"==c.orientation?b?(a.addClass(d.call(this,"jqx-rc-tl")),a.addClass(d.call(this,"jqx-rc-bl"))):(a.addClass(d.call(this,"jqx-rc-tr")),a.addClass(d.call(this,"jqx-rc-br"))):b?(a.addClass(d.call(this,"jqx-rc-tl")),a.addClass(d.call(this,"jqx-rc-tr"))):(a.addClass(d.call(this,"jqx-rc-bl")),a.addClass(d.call(this,"jqx-rc-br")))},_centerContent:function(a,b){return a.css({"margin-top":(b.height()-a.height())/2,"margin-left":(b.width()-a.width())/2}),a},_renderFromButton:function(b){var c=b.val();""==c&&(c=b.html());var d,e=b[0].id;return b.wrap("<div/>"),d=b.parent(),d.attr("style",b.attr("style")),b.remove(),a.jqx.utilities.html(d,c),d[0].id=e,d},_performLayout:function(b){"horizontal"==this.orientation?this.rtl?b.css("float","right"):b.css("float","left"):b.css("float","none"),this._centerContent(a(b.children()),b)},_mouseEnterHandler:function(b){var c=b.data.self,d=a(b.currentTarget);if(!c._isDisabled(d)&&c.enableHover){var e=c.toThemeProperty;d.addClass(e.call(c,"jqx-group-button-hover")),d.addClass(e.call(c,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(b){var c=b.data.self,d=a(b.currentTarget);if(!c._isDisabled(d)&&c.enableHover){var e=c.toThemeProperty;d.removeClass(e.call(c,"jqx-group-button-hover")),d.removeClass(e.call(c,"jqx-fill-state-hover"))}},_mouseDownHandler:function(b){var c=b.data.self,d=a(b.currentTarget);if(!c._isDisabled(d)){c._pressed=d;var e=c.toThemeProperty;d.addClass(e.call(c,"jqx-group-button-pressed")),d.addClass(e.call(c,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(b){var c=b.data.self,d=a(b.currentTarget);c._isDisabled(d)||(c._handleSelection(d),c._pressed=null,d=c._buttonId[d[0].id],c._raiseEvent(2,{index:d.num,button:d.btn}))},_isDisabled:function(a){return a&&a[0]?this._buttonId[a[0].id].disabled:!1},_documentUpHandler:function(a){var b=a.data.self,c=b._pressed;c&&!b._buttonId[c[0].id].selected&&(c.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._pressed=null)},_addButtonListeners:function(b){var c=this,d=c.addHandler,e=c._getEvent;d(b,e.call(c,"mouseenter"),c._mouseEnterHandler,{self:c}),d(b,e.call(c,"mouseleave"),c._mouseLeaveHandler,{self:c}),d(b,e.call(c,"mousedown"),c._mouseDownHandler,{self:c}),d(b,e.call(c,"mouseup"),c._mouseUpHandler,{self:c}),d(a(document),e.call(c,"mouseup"),c._documentUpHandler,{self:c})},_removeButtonListeners:function(b){var c=this,d=c.removeHandler,e=c._getEvent;d(b,e.call(c,"mouseenter"),c._mouseEnterHandler),d(b,e.call(c,"mouseleave"),c._mouseLeaveHandler),d(b,e.call(c,"mousedown"),c._mouseDownHandler),d(b,e.call(c,"mouseup"),c._mouseUpHandler),d(a(document),e.call(c,"mouseup"),c._documentUpHandler)},_handleSelection:function(a){var b=this;"radio"===b.mode?b._handleRadio(a):"checkbox"===b.mode?b._handleCheckbox(a):b._handleDefault(a)},_handleRadio:function(a){var b=this,c=b._getSelectedButton();c&&c.btn[0].id!==a[0].id&&b._unselectButton(c.btn,!0);for(var d in b._buttonId)b._buttonId[d].selected=!0,b._unselectButton(b._buttonId[d].btn,!1);b._selectButton(a,!0)},_handleCheckbox:function(a){var b=this,c=b._buttonId[a[0].id];c.selected?b._unselectButton(c.btn,!0):b._selectButton(a,!0)},_handleDefault:function(a){var b=this;b._selectButton(a,!1);for(var c in b._buttonId)b._buttonId[c].selected=!0,b._unselectButton(b._buttonId[c].btn,!1)},_getSelectedButton:function(){var a=this;for(var b in a._buttonId)if(a._buttonId[b].selected)return a._buttonId[b];return null},_getSelectedButtons:function(){var a=this,b=[];for(var c in a._buttonId)a._buttonId[c].selected&&b.push(a._buttonId[c].num);return b},_getButtonByIndex:function(a){var b=this;for(var c in b._buttonId)if(b._buttonId[c].num===a)return b._buttonId[c];return null},_selectButton:function(b,c){var d=this,e=d._buttonId[b[0].id];if(!e.selected){var f=d.toThemeProperty;e.btn.addClass(f.call(this,"jqx-group-button-pressed")),e.btn.addClass(f.call(this,"jqx-fill-state-pressed")),e.selected=!0,c&&d._raiseEvent(0,{index:e.num,button:e.btn}),a.jqx.aria(e.btn,"aria-checked",!0)}},_unselectButton:function(b,c){var d=this,e=d._buttonId[b[0].id];if(e.selected){var f=d.toThemeProperty;e.btn.removeClass(f.call(this,"jqx-group-button-pressed")),e.btn.removeClass(f.call(this,"jqx-fill-state-pressed")),e.selected=!1,c&&d._raiseEvent(1,{index:e.num,button:e.btn}),a.jqx.aria(e.btn,"aria-checked",!1)}},setSelection:function(a){var b=this;if(-1===a)return void b.clearSelection();if("checkbox"===b.mode)if("number"==typeof a)b._setSelection(a);else for(var c=0;c<a.length;c+=1)b._setSelection(a[c]);else"number"==typeof a&&"radio"===b.mode&&b._setSelection(a)},_setSelection:function(a){var b=this,c=b._getButtonByIndex(a);c&&b._handleSelection(c.btn)},getSelection:function(){var a=this;if("radio"===a.mode){if(a._getSelectedButton())return a._getSelectedButton().num}else if("checkbox"===a.mode)return a._getSelectedButtons();return void 0},disable:function(){var b=this;b.disabled=!0;var c;for(var d in b._buttonId)c=b._buttonId[d],b.disableAt(c.num);a.jqx.aria(b,"aria-disabled",!0)},enable:function(){var b=this;b.disabled=!1;var c;for(var d in b._buttonId)c=b._buttonId[d],b.enableAt(c.num);a.jqx.aria(b,"aria-disabled",!1)},disableAt:function(a){var b=this,c=b._getButtonByIndex(a);c.disabled||(c.disabled=!0,c.btn.addClass(b.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(a){var b=this,c=b._getButtonByIndex(a);c.disabled&&(c.disabled=!1,c.btn.removeClass(b.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(a,b){var c=a[0].id,d={btn:a,num:b,selected:!1};return c||(c=this._baseId+a.index()),a[0].id=c,this._buttonId[c]=d,c},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_unselectAll:function(){for(var a in this._buttonId)this._unselectButton(this._buttonId[a].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(b,c,d,e){return"theme"==c&&null!=e&&a.jqx.utilities.setTheme(d,e,b.host),"mode"===c?(b._unselectAll(),void b.refresh()):void("disabled"===c?e?b.disable():b.enable():b.refresh())}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxListBox","",{}),a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){var b={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:a.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",valueMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};a.extend(!0,this,b)},createInstance:function(b){var c=this;15!=a.jqx.utilities.scrollBarSize&&(c.scrollBarSize=a.jqx.utilities.scrollBarSize),null==c.width&&(c.width=200),null==c.height&&(c.height=200),c.render();var d=c;a.jqx.utilities.resize(c.host,function(){d._updateSize()},!1,c._checkForHiddenParent)},resize:function(a,b){this.width=a,this.height=b,this._updateSize()},render:function(){var b=this,c=b.element.nodeName.toLowerCase();if("select"==c||"ul"==c||"ol"==c){b.field=b.element,b.field.className&&(b._className=b.field.className);var d={title:b.field.title};b.field.id.length?d.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":d.id=a.jqx.utilities.createId()+"_jqxListBox";var e=a("<div></div>",d);if(b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),a(b.field).hide().after(e),b.host=e,b.element=e[0],b.field.tabIndex){var f=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=f}}b.element.innerHTML="";var b=b,g=b.element.className;g+=" "+b.toThemeProperty("jqx-listbox"),g+=" "+b.toThemeProperty("jqx-reset"),g+=" "+b.toThemeProperty("jqx-rc-all"),g+=" "+b.toThemeProperty("jqx-widget"),g+=" "+b.toThemeProperty("jqx-widget-content"),b.element.className=g;var h=!1;null!=b.width&&-1!=b.width.toString().indexOf("%")&&(b.host.width(b.width),h=!0),null!=b.height&&-1!=b.height.toString().indexOf("%")&&(b.host.height(b.height),0==b.host.height()&&b.host.height(200),h=!0),null!=b.width&&-1!=b.width.toString().indexOf("px")?b.host.width(b.width):void 0==b.width||isNaN(b.width)||(b.element.style.width=parseInt(b.width)+"px"),null!=b.height&&-1!=b.height.toString().indexOf("px")?b.host.height(b.height):void 0==b.height||isNaN(b.height)||(b.element.style.height=parseInt(b.height)+"px"),b.multiple||b.multipleextended||b.checkboxes?a.jqx.aria(b,"aria-multiselectable",!0):a.jqx.aria(b,"aria-multiselectable",!1);var i=a("<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+b.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+b.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+b.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");b._checkForHiddenParent&&(b._addInput(),b.host.attr("tabIndex")||b.host.attr("tabIndex",1)),b.host.attr("role","listbox"),b.host.append(i),b.filter=b.host.find("#filter"+b.element.id),b.filterInput=b.filter.find("input"),b.filterInput.attr("placeholder",b.filterPlaceHolder),b.filterInput.addClass(b.toThemeProperty("jqx-widget jqx-input jqx-rc-all")),
b.addHandler(b.filterInput,"keyup.textchange",function(a){13==a.keyCode?b._search(a):b.filterDelay>0&&(b._filterTimer&&clearTimeout(b._filterTimer),b._filterTimer=setTimeout(function(){b._search(a)},b.filterDelay)),a.stopPropagation()});var j=b.host.find("#verticalScrollBar"+b.element.id);if(!b.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!j.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var k=parseInt(b.host.height())/2;0==k&&(k=10),b.vScrollBar=j.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:b.rtl,theme:b.theme,touchMode:b.touchMode,largestep:k});var l=b.host.find("#horizontalScrollBar"+b.element.id);if(b.hScrollBar=l.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:b.rtl,touchMode:b.touchMode,theme:b.theme}),b.content=b.host.find("#listBoxContent"),b.content[0].id="listBoxContent"+b.element.id,b.bottomRight=b.host.find("#bottomRight").addClass(b.toThemeProperty("jqx-listbox-bottomright")).addClass(b.toThemeProperty("jqx-scrollbar-state-normal")),b.bottomRight[0].id="bottomRight"+b.element.id,b.vScrollInstance=a.data(b.vScrollBar[0],"jqxScrollBar").instance,b.hScrollInstance=a.data(b.hScrollBar[0],"jqxScrollBar").instance,b.isTouchDevice()&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var m=a("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");b.content.parent().append(m),b.overlayContent=b.host.find(".overlay")}b._updateTouchScrolling(),b.host.addClass("jqx-disableselect"),b.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(a,b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+c+")","ig"),function(a,b){return"<b>"+b+"</b>"})},_addInput:function(){var b=this.host.attr("name");b&&this.host.attr("name",""),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=!1;var c=this.overlayContent?this.overlayContent:this.content;this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(a(c),"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(a,c){if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c),b._lastScroll=new Date}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a),b._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(a.jqx.browser.msie&&a.jqx.browser.version<9)return!1;this.touchDevice=!0,b=!0,a.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.scrollBarSize=a.jqx.utilities.touchScrollBarSize),b&&this.host.addClass(this.toThemeProperty("jqx-touch")),b},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("filterable"==c&&b.refresh(),"filterHeight"==c&&b._arrange(),"filterPlaceHolder"==c&&b.filterInput.attr("placeholder",e),"renderer"==c&&(b._cachedItemHtml=new Array,b.refresh()),"itemHeight"==c&&b.refresh(),("source"==c||"checkboxes"==c)&&(null==e&&d&&d.unbindBindingUpdate&&(d.unbindBindingUpdate(b.element.id),d.unbindDownloadComplete(b.element.id)),b.clearSelection(),b.refresh()),("scrollBarSize"==c||"equalItemsWidth"==c)&&e!=d&&b._updatescrollbars(),"disabled"==c&&(b._renderItems(),b.vScrollBar.jqxScrollBar({disabled:e}),b.hScrollBar.jqxScrollBar({disabled:e})),"touchMode"==c||"rtl"==c){if(b._removeHandlers(),b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),"touchMode"==c&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var f=a("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");b.content.parent().append(f),b.overlayContent=b.host.find(".overlay")}b._updateTouchScrolling(),b._addHandlers(),b._render(!1)}if(this.updating||("width"==c||"height"==c)&&b._updateSize(),"theme"==c&&d!=e&&(b.hScrollBar.jqxScrollBar({theme:b.theme}),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-listbox")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.host.addClass(b.toThemeProperty("jqx-reset")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.refresh()),"selectedIndex"==c&&(b.clearSelection(),b.selectIndex(e,!0)),"displayMember"==c||"valueMember"==c){if(d!=e){var g=b.selectedIndex;b.refresh(),b.selectedIndex=g,b.selectedIndexes[g]=g}b._renderItems()}"autoHeight"==c&&(d!=e?b._render(!1):(b._updatescrollbars(),b._renderItems())),b._checkForHiddenParent&&a.jqx.isHidden(b.host)&&a.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,b._checkForHiddenParent)}},loadFromSelect:function(b){if(null!=b){var c="#"+b,d=a(c);if(d.length>0){var e=a.jqx.parseSourceTag(d[0]),f=e.items,g=e.index;this.source=f,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=g,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(b){var c=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var d=function(a){if(1==a&&-1!=c.selectedIndex){var b=c.selectedIndex;c.selectedIndex=-1,c._stopEvents=!0,c.selectIndex(b,!1,!0),-1==c.selectedIndex&&(c.selectedIndex=b),c._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),a.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,b),void d(b);(this.autoBind||!this.autoBind&&!b)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._raiseEvent("6"),this._render(!1,1==b),d(b)}},loadSelectTag:function(){var b=a.jqx.parseSourceTag(this.field);this.source=b.items,-1==this.selectedIndex&&(this.selectedIndex=b.index)},_render:function(a,b){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==a||a)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready()))},_hitTest:function(a,b){this.filterable&&(b-=this.filterHeight,0>b&&(b=0));var c=parseInt(this.vScrollInstance.value),d=this._searchFirstVisibleIndex(b+c,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[d]&&this.renderedVisibleItems[d].isGroup)return null;if(this.renderedVisibleItems.length>0){var e=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(e.height+e.top<b+c)return null}return d=this._searchFirstVisibleIndex(b+c),this.visibleItems[d]},_searchFirstVisibleIndex:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.visibleItems);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.initialTop>a&&e.initialTop+e.height>a)d=mid-1;else{if(!(e.initialTop<a&&e.initialTop+e.height<=a))return mid;c=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var b=this.isTouchDevice(),c=this.vScrollInstance,d=this.hScrollInstance,e=parseInt(c.value),f=parseInt(d.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(f=d.max-f);var g=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),h=g+parseInt(d.max),i=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(i=0),"visible"!=this.hScrollBar[0].style.visibility&&(h=g);var j=(this._getVirtualItemsCount(),new Array),k=0,l=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(l=this.host.outerHeight()),isNaN(l)&&(l=0);var m=0,n=0,o=0;if(0==c.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){var q=this.items[p];if(q.visible){q.top=-e,q.initialTop=-e,!q.isGroup&&q.visible&&(this.visibleItems[n++]=q,q.visibleIndex=n-1),this.renderedVisibleItems[o++]=q,q.left=-f;var r=q.top+q.height;r>=0&&q.top-q.height<=l&&(j[k++]={index:p,item:q}),e-=q.height}}var s=e>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,t=0;k=0;for(var u=this.vScrollInstance.value,v=0;100+l>t;){var q=this.renderedVisibleItems[s];if(void 0==q)break;if(q.visible){q.left=-f;var r=q.top+q.height-u;r>=0&&q.initialTop-u-q.height<=2*l&&(j[k++]={index:s,item:q})}if(s++,q.visible&&(t+=q.initialTop-u+q.height-t),v++,v>this.items.length-1)break}for(var w=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),x=this.toThemeProperty("jqx-listitem-state-group"),y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),z=0,A=this,p=0;p<this.visualItems.length;p++){var B=this.visualItems[p],C=function(){var a=B[0].firstChild;if(A.checkboxes&&(a=B[0].lastChild),null!=a&&(a.style.visibility="hidden",a.className=""),A.checkboxes){var b=B.find(".chkbox");b.css({visibility:"hidden"})}};if(p<j.length){var q=j[p].item;if(q.initialTop-u>=l){C();continue}var D=a(B[0].firstChild);if(this.checkboxes&&(D=a(B[0].lastChild)),0==D.length)continue;if(null==D[0])continue;D[0].className="",D[0].style.display="block",D[0].style.visibility="inherit";var E="";if(E=!q.isGroup&&!this.selectedIndexes[q.index]>=0?w:x,(q.disabled||this.disabled)&&(E+=" "+y),this.roundedcorners&&(E+=" "+this.toThemeProperty("jqx-rc-all")),b&&(E+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),D[0].className=E,this.renderer)if(q.key||(q.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[q.key])D[0].innerHTML!=this._cachedItemHtml[q.key]&&(D[0].innerHTML=this._cachedItemHtml[q.key]);else{var F=this.renderer(q.index,q.label,q.value);D[0].innerHTML=F,this._cachedItemHtml[q.key]=D[0].innerHTML}else{if(-1!==this.itemHeight){var G=2+2*parseInt(D.css("padding-top"));D[0].style.lineHeight=q.height-G+"px",D.css("vertical-align","middle")}null!=q.html&&q.html.toString().length>0?D[0].innerHTML=q.html:null!=q.label||null!=q.value?null!=q.label?(D[0].innerHTML!==q.label&&(D[0].innerHTML=q.label),""==a.trim(q.label)&&(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=q.height-8+"px")),this.incrementalSearch||q.disabled||void 0!=this.searchString&&""!=this.searchString&&(D[0].innerHTML=this._highlight(q.label.toString(),this.searchString))):null===q.label?(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=q.height-8+"px")):D[0].innerHTML!==q.value?D[0].innerHTML=q.value:""==q.label&&(D[0].innerHTML=" "):(""==q.label||null==q.label)&&(D[0].innerHTML="",D[0].style.height=q.height-8+"px")}if(B[0].style.left=q.left+"px",B[0].style.top=q.initialTop-u+"px",q.element=D[0],q.title&&(D[0].title=q.title),this.equalItemsWidth&&!q.isGroup){if(0==m){var H=parseInt(h),I=parseInt(D.outerWidth())-parseInt(D.width());H-=I;var J=1;J=null!=J?parseInt(J):0,H-=2*J,m=H,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(m-=18)}g>this.virtualSize.width?(D[0].style.width=m+"px",q.width=m):(D[0].style.width=-4+this.virtualSize.width+"px",q.width=this.virtualSize.width-4)}else D.width()<this.host.width()&&D.width(this.host.width()-2);if(this.rtl&&(D[0].style.textAlign="right"),this.autoItemsHeight&&(D[0].style.whiteSpace="normal",D.width(m),q.width=m),z=0,this.checkboxes&&!q.isGroup){0==z&&(z=(q.height-16)/2,z++);var K=a(B.children()[0]);K[0].item=q,this.rtl?"0px"!=D[0].style.left&&(D[0].style.left="0px"):"18px"!=D[0].style.left&&(D[0].style.left="18px"),this.rtl&&K.css("left",8+q.width+"px"),K[0].style.top=z+"px",K[0].style.display="block",K[0].style.visibility="inherit";var L=q.checked,M=q.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";K[0].firstChild&&K[0].firstChild.firstChild&&K[0].firstChild.firstChild.firstChild&&K[0].firstChild.firstChild&&(L?K[0].firstChild.firstChild.firstChild.className=M:L===!1?K[0].firstChild.firstChild.firstChild.className="":null===L&&(K[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),a.jqx.ariaEnabled&&(L?B[0].setAttribute("aria-selected",!0):B[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var K=a(B.children()[0]);K.css({display:"none",visibility:"inherit"})}!q.disabled&&(!this.filterable&&this.selectedIndexes[q.visibleIndex]>=0||q.selected&&this.filterable)?(D.addClass(this.toThemeProperty("jqx-listitem-state-selected")),D.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a.jqx.ariaEnabled&&(B[0].setAttribute("aria-selected",!0),this._activeElement=B[0])):this.checkboxes||a.jqx.ariaEnabled&&B[0].removeAttribute("aria-selected")}else C()}}},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_calculateVirtualSize:function(){var b=0,c=2,d=0,e=a("<span></span>");this.equalItemsWidth&&e.css("float","left");var f=0,g=this.host.outerHeight();a(document.body).append(e);var h=this.items.length,i=this.host.width();if(this.autoItemsHeight&&(i-=10,"hidden"!=this.vScrollBar.css("visibility")&&(i-=20)),this.autoItemsHeight||this.renderer||this.groups.length>1||h>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){var k="";if(k+=j.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch")),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}if(this.renderer){var m=this.renderer(j.index,j.label,j.value);e[0].innerHTML=m}else null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(null!=j.label?(e[0].innerHTML=j.label,""==j.label&&(e[0].innerHTML="Empty")):e[0].innerHTML=j.value);var n=e.outerHeight(),o=e.outerWidth();this.itemHeight>-1&&(n=this.itemHeight),j.height=n,j.width=o,c+=n,b=Math.max(b,o),g>=c&&f++}}else{for(var c=0,p=0,q="",r=0,s=0,t=-1,d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){t++;var k="";if(0==t){if(k+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),k+=" "+this.toThemeProperty("jqx-widget"),k+=" "+this.toThemeProperty("jqx-listbox"),k+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch"),k+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}null==j.html||""==j.label||null==j.label?e[0].innerHTML="Item":null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(null!=j.label?null!=j.label.toString().match(new RegExp("\\w"))||null!=j.label.toString().match(new RegExp("\\d"))?e[0].innerHTML=j.label:e[0].innerHTML="Item":e[0].innerHTML=j.value);var n=1+e.outerHeight();this.itemHeight>-1&&(n=this.itemHeight),p=n}void 0!=r&&(s=r),null!=j.html&&j.html.toString().length>0?(r=Math.max(r,j.html.toString().length),s!=r&&(q=j.html)):null!=j.label?(r=Math.max(r,j.label.length),s!=r&&(q=j.label)):null!=j.value&&(r=Math.max(r,j.value.length),s!=r&&(q=j.value)),j.height=p,c+=p,g>=c&&f++}}e[0].innerHTML=q,b=e.outerWidth()}return c+=2,10>f&&(f=10),this.filterable&&(c+=this.filterHeight),e.remove(),{width:b,height:c,itemsPerPage:f}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var a=parseInt(this.host.height())/5;return a>this.items.length&&(a=this.items.length),a}return this.virtualItemsCount},_addItems:function(b){var c=this;if(1!=c.updatingListBox){if(void 0==c.items||0==c.items.length)return c.virtualSize={width:0,height:0,itemsPerPage:0},c._updatescrollbars(),c.renderedVisibleItems=new Array,void(c.itemswrapper&&c.itemswrapper.children().remove());if(0==b){var d=c._calculateVirtualSize(),e=2*d.itemsPerPage;c.autoHeight&&(e=c.items.length),c.virtualItemsCount=Math.min(e,c.items.length);d.width;return c.virtualSize=d,void c._updatescrollbars()}var f=this,g=0;c.visibleItems=new Array,c.renderedVisibleItems=new Array,c._removeHandlers(),c.allowDrag&&c._enableDragDrop&&(c.itemswrapper=null),null==c.itemswrapper&&(c.content[0].innerHTML="",c.itemswrapper=a('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),c.itemswrapper.height(2*c.host.height()),c.content.append(c.itemswrapper));var d=c._calculateVirtualSize(),e=2*d.itemsPerPage;c.autoHeight&&(e=c.items.length),c.virtualItemsCount=Math.min(e,c.items.length);var c=this;d.width;c.virtualSize=d,c.itemswrapper.width(Math.max(c.host.width(),17+d.width));for(var h=0,i="",j=a.jqx.browser.msie&&a.jqx.browser.version<9,k=j?' unselectable="on"':"",l=h;l<c.virtualItemsCount;l++){var m=c.items[l],n="listitem"+l+c.element.id;if(i+="<div"+k+" role='option' id='"+n+"' class='jqx-listitem-element'>",c.checkboxes){i+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var o='<div class="'+c.toThemeProperty("jqx-checkbox-default")+" "+c.toThemeProperty("jqx-fill-state-normal")+" "+c.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',p=m.checked?" "+c.toThemeProperty("jqx-checkbox-check-checked"):"";o+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+p+'"></span>',o+="</div></div>",i+=o,i+="</div>"}i+="<span"+k+" style='-ms-touch-action: none;'></span></div>"}f.WinJS?c.itemswrapper.html(i):c.itemswrapper[0].innerHTML=i;for(var q=c.itemswrapper.children(),l=h;l<c.virtualItemsCount;l++){var m=c.items[l],r=a(q[l]);if(c.allowDrag&&c._enableDragDrop&&r.addClass("draggable"),c.checkboxes){a(r.children()[0]);r.css("float","left");var s=a(r[0].firstChild);s.css("float","left")}r[0].style.height=m.height+"px",r[0].style.top=g+"px",g+=m.height,c.visualItems[l]=r}if(c._addHandlers(),c._updatescrollbars(),c.autoItemsHeight){var d=c._calculateVirtualSize(),e=2*d.itemsPerPage;c.autoHeight&&(e=c.items.length),c.virtualItemsCount=Math.min(e,c.items.length);var c=this;d.width;c.virtualSize=d,c._updatescrollbars()}a.jqx.browser.msie&&a.jqx.browser.version<8&&(c.host.attr("hideFocus",!0),c.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var b=this;if(b.virtualSize){var c=b.virtualSize.height,d=b.virtualSize.width,e=b.vScrollInstance,f=b.hScrollInstance;b._arrange(!1);var g=!1,h=b.host.outerWidth(),i=b.host.outerHeight(),j=0;if(d>h&&(j=b.hScrollBar.outerHeight()+2),c+j>i){var k=e.max;e.max=2+parseInt(c)+j-parseInt(i-2),"inherit"!=b.vScrollBar[0].style.visibility&&(b.vScrollBar[0].style.visibility="inherit",g=!0),k!=e.max&&e._arrange()}else"hidden"!=b.vScrollBar[0].style.visibility&&(b.vScrollBar[0].style.visibility="hidden",g=!0,e.setPosition(0));var l=0;"hidden"!=b.vScrollBar[0].style.visibility&&(l=b.scrollBarSize+6);var m=b.checkboxes?20:0;if(b.autoItemsHeight)b.hScrollBar[0].style.visibility="hidden";else if(d>=h-l-m){var n=f.max;"inherit"==b.vScrollBar[0].style.visibility?f.max=m+l+parseInt(d)-b.host.width()+4:f.max=m+parseInt(d)-b.host.width()+6,"inherit"!=b.hScrollBar[0].style.visibility&&(b.hScrollBar[0].style.visibility="inherit",g=!0),n!=f.max&&f._arrange(),"inherit"==b.vScrollBar[0].style.visibility&&(e.max=2+parseInt(c)+b.hScrollBar.outerHeight()+2-parseInt(b.host.height()))}else"hidden"!=b.hScrollBar[0].style.visibility&&(b.hScrollBar[0].style.visibility="hidden",g=!0);f.setPosition(0),g&&b._arrange(),b.itemswrapper&&(b.itemswrapper[0].style.width=Math.max(0,Math.max(h-2,17+d))+"px",b.itemswrapper[0].style.height=Math.max(0,2*i)+"px");var o=b.isTouchDevice();o&&("visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,b.element.id):a.jqx.mobile.setTouchScroll(!0,b.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(a){for(var b=0;b<this.selectedIndexes.length;b++)this.selectedIndexes[b]&&-1!=this.selectedIndexes[b]&&this._raiseEvent("1",{index:b,type:"api",item:this.getVisibleItem(b),originalEvent:null}),this.selectedIndexes[b]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=a&&this._renderItems()},unselectIndex:function(a,b){if(!isNaN(a)){this.selectedIndexes[a]=-1;for(var c=!1,d=0;d<this.selectedIndexes.length;d++){var a=this.selectedIndexes[d];-1!=a&&void 0!=a&&(c=!0)}c||(this.selectedValue=null,this.selectedIndex=-1,this.selectedValues[this.getVisibleItem(a).value]&&(this.selectedValues[this.getVisibleItem(a).value]=null)),(void 0==b||1==b)&&(this._renderItems(),this._raiseEvent("1",{index:a,type:"api",item:this.getVisibleItem(a),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:a,type:"api",item:this.getItem(a)})}},getItem:function(b){if(-1==b||isNaN(b)||"string"==typeof b)return-1===b?null:this.getItemByValue(b);var c=null;a.each(this.items,function(){return this.index==b?(c=this,!1):void 0});return c},getVisibleItem:function(a){return-1==a||isNaN(a)||"string"==typeof a?-1===a?null:this.getItemByValue(a):this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){a(e.checkBoxElement);e.checked=!0,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})}},getCheckedItems:function(){if(!this.checkboxes)return null;var b=new Array;if(void 0!=this.items)return a.each(this.items,function(){this.checked&&(b[b.length]=this)}),b},checkAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!0&&c._raiseEvent(3,{label:a.label,value:a.value,checked:!0,item:a}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!1&&(this.checked=!1,c._raiseEvent(3,{label:a.label,value:a.value,checked:!1,item:a})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){a(e.checkBoxElement);e.checked=!1,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})}},indeterminateIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);if(null!=e){a(e.checkBoxElement);e.checked=null,(void 0==c||1==c)&&this._updateCheckedItems()}(void 0==d||1==d)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems(),b=this.selectedIndexes,c=[];for(var d in b)-1!=b[d]&&(c[c.length]=a[d]);return c},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=b,this._renderItems();var c=a.data(this.element,"hoveredItem");null!=c&&(a(c).addClass(this.toThemeProperty("jqx-listitem-state-hover")),a(c).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(b){if(null!=this.visibleItems){if(b&&b.value&&(b=b.value),this.itemsByValue)return this.itemsByValue[a.trim(b).split(" ").join("")];for(var c=this.visibleItems,d=0;d<c.length;d++)if(c[d].value==b)return c[d]}},checkItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.checkIndex(b.index,!0)}return!1},uncheckItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.uncheckIndex(b.index,!0)}return!1},indeterminateItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.indeterminateIndex(b.index,!0)}return!1},val:function(a){if(this.input){var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"==typeof a?!1:"date"==typeof a?!1:"boolean"==typeof a?!1:"string"==typeof a?!1:!0};if(b(a)||0==arguments.length)return this.input.val();var c=this.getItemByValue(a);return null!=c&&this.selectItem(c),this.input?this.input.val():void 0}},selectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.selectIndex(a.visibleIndex,!0)}return!1},unselectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.unselectIndex(a.visibleIndex,!0)}return!1},selectIndex:function(a,b,c,d,e,f){if(!(isNaN(a)||(this.filterable&&(this.selectedIndex=-1),-1>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled))){if(!this.multiple&&!this.multipleextended&&this.selectedIndex==a&&!d)return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),i&&(this.selectedValue=i.value,this.selectedValues[i.value]=i.value)));if(this.checkboxes)return void this._updateCheckedItems();this.focused=!0;var g=!1;this.selectedIndex!=a&&(g=!0);var h=this.selectedIndex;this.selectedIndex!=a||this.multiple||(h=-1),void 0==e&&(e="none");var i=this.getItem(a),j=this.getItem(h);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),j=this.getVisibleItem(h)),void 0!=d&&d)this._raiseEvent("1",{index:h,type:e,item:j,originalEvent:f}),this.selectedIndex=a,this.selectedIndexes[h]=-1,this.selectedIndexes[a]=a,i&&(this.selectedValue=i.value,this.selectedValues[i.value]=i.value),this._raiseEvent("0",{index:a,type:e,item:i,originalEvent:f});else{var k=this,l=function(a,b,c,d,e,f){k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}),k.selectedIndex=a,k.selectedIndexes=[],b=a,k.selectedIndexes[a]=a,k.selectedValues=new Array,e&&(k.selectedValues[e.value]=e.value),k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})},m=function(a,b,c,d,e,f){void 0==k.selectedIndexes[a]||-1==k.selectedIndexes[a]?(k.selectedIndexes[a]=a,k.selectedIndex=a,e&&(k.selectedValues[e.value]=e.value,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f}))):(b=k.selectedIndexes[a],d=k.getVisibleItem(b),d&&(k.selectedValues[d.value]=null),k.selectedIndexes[a]=-1,k.selectedIndex=-1,k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==e&&(this.clearSelection(!1),k._clickedIndex=a),m(a,h,e,j,i,f);else if(this._shiftKey){void 0==k._clickedIndex&&(k._clickedIndex=h);var n=Math.min(k._clickedIndex,a),o=Math.max(k._clickedIndex,a);this.clearSelection(!1);for(var p=n;o>=p;p++)k.selectedIndexes[p]=p,k.selectedValues[k.getVisibleItem(p).value]=k.getVisibleItem(p).value,k._raiseEvent("0",{index:p,type:e,item:this.getVisibleItem(p),originalEvent:f});"keyboard"!=e?k.selectedIndex=k._clickedIndex:k.selectedIndex=a}}else"keyboard"!=e&&"mouse"!=e?(m(a,h,e,j,i,f),k._clickedIndex=a):(this.clearSelection(!1),k._clickedIndex=a,l(a,h,e,j,i,f));else this.multiple?m(a,h,e,j,i,f):(i&&(this.selectedValue=i.value),l(a,h,e,j,i,f))}return(void 0==c||1==c)&&this._renderItems(),void 0!=b&&null!=b&&1==b&&this.ensureVisible(a),this._raiseEvent("2",{index:a,item:i,oldItem:j,type:e,originalEvent:f}),this._updateInputSelection(),g}},_updateInputSelection:function(){this._syncSelection();var b=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),b.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var c=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),d="";if(c){for(var e=0;e<c.length;e++)void 0!=c[e]&&(d+=e==c.length-1?c[e].value:c[e].value+",",b.push(c[e].value));this.input.val(d)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?a.each(this.field,function(c,d){a(this).removeAttr("selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this).attr("selected",!0)}):a.each(this.items,function(c,d){a(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(a){if(isNaN(a))return!1;if(!this.items)return!1;if(0>a||a>=this.items.length)return!1;var b=this.vScrollInstance.value;this.filterable&&(b-=this.filterHeight);var c=this.visibleItems[a];if(void 0==c)return!0;var d=c.initialTop,e=c.height;return 0>d-b||d-b+e>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var b=0,c=this;return this.items&&a.each(this.items,function(){return this.initialTop+this.height>=c.content.height()?!1:void b++}),b},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_search:function(a){var b=this,c=b.filterInput.val();return 9!=a.keyCode&&"none"!=b.searchMode&&null!=b.searchMode&&"undefined"!=b.searchMode&&16!=a.keyCode&&17!=a.keyCode&&20!=a.keyCode?37==a.keyCode||39==a.keyCode?!1:void(a.altKey||18==a.keyCode||a.keyCode>=33&&a.keyCode<=40||(!a.ctrlKey&&!b.ctrlKey||88==a.keyCode||86==a.keyCode)&&c!==b.searchString&&b._updateItemsVisibility(c)):void 0;
},_updateItemsVisibility:function(b){var c=this.getItems();if(void 0==c)return{index:-1,matchItem:new Array};var d=this,e=-1,f=new Array,g=0;a.each(c,function(c){var h="";if(!this.isGroup){h=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",h=h.toString();var i=!1;switch(d.searchMode){case"containsignorecase":i=a.jqx.string.containsIgnoreCase(h,b);break;case"contains":i=a.jqx.string.contains(h,b);break;case"equals":i=a.jqx.string.equals(h,b);break;case"equalsignorecase":i=a.jqx.string.equalsIgnoreCase(h,b);break;case"startswith":i=a.jqx.string.startsWith(h,b);break;case"startswithignorecase":i=a.jqx.string.startsWithIgnoreCase(h,b);break;case"endswith":i=a.jqx.string.endsWith(h,b);break;case"endswithignorecase":i=a.jqx.string.endsWithIgnoreCase(h,b)}i||(this.visible=!1),i&&(f[g++]=this,this.visible=!0,e=this.visibleIndex),""==b&&(this.visible=!0,i=!1)}}),d.renderedVisibleItems=new Array,d.visibleItems=new Array,d.vScrollInstance.setPosition(0,!0),d._addItems(!1),d._renderItems();for(var h=0;h<d.items.length;h++)d.selectedIndexes[h]=-1;d.selectedIndex=-1;for(var i in d.selectedValues){var b=d.selectedValues[i],j=d.getItemByValue(b);j&&j.visible&&(d.selectedIndex=j.visibleIndex,d.selectedIndexes[j.visibleIndex]=j.visibleIndex)}d._syncSelection()},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;void 0==c&&(c=0);var d=this.getItems(),e=this,f=-1;return a.each(d,function(d){var g="";if(!this.isGroup){g=this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var h=!1;switch(e.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(g,b);break;case"contains":h=a.jqx.string.contains(g,b);break;case"equals":h=a.jqx.string.equals(g,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(g,b);break;case"startswith":h=a.jqx.string.startsWith(g,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(g,b);break;case"endswith":h=a.jqx.string.endsWith(g,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(g,b)}if(h&&this.visibleIndex>=c)return f=this.visibleIndex,!1}}),f},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(c){var g="";if(!this.isGroup){g=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(g,b);break;case"contains":h=a.jqx.string.contains(g,b);break;case"equals":h=a.jqx.string.equals(g,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(g,b);break;case"startswith":h=a.jqx.string.startsWith(g,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(g,b);break;case"endswith":h=a.jqx.string.endsWith(g,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(g,b)}h&&(f[e++]=this)}}),f},_syncSelection:function(){var a=this;if(a.filterable){for(var b=0;b<a.items.length;b++){var c=a.items[b];c.selected=!1}for(var b=0;b<a.visibleItems.length;b++){var c=a.visibleItems[b];a.selectedIndexes&&a.selectedIndexes[b]==c.visibleIndex&&(c.selected=!0)}a.itemswrapper&&a._renderItems()}},_handleKeyDown:function(a){var b=a.keyCode,c=this,d=c.selectedIndex,e=c.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||a.target!=this.filterInput[0])){var f=function(){c.multiple&&c.clearSelection(!1)};if(a.altKey&&(b=-1),c.incrementalSearch){var g=-1;c._searchString||(c._searchString=""),(8==b||46==b)&&c._searchString.length>=1&&(c._searchString=c._searchString.substr(0,c._searchString.length-1));var h=String.fromCharCode(b),i=!isNaN(parseInt(h)),j=!1;if(b>=65&&97>=b||i||8==b||32==b||46==b){a.shiftKey||(h=h.toLocaleLowerCase());var k=1+c.selectedIndex;8!=b&&32!=b&&46!=b&&(c._searchString.length>0&&c._searchString.substr(0,1)==h?k=1+c.selectedIndex:c._searchString+=h),32==b&&(c._searchString+=" ");var l=this._getMatches(c._searchString,k);if(g=l,g==c._lastMatchIndex||-1==g){var l=this._getMatches(c._searchString,0);g=l}if(c._lastMatchIndex=g,g>=0){var m=function(){f(),c.selectIndex(g,!1,!1,!1,"keyboard",a);var b=c.isIndexInView(g);b?c._renderItems():c.ensureVisible(g)};c._toSelectTimer&&clearTimeout(c._toSelectTimer),c._toSelectTimer=setTimeout(function(){m()},c.incrementalSearchKeyDownDelay)}j=!0}if(void 0!=c._searchTimer&&clearTimeout(c._searchTimer),(27==b||13==b)&&(c._searchString=""),c._searchTimer=setTimeout(function(){c._searchString="",c._renderItems()},c.incrementalSearchDelay),g>=0)return;if(j)return!1}if(this.checkboxes)return!0;if(33==b){var n=c._itemsInPage();c.selectedIndex-n>=0?(f(),c.selectIndex(e-n,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(32==b&&this.checkboxes){var o=this.getItem(d);null!=o&&(c._updateItemCheck(o,d),a.preventDefault()),c._searchString=""}if(36==b&&(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),35==b&&(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),34==b){var n=c._itemsInPage();c.selectedIndex+n<c.visibleItems.length?(f(),c.selectIndex(e+n,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(38==b){if(c._searchString="",!(c.selectedIndex>0))return!1;var p=c._prevItemIndex(c.selectedIndex);if(p==c.selectedIndex||-1==p)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}else if(40==b){if(c._searchString="",!(c.selectedIndex+1<c.visibleItems.length))return!1;var p=c._nextItemIndex(c.selectedIndex);if(p==c.selectedIndex||-1==p)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}if(35==b||36==b||38==b||40==b||34==b||33==b){var q=c.isIndexInView(c.selectedIndex);return q?c._renderItems():c.ensureVisible(c.selectedIndex),!1}return!0}},_updateItemCheck:function(a,b){if(!this.disabled)switch(1==a.checked?a.checked=a.hasThreeStates&&this.hasThreeStates?null:!1:a.checked=null!=a.checked,a.checked){case!0:this.checkIndex(b);break;case!1:this.uncheckIndex(b);break;default:this.indeterminateIndex(b)}},wheel:function(a,b){if(b.autoHeight||!b.enableMouseWheel)return a.returnValue=!0,!0;if(b.disabled)return!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;return b!=c?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_removeHandlers:function(){this.removeHandler(a(document),"keydown.listbox"+this.element.id),this.removeHandler(a(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var a=this;if(a._arrange(),a.host.height()!=a._oldheight||a.host.width()!=a._oldwidth){a.host.width()!=a._oldwidth;if(a.autoItemsHeight)a._render(!1);else if(a.items)if(a.items.length>0&&a.virtualItemsCount*a.items[0].height<a._oldheight-2)a._render(!1);else{var b=a.vScrollInstance.value;a._updatescrollbars(),a._renderItems(),b<a.vScrollInstance.max?a.vScrollInstance.setPosition(b):a.vScrollInstance.setPosition(a.vScrollInstance.max)}a._oldwidth=a.host.width(),a._oldheight=a.host.height()}},_addHandlers:function(){var b=this;this.focused=!1;var c=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(c){a.jqx.browser.msie&&a.jqx.browser.version>9?setTimeout(function(){b._renderItems()},1):b._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){b._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(a){b.wheel(a,b)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(a(document),"keydown.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(a(document),"keyup.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(this.host,"keydown",function(a){return b._handleKeyDown(a)}),this.addHandler(this.content,"mouseleave",function(c){b.focused=!1;var d=a.data(b.element,"hoveredItem");null!=d&&(a(d).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(d).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.data(b.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(a){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.content,"blur",function(a){b.focused=!1,b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(a){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.host,"blur",function(c){a.jqx.browser.msie&&a.jqx.browser.version<9&&b.focused||(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!1)}),this.addHandler(this.content,"mouseenter",function(a){b.focused=!0});var d=a.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var e=b.isTouchDevice()&&this.touchMode!==!0,f=e?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"),function(c){if(!b.enableSelection)return!0;if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!0;var d=a.jqx.mobile.getTouches(c),f=d[0];if(void 0!=f){var g=b.host.offset(),h=parseInt(f.pageX),i=parseInt(f.pageY);1==b.touchMode&&void 0!=f._pageX&&(h=parseInt(f._pageX),i=parseInt(f._pageY)),h-=g.left,i-=g.top;var j=b._hitTest(h,i);if(null!=j&&!j.isGroup){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(b.checkboxes)return void b._updateItemCheck(j,j.visibleIndex);if(-1==j.html.indexOf("href"))return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),c.preventDefault&&c.preventDefault(),b.content.trigger("click"),!1;setTimeout(function(){return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),b.content.trigger("click"),!1},100)}}});else{var g=!1;this.addHandler(this.content,f,function(c){if(!b.enableSelection)return!0;if(g=!0,e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!1;if(b.focused=!0,!b.isTouchDevice()&&b.focusable&&b.host.focus(),c.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=c.target){var h=c.target,i=a(h).offset(),j=b.host.offset();if(d){var k=a.jqx.mobile.getLeftPos(h),l=a.jqx.mobile.getTopPos(h);i.left=k,i.top=l,k=a.jqx.mobile.getLeftPos(b.element),l=a.jqx.mobile.getTopPos(b.element),j.left=k,j.top=l}var m=parseInt(i.top)-parseInt(j.top),n=parseInt(i.left)-parseInt(j.left),o=b._hitTest(n,m);if(null!=o&&!o.isGroup){var p=function(a,c){if(b._shiftKey||(b._clickedIndex=a.visibleIndex),b.checkboxes)if(b.selectedIndex=a.visibleIndex,n=20+c.pageX-i.left,b.rtl){"hidden"!=b.hScrollBar.css("visibility")?b.hScrollInstance.max:b.host.width();n<=b.host.width()-20&&(b.allowDrag?setTimeout(function(){b._dragItem||g||b._updateItemCheck(a,a.visibleIndex)},200):b._updateItemCheck(a,a.visibleIndex))}else n+b.hScrollInstance.value>=20&&(b.allowDrag?setTimeout(function(){b._dragItem||g||b._updateItemCheck(a,a.visibleIndex)},200):b._updateItemCheck(a,a.visibleIndex));else b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)};o.disabled||(-1!=o.html.indexOf("href")?setTimeout(function(){p(o,c)},100):p(o,c))}if("mousedown"==f){var q=!1;return c.which?q=3==c.which:c.button&&(q=2==c.button),q?!0:!1}}return!0})}this.addHandler(this.content,"mouseup",function(a){b.vScrollInstance.handlemouseup(b,a),g=!1}),a.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(a){return!1})}var c=this.isTouchDevice();this.enableHover&&!c&&(this._mousemovefunc=function(e){if(c)return!0;if(!b.enableHover)return!0;1==a.jqx.browser.msie&&a.jqx.browser.version<9?0:1;if(null==e.target)return!0;if(b.disabled)return!0;b.focused=!0;var f=b.vScrollInstance.isScrolling();if(!f&&e.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=e.target){var g=e.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup&&!n.disabled){var o=a.data(b.element,"hoveredItem");null!=o&&(a(o).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(o).removeClass(b.toThemeProperty("jqx-fill-state-hover"))),a.data(b.element,"hoveredItem",n.element);var p=a(n.element);p.addClass(b.toThemeProperty("jqx-listitem-state-hover")),p.addClass(b.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(a){void 0==a&&(a=!0);var b=this,c=null,d=null,e=b.filterable?b.filterHeight:0,f=function(a){return a=b.host.height(),0==a&&(a=200,b.host.height(a)),a};null!=b.width&&-1!=b.width.toString().indexOf("px")?c=b.width:void 0==b.width||isNaN(b.width)||(c=b.width),null!=b.height&&-1!=b.height.toString().indexOf("px")?d=b.height:void 0==b.height||isNaN(b.height)||(d=b.height),null!=b.width&&-1!=b.width.toString().indexOf("%")&&(b.host.css("width",b.width),c=b.host.width()),null!=b.height&&-1!=b.height.toString().indexOf("%")&&(b.host.css("height",b.height),d=f(d)),null!=c&&(c=parseInt(c),parseInt(b.element.style.width)!=parseInt(b.width)&&b.host.width(b.width)),b.autoHeight?b.virtualSize&&("hidden"!=b.hScrollBar.css("visibility")?(b.host.height(b.virtualSize.height+parseInt(b.scrollBarSize)+3),b.height=b.virtualSize.height+parseInt(b.scrollBarSize)+3,d=b.height):(b.host.height(b.virtualSize.height),b.height=b.virtualSize.height,d=b.virtualSize.height)):null!=d&&(d=parseInt(d),parseInt(b.element.style.height)!=parseInt(b.height)&&(b.host.height(b.height),f(d)));var g=b.scrollBarSize;isNaN(g)&&(g=parseInt(g),isNaN(g)?g="17px":g+="px"),g=parseInt(g);var h=4,i=2,j=0;if(b.vScrollBar&&("hidden"!=b.vScrollBar[0].style.visibility?j=g+h:b.vScrollInstance.setPosition(0),b.hScrollBar)){"hidden"!=b.hScrollBar[0].style.visibility?i=g+h:b.hScrollInstance.setPosition(0),b.autoItemsHeight&&(b.hScrollBar[0].style.visibility="hidden",i=0),null==d&&(d=0);var k=parseInt(d)-h-g;0>k&&(k=0),parseInt(b.hScrollBar[0].style.height)!=g&&(parseInt(g)<0&&(g=0),b.hScrollBar[0].style.height=parseInt(g)+"px"),b.hScrollBar[0].style.top!=k+"px"&&(b.hScrollBar[0].style.top=k+"px",b.hScrollBar[0].style.left="0px");var l=c-g-h;0>l&&(l=0);var m=l+"px";if(b.hScrollBar[0].style.width!=m&&(b.hScrollBar[0].style.width=m),0==j&&c>=2&&(b.hScrollBar[0].style.width=parseInt(c-2)+"px"),g!=parseInt(b.vScrollBar[0].style.width)&&(b.vScrollBar[0].style.width=parseInt(g)+"px"),parseInt(d)-i!=parseInt(b.vScrollBar[0].style.height)){var n=parseInt(d)-i;0>n&&(n=0),b.vScrollBar[0].style.height=n+"px"}null==c&&(c=0);var o=parseInt(c)-parseInt(g)-h+"px";o!=b.vScrollBar[0].style.left&&(parseInt(o)>=0&&(b.vScrollBar[0].style.left=o),b.vScrollBar[0].style.top="0px");var p=b.vScrollInstance;p.disabled=b.disabled,a&&p._arrange();var q=b.hScrollInstance;if(q.disabled=b.disabled,a&&q._arrange(),"hidden"!=b.vScrollBar[0].style.visibility&&"hidden"!=b.hScrollBar[0].style.visibility?(b.bottomRight[0].style.visibility="inherit",b.bottomRight[0].style.left=1+parseInt(b.vScrollBar[0].style.left)+"px",b.bottomRight[0].style.top=1+parseInt(b.hScrollBar[0].style.top)+"px",b.rtl&&b.bottomRight.css({left:0}),b.bottomRight[0].style.width=parseInt(g)+3+"px",b.bottomRight[0].style.height=parseInt(g)+3+"px"):b.bottomRight[0].style.visibility="hidden",parseInt(b.content[0].style.width)!=parseInt(c)-j){var r=parseInt(c)-j;0>r&&(r=0),b.content[0].style.width=r+"px"}if(b.rtl&&(b.vScrollBar.css({left:"0px",top:"0px"}),b.hScrollBar.css({left:b.vScrollBar.width()+2+"px"}),"hidden"!=b.vScrollBar[0].style.visibility?b.content.css("margin-left",4+b.vScrollBar.width()):(b.content.css("margin-left",0),b.hScrollBar.css({left:"0px"}))),parseInt(b.content[0].style.height)!=parseInt(d)-i){var s=parseInt(d)-i;0>s&&(s=0),b.content[0].style.height=s+"px",b.content[0].style.top="0px"}e>0&&(b.content[0].style.top=e+"px",b.content[0].style.height=parseInt(b.content[0].style.height)-e+"px"),b.filterable?(b.filterInput[0].style.height=e-6+"px",b.filterInput[0].style.top="3px",b.filterInput[0].style.left=parseInt(b.content.css("left"))+3+"px",b.filterInput[0].style.width=parseInt(b.content.css("width"))-7+"px",b.filter[0].style.display="block"):b.filter[0].style.display="none",b.overlayContent&&(b.overlayContent.width(parseInt(c)-j),b.overlayContent.height(parseInt(d)-i))}},ensureVisible:function(b){if(isNaN(b)){var c=this.getItemByValue(b);c&&(b=c.index)}var d=this.isIndexInView(b);if(!d){if(0>b)return;if(this.autoHeight){var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance;e.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var c=this.visibleItems[indx];if(c.visibleIndex==b&&!c.isGroup){var e=a.data(this.vScrollBar[0],"jqxScrollBar").instance,f=e.value;this.filterable&&(f-=this.filterHeight+2);var g="hidden"===this.hScrollBar.css("visibility"),h=g?0:this.scrollBarSize+4;c.initialTop<f?e.setPosition(c.initialTop):c.initialTop+c.height>f+this.host.height()&&(this.filterable?e.setPosition(this.filterHeight+2+c.initialTop+c.height+2-this.host.height()+h):e.setPosition(c.initialTop+c.height+2-this.host.height()+h));break}}}this._renderItems()},scrollTo:function(a,b){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(b),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(a)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):(a.setPosition(a.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value!=a.min?(a.setPosition(a.min),!0):!1},databind:function(b,c){this.records=new Array;var d=b._source?!0:!1,e=new a.jqx.dataAdapter(b,{autoBind:!1});d&&(e=b,b=b._source);var f=function(a){void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async)},g=function(b,c){var d=function(c){if("string"==typeof c)var d=c,e=c;else if(void 0!=b.displayMember&&""!=b.displayMember)var e=c[b.valueMember],d=c[b.displayMember];if(b.valueMember||b.displayMember||(d=e=c),c&&void 0!=c.label)var d=c.label,e=c.value;var f=new a.jqx._jqxListBox.item;return f.label=d,f.value=e,f.html="",f.visible=!0,f.originalItem=c,f.group="",f.groupHtml="",f.disabled=!1,f.hasThreeStates=!0,f};if(void 0!=c){var f=e._changedrecords[0];if(f)return void a.each(e._changedrecords,function(){var a=this.index,e=this.record;if("remove"!=c)var f=d(e);switch(c){case"update":b.updateAt(f,a);break;case"add":b.insertAt(f,a);break;case"remove":b.removeAt(a)}})}b.records=e.records;var g=b.records.length;b.items=new Array,b.itemsByValue=new Array;for(var h=0;g>h;h++){var i=b.records[h],j=d(i);j.index=h,b.items[h]=j;var k=j.value;(""==j.value||null==j.value)&&(k=h),b.itemsByValue[a.trim(k).split(" ").join("")]=j}b._render(),b._raiseEvent("6")};f(this);var h=this;switch(b.datatype){case"local":case"array":default:null!=b.localdata&&(e.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!c)&&e.dataBind(),g(this),e.bindBindingUpdate(this.element.id,function(a){g(h,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return e.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!c)&&e.dataBind(),g(this),void e.bindBindingUpdate(this.element.id,function(){g(h)});var i={};e._options.data?a.extend(e._options.data,i):(b.data&&a.extend(i,b.data),e._options.data=i);var j=function(){g(h)};e.unbindDownloadComplete(h.element.id),e.bindDownloadComplete(h.element.id,j),(this.autoBind||!this.autoBind&&!c)&&e.dataBind()}},loadItems:function(b){if(null==b)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var c=this,d=0,e=0,f=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var g=new Array;this.itemsByValue=new Array,a.map(b,function(b){if(void 0==b)return null;var h=new a.jqx._jqxListBox.item,i=b.group,j=b.groupHtml,k=b.title;if((null==k||void 0==k)&&(k=""),(null==i||void 0==i)&&(i=""),(null==j||void 0==j)&&(j=""),!c.groups[i]){c.groups[i]={items:new Array,index:-1,caption:i,captionHtml:j},d++;var l=d+"jqxGroup";c.groups[l]=c.groups[i],e++,c.groups.length=e}var m=c.groups[i];return m.index++,m.items[m.index]=h,"string"==typeof b?(h.label=b,h.value=b):null==b.label&&null==b.value&&null==b.html&&null==b.group&&null==b.groupHtml?(h.label=b.toString(),h.value=b.toString()):(h.label=b.label||b.value,h.value=b.value||b.label),"string"!=typeof b&&(""!=c.displayMember&&(void 0!=b[c.displayMember]?h.label=b[c.displayMember]:h.label=""),""!=c.valueMember&&(h.value=b[c.valueMember])),h.hasThreeStates=void 0!=b.hasThreeStates?b.hasThreeStates:!0,h.originalItem=b,h.title=k,h.html=b.html||"",b.html&&""!=b.html,h.group=i,h.checked=b.checked||!1,h.groupHtml=b.groupHtml||"",h.disabled=b.disabled||!1,h.visible=void 0!=b.visible?b.visible:!0,h.index=f,g[f]=h,f++,h});var h=new Array,i=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var j=0;e>j;j++){var d=j+1,k=d+"jqxGroup",l=this.groups[k];if(void 0==l||null==l)break;if(0==j&&""==l.caption&&""==l.captionHtml&&1>=e){for(var m=0;m<l.items.length;m++){var n=l.items[m].value;(void 0==l.items[m].value||null==l.items[m].value)&&(n=m),this.itemsByValue[a.trim(n).split(" ").join("")]=l.items[m]}return l.items}var o=new a.jqx._jqxListBox.item;o.isGroup=!0,o.label=l.caption,""==l.caption&&""==l.captionHtml&&(l.caption=this.emptyGroupText,o.label=l.caption),o.html=l.captionHtml,h[i]=o,i++;for(var p=0;p<l.items.length;p++){h[i]=l.items[p];var n=l.items[p].value;(""==l.items[p].value||null==l.items[p].value)&&(n=i),c.itemsByValue[a.trim(n).split(" ").join("")]=l.items[p],i++}}else{var i=0,q=new Array;a.each(g,function(){if(!q[this.group]&&""!=this.group){var b=new a.jqx._jqxListBox.item;b.isGroup=!0,b.label=this.group,h[i]=b,i++,q[this.group]=!0}h[i]=this;var d=this.value;(""==this.value||null==this.value)&&(d=i-1),c.itemsByValue[a.trim(d).split(" ").join("")]=this,i++})}return h},_mapItem:function(b){var c=new a.jqx._jqxListBox.item;return this.displayMember&&(void 0==b.label&&(b.label=b[this.displayMember]),void 0==b.value&&(b.value=b[this.valueMember])),"string"==typeof b?(c.label=b,c.value=b):"number"==typeof b?(c.label=b.toString(),c.value=b.toString()):(c.label=b.label||b.value,c.value=b.value||b.label),void 0==c.label&&void 0==c.value&&void 0==c.html&&(c.label=c.value=b),c.html=b.html||"",c.group=b.group||"",c.checked=b.checked||!1,c.title=b.title||"",c.groupHtml=b.groupHtml||"",c.disabled=b.disabled||!1,c.visible=b.visible||!0,c},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(a){if(null!=a&&void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return a},insertItem:function(a,b){var c=this._getItemByParam(a);return this.insertAt(c,b)},updateItem:function(a,b){var c=this._getItemByParam(b);return c&&void 0!=c.index?this.updateAt(a,c.index):!1},updateAt:function(b,c){if(null!=b){var d=this._mapItem(b);this.itemsByValue[a.trim(d.value).split(" ").join("")]=this.items[c],this.items[c].value=d.value,this.items[c].label=d.label,this.items[c].html=d.html,this.items[c].disabled=d.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(b,c){if(null==b)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var d=this._mapItem(b);d.index=0,this.items[this.items.length]=d,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var e=d.value;return(""==d.value||null==d.value)&&(e=c),this.itemsByValue[a.trim(e).split(" ").join("")]=d,!1}var d=this._mapItem(b);if(-1==c||void 0==c||null==c||c>=this.items.length)d.index=this.items.length,this.items[this.items.length]=d;else{for(var f=new Array,g=0,h=!1,i=0,j=0;j<this.items.length;j++)0==this.items[j].isGroup&&i>=c&&!h&&(f[g++]=d,d.index=c,i++,h=!0),f[g]=this.items[j],this.items[j].isGroup||(f[g].index=i,i++),g++;this.items=f}var e=d.value;(""==d.value||null==d.value)&&(e=c),this.itemsByValue[a.trim(e).split(" ").join("")]=d,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var k=a.data(this.vScrollBar[0],"jqxScrollBar").instance,l=k.value;return k.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),k.setPosition(l),this.rendered&&this.rendered(),!0},removeAt:function(b){if(0>b||b>this.items.length-1)return!1;if(void 0==b)return!1;var c=this.items[b].height,d=this.items[b].value;(""==d||null==d)&&(d=b),this.itemsByValue[a.trim(d).split(" ").join("")]=null,this.items.splice(b,1);for(var e=new Array,f=0,g=0,h=0;h<this.items.length;h++)e[f]=this.items[h],this.items[h].isGroup||(e[f].index=g,g++),f++;this.items=e;var i=a.data(this.vScrollBar[0],"jqxScrollBar").instance,i=a.data(this.vScrollBar[0],"jqxScrollBar").instance,j=i.value;if(i.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=c;var k=2*this.virtualSize.itemsPerPage;this.autoHeight&&(k=this.items.length),this.virtualItemsCount=Math.min(k,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?i.setPosition(j):i.setPosition(0),this.itemsByValue=new Array;for(var l=0;l<this.items.length;l++){var d=this.items[l].value;(""==this.items[l].value||null==this.items[l].value)&&(d=l),this.itemsByValue[a.trim(d).split(" ").join("")]=this.items[l]}return this.rendered&&this.rendered(),!0},removeItem:function(a,b){var c=this._getItemByParam(a),d=-1;if(c&&void 0!=c.index&&b!==!0){for(var e=0;e<this.items.length;e++)if(this.items[e].label==c.label&&this.items[e].value==c.value){d=e;break}if(-1!=d)return this.removeAt(d)}return-1==d?this.removeAt(c.index):void 0},getItems:function(){return this.items},disableItem:function(a){var b=this._getItemByParam(a);this.disableAt(b.index)},enableItem:function(a){var b=this._getItemByParam(a);this.enableAt(b.index)},disableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!0,this._renderItems(),!0):!1},enableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),a.jqx.utilities.resize(this.host,null,!0);var b=a.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),b&&delete b.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(b,c){if(1==this._stopEvents)return!0;void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this,this._updateInputSelection();var e=new a.Event(d);if(e.owner=this,e.args=args,null!=this.host)var f=this.host.trigger(e);return f}})}(jqxBaseFramework),function(a){a.jqx.parseSourceTag=function(b){var c=new Array,d=a(b).find("option"),e=a(b).find("optgroup"),f=!1;0===d.length&&(d=a(b).find("li"),d.length>0&&(f=!0));var g=null,g=-1,h=new Array;if(a.each(d,function(b){var d=e.find(this).length>0,i=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),f===!0&&(this.label=a(this).text(),this.selected=a(this).attr("data-selected"),this.checked=this.selected,this.value=a(this).attr("data-value")||b,this.disabled=a(this).attr("disabled"));var j={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},k=a.jqx.browser.msie&&a.jqx.browser.version<8;k&&!f&&""==j.value&&null!=this.text&&this.text.length>0&&(j.value=this.text),d&&(i=e.find(this).parent()[0].label,j.group=i,h[i]||(h[i]=new Array,h.length++),h[i].push(j)),this.selected&&(g=b),j.checked=this.selected,void 0!==j.label&&c.push(j)}),h.length>0){var i=new Array;for(var j in h)if("indexOf"!==j){for(var k=null,l=0;l<e.length;l++)if(j===e[l].label||e[l].text){k=e[l];break}a.each(h[j],function(a,b){void 0!==this.label&&i.push(this)})}}return i&&i.length>0?{items:i,index:g}:{items:c,index:g}},a.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return a}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxTree","",{}),a.extend(a.jqx._jqxTree.prototype,{defineInstance:function(){var b={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart"],
aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},createInstance:function(b){var c=this;if(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.propertyChangeMap.disabled=function(b,d,e,f){c.disabled?c.host.addClass(c.toThemeProperty("jqx-tree-disabled")):c.host.removeClass(c.toThemeProperty("jqx-tree-disabled")),a.jqx.aria(c,"aria-disabled",f)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),a.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")){var d=this.host.find("ul:first");d.length>0&&(this.createTree(d[0]),this.createdTree=!0)}if(null!=this.source){var e=this.loadItems(this.source);this.element.innerHTML=e;var d=this.host.find("ul:first");d.length>0&&(this.createTree(d[0]),this.createdTree=!0)}if(this._itemslength=this.items.length,!this.createdTree&&0==this.host.find("ul").length){this.host.append(a("<ul></ul>"));var d=this.host.find("ul:first");d.length>0&&(this.createTree(d[0]),this.createdTree=!0),this.createdTree=!0}1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(b,c){var d=this;if(null!=b){var e=0,f=!1,g=0,h=a(b.element).find("li");if(g=h.length,a.each(h,function(a){var b=d.itemMapping["id"+this.id].item;0!=b.checked&&(null==b.checked&&(f=!0),e++)}),b!=c)e==g?this.checkItem(b.element,!0,"tree"):e>0?this.checkItem(b.element,null,"tree"):this.checkItem(b.element,!1,"tree");else{var i=c.checked,h=a(c.element).find("li");a.each(h,function(){d.itemMapping["id"+this.id].item;d.checkItem(this,i,"tree")})}this.checkItems(this._parentItem(b),c)}else{var i=c.checked,h=a(c.element).find("li");a.each(h,function(){d.itemMapping["id"+this.id].item;d.checkItem(this,i,"tree")})}},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;for(var d=this.items,e=new Array,f=0;f<d.length;f++)this._isVisible(d[f])&&!d[f].disabled&&e.push(d[f]);d=e,void 0!=c&&(d=d.slice(c));var g=new Array;return a.each(d,function(c){var d=this.label;d||(d="");var e=a.jqx.string.startsWithIgnoreCase(d.toString(),b);e&&g.push({id:this.id,element:this.element})}),g},_handleKeys:function(){var b=this;this.addHandler(this.host,"keydown",function(c){var d=c.keyCode;if((b.keyboardNavigation||b.enableKeyboardNavigation)&&null!=b.selectedItem){var e=b.selectedItem.element;if(b.incrementalSearch&&!(d>=33&&40>=d)){var f=-1;b._searchString||(b._searchString=""),(8==d||46==d)&&b._searchString.length>=1&&(b._searchString=b._searchString.substr(0,b._searchString.length-1));var g=String.fromCharCode(d),h=!isNaN(parseInt(g)),i=!1;if(d>=65&&97>=d||h||8==d||32==d||46==d){c.shiftKey||(g=g.toLocaleLowerCase()),8!=d&&32!=d&&46!=d&&(b._searchString.length>0&&b._searchString.substr(0,1)==g||(b._searchString+=g)),32==d&&(b._searchString+=" "),b._searchTime=new Date;var j=b.selectedItem;if(j){for(var k=j.id,l=-1,m=0;m<b.items.length;m++)if(b.items[m].id==k){l=m+1;break}var n=b._getMatches(b._searchString,l);if(0==n.length||n.length>0&&n[0].id==k)var n=b._getMatches(b._searchString)}else var n=b._getMatches(b._searchString);if(n.length>0){var j=b.selectedItem;b.selectedItem&&b.selectedItem.id!=n[0].id&&(b.clearSelection(),b.selectItem(n[0].element)),b._lastSearchString=b._searchString}}if(void 0!=b._searchTimer&&clearTimeout(b._searchTimer),(27==d||13==d)&&(b._searchString="",b._lastSearchString=""),b._searchTimer=setTimeout(function(){b._searchString="",b._lastSearchString=""},500),f>=0)return;if(i)return!1}switch(d){case 32:if(b.checkboxes){b.fromKey=!0;var o=a(b.selectedItem.checkBoxElement).jqxCheckBox("checked");return b.checkItem(b.selectedItem.element,!o,"tree"),b.hasThreeStates&&b.checkItems(b.selectedItem,b.selectedItem),!1}return!0;case 33:for(var p=b._getItemsOnPage(),q=b.selectedItem,m=0;p>m;m++)q=b._prevVisibleItem(q);return null!=q?(b.selectItem(q.element),b.ensureVisible(q.element)):(b.selectItem(b._firstItem().element),b.ensureVisible(b._firstItem().element)),!1;case 34:for(var p=b._getItemsOnPage(),r=b.selectedItem,m=0;p>m;m++)r=b._nextVisibleItem(r);return null!=r?(b.selectItem(r.element),b.ensureVisible(r.element)):(b.selectItem(b._lastItem().element),b.ensureVisible(b._lastItem().element)),!1;case 37:case 39:if(37==d&&!b.rtl||39==d&&b.rtl)if(b.selectedItem.hasItems&&b.selectedItem.isExpanded)b.collapseItem(e);else{var s=b._parentItem(b.selectedItem);null!=s&&(b.selectItem(s.element),b.ensureVisible(s.element))}if((39==d&&!b.rtl||37==d&&b.rtl)&&b.selectedItem.hasItems)if(b.selectedItem.isExpanded){var r=b._nextVisibleItem(b.selectedItem);null!=r&&(b.selectItem(r.element),b.ensureVisible(r.element))}else b.expandItem(e);return!1;case 13:return b.selectedItem.hasItems&&(b.selectedItem.isExpanded?b.collapseItem(e):b.expandItem(e)),!1;case 36:return b.selectItem(b._firstItem().element),b.ensureVisible(b._firstItem().element),!1;case 35:return b.selectItem(b._lastItem().element),b.ensureVisible(b._lastItem().element),!1;case 38:var q=b._prevVisibleItem(b.selectedItem);return null!=q&&(b.selectItem(q.element),b.ensureVisible(q.element)),!1;case 40:var r=b._nextVisibleItem(b.selectedItem);return null!=r&&(b.selectItem(r.element),b.ensureVisible(r.element)),!1}}})},_firstItem:function(){var b=null,c=this,d=this.host.find("ul:first"),e=a(d).find("li");for(i=0;i<=e.length-1;i++){var f=e[i];if(b=this.itemMapping["id"+f.id].item,c._isVisible(b))return b}return null},_lastItem:function(){var b=null,c=this,d=this.host.find("ul:first"),e=a(d).find("li");for(i=e.length-1;i>=0;i--){var f=e[i];if(b=this.itemMapping["id"+f.id].item,c._isVisible(b))return b}return null},_parentItem:function(b){if(null==b||void 0==b)return null;var c=b.parentElement;if(!c)return null;var d=null;return a.each(this.items,function(){return this.element==c?(d=this,!1):void 0}),d},_nextVisibleItem:function(a){if(null==a||void 0==a)return null;for(var b=a;null!=b;)if(b=b.nextItem,this._isVisible(b)&&!b.disabled)return b;return null},_prevVisibleItem:function(a){if(null==a||void 0==a)return null;for(var b=a;null!=b;)if(b=b.prevItem,this._isVisible(b)&&!b.disabled)return b;return null},_isVisible:function(a){if(null==a||void 0==a)return!1;if(!this._isElementVisible(a.element))return!1;var b=this._parentItem(a);if(null==b)return!0;if(null!=b){if(!this._isElementVisible(b.element))return!1;if(!b.isExpanded)return!1;for(;null!=b;){if(b=this._parentItem(b),null!=b&&!this._isElementVisible(b.element))return!1;if(null!=b&&!b.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var b=0,c=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),d=0,e=this._firstItem();if(parseInt(a(e.element).height())>0)for(;c>=d;)d+=parseInt(a(e.element).outerHeight()),b++;return b},_isElementVisible:function(b){return null==b?!1:"none"!=a(b).css("display")&&"hidden"!=a(b).css("visibility")?!0:!1},refresh:function(b){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var c=this;this.panel.jqxPanel("width","100%"),c.removeHandler(a(window),"resize.jqxtree"+c.element.id),c.addHandler(a(window),"resize.jqxtree"+c.element.id,function(){c._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),a.jqx.isHidden(this.host)){var c=this;this._hiddenTimer=setInterval(function(){a.jqx.isHidden(c.host)||(clearInterval(c._hiddenTimer),c._calculateWidth())},100)}1!=b&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(a,b){this.width=a,this.height=b,this.refresh()},loadItems:function(b){if(null!=b){var c=this;this.items=new Array;var d="<ul>";return a.map(b,function(a){return void 0==a?null:void(d+=c._parseItem(a))}),d+="</ul>"}},_parseItem:function(a){var b="";if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html),c||(c="Item"),"string"==typeof a&&(c=a);var d=!1;void 0!=a.expanded&&a.expanded&&(d=!0);var e=!1;void 0!=a.locked&&a.locked&&(e=!0);var f=!1;void 0!=a.selected&&a.selected&&(f=!0);var g=!1;void 0!=a.disabled&&a.disabled&&(g=!0);var h=!1;void 0!=a.checked&&a.checked&&(h=!0);var i=a.icon,j=a.iconsize;b+="<li",d&&(b+=' item-expanded="true" '),e&&(b+=' item-locked="true" '),g&&(b+=' item-disabled="true" '),f&&(b+=' item-selected="true" '),j&&(b+=' item-iconsize="'+a.iconsize+'" '),null!=i&&void 0!=i&&(b+=' item-icon="'+i+'" '),a.label&&!a.html&&(b+=' item-label="'+c+'" '),null!=a.value&&(b+=' item-value="'+a.value+'" '),void 0!=a.checked&&(b+=' item-checked="'+h+'" ');var k="";return void 0!=a.id?(k=a.id,b+=' id="'+k+'" '):(k=this.createID(),b+=' id="'+k+'" '),b+=">"+c,a.items&&(b+=this.loadItems(a.items)),this._valueList||(this._valueList=new Array),this._valueList[k]=a.value,b+="</li>"},ensureVisible:function(b){if(null!=b&&void 0!=b){var c=this.panel.jqxPanel("getVScrollPosition"),d=this.panel.jqxPanel("getHScrollPosition"),e=parseInt(this.host.height()),f=a(b).position().top;(c>=f||f>=e+c)&&this.panel.jqxPanel("scrollTo",d,f-e+a(b).outerHeight())}},_syncItems:function(b){this._visibleItems=new Array;var c=this;a.each(b,function(){var b=a(this);if("none"!=b.css("display")){var d=b.outerHeight();if(b.height()>0){var e=parseInt(b.offset().top);c._visibleItems[c._visibleItems.length]={element:this,top:e,height:d,bottom:e+d}}}})},hitTest:function(b,c){var d=this,e=null,f=this.host.find(".jqx-item");if(this._syncItems(f),d._visibleItems){var g=parseInt(d.host.offset().left),h=d.host.outerWidth();a.each(d._visibleItems,function(f){if(b>=g&&g+h>b&&this.top+5<c&&c<this.top+this.height){var i=a(this.element).parents("li:first");if(i.length>0&&(e=d.getItem(i[0]),null!=e))return e.height=this.height,e.top=this.top,!1}})}return e},addBefore:function(a,b,c){return this.addBeforeAfter(a,b,!0,c)},addAfter:function(a,b,c){return this.addBeforeAfter(a,b,!1,c)},addBeforeAfter:function(b,c,d,e){var f=this,g=new Array;c&&void 0!=c.treeInstance&&(c=c.element),a.isArray(b)?g=b:g[0]=b;var h="",i=this;a.each(g,function(){h+=i._parseItem(this)});var j=a(h);if(f.element.innerHTML.indexOf("UL"))var k=f.host.find("ul:first");void 0==c&&null==c?k.append(j):d?a(c).before(j):a(c).after(j);for(var l=j,m=0;m<l.length;m++){this._createItem(l[m]);var n=a(l[m]).find("li");if(n.length>0)for(var o=0;o<n.length;o++)this._createItem(n[o])}var p=function(b){i._refreshMapping(!1),i._updateItemsNavigation(),b&&i.allowDrag&&i._enableDragDrop&&i._enableDragDrop(),null!=i.selectedItem&&(a(i.selectedItem.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),a(i.selectedItem.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")))};return 0==e?(p(!0),void this._raiseEvent("4",{items:this.getItems()})):(p(!1),i._render(),this._raiseEvent("4",{items:this.getItems()}),void(i.checkboxes&&i._updateCheckLayout(null)))},addTo:function(b,c,d){var e=this,f=new Array;c&&void 0!=c.treeInstance&&(c=c.element),a.isArray(b)?f=b:f[0]=b;var g="",h=this;a.each(f,function(){g+=h._parseItem(this)});var i=a(g);if(e.element.innerHTML.indexOf("UL"))var j=e.host.find("ul:first");if(void 0==c&&null==c)j.append(i);else{c=a(c);var k=c.find("ul:first");if(0==k.length){ulElement=a("<ul></ul>"),a(c).append(ulElement),k=c.find("ul:first");var l=e.itemMapping["id"+c[0].id].item;l.subtreeElement=k[0],l.hasItems=!0,k.addClass(e.toThemeProperty("jqx-tree-dropdown")),h.rtl&&k.addClass(e.toThemeProperty("jqx-tree-dropdown-rtl")),k.append(i);var m=k.find("li:first");l.parentElement=m}else k.append(i)}for(var n=i,o=0;o<n.length;o++){this._createItem(n[o]);var p=a(n[o]).find("li");if(p.length>0)for(var q=0;q<p.length;q++)this._createItem(p[q])}var r=function(b){h._refreshMapping(!1),h._updateItemsNavigation(),b&&h.allowDrag&&h._enableDragDrop&&h._enableDragDrop(),null!=h.selectedItem&&(a(h.selectedItem.titleElement).addClass(h.toThemeProperty("jqx-fill-state-pressed")),a(h.selectedItem.titleElement).addClass(h.toThemeProperty("jqx-tree-item-selected")))};return 0==d?(r(!0),void this._raiseEvent("4",{items:this.getItems()})):(r(!1),h._render(),h.checkboxes&&h._updateCheckLayout(null),void this._raiseEvent("4",{items:this.getItems()}))},updateItem:function(b,c){var d=void 0!=b.treeInstance?b:this.getItem(b);if(!d){var e=b;b=c,c=e;var d=void 0!=b.treeInstance?b:this.getItem(b)}if(d){if("string"==typeof c&&(c={label:c}),c.value&&(d.value=c.value),c.label){d.label=c.label,a.jqx.utilities.html(a(d.titleElement),c.label);var f=a.jqx.browser.msie&&a.jqx.browser.version<8;if(f){a(document.body).append(this._measureItem),this._measureItem.html(a(d.titleElement).text());var g=this._measureItem.width();d.icon&&(g+=20),a(a(d.titleElement).find("img")).length>0&&(g+=20),a(d.titleElement).css("max-width",g+"px"),this._measureItem.remove()}}if(c.icon)if(a(d.element).children(".itemicon").length>0)a(d.element).find(".itemicon")[0].src=c.icon;else{var h=c.iconsize;h||(h=16);var i=a('<img width="'+h+'" height="'+h+'" style="float: left;" class="itemicon" src="'+c.icon+'"/>');a(d.titleElement).prepend(i),i.css("margin-right","4px"),this.rtl&&(i.css("margin-right","0px"),i.css("margin-left","4px"),i.css("float","right"))}return c.expanded&&this.expandItem(d),c.disabled&&this.disableItem(d),c.selected&&this.selectItem(d),!0}return!1},removeItem:function(b,c){if(void 0!=b&&null!=b){void 0!=b.treeInstance&&(b=b.element);var d=this,e=(b.id,-1),f=this.getItem(b);if(f&&(e=this.items.indexOf(f),-1!=e&&function g(b){var c=-1;c=this.items.indexOf(b),-1!=c&&this.items.splice(c,1);var d=a(b.element).find("li"),e=d.length,f=this,h=new Array;if(e>0){a.each(d,function(a){var b=f.itemMapping["id"+this.id].item;h.push(b)});for(var i=0;i<h.length;i++)g.apply(this,[h[i]])}}.apply(this,[f])),this.host.find("#"+b.id).length>0&&a(b).remove(),0==c)return void this._raiseEvent("5");d._updateItemsNavigation(),d.allowDrag&&d._enableDragDrop?d._render(!0,!1):d._render(),null!=d.selectedItem&&d.selectedItem.element==b&&(a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-fill-state-pressed")),a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-selected")),d.selectedItem=null),this._raiseEvent("5"),d.checkboxes&&d._updateCheckLayout(null)}},clear:function(){this.items=new Array,this.itemMapping=new Array;var a=this.host.find("ul:first");a.length>0&&(a[0].innerHTML=""),this.selectedItem=null},disableItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;a.each(c.items,function(){var d=this;return d.element==b?(d.disabled=!0,a(d.titleElement).addClass(c.toThemeProperty("jqx-fill-state-disabled")),a(d.titleElement).addClass(c.toThemeProperty("jqx-tree-item-disabled")),c.checkboxes&&d.checkBoxElement&&a(d.checkBoxElement).jqxCheckBox({disabled:!0}),!1):void 0})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var a=this.selectItem.value;null==a&&(a=this.selectedItem.label),this.input.val(a)}if(this.checkboxes){var b=this.getCheckedItems();if(this.submitCheckedItems){for(var c="",d=0;d<b.length;d++){var e=b[d].value;null==e&&(e=b[d].label),c+=d==b.length-1?e:e+","}this.input.val(c)}}}},getCheckedItems:function(){var b=new Array,c=this;return a.each(c.items,function(){var a=this;a.checked&&b.push(a)}),b},getUncheckedItems:function(){var b=new Array,c=this;return a.each(c.items,function(){var a=this;a.checked||b.push(a)}),b},checkAll:function(){var b=this;a.each(b.items,function(){var b=this;b.disabled||(b.checked=!0,a(b.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var b=this;a.each(b.items,function(){var b=this;b.disabled||(b.checked=!1,a(b.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(b,c,d){if(null==b)return!1;void 0===c&&(c=!0),void 0!=b.treeInstance&&(b=b.element);var e=this,f=!1,g=null;a.each(e.items,function(){var d=this;return d.element!=b||d.disabled?void 0:(f=!0,d.checked=c,g=d,a(d.checkBoxElement).jqxCheckBox({checked:c}),!1)}),f&&(this._raiseEvent("6",{element:b,checked:c}),this._updateInputSelection()),void 0==d&&g&&this.hasThreeStates&&this.checkItems(g,g)},uncheckItem:function(a){this.checkItem(a,!1)},enableItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;a.each(c.items,function(){var d=this;return d.element==b?(d.disabled=!1,a(d.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-disabled")),a(d.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-disabled")),c.checkboxes&&d.checkBoxElement&&a(d.checkBoxElement).jqxCheckBox({disabled:!1}),!1):void 0})},enableAll:function(){var b=this;a.each(b.items,function(){var c=this;c.disabled=!1,a(c.titleElement).removeClass(b.toThemeProperty("jqx-tree-item-disabled")),a(c.titleElement).removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.checkboxes&&c.checkBoxElement&&a(c.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(b){if(null==b)return!1;var c=this;a.each(c.items,function(){var a=this;return a.element==b?(a.locked=!0,!1):void 0})},unlockItem:function(b){if(null==b)return!1;var c=this;a.each(c.items,function(){var a=this;return a.element==b?(a.locked=!1,!1):void 0})},getItems:function(){return this.items},getItem:function(a){if(null==a||void 0==a)return null;if(this.itemMapping["id"+a.id]){var b=this.itemMapping["id"+a.id].item;return b}return null},isExpanded:function(a){if(null==a||void 0==a)return!1;var b=this.itemMapping["id"+a.id].item;return null!=b?b.isExpanded:!1},isSelected:function(a){if(null==a||void 0==a)return!1;var b=this.itemMapping["id"+a.id].item;return null!=b?b==this.selectedItem:!1},getPrevItem:function(a){var b=this.getItem(a);void 0!=a.treeInstance&&(b=a);var c=this._prevVisibleItem(b);return c},getNextItem:function(a){var b=this.getItem(a);void 0!=a.treeInstance&&(b=a);var c=this._nextVisibleItem(b);return c},getSelectedItem:function(a){return this.selectedItem},val:function(a){if(0==arguments.length||"object"==typeof a)return this.selectedItem;if("string"==typeof a){var b=this.host.find("#"+a);if(b.length>0){var c=this.getItem(b[0]);this.selectItem(c)}}else{var c=this.getItem(a);this.selectItem(c)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(b){if(!this.disabled){var c=this;if(b&&void 0!=b.treeInstance&&(b=b.element),null==b||void 0==b)return void(null!=c.selectedItem&&(a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed")),a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected")),c.selectedItem=null));if(null==this.selectedItem||this.selectedItem.element!=b){var d=null!=this.selectedItem?this.selectedItem.element:null;d&&a(d).removeAttr("aria-selected"),a.each(c.items,function(){var d=this;this.selected=!1,d.disabled||d.element==b&&(null==c.selectedItem||null!=c.selectedItem&&c.selectedItem.titleElement!=d.titleElement)&&(null!=c.selectedItem&&(a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed")),a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected"))),a(d.titleElement).addClass(c.toThemeProperty("jqx-fill-state-pressed")),a(d.titleElement).addClass(c.toThemeProperty("jqx-tree-item-selected")),c.selectedItem=d,this.selected=!0,a(d.element).attr("aria-selected","true"),a.jqx.aria(c,"aria-activedescendant",d.element.id))}),this._updateInputSelection(),this._raiseEvent("2",{element:b,prevElement:d})}}},collapseAll:function(){this.isUpdating=!0;var b=this,c=b.items,d=this.animationHideDuration;this.animationHideDuration=0,a.each(c,function(){var a=this;1==a.isExpanded&&b._collapseItem(b,a)}),setTimeout(function(){b.isUpdating=!1,b._calculateWidth()},this.animationHideDuration),this.animationHideDuration=d},expandAll:function(){var b=this;this.isUpdating=!0;var c=this.animationShowDuration;this.animationShowDuration=0,a.each(this.items,function(){var a=this;a.hasItems&&b._expandItem(b,a)}),setTimeout(function(){b.isUpdating=!1,b._calculateWidth()},this.animationShowDuration),this.animationShowDuration=c},collapseItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;return a.each(this.items,function(){var a=this;return 1==a.isExpanded&&a.element==b?(c._collapseItem(c,a),!1):void 0}),!0},expandItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;return a.each(c.items,function(){var a=this;0!=a.isExpanded||a.element!=b||a.disabled||a.locked||(c._expandItem(c,a),a.parentElement&&c.expandItem(a.parentElement))}),!0},_getClosedSubtreeOffset:function(b){var c=a(b.subtreeElement),d=-c.outerHeight(),e=-c.outerWidth();return e=0,{left:e,top:d}},_collapseItem:function(b,c,d,e){if(null==b||null==c)return!1;if(c.disabled)return!1;if(b.disabled)return!1;if(b.locked)return!1;var f=a(c.subtreeElement),g=this._getClosedSubtreeOffset(c);g.top,g.left;$treeElement=a(c.element);var h=b.animationHideDelay;h=0,null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var i=function(){if(c.isExpanded=!1,b.checkboxes){var d=f.find(".chkbox");d.stop(),d.css("opacity",1),f.find(".chkbox").animate({opacity:0},50)}var e=a(c.arrow);b._arrowStyle(e,"",c.isExpanded),f.slideUp(b.animationHideDuration,function(){c.isCollapsing=!1,b._calculateWidth();var d=a(c.arrow);b._arrowStyle(d,"",c.isExpanded),f.hide(),b._raiseEvent("1",{element:c.element})})};h>0?f.data("timer").hide=setTimeout(function(){i()},h):i()},_expandItem:function(b,c){if(null==b||null==c)return!1;if(c.isExpanded)return!1;if(c.locked)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var d=a(c.subtreeElement);null!=d.data("timer")&&null!=d.data("timer").hide&&clearTimeout(d.data("timer").hide);var e=(a(c.element),0);if(parseInt(d.css("top"))==e)return void(c.isExpanded=!0);var f=a(c.arrow);if(b._arrowStyle(f,"",c.isExpanded),b.checkboxes){var g=d.find(".chkbox");g.stop(),g.css("opacity",0),g.animate({opacity:1},b.animationShowDuration)}if(d.slideDown(b.animationShowDuration,b.easing,function(){var d=a(c.arrow);c.isExpanded=!0,b._arrowStyle(d,"",c.isExpanded),c.isExpanding=!1,b._raiseEvent("0",{element:c.element}),b._calculateWidth()}),b.checkboxes&&(b._updateCheckItemLayout(c),c.subtreeElement)){var h=a(c.subtreeElement).find("li");a.each(h,function(){var a=b.getItem(this);null!=a&&b._updateCheckItemLayout(a)})}},_calculateWidth:function(){var b=this,c=this.checkboxes?20:0,d=0;if(!this.isUpdating){if(a.each(this.items,function(){var b=a(this.element).height();if(0!=b){var e=a(this.titleElement).outerWidth()+10+c+20*(1+this.level);if(d=Math.max(d,e),this.hasItems){var f=parseInt(a(this.titleElement).css("padding-top"));isNaN(f)&&(f=0),f=2*f,f+=2;var g=(f+a(this.titleElement).height())/2-8.5;a.jqx.browser.msie&&a.jqx.browser.version<9?a(this.arrow).css("margin-top","3px"):parseInt(g)>=0&&a(this.arrow).css("margin-top",parseInt(g)+"px")}}}),this.toggleIndicatorSize>16&&(d=d+this.toggleIndicatorSize-16),b.panel)if(d>this.host.width()){var e=d-this.host.width(),f="hidden"!==b.panel.jqxPanel("vScrollBar").css("visibility")?10:0;e+=f,b.panel.jqxPanel({horizontalScrollBarMax:e})}else b.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(d);var g=this.host.width()-30;g>0&&this.host.find("ul:first").css("min-width",g),b.panel&&b.panel.jqxPanel("_arrange")}},_arrowStyle:function(a,b,c){var d=this;if(a.length>0){a.removeClass();var e="";"hover"==b&&(e="-"+b);var f=c?"-expand":"-collapse",g="jqx-tree-item-arrow"+f+e;if(a.addClass(d.toThemeProperty(g)),!this.rtl){var f=c?"-down":"-right";a.addClass(d.toThemeProperty("jqx-icon-arrow"+f))}if(this.rtl){a.addClass(d.toThemeProperty(g+"-rtl"));var f=c?"-down":"-left";a.addClass(d.toThemeProperty("jqx-icon-arrow"+f))}}},_initialize:function(b,c){var d=this;this.host.addClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-widget-content")),this.host.addClass(d.toThemeProperty("jqx-tree")),this._updateDisabledState();var e=a.jqx.browser.msie&&a.jqx.browser.version<8;a.each(this.items,function(){var b=this;$element=a(b.element);var c=null;if(d.checkboxes&&!b.hasItems&&b.checkBoxElement&&a(b.checkBoxElement).css("margin-left","0px"),e)!b.hasItems&&a(b.element).find("ul").length>0&&a(b.element).find("ul").remove();else{if(!b.hasItems){d.rtl?b.element.style.marginRight=parseInt(d.toggleIndicatorSize)+"px":b.element.style.marginLeft=parseInt(d.toggleIndicatorSize)+"px";var f=a(b.arrow);return f.length>0&&(f.remove(),b.arrow=null),!0}b.element.style.marginLeft="0px"}var f=a(b.arrow);f.length>0&&f.remove(),c=a('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),c.prependTo($element),d.rtl?c.css("float","right"):c.css("float","left"),c.css("clear","both"),c.width(d.toggleIndicatorSize),d._arrowStyle(c,"",b.isExpanded);var g=parseInt(a(this.titleElement).css("padding-top"));isNaN(g)&&(g=0),g=2*g,g+=2;var h=(g+a(this.titleElement).height())/2-8.5;a.jqx.browser.msie&&a.jqx.browser.version<9?c.css("margin-top","3px"):parseInt(h)>=0&&c.css("margin-top",parseInt(h)+"px"),$element.addClass(d.toThemeProperty("jqx-disableselect")),c.addClass(d.toThemeProperty("jqx-disableselect"));var i="click",j=d.isTouchDevice();j&&(i=a.jqx.mobile.getTouchEventName("touchend")),d.addHandler(c,i,function(){return b.isExpanded?d._collapseItem(d,b):d._expandItem(d,b),!1}),d.addHandler(c,"selectstart",function(){return!1}),d.addHandler(c,"mouseup",function(){return j?void 0:!1}),b.hasItems=a(b.element).find("li").length>0,b.arrow=c[0],b.hasItems||c.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(b){var c=a(window).scrollTop(),d=a(window).scrollLeft(),e=a.jqx.mobile.isSafariMobileBrowser(),f=a(b).offset(),g=f.top,h=f.left;return null!=e&&e?{left:h-d,top:g-c}:a(b).offset()},_renderHover:function(b,c,d){var e=this;if(!d){var f=a(c.titleElement);e.addHandler(f,"mouseenter",function(){c.disabled||!e.enableHover||e.disabled||(f.addClass(e.toThemeProperty("jqx-fill-state-hover")),f.addClass(e.toThemeProperty("jqx-tree-item-hover")))}),e.addHandler(f,"mouseleave",function(){c.disabled||!e.enableHover||e.disabled||(f.removeClass(e.toThemeProperty("jqx-fill-state-hover")),f.removeClass(e.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var b=this.host.attr("name");b&&this.host.attr("name",""),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(b,c){if(a.jqx.browser.msie&&a.jqx.browser.version<8){var d=this;a.each(this.items,function(){var b=a(this.element),c=b.parent(),d=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;b.css("min-width",d);var e=parseInt(c.css("min-width"));isNaN(e)&&(e=0);var f=b.css("min-width");e<parseInt(b.css("min-width"))&&c.css("min-width",f),this.titleElement[0].style.width=null})}var d=this;a.data(d.element,"animationHideDelay",d.animationHideDelay),a.data(document.body,"treeel",this),this._initialize();var e=this.isTouchDevice();if(e&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),(void 0==b||1==b)&&a.each(this.items,function(){d._updateItemEvents(d,this)}),this.allowDrag&&this._enableDragDrop&&(void 0==c||1==c)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var f=this.host.find("div:first"),g="fixed";(null==this.height||"auto"==this.height)&&(g="verticalwrap"),(null==this.width||"auto"==this.width)&&(g="fixed"==g?"horizontalwrap":"wrap"),f.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:g}),a.jqx.browser.msie&&a.jqx.browser.version<8&&f.jqxPanel("content").css("left","0px"),f.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(f,a.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(f,a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(f,a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var h=a.data(f[0],"jqxPanel").instance;null!=h&&(this.vScrollInstance=h.vScrollInstance,this.hScrollInstance=h.hScrollInstance),this.panelInstance=h,a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),f[0].className="",this.panel=f}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(a){}},_updateItemEvents:function(b,c){var d=this.isTouchDevice();d&&(this.toggleMode=a.jqx.mobile.getTouchEventName("touchend"));var e=a(c.element);b.enableRoundedCorners&&e.addClass(b.toThemeProperty("jqx-rc-all"));var f=d?a.jqx.mobile.getTouchEventName("touchend"):"mousedown";b.touchMode===!0&&b.removeHandler(a(c.checkBoxElement),"mousedown"),b.removeHandler(a(c.checkBoxElement),f),b.addHandler(a(c.checkBoxElement),f,function(a){return b.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,b.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),b.hasThreeStates&&b.checkItems(this.treeItem,this.treeItem)),!1});var g=a(c.titleElement);b.removeHandler(e);var h=this.allowDrag&&this._enableDragDrop;h?(b.removeHandler(g,"mousedown.item"),b.removeHandler(g,"click"),b.removeHandler(g,"dblclick"),b.removeHandler(g,"mouseenter"),b.removeHandler(g,"mouseleave")):b.removeHandler(g),b._renderHover(e,c,d);var i=a(c.subtreeElement);if(i.length>0){var j=c.isExpanded?"block":"none";i.css({overflow:"hidden",display:j}),i.data("timer",{})}b.addHandler(g,"selectstart",function(a){return!1}),a.jqx.browser.opera&&b.addHandler(g,"mousedown.item",function(a){return!1}),"click"!=b.toggleMode&&b.addHandler(g,"click",function(a){b.selectItem(c.element),null!=b.panel&&b.panel.jqxPanel({focused:!0}),g.focus()}),b.addHandler(g,b.toggleMode,function(a){return i.length>0&&clearTimeout(i.data("timer").hide),null!=b.panel&&b.panel.jqxPanel({focused:!0}),b.selectItem(c.element),void 0==c.isExpanding&&(c.isExpanding=!1),void 0==c.isCollapsing&&(c.isCollapsing=!1),i.length>0?(c.isExpanded?0==c.isCollapsing&&(c.isCollapsing=!0,b._collapseItem(b,c,!0)):0==c.isExpanding&&(c.isExpanding=!0,b._expandItem(b,c)),!1):void 0})},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),this._isTouchDevice=b,
b},createID:function(){return a.jqx.utilities.createId()},createTree:function(b){if(null!=b){var c=this,d=a(b).find("li");this.items=new Array,this.itemMapping=new Array,a(b).addClass(c.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&a(b).addClass(c.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||a.jqx.browser.msie&&a.jqx.browser.version<8)&&(this._measureItem=a("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),a(document.body).append(this._measureItem)),a.jqx.browser.msie&&a.jqx.browser.version<8;for(var e=0;e<d.length;e++)this._createItem(d[e]);(this.rtl||a.jqx.browser.msie&&a.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(b){var c=this;this.checkboxes&&a.each(this.items,function(){(this.level==b||void 0==b)&&c._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(b){if(this.checkboxes&&"none"!=a(b.titleElement).css("display")){var c=a(b.checkBoxElement),d=a(b.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;c.css("margin-top",d),this.rtl||(a.jqx.browser.msie&&a.jqx.browser.version<8?b.titleElement.css("margin-left",parseInt(this.checkSize)+25):b.hasItems&&c.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var b=this;b.hasThreeStates?a.each(this.items,function(){b._updateCheckState(this)}):a.each(this.items,function(){null==this.checked&&b.checkItem(this.element,!1,"tree")})},_updateCheckState:function(b){if(null!=b&&void 0!=b){var c=this,d=0,e=!1,f=0,g=a(b.element).find("li");f=g.length,b.checked&&f>0&&a.each(g,function(a){var b=c.itemMapping["id"+this.id].item,d=b.element.getAttribute("item-checked");(void 0==d||null==d||"true"==d||1==d)&&c.checkItem(b.element,!0,"tree")}),a.each(g,function(a){var b=c.itemMapping["id"+this.id].item;0!=b.checked&&(null==b.checked&&(e=!0),d++)}),f>0&&(d==f?this.checkItem(b.element,!0,"tree"):d>0?this.checkItem(b.element,null,"tree"):this.checkItem(b.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var b=this.host.find("ul:first"),c=a(b).find("li"),d=0;d<c.length;d++){var e=c[d];if(this.itemMapping["id"+e.id]){var f=this.itemMapping["id"+e.id].item;if(!f)continue;f.prevItem=null,f.nextItem=null,d>0&&this.itemMapping["id"+c[d-1].id]&&(f.prevItem=this.itemMapping["id"+c[d-1].id].item),d<c.length-1&&this.itemMapping["id"+c[d+1].id]&&(f.nextItem=this.itemMapping["id"+c[d+1].id].item)}}},_applyTheme:function(b,c){var d=this;this.host.removeClass("jqx-tree-"+b),this.host.removeClass("jqx-widget-"+b),this.host.removeClass("jqx-widget-content-"+b),this.host.addClass(d.toThemeProperty("jqx-tree")),this.host.addClass(d.toThemeProperty("jqx-widget"));var e=this.host.find("ul:first");a(e).removeClass(d.toThemeProperty("jqx-tree-dropdown-root-"+b)),a(e).addClass(d.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(a(e).removeClass(d.toThemeProperty("jqx-tree-dropdown-root-rtl-"+b)),a(e).addClass(d.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var f=a(e).find("li"),g=0;g<f.length;g++){var h=f[g];a(h).children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(a(this).removeClass(d.toThemeProperty("jqx-tree-dropdown-"+b)),a(this).addClass(d.toThemeProperty("jqx-tree-dropdown")),d.rtl&&(a(this).removeClass(d.toThemeProperty("jqx-tree-dropdown-rtl-"+b)),a(this).addClass(d.toThemeProperty("jqx-tree-dropdown-rtl"))),!1):void 0})}a.each(this.items,function(){var e=this,f=a(e.element);f.removeClass(d.toThemeProperty("jqx-tree-item-li-"+b)),f.addClass(d.toThemeProperty("jqx-tree-item-li")),this.rtl&&(f.removeClass(d.toThemeProperty("jqx-tree-item-li-"+b)),f.addClass(d.toThemeProperty("jqx-tree-item-li"))),a(e.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-"+b)),a(e.titleElement).addClass(d.toThemeProperty("jqx-tree-item")),a(e.titleElement).removeClass("jqx-item-"+b),a(e.titleElement).addClass(d.toThemeProperty("jqx-item"));var g=a(e.arrow);g.length>0&&d._arrowStyle(g,"",e.isExpanded),e.checkBoxElement&&a(e.checkBoxElement).jqxCheckBox({theme:c}),d.enableRoundedCorners&&(f.removeClass("jqx-rc-all-"+b),f.addClass(d.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:c})},_refreshMapping:function(b,c){for(var d=this.host.find("li"),e=new Array,f=new Array,g=a.data(document.body,"treeItemsStorage"),h=this,i=0;i<d.length;i++){var j=d[i],k=a(j),l=g[j.id];if(null!=l){f[f.length]=l,(void 0==b||1==b)&&this._updateItemEvents(this,l),l.level=k.parents("li").length,l.treeInstance=this;var m=null,n=null;-1!=l.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(a(l.titleElement).removeClass(h.toThemeProperty("jqx-fill-state-pressed")),a(l.titleElement).removeClass(h.toThemeProperty("jqx-tree-item-selected")));var o=k.children();o.each(function(){return"ul"==this.tagName||"UL"==this.tagName?(l.subtreeElement=this,a(this).addClass(h.toThemeProperty("jqx-tree-dropdown")),h.rtl&&a(this).addClass(h.toThemeProperty("jqx-tree-dropdown-rtl")),!1):void 0});var p=k.parents();p.each(function(){return"li"==this.tagName||"LI"==this.tagName?(n=this.id,m=this,!1):void 0}),l.parentElement=m,l.parentId=n,l.hasItems=a(l.element).find("li").length>0,null!=l&&(e[i]={element:j,item:l},e["id"+j.id]=e[i])}}this.itemMapping=e,this.items=f},_createItem:function(b){if(null!=b&&void 0!=b){var c=b.id;c||(c=this.createID());var d=b,e=a(b);d.id=c;var f=a.data(document.body,"treeItemsStorage");void 0==f&&(f=new Array);var g=this.items.length;this.items[g]=new a.jqx._jqxTree.jqxTreeItem,this.treeElements[c]=this.items[g],f[d.id]=this.items[g],a.data(document.body,"treeItemsStorage",f),g=this.items.length;var h=0,i=this,j=null;e.attr("role","treeitem"),e.children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(i.items[g-1].subtreeElement=this,a(this).addClass(i.toThemeProperty("jqx-tree-dropdown")),i.rtl&&(a(this).addClass(i.toThemeProperty("jqx-tree-dropdown-rtl")),a(this).css("clear","both")),!1):void 0}),e.parents().each(function(){return"li"==this.tagName||"LI"==this.tagName?(h=this.id,j=this,!1):void 0});var k=b.getAttribute("item-expanded");k=null==k||void 0==k||"true"!=k&&1!=k?!1:!0,d.removeAttribute("item-expanded");var l=b.getAttribute("item-locked");l=null==l||void 0==l||"true"!=l&&1!=l?!1:!0,d.removeAttribute("item-locked");var m=b.getAttribute("item-selected");m=null==m||void 0==m||"true"!=m&&1!=m?!1:!0,d.removeAttribute("item-selected");var n=b.getAttribute("item-disabled");n=null==n||void 0==n||"true"!=n&&1!=n?!1:!0,d.removeAttribute("item-disabled");var o=b.getAttribute("item-checked");o=null==o||void 0==o||"true"!=o&&1!=o?!1:!0;var p=b.getAttribute("item-title");(null==p||void 0==p||"true"!=p&&1!=p)&&(p=!1),d.removeAttribute("item-title");var q=b.getAttribute("item-icon"),r=b.getAttribute("item-iconsize"),s=b.getAttribute("item-label"),t=b.getAttribute("item-value");d.removeAttribute("item-icon"),d.removeAttribute("item-iconsize"),d.removeAttribute("item-label"),d.removeAttribute("item-value");var u=this.items[g-1];u.id=c,void 0==u.value&&(this._valueList&&this._valueList[c]?u.value=this._valueList[c]:u.value=t),u.icon=q,u.iconsize=r,u.parentId=h,u.disabled=n,u.parentElement=j,u.element=b,u.locked=l,u.selected=m,u.checked=o,u.isExpanded=k,u.treeInstance=this,this.itemMapping[g-1]={element:d,item:u},this.itemMapping["id"+d.id]=this.itemMapping[g-1];var v=!1,w=!1;if(v=!1,this.rtl&&(a(u.element).css("float","right"),a(u.element).css("clear","both")),!v||!w)if(a(d.firstChild).length>0){if(u.icon){var r=u.iconsize;r||(r=16);var q=a('<img width="'+r+'" height="'+r+'" style="float: left;" class="itemicon" src="'+u.icon+'"/>');a(d).prepend(q),q.css("margin-right","4px"),this.rtl&&(q.css("margin-right","0px"),q.css("margin-left","4px"),q.css("float","right"))}var x=d.innerHTML.indexOf("<ul");if(-1==x&&(x=d.innerHTML.indexOf("<UL")),-1==x)u.originalTitle=d.innerHTML,d.innerHTML='<div style="display: inline-block;">'+d.innerHTML+"</div>",u.titleElement=a(a(d)[0].firstChild);else{var y=d.innerHTML.substring(0,x);y=a.trim(y),u.originalTitle=y,y=a('<div style="display: inline-block;">'+y+"</div>");var z=a(d).find("ul:first");z.remove(),d.innerHTML="",a(d).prepend(y),a(d).append(z),u.titleElement=y,this.rtl&&y.css("float","right")}if(a.jqx.browser.msie&&a.jqx.browser.version<8){a(a(d)[0].firstChild).css("display","inline-block");var A=!1;0==this._measureItem.parents().length&&(a(document.body).append(this._measureItem),A=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=a(u.titleElement).text();var B=this._measureItem.width();u.icon&&(B+=20),a(a(item.titleElement).find("img")).length>0&&(B+=20),a(a(d)[0].firstChild).css("max-width",B+"px"),A&&this._measureItem.remove()}}else u.originalTitle="Item",a(d).append(a("<span>Item</span>")),a(d.firstChild).wrap("<span/>"),u.titleElement=a(d)[0].firstChild,a.jqx.browser.msie&&a.jqx.browser.version<8&&a(d.firstChild).css("display","inline-block");var C=a(u.titleElement),D=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&C.addClass("draggable"),null==s||void 0==s?(s=u.titleElement,u.label=a.trim(C.text())):u.label=s,a(d).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&a(d).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),D+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(D+=" "+this.toThemeProperty("jqx-tree-item-rtl")),C[0].className=C[0].className+" "+D,u.level=a(b).parents("li").length,u.hasItems=a(b).find("li").length>0,this.rtl&&u.parentElement&&(this.checkboxes||C.css("margin-right","5px")),this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var E=a('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(E.width(parseInt(this.checkSize)),E.height(parseInt(this.checkSize)),a(d).prepend(E),this.rtl&&(E.css("float","right"),E.css("position","static")),E.jqxCheckBox({hasInput:!1,checked:u.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:n,theme:this.theme}),this.rtl){var F=5;u.parentElement?E.css("margin-right",F+5+"px"):E.css("margin-right",F+"px")}else C.css("margin-left",parseInt(this.checkSize)+6);u.checkBoxElement=E[0],E[0].treeItem=u;var G=C.outerHeight()/2-1-parseInt(this.checkSize)/2;E.css("margin-top",G),a.jqx.browser.msie&&a.jqx.browser.version<8?(C.css("width","1%"),C.css("margin-left",parseInt(this.checkSize)+25)):u.hasItems&&(this.rtl||E.css("margin-left",this.toggleIndicatorSize))}else a.jqx.browser.msie&&a.jqx.browser.version<8&&C.css("width","1%");n&&this.disableItem(u.element),m&&this.selectItem(u.element),a.jqx.browser.msie&&a.jqx.browser.version<8&&(a(d).css("margin","0px"),a(d).css("padding","0px"))}},destroy:function(){this.removeHandler(a(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var b=this,c=this.isTouchDevice();a.each(this.items,function(){var d=this,e=a(this.element),f=c?a.jqx.mobile.getTouchEventName("touchend"):"click";b.removeHandler(a(d.checkBoxElement),f);var g=a(d.titleElement);b.removeHandler(e);var h=b.allowDrag&&b._enableDragDrop;h?(b.removeHandler(g,"mousedown.item"),b.removeHandler(g,"click"),b.removeHandler(g,"dblclick"),b.removeHandler(g,"mouseenter"),b.removeHandler(g,"mouseleave")):b.removeHandler(g),$arrowSpan=a(d.arrow),$arrowSpan.length>0&&(b.removeHandler($arrowSpan,f),b.removeHandler($arrowSpan,"selectstart"),b.removeHandler($arrowSpan,"mouseup"),c||(b.removeHandler($arrowSpan,"mouseenter"),b.removeHandler($arrowSpan,"mouseleave")),b.removeHandler(g,"selectstart")),a.jqx.browser.opera&&b.removeHandler(g,"mousedown.item"),"click"!=b.toggleMode&&b.removeHandler(g,"click"),b.removeHandler(g,b.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==c&&b._updateInputSelection(),"disabled"==c&&b._updateDisabledState(),"theme"==c&&b._applyTheme(d,e),"keyboardNavigation"==c&&(b.enableKeyboardNavigation=e),("width"==c||"height"==c)&&(b.refresh(),b._initialize(),b._calculateWidth(),b.host.jqxPanel)){var f="fixed";(null==this.height||"auto"==this.height)&&(f="verticalwrap"),(null==this.width||"auto"==this.width)&&(f="fixed"==f?"horizontalwrap":"wrap"),b.panel.jqxPanel({sizeMode:f})}if("touchMode"==c&&(b._isTouchDevice=null,e&&(b.enableHover=!1),b._render()),("source"==c||"checkboxes"==c)&&null!=this.source){var g=[];a.each(b.items,function(){this.isExpanded&&(g[g.length]={label:this.label,level:this.level})});var h=b.loadItems(b.source);b.host.jqxPanel?b.panel.jqxPanel("setcontent",h):b.element.innerHTML=h;var i=b.disabled,j=b.host.find("ul:first");j.length>0&&(b.createTree(j[0]),b._render());var k=b,l=k.animationShowDuration;k.animationShowDuration=0,b.disabled=!1,g.length>0&&a.each(b.items,function(){for(var a=0;a<g.length;a++)if(g[a].label==this.label&&g[a].level==this.level){var b=k.getItem(this.element);k._expandItem(k,b)}}),b.disabled=i,k.animationShowDuration=l}"hasThreeStates"==c&&(b._render(),b._updateCheckStates()),"toggleIndicatorSize"==c&&(b._updateCheckLayout(),b._render())}}})}(jqxBaseFramework),function(a){a.jqx._jqxTree.jqxTreeItem=function(a,b,c){var d={label:null,id:a,parentId:b,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return d}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDragDrop","",{}),a.extend(a.jqx._jqxDragDrop.prototype,{defineInstance:function(){var b={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};a.extend(!0,this,b)},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var b=a.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var c=this._getRelativeOffset(this.host),d=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(d={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=d.left+c.left+"px",this.element.style.top=d.top+c.top+"px"}this._validateProperties(),this._idHandler(b),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=a(this.dropTarget)),this._refresh(),b+=1,a.data(document.body,"jqx-draggables",b),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var b=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":b=this.host.parent();break;case"document":b=a(document);break;case"body":b=a(document.body);break;default:b=a(this.appendTo)}return b},_idHandler:function(a){if(!this.element.id){var b="jqx-draggable-"+a;this.element.id=b}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(a(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(a(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var b=this;this.addHandler(this.host,"dragstart",function(c){if(b.disabled)return!0;var d=a.jqx.mobile.isTouchDevice();return d?void 0:(c.preventDefault(),!1)}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(a(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(a(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c="";if(window.parent&&document.referrer&&(c=document.referrer),-1!=c.indexOf(document.location.host)){var d=function(a){b._mouseUp(b)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}}catch(e){}},_mouseDown:function(a){var b=a.data.self,c=b._getMouseCoordinates(a),d=b._mouseCapture(a);if(b._originalPageX=c.left,b._originalPageY=c.top,b.disabled)return!0;var e=!1;return b._mouseStarted||(b._mouseUp(a),e=!0),d&&(b._mouseDownEvent=a),b._isTouchDevice?!0:1===a.which&&d?void a.preventDefault():!0},_mouseMove:function(a){var b=a.data.self;return b.disabled?!0:b._mouseStarted?(b._mouseDrag(a),a.preventDefault&&a.preventDefault(),!1):(b._mouseDownEvent&&b._isMovedDistance(a)&&(b._mouseStart(b._mouseDownEvent,a)?b._mouseStarted=!0:b._mouseStarted=!1,b._mouseStarted?b._mouseDrag(a):b._mouseUp(a)),!b._mouseStarted)},_mouseUp:function(a){var b;return b=a.data&&a.data.self?a.data.self:this,b.disabled?!0:(b._mouseDownEvent=!1,b._movedDistance=!1,b._mouseStarted&&(b._mouseStarted=!1,b._mouseStop(a)),b.feedback&&b.feedback[0]&&"original"!==b._feedbackType&&"function"==typeof b.feedback.remove&&!b.revert&&b.feedback.remove(),b._isTouchDevice?void 0:!1)},cancelDrag:function(){var a=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=a},_isMovedDistance:function(a){var b=this._getMouseCoordinates(a);return this._movedDistance?!0:b.left>=this._originalPageX+this.distance||b.left<=this._originalPageX-this.distance||b.top>=this._originalPageY+this.distance||b.top<=this._originalPageY-this.distance?(this._movedDistance=!0,!0):!1},_getMouseCoordinates:function(b){if(this._isTouchDevice){var c=a.jqx.position(b);return{left:c.left,top:c.top}}return{left:b.pageX,top:b.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(b){b.each(function(){a(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(b){b.each(function(){a(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(a){return this.disabled?!1:this._getHandle(a)?(this._disableSelection(this.host),!0):!1},_getScrollParent:function(b){var c;return c=a.jqx.browser.msie&&/(static|relative)/.test(b.css("position"))||/absolute/.test(b.css("position"))?b.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position",1))&&/(auto|scroll)/.test(a.css(this,"overflow",1)+a.css(this,"overflow-y",1)+a.css(this,"overflow-x",1))}).eq(0):b.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow",1)+a.css(this,"overflow-y",1)+a.css(this,"overflow-x",1))}).eq(0),/fixed/.test(b.css("position"))||!c.length?a(document):c},_mouseStart:function(b){var c=this._getMouseCoordinates(b);this._getParentOffset(this.host);this.feedback=this._createFeedback(b),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},a.extend(this._offset,{click:{left:c.left-this._offset.left,top:c.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(b),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,b);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(b,!0),!0},_fixPosition:function(){var a=this._getRelativeOffset(this.host),b=this.position;return b={left:this.position.left+a.left,top:this.position.top+a.top}},_mouseDrag:function(a,b){return this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,a),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(b,c,d){if(this.dropTarget){var e=!1,f=this;a.each(this.dropTarget,function(a,g){return e=f._overItem(g,b,c,d),e.over?!1:void 0})}return e},_overItem:function(b,c,d,e){b=a(b);var f,g=b.offset(),h=b.outerHeight(),i=b.outerWidth();if(b&&b[0]!==this.element){var f=!1;switch(this.tolerance){case"intersect":c.left+d>g.left&&c.left<g.left+i&&c.top+e>g.top&&c.top<g.top+h&&(f=!0);break;case"fit":d+c.left<=g.left+i&&c.left>=g.left&&e+c.top<=g.top+h&&c.top>=g.top&&(f=!0)}return{over:f,target:b}}},_handleTarget:function(){if(this.dropTarget){var a=this.feedback.offset(),b=this.feedback.outerWidth(),c=this.feedback.outerHeight(),d=this._over(a,b,c);d.over?(this._targetEnterFired&&d.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&d.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||d.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&d.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:d.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(d.target)),this._oldtarget=d.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||d.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||d.target))}},_mouseStop:function(a){var b=!1,c=this._fixPosition(),d={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(b=this.dropped,this.dropped=!1),this.element&&this.element.parentNode||"original"!==this.feedback?(this._dropElement(c),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,a),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(c,d.width,d.height).over&&this.onTargetDrop(this._over(c,d.width,d.height).target),this._revertHandler(),!1):!1},_dropElement:function(a){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var b=this._getRelativeOffset(this.host);a=this.position,a.left-=b.left,a.top-=b.top,this.element.style.left=a.left+"px",this.element.style.top=a.top+"px"}},_revertHandler:function(){if(this.revert||a.isFunction(this.revert)&&this.revert()){var b=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?a(this.feedback).animate({left:b.originalPosition.left-b._offset.hostRelative.left,top:b.originalPosition.top-b._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){b.feedback&&b.feedback[0]&&"original"!==b._feedbackType&&"function"==typeof b.feedback.remove&&b.feedback.remove()}):b.feedback&&b.feedback[0]&&"original"!==b._feedbackType&&"function"==typeof b.feedback.remove&&b.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,a(this.host).animate({left:b.originalPosition.left-b._offset.hostRelative.left,top:b.originalPosition.top-b._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){b.element.style.zIndex=b._zIndexBackup}))}},_getHandle:function(b){var c;return this.handle?a(this.handle,this.host).find("*").andSelf().each(function(){this==b.target&&(c=!0)}):c=!0,c},_createFeedback:function(a){var b;if(b="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(b.css("position"))||b.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||b[0]!==this.element){b.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(b).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(b).top}),b.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(b),b},_getParentOffset:function(b){var b=b||this.feedback;this._offsetParent=b.offsetParent();var c=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&a.contains(this._scrollParent[0],this._offsetParent[0])&&(c.left+=this._scrollParent.scrollLeft(),c.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&a.jqx.browser.msie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:c.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(a){this._scrollParent||a.parent();if(a=a||this.feedback,"relative"===a.css("position")){var b=this.host.position();return{top:b.top-(parseInt(a.css("top"),10)||0),left:b.left-(parseInt(a.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),("document"==this.restricter||"window"==this.restricter)&&this._handleNativeRestricter(),"undefined"!=typeof this.restricter.left&&"undefined"!=typeof this.restricter.top&&"undefined"!=typeof this.restricter.height&&"undefined"!=typeof this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:a(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:a(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:a(window).scrollLeft())+a("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:a(window).scrollTop())+(a("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var b=a(this.restricter),c=b[0];if(c){var d="hidden"!==a(c).css("overflow");this._restricter=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=b}},_convertPositionTo:function(b,c){c||(c=this.position);var d,e,f;return d="absolute"===b?1:-1,e="absolute"!==this._positionType||this._scrollParent[0]!=document&&a.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,f=/(html|body)/i.test(e[0].tagName),this._getPosition(c,d,f,e)},_getPosition:function(b,c,d,e){return{top:b.top+this._offset.relative.top*c+this._offset.parent.top*c-(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():d?0:e.scrollTop())*c),left:b.left+this._offset.relative.left*c+this._offset.parent.left*c-(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():d?0:e.scrollLeft())*c)}},_generatePosition:function(b){var c="absolute"!=this._positionType||this._scrollParent[0]!=document&&a.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,d=/(html|body)/i.test(c[0].tagName),e=this._getMouseCoordinates(b),f=e.left,g=e.top;if(this.originalPosition){var h;if(this.restricter){if(this._restrictiveContainer){var i=this._restrictiveContainer.offset();h=[this._restricter[0]+i.left,this._restricter[1]+i.top,this._restricter[2]+i.left,this._restricter[3]+i.top]}else h=this._restricter;e.left-this._offset.click.left<h[0]&&(f=h[0]+this._offset.click.left),e.top-this._offset.click.top<h[1]&&(g=h[1]+this._offset.click.top),e.left-this._offset.click.left>h[2]&&(f=h[2]+this._offset.click.left),e.top-this._offset.click.top>h[3]&&(g=h[3]+this._offset.click.top)}}return{top:g-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():d?0:c.scrollTop()),
left:f-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():d?0:c.scrollLeft())}},_raiseEvent:function(b,c){if(void 0==this.triggerEvents||0!=this.triggerEvents){var d=this._events[b],e=a.Event(d),c=c||{};return c.position=this.position,c.element=this.element,a.extend(c,this.data),c.feedback=this.feedback,e.args=c,this.host.trigger(e)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(b,c,d,e){"dropTarget"===c?"string"==typeof e&&(b.dropTarget=a(e)):"disabled"==c?e&&b._enableSelection(b.host):"cursor"==c&&b.host.css("cursor",b.cursor)}})}(jqxBaseFramework),function(a){jqxListBoxDragDrop=function(){a.extend(a.jqx._jqxListBox.prototype,{_hitTestBounds:function(a,b,c){var d=a.host.offset(),e=c-parseInt(d.top),f=b-parseInt(d.left),g=a._hitTest(f,e);if(0>e)return null;if(null!=g){var h=parseInt(d.left),i=h+a.host.width();return h<=b+g.width/2&&i>=b?g:null}if(a.items&&a.items.length>0){var j=a.items[a.items.length-1];if(j.top+j.height+15>=e)return j}return null},_handleDragStart:function(b,c){var d=a.jqx.mobile.isTouchDevice();d&&c.allowDrag&&b.on(a.jqx.mobile.getTouchEventName("touchstart"),function(){a.jqx.mobile.setTouchScroll(!1,c.element.id)}),b.off("dragStart"),b.on("dragStart",function(b){if(c.allowDrag&&!c.disabled){c.feedbackElement=a("<div style='z-index: 99999; position: absolute;'></div>"),c.feedbackElement.addClass(c.toThemeProperty("jqx-listbox-feedback")),c.feedbackElement.appendTo(a(document.body)),c.feedbackElement.hide(),c.isDragging=!0,c._dragCancel=!1;var d=c._getMouseCoordinates(b),e=c._hitTestBounds(c,d.left,d.top),f=a.find(".jqx-listbox");c._listBoxes=f,a.each(c._listBoxes,function(){var b=a.data(this,"jqxListBox").instance;b._enableHover=b.enableHover,b.enableHover=!1,a.jqx.mobile.setTouchScroll(!1,c.element.id)});var g=function(){c._dragCancel=!0,a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0}),a.each(c._listBoxes,function(){var b=a.data(this,"jqxListBox").instance;void 0!=b._enableHover&&(b.enableHover=b._enableHover,a.jqx.mobile.setTouchScroll(!0,c.element.id))})};if(null==e||e.isGroup)null==e&&g();else{if(c._dragItem=e,c.dragStart){var h=c.dragStart(e);if(0==h)return g(),!1}e.disabled&&g(),c._raiseEvent(4,{label:e.label,value:e.value,originalEvent:b.args})}}return!1})},_handleDragging:function(b,c){b.off("dragging"),b.on("dragging",function(b){var d=b.args;if(!c._dragCancel){var e=c._getMouseCoordinates(b),f=e;c._lastDraggingPosition=e,c._dragOverItem=null,c.feedbackElement.hide(),a.each(c._listBoxes,function(){if(a.jqx.isHidden(a(this)))return!0;var b=a(this).offset(),g=b.top+20,h=a(this).height()+g-40,i=b.left,j=a(this).width(),k=i+j,l=a.data(this,"jqxListBox").instance,m=l._hitTestBounds(l,e.left,e.top),n=l.vScrollInstance;if(null!=m&&l.allowDrop&&!l.disabled&&(c._dragOverItem=m,m.element)){c.feedbackElement.show();var o=a(m.element).offset().top+1;f.top>o+m.height/2&&(o+=m.height),c.feedbackElement.css("top",o),c.feedbackElement.css("left",i),"visible"!=l.vScrollBar.css("visibility")?c.feedbackElement.width(a(this).width()):c.feedbackElement.width(a(this).width()-20)}e.left>=i&&e.left<k?d.position.top<g&&d.position.top>=g-30?(clearInterval(l._autoScrollTimer),0!=n.value&&c.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var a=l.scrollUp();a||clearInterval(l._autoScrollTimer)},100)):d.position.top>h&&d.position.top<h+30?(clearInterval(l._autoScrollTimer),"hidden"!=l.vScrollBar.css("visibility")&&n.value!=n.max&&c.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var a=l.scrollDown();a||clearInterval(l._autoScrollTimer)},100)):clearInterval(l._autoScrollTimer):(null==c._dragOverItem&&c.feedbackElement.hide(),clearInterval(l._autoScrollTimer))})}})},_handleDragEnd:function(b,c){a.find(".jqx-listbox");b.off("dragEnd"),b.on("dragEnd",function(b){clearInterval(c._autoScrollTimer);var d=a.jqx.mobile.isTouchDevice(),e=d?c._lastDraggingPosition:c._getMouseCoordinates(b),f=a.find(".jqx-listbox"),g=null;if(c.feedbackElement.remove(),c._dragCancel)return void b.stopPropagation();a.each(f,function(){if(a.jqx.isHidden(a(this)))return!0;var b=parseInt(a(this).offset().left),d=b+a(this).width(),f=a.data(this,"jqxListBox").instance;if(clearInterval(f._autoScrollTimer),void 0!=f._enableHover&&(f.enableHover=f._enableHover,a.jqx.mobile.setTouchScroll(!0,c.element.id)),null!=c._dragItem&&e.left+c._dragItem.width/2>=b&&e.left<d){var h=parseInt(a(this).offset().top),i=h+a(this).height();e.top>=h&&e.top<=i&&(g=a(this))}});var h=c._dragItem;if(null!=g&&g.length>0){var i=a.data(g[0],"jqxListBox").instance,j=i.allowDrop;if(j&&!i.disabled){var i=a.data(g[0],"jqxListBox").instance,k=i._hitTestBounds(i,e.left,e.top);if(k=c._dragOverItem,null==k||k.isGroup){if("none"!=i.dropAction){if(i.content.find(".draggable").length>0&&i.content.find(".draggable").jqxDragDrop("destroy"),c.dragEnd){var l=c.dragEnd(c._dragItem,null,b.args);if(0==l)return a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0}),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1;void 0==l&&(l=!0)}i.addItem(c._dragItem),"default"==i.dropAction&&(h.index>0&&c.selectIndex(h.index-1),c.removeItem(h,!0)),i.clearSelection(),i.selectIndex(i.items.length-1)}}else{var l=!0;if(c.dragEnd){if(l=c.dragEnd(h,k,b.args),0==l)return a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0}),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1;void 0==l&&(l=!0)}if(l){var m=(k.index,function(){for(var a=k.index,b=a-2;a+2>=b;b++)if(i.items&&i.items.length>b){var c=i.items[b];if(null!=c&&c.value==h.value)return b}return a});if("none"!=i.dropAction){var n=a(k.element).offset().top+1;i.content.find(".draggable").length>0&&i.content.find(".draggable").jqxDragDrop("destroy"),e.top>n+k.height/2?i.insertAt(c._dragItem,k.index+1):i.insertAt(c._dragItem,k.index),"default"==c.dropAction&&(h.index>0&&c.selectIndex(h.index-1),c.removeItem(h,!0));var o=m();i.clearSelection(),i.selectIndex(o)}}}}}else if(c.dragEnd){var p=c.dragEnd(h,b.args);if(0==p)return b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}return null!=h&&c._raiseEvent(5,{label:h.label,value:h.value,originalEvent:b.args}),!1})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var b=this.content.find(".draggable");if(b.length>0){var c=this;b.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(b){var d=a('<span style="white-space: nowrap;" class="'+c.toThemeProperty("jqx-fill-state-normal")+'">'+b.text()+"</span>");a(document.body).append(d);var e=d.width();d.remove(),b.width(e+5),b.addClass(c.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,c._dragItem=null,c._handleDragStart(b,c),c._handleDragging(b,c),c._handleDragEnd(b,c)}}},_getMouseCoordinates:function(b){if(this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._isTouchDevice){var c=a.jqx.position(b.args);return{left:c.left,top:c.top}}return{left:b.args.pageX,top:b.args.pageY}}})},jqxTreeDragDrop=function(){a.extend(a.jqx._jqxTree.prototype,{_hitTestBounds:function(b,c,d){var e=null;if(b._visibleItems){var f=parseInt(b.host.offset().left),g=b.host.outerWidth();a.each(b._visibleItems,function(h){if(c>=f&&f+g>c&&this.top+5<d&&d<this.top+this.height){var i=a(this.element).parents("li:first");if(i.length>0&&(e=b.getItem(i[0]),null!=e))return e.height=this.height,e.top=this.top,!1}})}return e},_handleDragStart:function(b,c){c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover"));var d=a.jqx.mobile.isTouchDevice();d&&c.allowDrag&&b.on(a.jqx.mobile.getTouchEventName("touchstart"),function(){a.jqx.mobile.setTouchScroll(!1,"panel"+c.element.id)}),b.off("dragStart"),b.on("dragStart",function(b){c.feedbackElement=a("<div style='z-index: 99999; position: absolute;'></div>"),c.feedbackElement.addClass(c.toThemeProperty("jqx-listbox-feedback")),c.feedbackElement.appendTo(a(document.body)),c.feedbackElement.hide(),c._dragCancel=!1;var d=(b.args.position,a.find(".jqx-tree"));return c._trees=d,a.each(d,function(){var d=a.data(this,"jqxTree").instance,e=d.host.find(".draggable");if(d._syncItems(e),d.allowDrag&&!d.disabled){var f=a(b.target).parents("li:first");if(f.length>0){var g=d.getItem(f[0]);if(g){if(c._dragItem=g,d.dragStart){var h=d.dragStart(g);if(0==h)return c._dragCancel=!0,a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:d}),!1}d._raiseEvent(8,{label:g.label,value:g.value,originalEvent:b.args})}}}}),!1})},_getMouseCoordinates:function(b){if(this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._isTouchDevice){var c=a.jqx.position(b.args);return{left:c.left,top:c.top}}return{left:b.args.pageX,top:b.args.pageY}},_handleDragging:function(b,c){var b=this.host.find(".draggable");b.off("dragging"),b.on("dragging",function(b){var d=b.args,e=(d.position,c._trees);if(!c._dragCancel){c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover"));var f=!0,g=c._getMouseCoordinates(b);c._lastDraggingPosition=g,a.each(e,function(){if(a.jqx.isHidden(a(this)))return!0;var b=a(this).offset(),d=b.top+20,e=a(this).height()+d-40,h=b.left,i=a(this).width(),j=h+i,k=a.data(this,"jqxTree").instance;if(!k.disabled&&k.allowDrop){var l=k.vScrollInstance,m=k._hitTestBounds(k,g.left,g.top);if(null!=m&&(c._dragOverItem&&c._dragOverItem.titleElement.removeClass(k.toThemeProperty("jqx-fill-state-hover")),c._dragOverItem=m,m.element)){c.feedbackElement.show();var n=m.top,o=g.top;c._dropPosition="before",o>n+m.height/3&&(n=m.top+m.height/2,c._dragOverItem.titleElement.addClass(c.toThemeProperty("jqx-fill-state-hover")),c.feedbackElement.hide(),c._dropPosition="inside"),o>m.top+m.height-m.height/3&&(n=m.top+m.height,c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c.feedbackElement.show(),c._dropPosition="after"),c.feedbackElement.css("top",n);var h=-2+parseInt(m.titleElement.offset().left);c.feedbackElement.css("left",h),c.feedbackElement.width(a(m.titleElement).width()+12)}g.left>=h&&g.left<j?(g.top+20>=d&&g.top<=d+k.host.height()&&(f=!1),g.top<d&&g.top>=d-30?(clearInterval(k._autoScrollTimer),0!=l.value&&c.feedbackElement.hide(),k._autoScrollTimer=setInterval(function(){var a=k.panelInstance.scrollUp(),b=k.host.find(".draggable");k._syncItems(b),a||clearInterval(k._autoScrollTimer)},100)):g.top>e&&g.top<e+30?(clearInterval(k._autoScrollTimer),l.value!=l.max&&c.feedbackElement.hide(),k._autoScrollTimer=setInterval(function(){var a=k.panelInstance.scrollDown(),b=k.host.find(".draggable");k._syncItems(b),a||clearInterval(k._autoScrollTimer)},100)):clearInterval(k._autoScrollTimer)):clearInterval(k._autoScrollTimer)}}),f&&c.feedbackElement&&c.feedbackElement.hide()}})},_handleDragEnd:function(b,c){b.off("dragEnd"),b.on("dragEnd",function(b){c.host.find(".draggable");clearInterval(c._autoScrollTimer);var d=(b.args.position,c._trees),e=null,f=a.jqx.mobile.isTouchDevice(),g=f?c._lastDraggingPosition:c._getMouseCoordinates(b);if(c.feedbackElement.remove(),c._dragCancel)return!1;c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover")),a.each(d,function(){if(a.jqx.isHidden(a(this)))return!0;var b=parseInt(a(this).offset().left),d=b+a(this).width(),f=a.data(this,"jqxTree").instance;if(clearInterval(f._autoScrollTimer),null!=c._dragItem&&g.left>=b&&g.left<d){var h=parseInt(a(this).offset().top),i=h+a(this).height();g.top>=h&&g.top<=i&&(e=a(this))}});var h=c._dragItem;if(null!=e&&e.length>0){var i=e.jqxTree("allowDrop");if(i){var j=a.data(e[0],"jqxTree").instance,k=c._dragOverItem;if(null!=k&&c._dragOverItem.treeInstance.element.id==j.element.id){var l=!0;if(c.dragEnd&&(l=c.dragEnd(h,k,b.args,c._dropPosition,e),0==l&&(a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0})),void 0==l&&(l=!0)),l){var m=function(){var a=c._dragItem.treeInstance;a._refreshMapping(),a._updateItemsNavigation(),a._render(!0,!1),a.checkboxes&&a._updateCheckStates(),c._dragItem.treeInstance=j,c._syncItems(c._dragItem.treeInstance.host.find(".draggable"))};if("none"!=j.dropAction&&c._dragItem.id!=c._dragOverItem.id)if("inside"==c._dropPosition)j._drop(c._dragItem.element,c._dragOverItem.element,-1,j),m();else{var n=0;"after"==c._dropPosition&&n++,j._drop(c._dragItem.element,c._dragOverItem.parentElement,n+a(c._dragOverItem.element).index(),j),m()}j._render(!0,!1);var o=j.host.find(".draggable");c._syncItems(o),c._dragOverItem=null,c._dragItem=null,j._refreshMapping(),j._updateItemsNavigation(),j.selectedItem=null,j.selectItem(h.element),j.checkboxes&&j._updateCheckStates(),j._render(!0,!1)}}else if("none"!=j.dropAction&&j.allowDrop){var l=!0;if(c.dragEnd&&(l=c.dragEnd(h,k,b.args,c._dropPosition,e),0==l&&(a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0})),void 0==l&&(l=!0)),l){c._dragItem.parentElement=null,j._drop(c._dragItem.element,null,-1,j);var p=c._dragItem.treeInstance;p._refreshMapping(),p._updateItemsNavigation(),p.checkboxes&&p._updateCheckStates();var o=p.host.find(".draggable");c._syncItems(o),c._dragItem.treeInstance=j,j.items[j.items.length]=c._dragItem,j._render(!0,!1),j.selectItem(h.element),j._refreshMapping(),j._updateItemsNavigation();var o=j.host.find(".draggable");j._syncItems(o),j.checkboxes&&j._updateCheckStates(),c._dragOverItem=null,c._dragItem=null}}}}else if(c.dragEnd){var q=c.dragEnd(h,b.args);if(0==q)return!1}return null!=h&&c._raiseEvent(7,{label:h.label,value:h.value,originalEvent:b.args}),!1})},_drop:function(b,c,d,e){if(!(a(c).parents("#"+b.id).length>0||null!=c&&c.id==b.id)){if(e.element.innerHTML.indexOf("UL"))var f=e.host.find("ul:first");if(void 0==c&&null==c)void 0==d||-1==d?f.append(b):0==f.children("li").eq(d).length?f.children("li").eq(d-1).after(b):f.children("li").eq(d)[0].id!=b.id&&f.children("li").eq(d).before(b);else if(void 0==d||-1==d){c=a(c);var g=c.find("ul:first");if(0==g.length){ulElement=a("<ul></ul>"),a(c).append(ulElement),g=c.find("ul:first");var h=e.itemMapping["id"+c[0].id].item;h.subtreeElement=g[0],h.hasItems=!0,g.addClass(e.toThemeProperty("jqx-tree-dropdown")),g.append(b),b=g.find("li:first"),h.parentElement=b}else g.append(b)}else{c=a(c);var g=c.find("ul:first");if(0==g.length){if(ulElement=a("<ul></ul>"),a(c).append(ulElement),g=c.find("ul:first"),c){var h=e.itemMapping["id"+c[0].id].item;h.subtreeElement=g[0],h.hasItems=!0}g.addClass(e.toThemeProperty("jqx-tree-dropdown")),g.append(b),b=g.find("li:first"),h.parentElement=b}else 0==g.children("li").eq(d).length?g.children("li").eq(d-1).after(b):g.children("li").eq(d)[0].id!=b.id&&g.children("li").eq(d).before(b)}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var b=this.host.find(".draggable"),c=this;if(b.length>0){b.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(b){var d=a('<span style="white-space: nowrap;" class="'+c.toThemeProperty("jqx-fill-state-normal")+'">'+b.text()+"</span>");a(document.body).append(d);var e=d.width();d.remove(),b.width(e+5),b.addClass(c.toThemeProperty("jqx-fill-state-pressed"))}});var d=b.jqxDragDrop("isDestroyed");d&&b.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,c._dragItem=null,c._handleDragStart(b,c),c._handleDragging(b,c),c._handleDragEnd(b,c)}}}})}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxComboBox","",{}),a.extend(a.jqx._jqxComboBox.prototype,{defineInstance:function(){var b={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,scrollBarSize:a.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,renderSelectedItem:null,search:null,popupZIndex:1e5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};a.extend(!0,this,b)},createInstance:function(b){if(this.host.attr("role","combobox"),a.jqx.aria(this,"aria-autocomplete","both"),null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");a.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var b=this,c=b.element.nodeName.toLowerCase();if("select"==c||"ul"==c||"ol"==c){b.field=b.element,b.field.className&&(b._className=b.field.className);var d={title:b.field.title};b.field.id.length?d.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":d.id=a.jqx.utilities.createId()+"_jqxComboBox";var e=a("<div></div>",d);if(b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),a(b.field).hide().after(e),b.host=e,b.element=e[0],b.field.tabIndex){var f=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=f}var g=a.jqx.parseSourceTag(b.field);b.source=g.items,-1==b.selectedIndex&&(b.selectedIndex=g.index)}b.removeHandlers(),b.isanimating=!1,b.id=a.jqx.utilities.createId(),b.element.innerHTML="";var h=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(b.comboStructure=h,null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";b.touch=a.jqx.mobile.isTouchDevice(),b.touchMode===!0&&(b.touch=!0),b.host.append(h),b.dropdownlistWrapper=b.host.find("#dropdownlistWrapper"),b.dropdownlistArrow=b.host.find("#dropdownlistArrow"),b.dropdownlistContent=b.host.find("#dropdownlistContent"),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-widget-content")),b.dropdownlistWrapper[0].id="dropdownlistWrapper"+b.element.id,b.dropdownlistArrow[0].id="dropdownlistArrow"+b.element.id,b.dropdownlistContent[0].id="dropdownlistContent"+b.element.id,b.dropdownlistContent.append(a('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>')),b.input=b.dropdownlistContent.find("input"),b.input.addClass(b.toThemeProperty("jqx-combobox-input")),b.input.addClass(b.toThemeProperty("jqx-widget-content")),b.host.attr("tabindex")&&(b.input.attr("tabindex",b.host.attr("tabindex")),b.host.removeAttr("tabindex")),b._addInput(),b.rtl&&(b.input.css({direction:"rtl"}),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-rtl")));try{var i="listBox"+b.id,j=a(a.find("#"+i));j.length>0&&j.remove(),a.jqx.aria(this,"aria-owns",i),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-multiline",!1),b.listBoxContainer&&b.listBoxContainer.jqxListBox("destroy"),b.container&&b.container.remove();var k=a("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+b.id+"'><div id='innerListBox"+b.id+"'></div></div>");k.hide(),k.appendTo(document.body),b.container=k,b.listBoxContainer=a(a.find("#innerListBox"+b.id));var l=b.width;"auto"!=b.dropDownWidth&&(l=b.dropDownWidth),null==b.dropDownHeight&&(b.dropDownHeight=200),b.container.width(parseInt(l)+25),b.container.height(parseInt(b.dropDownHeight)+25),b.addHandler(b.listBoxContainer,"bindingComplete",function(a){b._raiseEvent("6")});var m=!0;b.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:b.checkboxes,emptyString:b.emptyString,autoBind:!b.remoteAutoComplete&&b.autoBind,renderer:b.renderer,rtl:b.rtl,itemHeight:b.itemHeight,selectedIndex:b.selectedIndex,incrementalSearch:!1,width:l,scrollBarSize:b.scrollBarSize,autoHeight:b.autoDropDownHeight,height:b.dropDownHeight,displayMember:b.displayMember,valueMember:b.valueMember,source:b.source,theme:b.theme,rendered:function(){if(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.remoteAutoComplete)if(b.autoDropDownHeight?(b.container.height(b.listBox.virtualSize.height+25),b.listBoxContainer.height(b.listBox.virtualSize.height),b.listBox._arrange()):(b.listBox._arrange(),b.listBox.ensureVisible(0),b.listBox._renderItems(),b.container.height(b.listBoxContainer.height()+25)),void 0!=b.searchString&&b.searchString.length>=b.minLength){var c=b.listBoxContainer.jqxListBox("items");c&&c.length>0?b.isOpened()||b.open():b.close()}else b.close();else b.renderSelection("mouse"),b.multiSelect&&b.doMultiSelect(!1);b.rendered&&b.rendered()}}),b.listBoxContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.listBoxContainer.css("border-top-width","1px"),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBox.enableSelection=b.enableSelection,b.listBox.enableHover=b.enableHover,b.listBox.equalItemsWidth=b.equalItemsWidth,b.listBox._arrange(),b.addHandler(b.listBoxContainer,"unselect",function(a){b.multiSelect||b._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),b.addHandler(b.listBoxContainer,"change",function(a){b.multiSelect||b._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item})}),"none"==b.animationType?b.container.css("display","none"):b.container.hide(),m=!1}catch(n){throw n}var o=this;o.input.attr("disabled",o.disabled);var p=a.jqx.browser.msie&&a.jqx.browser.version<8;if(p||o.input.attr("placeholder",o.placeHolder),b.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(o.toThemeProperty("jqx-combobox-state-disabled")),b.host.addClass(o.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(o.toThemeProperty("jqx-combobox-content-disabled"))):(b.host.removeClass(o.toThemeProperty("jqx-combobox-state-disabled")),b.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.removeClass(o.toThemeProperty("jqx-combobox-content-disabled"))),b.input.attr("disabled",b.disabled),a.jqx.aria(b,"aria-disabled",b.disabled),b.input.attr("disabled",b.disabled)},b.disabled&&(b.host.addClass(b.toThemeProperty("jqx-combobox-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-disabled"))),b.host.addClass(b.toThemeProperty("jqx-combobox-state-normal")),b.host.addClass(b.toThemeProperty("jqx-combobox")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.dropdownlistArrowIcon=a("<div></div>"),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon")),b.dropdownlistArrow.append(b.dropdownlistArrowIcon),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-normal")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.rtl?b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-rc-l")):b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-rc-r")),b._setSize(),b._updateHandlers(),b.addHandler(b.input,"keyup.textchange",function(a){b._search(a);b.cinput&&b.input&&(b.cinput[0].value=b.input[0].value)}),a.jqx.browser.msie&&a.jqx.browser.version<8&&b.host.parents(".jqx-window").length>0){var q=b.host.parents(".jqx-window").css("z-index");k.css("z-index",q+10),b.listBoxContainer.css("z-index",q+10)}b.checkboxes?(b.input.attr("readonly",!0),a.jqx.aria(this,"aria-readonly",!0)):a.jqx.aria(this,"aria-readonly",!1),b.remoteAutoComplete||(b.searchString="")},_addInput:function(){var b=this.host.attr("name");this.cinput=a("<input type='hidden'/>"),this.host.append(this.cinput),b&&this.cinput.attr("name",b)},_updateInputSelection:function(){if(this.cinput){var b=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var c=this.getSelectedItem();null!=c?(this.cinput.val(c.value),b.push(c.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)var d=this.getSelectedItems();else var d=this.getCheckedItems();var e="";if(null!=d)for(var f=0;f<d.length;f++)e+=f==d.length-1?d[f].value:d[f].value+",",b.push(d[f].value);this.cinput.val(e)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?a.each(this.field,function(c,d){a(this).removeAttr("selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this).attr("selected",!0)}):a.each(this.items,function(c,d){a(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(b){var c=this;if(9!=b.keyCode&&"none"!=c.searchMode&&null!=c.searchMode&&"undefined"!=c.searchMode&&16!=b.keyCode&&17!=b.keyCode&&20!=b.keyCode&&!c.checkboxes){if(c.multiSelect){var d=a("<span style='visibility: hidden; white-space: nowrap;'>"+c.input.val()+"</span>");d.addClass(c.toThemeProperty("jqx-widget")),a(document.body).append(d);var e=d.width()+15;d.remove(),e>c.host.width()&&(e=c.host.width()),25>e&&(e=25),c.input.css("width",e+"px"),0==c.selectedItems.length?(c.input.css("width","100%"),c.input.attr("placeholder",c.placeHolder)):c.input.attr("placeholder","");var f=parseInt(this._findPos(c.host[0])[1])+parseInt(c.host.outerHeight())-1+"px",g=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone(),h=a.jqx.utilities.hasTransform(c.host);(h||null!=g&&g)&&(f=a.jqx.mobile.getTopPos(this.element)+parseInt(c.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(f=parseInt(f)-this._getBodyOffset().top+"px")),c.container.css("top",f);var i=parseInt(c.host.height());c.dropdownlistArrow.height(i)}if(!c.isanimating){if(b.altKey&&38==b.keyCode)return c.hideListBox("altKey"),!1;if(b.altKey&&40==b.keyCode)return c.isOpened()||c.showListBox("altKey"),!1}if(37==b.keyCode||39==b.keyCode)return!1;if(!b.altKey&&18!=b.keyCode&&!(b.keyCode>=33&&b.keyCode<=40||(b.ctrlKey||c.ctrlKey)&&88!=b.keyCode&&86!=b.keyCode)){var j=c.input.val();if(0==j.length&&!c.autoComplete)return c.listBox.searchString=c.input.val(),c.listBox.clearSelection(),c.hideListBox("search"),void(c.searchString=c.input.val());if(c.remoteAutoComplete){var k=this,l=function(){k.listBox.vScrollInstance.value=0};if(j.length>=k.minLength){if(!b.ctrlKey&&!b.altKey){if(k.searchString!=j){var m=k.listBoxContainer.jqxListBox("source");null==m&&k.listBoxContainer.jqxListBox({source:k.source}),c._searchTimer&&clearTimeout(c._searchTimer),13!=b.keyCode&&27!=b.keyCode&&(c._searchTimer=setTimeout(function(){if(l(),k.autoDropDownHeight&&(k.listBox.autoHeight=!0),k.searchString=k.input.val(),null==k.search)throw"'search' function is not defined";k.search(k.input.val())},c.remoteAutoCompleteDelay))}k.searchString=j}}else c._searchTimer&&clearTimeout(c._searchTimer),l(),k.searchString="",k.listBoxContainer.jqxListBox({source:null})}else{var k=this;if(j!==k.searchString){if("27"!=b.keyCode&&"13"!=b.keyCode){var n=c._updateItemsVisibility(j),o=n.matchItems,p=n.index;if(!c.autoComplete&&!c.removeAutoComplete&&(!c.multiSelect||c.multiSelect&&p>=0)){c.listBox.selectIndex(p);var q=c.listBox.isIndexInView(p);q?c.listBox._renderItems():c.listBox.ensureVisible(p)}c.autoComplete&&0===o.length&&c.hideListBox("search")}if("13"==b.keyCode){var r="block"==c.container.css("display");if(r&&!c.isanimating)return c.hideListBox("keyboard"),void(c._oldvalue=c.listBox.selectedValue)}else if("27"==b.keyCode){var r="block"==c.container.css("display");if(r&&!c.isanimating){if(t.multiSelect)t.input.val(""),t.listBox.selectedValue=null;else{var s=c.listBox.getVisibleItem(c._oldvalue);if(s){var t=this;setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(s.index),t.renderSelection("api")},t.closeDelay)}else c.clearSelection()}return c.hideListBox("keyboard"),c.renderSelection("api"),b.preventDefault(),!1}}else{c.isOpened()||c.opening||b.ctrlKey||c.listBox.visibleItems&&c.listBox.visibleItems.length>0&&c.input.val()!=c.searchString&&void 0!=c.searchString&&-1!=p&&c.showListBox("search"),c.searchString=c.input.val(),""==c.searchString&&(c.listBox.itemsByValue[""]||(p=-1,c.clearSelection()));var s=c.listBox.getVisibleItem(p);void 0!=s&&c._updateInputSelection()}}}}}},val:function(a){if(!this.input)return"";var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"==typeof a?!1:"date"==typeof a?!1:"boolean"==typeof a?!1:"string"==typeof a?!1:!0};if(b(a)||0==arguments.length){var c=this.getSelectedItem();return c?c.value:this.input.val()}var c=this.getItemByValue(a);return null!=c?this.selectItem(c):this.input.val(a),this.input.val()},focus:function(){var a=this,b=function(){a.input.focus();var b=a.input.val();a._setSelection(0,b.length)};b(),setTimeout(function(){b()},10)},_setSelection:function(a,b){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(a,b);else{var c=this.input[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},setContent:function(a){this.input.val(a)},_updateItemsVisibility:function(b){var c=this.getItems();if(void 0==c)return{index:-1,matchItem:new Array};var d=this,e=-1,f=new Array,g=0;a.each(c,function(c){var h="";if(!this.isGroup){h=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",h=h.toString();var i=!1;switch(d.searchMode){case"containsignorecase":i=a.jqx.string.containsIgnoreCase(h,b);break;case"contains":i=a.jqx.string.contains(h,b);break;case"equals":i=a.jqx.string.equals(h,b);break;case"equalsignorecase":i=a.jqx.string.equalsIgnoreCase(h,b);break;case"startswith":i=a.jqx.string.startsWith(h,b);break;case"startswithignorecase":i=a.jqx.string.startsWithIgnoreCase(h,b);break;case"endswith":i=a.jqx.string.endsWith(h,b);break;case"endswithignorecase":i=a.jqx.string.endsWithIgnoreCase(h,b)}if(d.autoComplete&&!i&&(this.visible=!1),
i&&d.autoComplete&&(f[g++]=this,this.visible=!0,e=this.visibleIndex),""==b&&d.autoComplete&&(this.visible=!0,i=!1),d.multiSelect&&(this.disabled=!1,(d.selectedItems.indexOf(this.value)>=0||d._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,i=!1)),d.multiSelect){if(i&&!d.autoComplete)return-1===e&&(e=this.visibleIndex),!0}else if(i&&!d.autoComplete)return e=this.visibleIndex,!1}}),this.listBox.searchString=b;var h=this,i=function(){if(h.multiSelect){for(var a=0,b=!1,c=null,d=0;d<h.listBox.items.length;d++)h.listBox.selectedIndexes[d]=-1,h.listBox.items[d].disabled||0==b&&(c=h.listBox.items[d],a=c.visibleIndex,b=!0);h.listBox.selectedIndex=-1,h.listBox.selectedIndex=a,h.listBox.selectedIndexes[a]=a,h.listBox.visibleItems.length>0&&c?h.listBox.selectedValue=c.value:h.listBox.selectedValue=null,h.listBox.ensureVisible(0)}};if(!this.autoComplete)return i(),{index:e,matchItems:f};this.listBox.renderedVisibleItems=new Array;var j=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var k=this.listBox.selectedValue,l=this.listBox.getItemByValue(k);if(this.multiSelect)i();else if(l)if(l.visible){this.listBox.selectedIndex=l.visibleIndex;for(var m=0;m<this.listBox.items.length;m++)this.listBox.selectedIndexes[m]=-1;this.listBox.selectedIndexes[l.visibleIndex]=l.visibleIndex}else{for(var m=0;m<this.listBox.items.length;m++)this.listBox.selectedIndexes[m]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var n=this.listBox._calculateVirtualSize().height;if(j>n&&(j=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(n+25),this.listBox.invalidate(),this._disableSelection=!1;else if(n<parseInt(this.dropDownHeight)){var o="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=o+n,this.container.height(n+25+o),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(j),{index:e,matchItems:f}},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(c){var g="";if(!this.isGroup){g=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(g,b);break;case"contains":h=a.jqx.string.contains(g,b);break;case"equals":h=a.jqx.string.equals(g,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(g,b);break;case"startswith":h=a.jqx.string.startsWith(g,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(g,b);break;case"endswith":h=a.jqx.string.endsWith(g,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(g,b)}h&&(f[e++]=this)}}),f},_resetautocomplete:function(){a.each(this.listBox.items,function(a){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){var a=this.listBox.items;return a},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height)),b){var c=this,d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:d}),this.container.width(parseInt(d)+25),this._arrange()}var c=this,e=function(){c.multiSelect&&c.host.height(c.height),c._arrange(),c.multiSelect&&c.host.height("auto")};a.jqx.utilities.resize(this.host,function(){e(),c.hideListBox("api")})},isOpened:function(){var b=this,c=a.data(document.body,"openedComboJQXListBox"+this.element.id);return"block"!=this.container.css("display")?!1:null!=c&&c==b.listBoxContainer?!0:!1},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(a){return a.target.href?!1:(b.input.focus(),void setTimeout(function(){b.input.focus()},10))}),this.addHandler(this.dropdownlistContent,"focus",function(a){return a.target.href?!1:(b.input.focus(),void setTimeout(function(){b.input.focus()},10))})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(a){var c=b.isOpened();c&&b.close()}),this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.host.removeClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-fill-state-hover")),c=!1)})),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),this.addHandler(a(document),"mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()+2&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()-20&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}}));var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart"));var e=function(c){if(!b.disabled){var d="block"==b.container.css("display");if(!b.isanimating){if(d)return b.hideListBox("api"),a.jqx.mobile.isTouchDevice()||(b.input.focus(),setTimeout(function(){b.input.focus()},10)),!0;if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25);var e=b.listBoxContainer.jqxListBox("autoHeight");e||(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.listBox._arrange(),b.listBox.ensureVisible(0),b.listBox._renderItems(),b.container.height(b.listBoxContainer.height()+25))}if(b.showListBox("api"),a.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){b.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,d,function(a){e(a)}),this.addHandler(this.dropdownlistArrowIcon,d,function(a){}),this.addHandler(this.host,"focus",function(){b.focus()}),this.addHandler(this.input,"focus",function(a){return b.focused=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-focus")),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this.input,"blur",function(){b.focused=!1,b.isOpened()||b.opening||("dropDownList"==b.selectionMode&&b._selectOldValue(),b.host.removeClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.removeClass(b.toThemeProperty("jqx-combobox-content-focus"))),b._searchTimer&&clearTimeout(b._searchTimer)}),this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if(b.ctrlKey=a.ctrlKey,"none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&c&&!b.isanimating){if(-1!=b.listBox.selectedIndex){b.renderSelection("mouse");var d=b.listBox.selectedIndex,e=b.listBox.getVisibleItem(d);e&&(b.listBox.selectedValue=e.value),b._setSelection(b.input.val().length,b.input.val().length),b.hideListBox("keyboard")}return"13"==a.keyCode&&(b._oldvalue=b.listBox.selectedValue),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"9"==a.keyCode?!0:!1}if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox("keyboard"):b.showListBox("keyboard")),!1;if(a.altKey&&"block"==b.host.css("display")&&(b.isanimating||(38==a.keyCode?b.isOpened()&&b.hideListBox("altKey"):40==a.keyCode&&(b.isOpened()||b.showListBox("altKey")))),("27"==a.keyCode||"9"==a.keyCode)&&b.isOpened()&&!b.isanimating){if("27"==a.keyCode)if(b.multiSelect)b.listBox.selectedValue=null,b.input.val("");else{var e=b.listBox.getItemByValue(b._oldvalue);e?setTimeout(function(){b.autoComplete&&b._updateItemsVisibility(""),b.listBox.selectIndex(e.index),b.renderSelection("api")},b.closeDelay):b.clearSelection()}return b.hideListBox("keyboard"),"9"==a.keyCode?!0:(b.renderSelection("api"),a.preventDefault(),!1)}var f=a.keyCode;if(c&&!b.disabled&&8!=f)return b.listBox._handleKeyDown(a);if(!b.disabled&&!c){var f=a.keyCode;if(33==f||34==f||35==f||36==f||38==f||40==f)return b.listBox._handleKeyDown(a)}if(8===f&&b.multiSelect&&0===b.input.val().length){var g=b.selectedItems[b.selectedItems.length-1];return b.selectedItems.pop(),b._selectedItems.pop(),g&&(b._raiseEvent("3",{index:g.index,type:"keyboard",item:g}),b._raiseEvent("4",{index:g.index,type:"keyboard",item:g})),b.listBox.selectedValue=null,b.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection("mouse"),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){if(!b.disabled&&("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(a.args.type),b.multiSelect||b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item}),"mouse"==a.args.type&&(b._oldvalue=b.listBox.selectedValue,!b.checkboxes))){if(b.hideListBox("mouse"),b.touch)return!1;b.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;if(a.target&&a.target.className&&a.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;b.renderSelection("mouse"),b._oldvalue=b.listBox.selectedValue,b.touch||b.ishiding||b.checkboxes||(b.hideListBox("mouse"),b.input.focus()),b.touch===!0&&(b.checkboxes||b.hideListBox("mouse"))}})},_selectOldValue:function(){var a=this;if(-1==a.listBox.selectedIndex)if(a.multiSelect)a.listBox.selectedValue=null,a.input.val("");else{var b=a.listBox.getItemByValue(a._oldvalue);b?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility(""),a.listBox.selectIndex(b.index),a.renderSelection("api")},a.closeDelay):(a.clearSelection(),a.listBox.selectIndex(0),a.renderSelection("api"))}else a.renderSelection("api")},removeHandlers:function(){var b=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,c),this.removeHandler(this.dropdownlistArrow,c)}},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},getVisibleItem:function(a){var b=this.listBox.getVisibleItem(a);return b},renderSelection:function(b){if(void 0!=b&&"none"!=b&&this._disableSelection!==!0&&null!=this.listBox&&!this.multiSelect){var c=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var c=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var d=this.getCheckedItems();c=null!=d&&d.length>0?d[0]:null}if(null==c){var e=a.jqx.browser.msie&&a.jqx.browser.version<8;return this.input.val(""),e||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var f=a("<span></span>");void 0!=c.label&&null!=c.label&&c.label.toString().length>0?a.jqx.utilities.html(f,c.label):void 0!=c.value&&null!=c.value&&c.value.toString().length>0?a.jqx.utilities.html(f,c.value):void 0!=c.title&&null!=c.title&&c.title.toString().length>0?a.jqx.utilities.html(f,c.title):a.jqx.utilities.html(f,this.emptyString);f.outerHeight();if(this.checkboxes){for(var g=this.getCheckedItems(),h="",i=0;i<g.length;i++)h+=i==g.length-1?g[i].label:g[i].label+", ";this.input.val(h)}else this.input.val(f.text());if(f.remove(),this._updateInputSelection(),this.renderSelectedItem){var j=this.renderSelectedItem(this.listBox.selectedIndex,c);void 0!=j&&(this.input[0].value=j)}this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(a,b){if(!isNaN(a)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(a,b),this.renderSelection("mouse"),this.multiSelect)){if(a>=0){var c=this.getItem(a),d=this.selectedItems.indexOf(c.value);d>=0&&(c.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(d,1),this._selectedItems.splice(d,1))}this.doMultiSelect(!1)}},selectIndex:function(a,b,c,d){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(a,b,c,d),this.renderSelection("mouse"),this.selectedIndex=a,this.multiSelect&&this.doMultiSelect()},selectItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(a){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"),this.multiSelect)){var b=this.getItemByValue(a);if(b){var c=this.selectedItems.indexOf(b.value);c>=0&&(b.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(c,1),this._selectedItems.splice(c,1))}this.doMultiSelect(!1)}},checkItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(a)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.listBox.selectedIndex},getSelectedItem:function(){return this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var b=new Array,c=this;return a.each(this.selectedItems,function(){var a=c.getItemByValue(this);if(a)b.push(a);else{var a=c._selectedItems[this];a&&b.push(a)}}),b},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){var b=this.getVisibleItem(a);return b&&this._disabledItems.push(b.value),this.listBox.disableAt(a)},enableAt:function(a){var b=this.getVisibleItem(a);return b&&this._disabledItems.splice(this._disabledItems.indexOf(b.value),1),this.listBox.enableAt(a)},disableItem:function(a){var a=this.getVisibleItem(a);return a&&this._disabledItems.push(a.value),this.listBox.disableItem(a)},enableItem:function(a){var a=this.getVisibleItem(a);return a&&this._disabledItems.splice(this._disabledItems.indexOf(a.value),1),this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;if(b){var c=a(b).coord(!0);return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(b){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=b||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=b&&(this._updateItemsVisibility(""),this.multiSelect))for(var c=this.getVisibleItems(),d=0;d<c.length;d++)if(!c[d].disabled){this.ensureVisible(d);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=b&&(this._oldvalue=this.listBox.selectedValue),a.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var e=this.host.width();this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}var f,g=this,h=this.listBoxContainer,i=this.listBox,j=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),k=parseInt(Math.round(this.host.coord(!0).left));f=k+"px";var l=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();this.ishiding=!1;var m=a.jqx.utilities.hasTransform(this.host);(m||null!=l&&l)&&(f=a.jqx.mobile.getLeftPos(this.element),j=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(j=parseInt(j)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",f),this.container.css("top",j),i._arrange();var n=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var o=this.container.outerWidth(),p=Math.abs(o-this.host.width());o>this.host.width()?this.container.css("left",25+parseInt(Math.round(k))-p+"px"):this.container.css("left",25+parseInt(Math.round(k))+p+"px")}if(this.enableBrowserBoundsDetection){var q=this.testOffset(h,{left:parseInt(this.container.css("left")),top:parseInt(j)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=q.top?(n=!0,h.css("top",23),h.addClass(this.toThemeProperty("jqx-popup-up"))):h.css("top",0),this.container.css("top",q.top),this.container.css("top",q.top),parseInt(this.container.css("left"))!=q.left&&this.container.css("left",q.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedComboJQXListBoxParent",g),a.data(document.body,"openedComboJQXListBox"+g.element.id,h),h.css("margin-top",0),h.css("opacity",1);else{this.container.css("display","block");var r=h.outerHeight();h.stop(),"fade"==this.animationType?(h.css("margin-top",0),h.css("opacity",0),h.animate({opacity:1},this.openDelay,function(){g.isanimating=!1,g.opening=!1,a.data(document.body,"openedComboJQXListBoxParent",g),a.data(document.body,"openedComboJQXListBox"+g.element.id,h)})):(h.css("opacity",1),n?h.css("margin-top",r):h.css("margin-top",-r),this.isanimating=!0,this.opening=!0,h.animate({"margin-top":0},this.openDelay,function(){g.isanimating=!1,g.opening=!1,a.data(document.body,"openedComboJQXListBoxParent",g),a.data(document.body,"openedComboJQXListBox"+g.element.id,h)}))}i._renderItems(),n?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),h.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),h.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),h.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",i)}},doMultiSelect:function(b){this.checkboxes&&(this.multiSelect=!1);var c=this;if(!this.multiSelect){var d=c.dropdownlistContent.find(".jqx-button"),e="mousedown";return this.touch&&(e=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(d,e),this.removeHandler(d.find(".jqx-icon-close"),e),d.remove(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection){var f=this.validateSelection(this.listBox.selectedValue);if(!f)return}this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var g=this.getItemByValue(this.listBox.selectedValue);g&&g.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(g),this._raiseEvent("2",{index:g.index,item:g}),this._raiseEvent("4",{index:g.index,item:g}))}this.listBox.selectedIndex=0}var h=this.listBox.items;if(h){for(var i=0;i<h.length;i++)h[i].disabled=!1,(this.selectedItems.indexOf(h[i].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(h[i].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var h="",e="mousedown",d=c.dropdownlistContent.find(".jqx-button");this.touch&&(e=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(d,e),this.removeHandler(d.find(".jqx-icon-close"),e),d.remove(),c.input.detach(),this.selectedItems.length>0?(c.input.css("width","25px"),c.input.attr("placeholder","")):(c.input.css("width","100%"),c.input.attr("placeholder",this.placeHolder)),a.each(this.selectedItems,function(b){var d=c.getItemByValue(this);(!d||c.remoteAutoComplete)&&(d=c._selectedItems[b]);var e=a('<div style="overflow: hidden; float: left;"></div>');if(e.addClass(c.toThemeProperty("jqx-button")),e.addClass(c.toThemeProperty("jqx-combobox-multi-item")),e.addClass(c.toThemeProperty("jqx-fill-state-normal")),e.addClass(c.toThemeProperty("jqx-rc-all")),d){var f=d.label;""==e[0].innerHTML&&(e[0].innerHTML='<a data-value="'+d.value+'" style="float: left;" href="#">'+f+"</a>"),c.rtl&&(e[0].innerHTML='<a data-value="'+d.value+'" style="float: right;" href="#">'+f+"</a>");var g=c.rtl?"left":"right",h='<div style="position: relative; overflow: hidden; float: '+g+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>';if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(h='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>'),c.rtl){var h='<div style="position: relative; overflow: hidden; float: '+g+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>';a.jqx.browser.msie&&a.jqx.browser.version<8&&(h='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>')}e[0].innerHTML+=h}else""==e[0].innerHTML&&(e[0].innerHTML='<a href="#"></a>');c.dropdownlistContent.append(e)}),c.dropdownlistContent.append(c.input),c.input.val(""),b!==!1&&(c.input.focus(),setTimeout(function(){c.input.focus()},10));var d=c.dropdownlistContent.find(".jqx-button");this.touchMode===!0&&(e="mousedown"),this.addHandler(d,e,function(b){if(b.target.className.indexOf("jqx-icon-close")>=0)return!0;if(c.disabled)return!0;var d=a(b.target).attr("data-value"),e=c.getItemByValue(d);return e&&(c.listBox.selectedValue=null,c.listBox.clearSelection()),c.listBox.scrollTo(0,0),c.open(),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}),this.addHandler(d.find(".jqx-icon-close"),e,function(b){if(!c.disabled){var d=a(b.target).parent().parent().find("a").attr("data-value"),e=c.getItemByValue(d);if(e||c.remoteAutoComplete&&!e&&c.selectedItems.indexOf(d)>=0){c.listBox.selectedValue=null;var f=c.selectedItems.indexOf(d),g=e&&e.index>=0?e.index:f;if(f>=0){c.selectedItems.splice(f,1);var h=c._selectedItems[f];h||(h=e),c._selectedItems.splice(f,1),c._raiseEvent("3",{index:g,type:"mouse",item:h}),c._raiseEvent("4",{index:g,type:"mouse",item:h}),c.doMultiSelect()}else for(var i=0;i<c.selectedItems.length;i++){var h=c.selectedItems[i];if(h==d){c.selectedItems.splice(i,1),c._selectedItems.splice(i,1),c._raiseEvent("3",{index:g,type:"mouse",item:e}),c._raiseEvent("4",{index:g,type:"mouse",item:e}),c.doMultiSelect();break}}}}}),c.dropdownlistArrow.height(this.host.height()),c._updateInputSelection()}},hideListBox:function(b){var c=this.listBoxContainer,d=this.listBox,e=this.container;if("none"!=this.container[0].style.display){a.jqx.aria(this,"aria-expanded",!1),("keyboard"==b||"mouse"==b)&&(this.listBox.searchString=""),("keyboard"==b||"mouse"==b&&this.multiSelect)&&this.doMultiSelect();var f=this;if(a.data(document.body,"openedComboJQXListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var g=c.outerHeight();c.css("margin-top",0),c.stop(),this.opening=!1,this.isanimating=!0;var h=-g;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(h=g),"fade"==this.animationType?(c.css({opacity:1}),c.animate({opacity:0},this.closeDelay,function(){f.isanimating=!1,e.css("display","none"),f.ishiding=!1})):c.animate({"margin-top":h},this.closeDelay,function(){f.isanimating=!1,e.css("display","none"),f.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),c.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",d)}},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(!a(b.target).ischildof(b.data.me.host)){var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return f=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return c.element.id==this.id&&(f=!0),!1}}),null==e||f||c.isOpened()&&(c.hideListBox("api"),c.input.blur()),!0}},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var b=parseInt(this.host.width()),c=parseInt(this.host.height()),d=this.arrowSize,e=this.arrowSize,f=1;this.showArrow||(e=0,d=0,this.dropdownlistArrow.hide(),f=0,this.host.css("cursor","arrow"));var g=b-e-1*f;g>0&&(this.dropdownlistContent[0].style.width=g+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+g+"px"),this.dropdownlistContent[0].style.height=c+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=e+1+"px",this.dropdownlistArrow[0].style.height=c+"px",this.dropdownlistArrow[0].style.left=1+g+"px",this.input[0].style.width="100%";
var h=this.input.height();0==h&&(h=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var i=parseInt(c)/2-parseInt(h)/2;if(i>0&&(this.input[0].style.marginTop=parseInt(i)+"px"),this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),a.jqx.browser.msie&&a.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);var c=parseInt(this.host.height());this.dropdownlistArrow.height(c);var j=parseInt(this.host.css("min-height")),i=parseInt(j)/2-parseInt(h)/2;i>0&&this.input.css("margin-top",i)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var b=a.data(this.element,"jqxComboBox");b&&delete b.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);e.owner=this,(2==b||3==b||4==b||5==b)&&(e.args=c);var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("itemHeight"==c&&b.listBoxContainer.jqxListBox({itemHeight:e}),"renderSelectedItem"==c&&b.renderSelection("mouse"),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"touchMode"===c&&(b.listBoxContainer.jqxListBox({touchMode:e}),b.touch=a.jqx.mobile.isTouchDevice(),b.touchMode===!0&&(b.touch=!0),b._updateHandlers()),"multiSelect"==c&&(e?b.doMultiSelect(!1):(b.doMultiSelect(!1),b.dropdownlistWrapper.parent().css("height","100%"),b.dropdownlistContent.css("height","100"),b.dropdownlistWrapper.css("height","100"),b.dropdownlistContent.css("position","relative"),b.host.css("min-height",null),b._setSize(),b._arrange())),"showArrow"==c&&(b._arrange(),b.multiSelect&&b.doMultiSelect(!1)),"popupZIndex"==c&&b.listBoxContainer.css({zIndex:b.popupZIndex}),"promptText"==c&&(b.placeHolder=e),"autoOpen"==c&&b._updateHandlers(),"renderer"==c&&(b.listBox.renderer=b.renderer),"itemHeight"==c&&(b.listBox.itemHeight=e),"source"==c&&(b.input.val(""),b.listBoxContainer.jqxListBox({source:b.source}),b.renderSelection("mouse"),null==b.source&&b.clearSelection(),b.multiSelect&&(b.selectedItems=new Array,b._selectedItems=new Array,b.doMultiSelect(!1))),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),("displayMember"==c||"valueMember"==c)&&(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection("mouse")),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var f=b.width;"auto"!=b.dropDownWidth&&(f=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:f,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(f)+25)}if("autoComplete"==c&&b._resetautocomplete(),"checkboxes"==c&&(b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),b.checkboxes?(b.input.attr("readonly",!0),a.jqx.aria(b,"aria-readonly",!0)):a.jqx.aria(b,"aria-readonly",!1)),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.dropdownlistContent.removeClass(),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-widget-content")),b.input.removeClass(),b.input.addClass(b.toThemeProperty("jqx-combobox-input")),b.input.addClass(this.toThemeProperty("jqx-widget-content")),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-combobox-state-normal")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.dropdownlistArrow.removeClass(),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-normal")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-normal"))),"rtl"==c&&(b.render(),b.refresh()),"width"==c||"height"==c){if(b._setSize(),"width"==c&&"auto"==b.dropDownWidth){var f=b.host.width();b.listBoxContainer.jqxListBox({width:f}),b.container.width(parseInt(f)+25)}b._arrange()}"selectedIndex"==c&&(b.listBox.selectIndex(e),b.renderSelection("mouse"))}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDropDownList","",{}),a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){var b={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){var b=this;b.width||(b.width=200),b.height||(b.height=25);var c=b.element.nodeName.toLowerCase();if("select"==c||"ul"==c||"ol"==c){b.field=b.element,b.field.className&&(b._className=b.field.className);var d={title:b.field.title};b.field.id.length?d.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":d.id=a.jqx.utilities.createId()+"_jqxDropDownList";var e=a("<div></div>",d);if(b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),a(b.field).hide().after(e),b.host=e,b.element=e[0],b.field.tabIndex){var f=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=f}var g=a.jqx.parseSourceTag(b.field);b.source=g.items,-1==b.selectedIndex&&(b.selectedIndex=g.index)}b.element.innerHTML="",b.isanimating=!1,b.id=b.element.id||a.jqx.utilities.createId(),b.host.attr("role","combobox"),a.jqx.aria(b,"aria-autocomplete","both"),a.jqx.aria(b,"aria-readonly",!1);var h=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(b._addInput(),null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");b.host.attr("tabindex")?(h.attr("tabindex",b.host.attr("tabindex")),b.host.removeAttr("tabindex")):h.attr("tabindex",0);b.touch=a.jqx.mobile.isTouchDevice(),b.comboStructure=h,b.host.append(h),b.dropdownlistWrapper=b.host.find("#dropdownlistWrapper"),b.dropdownlistArrow=b.host.find("#dropdownlistArrow"),b.arrow=a(b.dropdownlistArrow.children()[0]),b.dropdownlistContent=b.host.find("#dropdownlistContent"),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content")),b.dropdownlistWrapper.addClass(b.toThemeProperty("jqx-disableselect")),b.rtl&&(b.dropdownlistContent.addClass(b.toThemeProperty("jqx-rtl")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content-rtl"))),b.addHandler(b.dropdownlistWrapper,"selectstart",function(){return!1}),b.dropdownlistWrapper[0].id="dropdownlistWrapper"+b.element.id,b.dropdownlistArrow[0].id="dropdownlistArrow"+b.element.id,b.dropdownlistContent[0].id="dropdownlistContent"+b.element.id,"Please Choose:"!=b.promptText&&(b.placeHolder=b.promptText);var i=b.toThemeProperty("jqx-widget")+" "+b.toThemeProperty("jqx-dropdownlist-state-normal")+" "+b.toThemeProperty("jqx-rc-all")+" "+b.toThemeProperty("jqx-fill-state-normal");b.element.className+=" "+i,b._firstDiv=b.host.find("div:first");try{var j="listBox"+b.id,k=a(a.find("#"+j));k.length>0&&k.remove(),a.jqx.aria(b,"aria-owns",j),a.jqx.aria(b,"aria-haspopup",!0);var l=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+b.id+"'><div id='innerListBox"+b.id+"'></div></div>");l.hide(),l.appendTo(document.body),b.container=l,b.listBoxContainer=a(a.find("#innerListBox"+b.id));var m=b.width;"auto"!=b.dropDownWidth&&(m=b.dropDownWidth),null==m&&(m=b.host.width(),0==m&&(m=b.dropDownWidth)),null==b.dropDownHeight&&(b.dropDownHeight=200);b.container.width(parseInt(m)+25),b.container.height(parseInt(b.dropDownHeight)+25),b.addHandler(b.listBoxContainer,"bindingComplete",function(a){b._raiseEvent("6")}),b.listBoxContainer.jqxListBox({filterHeight:b.filterHeight,filterPlaceHolder:b.filterPlaceHolder,filterDelay:b.filterDelay,filterable:b.filterable,allowDrop:!1,allowDrag:!1,autoBind:b.autoBind,_checkForHiddenParent:!1,focusable:b.focusable,touchMode:b.touchMode,checkboxes:b.checkboxes,rtl:b.rtl,emptyString:b.emptyString,itemHeight:b.itemHeight,width:m,searchMode:b.searchMode,incrementalSearch:b.incrementalSearch,incrementalSearchDelay:b.incrementalSearchDelay,displayMember:b.displayMember,valueMember:b.valueMember,height:b.dropDownHeight,autoHeight:b.autoDropDownHeight,scrollBarSize:b.scrollBarSize,selectedIndex:b.selectedIndex,source:b.source,theme:b.theme,rendered:function(){b.selectedIndex!=b.listBoxContainer.jqxListBox("selectedIndex")?(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBoxContainer.jqxListBox({selectedIndex:b.selectedIndex}),b.renderSelection("mouse")):b.renderSelection("mouse")},renderer:b.renderer}),b.listBoxContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBox.enableSelection=b.enableSelection,b.listBox.enableHover=b.enableHover,b.listBox.equalItemsWidth=b.equalItemsWidth,b.listBox.selectIndex(b.selectedIndex),b.listBox._arrange(),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.addHandler(b.listBoxContainer,"unselect",function(a){b._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),b.addHandler(b.listBoxContainer,"change",function(a){a.args&&("keyboard"!=a.args.type?b._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item}):"keyboard"==a.args.type&&(b.isOpened()||b._raiseEvent("4",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})))}),"none"==b.animationType?b.container.css("display","none"):b.container.hide()}catch(n){}var b=b;if(b.propertyChangeMap.disabled=function(c,d,e,f){f?(c.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),c.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),c.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))):(c.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),c.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),c.dropdownlistContent.removeClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))),a.jqx.aria(c,"aria-disabled",c.disabled)},b.disabled&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.arrow.addClass(b.toThemeProperty("jqx-icon")),"simple"===b.renderMode&&(b.arrow.remove(),b.host.removeClass(b.toThemeProperty("jqx-fill-state-normal")),b.host.removeClass(b.toThemeProperty("jqx-rc-all"))),b._updateHandlers(),b._setSize(),b._arrange(),b.listBox&&b.renderSelection(),a.jqx.browser.msie&&a.jqx.browser.version<8&&b.host.parents(".jqx-window").length>0){var o=b.host.parents(".jqx-window").css("z-index");l.css("z-index",o+10),b.listBoxContainer.css("z-index",o+10)}},resize:function(a,b){this.width=a,this.height=b,this._setSize(),this._arrange()},val:function(a){if(!this.dropdownlistContent)return"";var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"==typeof a?!1:"date"==typeof a?!1:"boolean"==typeof a?!1:"string"==typeof a?!1:!0};if(this.input&&(b(a)||0==arguments.length))return this.input.val();var c=this.getItemByValue(a);return null!=c&&this.selectItem(c),this.input?this.input.val():void 0},focus:function(){try{var a=this,b=function(){a.host.focus(),a._firstDiv&&a._firstDiv.focus()};b(),setTimeout(function(){b()},10)}catch(c){}},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height));var c=this,d=function(){if(c._arrange(),"auto"==c.dropDownWidth){var a=c.host.width();c.listBoxContainer.jqxListBox({width:a}),c.container.width(parseInt(a)+25)}};if(b){var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()},!1,this._checkForHiddenParent)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXListBox"+this.id);return null!=c&&c==b.listBoxContainer?!0:!1},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.host.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),c=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(a){var c=b.isOpened();c&&b.close()});var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,d,function(a){if(!b.disabled){var c="block"==b.container.css("display");if(!b.isanimating){if(c)return b.hideListBox(),!1;b.showListBox(),b.focusable?b.focus():a.preventDefault&&a.preventDefault()}}}),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),a(document).on("mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}})),this.touch?this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if("none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&!b.isanimating)return c&&(b.renderSelection(),"13"==a.keyCode&&b.focusable&&b._firstDiv.focus(),b.hideListBox(),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"13"==a.keyCode&&b._raiseEvent("4",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})),c&&"9"!=a.keyCode?!1:!0;if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox():b.showListBox()),!1;if(a.altKey&&"block"==b.host.css("display"))if(38==a.keyCode){if(b.isOpened())return b.hideListBox(),!0}else if(40==a.keyCode&&!b.isOpened())return b.showListBox(),!0;return"27"!=a.keyCode||b.ishiding?b.disabled?void 0:b.listBox._handleKeyDown(a):(b.isOpened()&&(b.hideListBox(),void 0!=b.tempSelectedIndex&&b.selectIndex(b.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection(),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){if(!b.disabled){if(!a.args)return;"keyboard"!=a.args.type||b.isOpened()||b.renderSelection(),("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(),b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item,originalEvent:a.args.originalEvent}),"mouse"==a.args.type&&(b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;b.renderSelection("mouse"),b.touch||b.ishiding||b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus()),b.keyboardSelection||(void 0==b._oldSelectedInd&&(b._oldSelectedIndx=b.selectedIndex),b.selectedIndex!=b._oldSelectedIndx&&(b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),b._oldSelectedIndx=b.selectedIndex))}}),this.addHandler(this.host,"focus",function(a){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(a){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var b=this,c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,c),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id)},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeterminateItem(a)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var b=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var c in this.listBox.selectedValues){var d=this.listBox.selectedValues[c],e=this.listBox.getItemByValue(d);e&&(b=e)}if(this.checkboxes){var f=this.getCheckedItems();b=null!=f&&f.length>0?f[0]:null}if(null==b){var g=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');g.appendTo(a(document.body)),g.addClass(this.toThemeProperty("jqx-widget")),g.addClass(this.toThemeProperty("jqx-listitem-state-normal")),g.addClass(this.toThemeProperty("jqx-item")),a.jqx.utilities.html(g,this.placeHolder);var h=this.dropdownlistContent.css("padding-top"),i=this.dropdownlistContent.css("padding-bottom");g.css("padding-top",h),g.css("padding-bottom",i);var j=g.outerHeight();g.remove(),g.removeClass(),a.jqx.utilities.html(this.dropdownlistContent,g);var k=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(k=parseInt(this.height));var l=parseInt((parseInt(k)-parseInt(j))/2);return l>0&&(this.dropdownlistContent.css("margin-top",l+"px"),this.dropdownlistContent.css("margin-bottom",l+"px")),this.selectionRenderer&&(a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(g,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var g=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');g.appendTo(a(document.body)),g.addClass(this.toThemeProperty("jqx-widget")),g.addClass(this.toThemeProperty("jqx-listitem-state-normal")),g.addClass(this.toThemeProperty("jqx-item"));var m=!1;try{void 0!=b.html&&null!=b.html&&b.html.toString().length>0?a.jqx.utilities.html(g,b.html):void 0!=b.label&&null!=b.label&&b.label.toString().length>0?a.jqx.utilities.html(g,b.label):null===b.label||""===b.label?(m=!0,a.jqx.utilities.html(g,"")):void 0!=b.value&&null!=b.value&&b.value.toString().length>0?a.jqx.utilities.html(g,b.value):void 0!=b.title&&null!=b.title&&b.title.toString().length>0?a.jqx.utilities.html(g,b.title):(""==b.label||null==b.label)&&(m=!0,a.jqx.utilities.html(g,""))}catch(n){}var h=this.dropdownlistContent.css("padding-top"),i=this.dropdownlistContent.css("padding-bottom");g.css("padding-top",h),g.css("padding-bottom",i);var j=g.outerHeight();0===j&&(j=16),""!=b.label&&null!=b.label||!m||a.jqx.utilities.html(g,"");var o=this.width&&this.width.toString().indexOf("%")<=0;if(g.remove(),g.removeClass(),this.selectionRenderer)a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(g,b.index,b.label,b.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var p=this.getCheckedItems(),q="",r=0;r<p.length;r++)q+=r==p.length-1?p[r].label:p[r].label+",";g.text(q),o&&g.css("max-width",this.host.width()-30),g.css("overflow","hidden"),g.css("display","block"),this.rtl||o&&g.css("width",this.host.width()-30),g.css("text-overflow","ellipsis"),g.css("padding-bottom",1+parseInt(i)),this.dropdownlistContent.html(g),this.focusable&&this.isOpened()&&this.focus()}else this.width&&"auto"!==this.width&&(o&&(this.rtl||g.css("max-width",this.host.width()-this.arrowSize-3)),g.css("overflow","hidden"),g.css("display","block"),g.css("padding-bottom",1+parseInt(i)),this.rtl||o&&g.css("width",this.host.width()-this.arrowSize-3),g.css("text-overflow","ellipsis")),this.dropdownlistContent.html(g),this.focusable&&this.isOpened()&&this.focus();var k=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(k=parseInt(this.height));var l=parseInt((parseInt(k)-parseInt(j))/2);l>0&&(this.dropdownlistContent.css("margin-top",l+"px"),this.dropdownlistContent.css("margin-bottom",l+"px")),this.selectionRenderer&&(this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px")),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var b=new Array;if(-1==this.selectedIndex)this.input.val("");else{var c=this.getSelectedItem();null!=c?(this.input.val(c.value),b.push(c.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var d=this.getCheckedItems(),e="";if(null!=d)for(var f=0;f<d.length;f++){var g=d[f].value;void 0!=g&&(e+=f==d.length-1?g:g+",",b.push(g))}this.input.val(e)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?a.each(this.field,function(c,d){a(this).removeAttr("selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this).attr("selected",!0)}):a.each(this.items,function(c,d){a(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(b){a.jqx.utilities.html(this.dropdownlistContent,b),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(b){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||a.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection())},selectIndex:function(a,b,c,d){this.listBox.selectIndex(a,b,c,d,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(a){return this.listBox.addItem(a)},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+22):0),c},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(){if(a.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){
var b=this.host.width();this.listBoxContainer.jqxListBox({width:b}),this.container.width(parseInt(b)+25)}var c,d=this,e=this.listBoxContainer,f=this.listBox,g=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));c=h+"px";var i=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();if(null!=this.listBox){var j=a.jqx.utilities.hasTransform(this.host);this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(j||null!=i&&i)&&(c=a.jqx.mobile.getLeftPos(this.element),g=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(g=parseInt(g)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(c=parseInt(c)-this._getBodyOffset().left+"px")),e.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",c),this.container.css("top",g),f._arrange();var k=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var l=this.container.outerWidth(),m=Math.abs(l-this.host.width());l>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-m+"px"):this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if(this.enableBrowserBoundsDetection){var n=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(g)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=n.top?(k=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",n.top),parseInt(this.container.css("left"))!=n.left&&this.container.css("left",n.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+this.id,e),e.css("margin-top",0),e.css("opacity",1),f._renderItems(),d._raiseEvent("0",f);else if(this.container.css("display","block"),d.isanimating=!0,"fade"==this.animationType)e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f)});else{e.css("opacity",1);var o=e.outerHeight();k?e.css("margin-top",o):e.css("margin-top",-o),e.animate({"margin-top":0},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f)})}k?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),e.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),e.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(e.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){a.jqx.aria(this,"aria-expanded",!1);var b=this.listBoxContainer,c=this.listBox,d=this.container,e=this;if(a.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!e.ishiding){b.stop();var f=b.outerHeight();b.css("margin-top",0),e.isanimating=!0;var g=-f;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType?(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})):b.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",c)},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(a(b.target).ischildof(b.data.me.host))return!0;if(!c.isOpened())return!0;var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return f=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return c.element.id==this.id&&(f=!0),!1}}),null!=e&&!f&&c.isOpened()&&c.hideListBox(),!0},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){a!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=(this.arrowSize,this.arrowSize),d=3,e=a-c-2*d;if(e>0&&"auto"!==this.width?this.dropdownlistContent.width(e+"px"):0>=e&&this.dropdownlistContent.width(0),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),a=this.dropdownlistContent.width()+c+2*d,this.host.width(a)),this.dropdownlistContent.height(b),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(c),this.width&&this.width.toString().indexOf("%")>=0){var f=100*c/a,g=100*e/a;this.dropdownlistArrow.css("width",f+"%"),this.dropdownlistContent.css("width",g+"%")}this.dropdownlistArrow.height(b),this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var b=a.data(this.element,"jqxDropDownList");b&&delete b.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);e.owner=this,(2==b||3==b||4==b||5==b)&&(e.args=c);var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){if("filterable"==c&&b.listBoxContainer.jqxListBox({filterable:e}),"filterHeight"==c&&b.listBoxContainer.jqxListBox({filterHeight:e}),"filterPlaceHolder"==c&&b.listBoxContainer.jqxListBox({filterPlaceHolder:e}),"filterDelay"==c&&b.listBoxContainer.jqxListBox({filterDelay:e}),"enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"autoOpen"==c&&b._updateHandlers(),"emptyString"==c&&(b.listBox.emptyString=b.emptyString),"itemHeight"==c&&b.listBoxContainer.jqxListBox({itemHeight:e}),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),"source"==c&&(b.listBoxContainer.jqxListBox({source:b.source}),b.listBox.selectedIndex=-1,b.listBox.selectIndex(this.selectedIndex),b.renderSelection(),null==e&&b.clear()),("displayMember"==c||"valueMember"==c)&&(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection()),"placeHolder"==c&&b.renderSelection(),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.dropdownlistContent.removeClass(),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content")),b.dropdownlistWrapper.removeClass(),b.dropdownlistWrapper.addClass(b.toThemeProperty("jqx-disableselect")),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-normal")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.arrow.removeClass(),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.arrow.addClass(b.toThemeProperty("jqx-icon"))),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"searchMode"==c&&b.listBoxContainer.jqxListBox({searchMode:b.searchMode}),"incrementalSearch"==c&&b.listBoxContainer.jqxListBox({incrementalSearch:b.incrementalSearch}),"incrementalSearchDelay"==c&&b.listBoxContainer.jqxListBox({incrementalSearchDelay:b.incrementalSearchDelay}),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var f=b.width;"auto"!=b.dropDownWidth&&(f=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:f,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(f)+25)}if(("width"==c||"height"==c)&&e!=d&&(this.refresh(),"width"==c&&"auto"==b.dropDownWidth)){var f=b.host.width();b.listBoxContainer.jqxListBox({width:f}),b.container.width(parseInt(f)+25)}"checkboxes"==c&&b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),"selectedIndex"==c&&null!=b.listBox&&(b.listBox.selectIndex(parseInt(e)),b.renderSelection())}}})}(jqxBaseFramework),function(a){function b(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f,g=b.parentNode,h=g.name;return b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f)):!1}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}function c(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function d(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}a.jqx.jqxWidget("jqxWindow","",{}),a.extend(a.jqx._jqxWindow.prototype,{defineInstance:function(){var b={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:null,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")}};a.extend(!0,this,b)},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),a(document.body).append(this.host);var b=this,c=function(){var c=parseInt(a(b.restricter).css("padding-top")),d=parseInt(a(b.restricter).css("padding-left")),e=parseInt(a(b.restricter).css("padding-bottom")),f=parseInt(a(b.restricter).css("padding-right")),g=a(b.restricter).coord();b.dragArea={left:d+g.left,top:c+g.top,width:1+f+a(b.restricter).width(),height:1+e+a(b.restricter).height()}};if(this.restricter&&c(),this.restricter&&(this.addHandler(a(window),"resize."+this.element.id,function(){c()}),this.addHandler(a(window),"orientationchanged."+this.element.id,function(){c()}),this.addHandler(a(window),"orientationchange."+this.element.id,function(){c()})),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),a.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var d=this;d.initContent&&(d.initContent(),d._contentInitialized=!0),this.isModal&&this._fixWindowZIndex("modal-show"),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(b){var c=a.data(document.body,"jqxwindows-list")||[],d=this.zIndex;if(this.isModal){c&&(c=this._removeFromArray(this.host,c),a.data(document.body,"jqxwindows-list",c));var e=a.data(document.body,"jqxwindows-modallist");if(e)if("modal-show"==b)e.push(this.host);else{var f=e.indexOf(this.host);-1!=f&&e.splice(f,1)}else if("modal-show"==b){var g=new Array;g.push(this.host),a.data(document.body,"jqxwindows-modallist",g),e=g}else a.data(document.body,"jqxwindows-modallist",new Array),e=new Array;d=this.modalZIndex;return a.each(e,function(a){if(this.data()&&this.data().jqxWindow){var b=this.data().jqxWindow.instance;b._modalBackground.css("z-index",d),b.host.css("z-index",d+1),d+=2}}),void a.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,c)<0&&c.push(this.host),a.data(document.body,"jqxwindows-list",c),c.length>1){var h=c[c.length-2];d=parseInt(h.css("z-index"),10)+1}this.host.css("z-index",d),this._sortByStyle("z-index",c)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(a){alert(a)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var b=a.data(document.body,"jqxwindows-list")||[],c=b.length;c;)if(c-=1,a(b[c].attr("id")).length>0&&a(b[c].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var b=this.host.children("DIV");if(1===b.length)this._header=a("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=a(b[0]);else{if(2!==b.length)throw new Error("Invalid structure!");this._header=a(b[0]),this._content=a(b[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(a("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var b=a.data(document.body,"jqxwindows-list");b&&(this._removeFromArray(this.host,b),a.data(document.body,"jqxwindows-list",b)),this._modalBackground=a("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),a(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var c=this,d=function(b,c){var d=a(b).parents().get();for(j=0;j<d.length;j++)if(a(d[j]).is(c))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(a){c._stopResizing(c),a.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(a){var b=c._getTabbables();return b.length>0&&(b[0].focus(1),setTimeout(function(){b[0].focus(1)},100)),a.preventDefault(),!1}),this.addHandler(a(document),"keydown.window"+this.element.id,function(b){if(9===b.keyCode){var e=a.data(document.body,"jqxwindows-modallist");if(!(e.length>1&&e[e.length-1][0]!=c.element)){var f=c._getTabbables(),g=null,h=null;if(f.length>0&&(g=f[0],h=f[f.length-1]),b.target!=c.element&&null!=g)return d(b.target,c.host)&&(b.target!==h||b.shiftKey)?b.target===g&&b.shiftKey?(h.focus(1),!1):void 0:(g.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",a),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",a),this._closeButtonWrapper.css("margin-left","0px"))),this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",a),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",a),this._collapseButtonWrapper.css("margin-left","0px"))),this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var a;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.height(this.height):this.host.height(this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),a=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),a||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var a=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),a=!1);var b=this._header.children(0).outerWidth(!0),c=this._header.children(1).outerWidth(!0),d=b+c;return this.minWidth<100&&(this.minWidth=Math.min(d,100),a=!1),a},_centerElement:function(a,b,c,d){"number"==typeof b.left&&"number"==typeof b.top&&"number"==typeof b.height&&"number"==typeof b.width?this._centerElementInArea(a,b,c):this._centerElementInParent(a,b,c,d)},_centerElementInParent:function(a,b,c,d){if(c=c.toLowerCase(),d?d+="-":d="",c.indexOf("y")>=0){var e=a.outerHeight(!0),f=b.height(),g=Math.max(0,f-e)/2;a.css(d+"top",g+"px")}if(c.indexOf("x")>=0){var h=a.outerWidth(!0),i=b.width(),j=Math.max(0,i-h)/2;a.css(d+"left",j+"px")}},_centerElementInArea:function(a,b,c){if(c=c.toLowerCase(),c.indexOf("y")>=0){var d=a.outerHeight(!0),e=b.height,f=(e-d)/2;a.css("top",f+b.top+"px")}if(c.indexOf("x")>=0){var g=a.outerWidth(!0),h=b.width,i=(h-g)/2;a.css("left",i+b.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(a,b){var c=this._indexOf(a,b);return c>=0?b.splice(this._indexOf(a,b),1):b},_sortByStyle:function(a,b){for(var c=0;c<b.length;c++)for(var d=b.length-1;d>c;d--){var e,f=b[d],g=b[d-1];parseInt(f.css(a),10)<parseInt(g.css(a),10)&&(e=f,b[d]=g,b[d-1]=e)}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(b){a._addHeaderCursorHandlers(a)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this
})},_windowResizeHandler:function(a){var b=a.data.self;b._header.width(b.host.width()-(b._header.outerWidth(!0)-b._header.width())),b.width=a.args.width,b.height=a.args.height},_addHeaderHoverEffect:function(){var b=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){a(this).addClass(b.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){a(this).removeClass(b.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var b=this;this.isModal&&this.addHandler(a(window),"resize.window"+this.element.id,function(){"object"==typeof b._modalBackground&&null!==b._modalBackground&&(b.isOpen()&&b._modalBackground.hide(),b.restricter?(b._modalBackground.css("left",b.dragArea.left),b._modalBackground.css("top",b.dragArea.top),b._modalBackground.width(b.dragArea.width),b._modalBackground.height(b.dragArea.height)):(b._modalBackground.width(b._getDocumentSize().width),b._modalBackground.height(b._getDocumentSize().height)),b.isOpen()&&b._modalBackground.show())})},_setDialogResultHandler:function(a){var b=a.data.self;b._setDialogResult(a.data.result),b.closeWindow()},_setDialogResult:function(a){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,a=a.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9,c=b?4:0,d=c;return document.body.scrollHeight>document.body.clientHeight&&b&&(c=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&b&&(d=this._SCROLL_WIDTH),{width:a(document).width()-c,height:a(document).height()-d}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){a.isModal||a.bringToFront()})},_indexOf:function(a,b){for(var c=0;c<b.length;c++)if(b[c][0]===a[0])return c;return-1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(b){return a._closeWindow(b)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(b){b.keyCode===a.keyboardCloseKey&&null!=a.keyboardCloseKey&&"none"!=a.keyboardCloseKey?a._closeWindow(b):a._handleKeys(b)},{self:this}),this.addHandler(this.host,"keyup",function(b){if(a.keyboardNavigation&&a._moved){var c=a.host.coord(),d=c.left,e=c.top;a._raiseEvent(3,d,e,d,e),a._moved=!1}})},_handleKeys:function(b){if(this.keyboardNavigation&&this._headerFocused&&!a(document.activeElement).ischildof(this._content)){var c=b.ctrlKey,d=b.keyCode,e=this.host.coord(),f=e.left,g=e.top,h=this._getDraggingArea(),i=this.host.width(),j=this.host.height(),k=!0,l=10;switch(d){case 37:c?this.resizable&&this.resize(i-l,j):this.draggable&&f-l>=0&&this.move(f-l,g),k=!1;break;case 38:c?this.resizable&&this.resize(i,j-l):this.draggable&&g-l>=0&&this.move(f,g-l),k=!1;break;case 39:c?this.resizable&&this.resize(i+l,j):this.draggable&&f+i+l<=h.width&&this.move(f+l,g),k=!1;break;case 40:c?this.resizable&&this.resize(i,j+l):this.draggable&&g+j+l<=h.height&&this.move(f,g+l),k=!1}return k||(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation()),k}},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){a.collapsed?a.expand():a.collapse()})},_closeWindow:function(a){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(a){return a.resizeArea&&a.resizable&&!a.collapsed?void a._header.css("cursor",a._resizeWrapper.css("cursor")):a.draggable?void a._header.css("cursor","move"):(a._header.css("cursor","default"),void(a._resizeWrapper&&a._resizeWrapper.length>0&&a._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var b=this;this.addHandler(this.host,"focus",function(){b._headerFocused=!0}),this.addHandler(this.host,"blur",function(){b._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return b._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(a){return b._headerMouseDownHandler(b,a),!0}),this.addHandler(this._header,"dragstart",function(a){return a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(a){return b._headerMouseMoveHandler(b,a)}),this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(a){return b._dragHandler(b,a)}),this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(a){return b._dropHandler(b,a)});try{if(""!=document.referrer||window.frameElement){var c=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(c=document.referrer),c&&-1!=c.indexOf(document.location.host)){var d=function(a){b._dropHandler(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}}catch(e){}}},_headerMouseDownHandler:function(b,c){if(b.isModal||b.bringToFront(),null==b._resizeDirection){var d=a.jqx.mobile.getTouches(c),e=(d[0],a.jqx.position(c));b._mousePosition.x=e.left,b._mousePosition.y=e.top,b._mouseDown=!0,b._isDragging=!1}},_headerMouseMoveHandler:function(b,c){if(b._mouseDown&&!b._isDragging){var d=a.jqx.mobile.getTouches(c),e=d[0],f=e.pageX,g=e.pageY,h=a.jqx.position(c);return f=h.left,g=h.top,(f+3<b._mousePosition.x||f-3>b._mousePosition.x||g+3<b._mousePosition.y||g-3>b._mousePosition.y)&&(b._isDragging=!0,b._mousePosition={x:f,y:g},b._windowPosition={x:b.host.coord().left,y:b.host.coord().top},a(document.body).addClass(b.toThemeProperty("jqx-disableselect"))),b._isTouchDevice?(c.preventDefault(),!0):!1}return b._isDragging?b._isTouchDevice?(c.preventDefault(),!0):!1:!0},_dropHandler:function(b,c){var d=!0;if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var e=parseInt(b.host.css("left"),10),f=parseInt(b.host.css("top"),10),g=b._isTouchDevice?0:c.pageX,h=b._isTouchDevice?0:c.pageY;b.enableResize=b._enableResizeBackup,b._enableResizeBackup="undefined",b._raiseEvent(3,e,f,g,h),d=!1,"undefined"!=c.preventDefault&&c.preventDefault(),null!=c.originalEvent&&(c.originalEvent.mouseHandled=!0),"undefined"!=c.stopPropagation&&c.stopPropagation()}return b._isDragging=!1,b._mouseDown=!1,a(document.body).removeClass(b.toThemeProperty("jqx-disableselect")),d},_dragHandler:function(b,c){if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var d=b._isTouchDevice?c.originalEvent.which:c.which;if("undefined"==typeof b._enableResizeBackup&&(b._enableResizeBackup=b.enableResize),b.enableResize=!1,0===d&&a.jqx.browser.msie&&a.jqx.browser.version<8)return b._dropHandler(b,c);var e=a.jqx.mobile.getTouches(c),f=(e[0],a.jqx.position(c)),g=f.left,h=f.top,i=g-b._mousePosition.x,j=h-b._mousePosition.y,k=b._windowPosition.x+i,l=b._windowPosition.y+j;return b.move(k,l,c),c.preventDefault(),!1}return!0},_validateCoordinates:function(a,b,c,d){var e=this._getDraggingArea();a=a<e.left?e.left:a,b=b<e.top?e.top:b;var f=this.host.outerWidth(!0),g=this.host.outerHeight(!0);return a+f>=e.width+e.left-2*d&&(a=e.width+e.left-f-d),b+g>=e.height+e.top-c&&(b=e.height+e.top-g-c),{x:a,y:b}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord(),b=parseInt(this.host.css("left")),c=parseInt(this.host.css("top"));this.host.css({left:b+a.left,top:c+a.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var a={};return a.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,a.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,a.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,a.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,a},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var b=this.position.length,c=this._getDraggingArea();b;)switch(b-=1,this.position[b]=this.position[b].replace(/ /g,""),this.position[b]){case"top":this.host.css("top",c.top);break;case"left":this.host.css("left",c.left);break;case"bottom":this.host.css("top",c.height-this.host.height()+c.top);break;case"right":this.host.css("left",c.left+c.width-this.host.width());break;default:this.dragArea||(c=a(window)),this._centerElement(this.host,c,"xy")}},_raiseEvent:function(b){var c=this._events[b],d=a.Event(c),e={};return(2===b||3===b)&&(e.x=arguments[1],e.y=arguments[2],e.pageX=arguments[3],e.pageY=arguments[4]),("closed"===c||"close"===c)&&(e.dialogResult=this.dialogResult),d.args=e,this.host.trigger(d)},destroy:function(){this.removeHandler(a(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(a(window),"resize."+this.element.id),this.removeHandler(a(window),"orientationchanged."+this.element.id),this.removeHandler(a(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(a,b){return a&&b[0]===this.element||b[0]!==this.element&&"object"==typeof b[0]},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":e?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(e),this.title=e;break;case"content":this.setContent(e);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize();break;case"resizable":this.enableResize=e,e?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":e?d||(this.collapsed=!1,this.collapse(0)):d&&(this.collapsed=!0,this.expand(0));case"theme":a.jqx.utilities.setTheme(d,e,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return b._performLayout(),b._removeResize(),void b._initializeResize();default:return}},collapse:function(b){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var c=this,d=this._header.outerHeight(!0),e=parseInt(this._header.css("border-bottom-width"),10),f=parseInt(this._header.css("margin-bottom"),10),b=isNaN(parseInt(b))?this.collapseAnimationDuration:b;isNaN(e)||(d-=2*e),isNaN(f)||(d+=f),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",d),this.host.animate({height:d},b,function(){c.collapsed=!0,c._collapseButton.addClass(c.toThemeProperty("jqx-window-collapse-button-collapsed")),c._collapseButton.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c._content.css("display","none"),c._raiseEvent(5),c._raiseEvent(9),a.jqx.aria(c,"aria-expanded",!1)})}},expand:function(b){if(this.collapsed&&!this.host.is(":animated")){var c=this,b=isNaN(parseInt(b))?this.collapseAnimationDuration:b;this.host.animate({height:this._heightBeforeCollapse},b,function(){c.collapsed=!1,c.host.css("min-height",c._minHeightBeforeCollapse),c._collapseButton.removeClass(c.toThemeProperty("jqx-window-collapse-button-collapsed")),c._collapseButton.removeClass(c.toThemeProperty("jqx-icon-arrow-down")),c._content.css("display","block"),c._raiseEvent(6),c._performWidgetLayout(),c._raiseEvent(9),a.jqx.aria(c,"aria-expanded",!0)})}},closeAll:function(b){for(var b=!0,c=a.data(document.body,"jqxwindows-list"),d=c.length,e=a.data(document.body,"jqxwindow-modal")||[];d;)d-=1,this._toClose(b,c[d])&&(c[d].jqxWindow("closeWindow","close"),c.splice(d,1));this._toClose(b,e)&&(e.jqxWindow("closeWindow","close"),a.data(document.body,"jqxwindow-modal",[])),a.data(document.body,"jqxwindows-list",c)},setTitle:function(b){a.jqx.utilities.html(this._headerContentWrapper,b),this.title=b,this._performLayout()},setContent:function(b){this._contentInitialized=!1;for(var c=this._content,d=!1;!d;)c.css("height","auto"),c.css("width","auto"),c.is(".jqx-window")?d=!0:c=c.parent();a.jqx.utilities.html(this._content,b),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(a){var b=this;a="undefined"==typeof a?this.closeButtonAction:a,this.hide(function(){"close"===a&&b._destroy()})},bringToFront:function(){var b=a.data(document.body,"jqxwindows-list");if(this.isModal)return b=a.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var c=b[b.length-1],d=parseInt(c.css("z-index"),10),e=this._indexOf(this.host,b),f=b.length-1;f>e;f-=1){var g=parseInt(b[f].css("z-index"),10)-1;b[f].css("z-index",g)}this.host.css("z-index",d),this._sortByStyle("z-index",b)},hide:function(a,b,c){if(this.closing){var d=this.closing();if(0==d)return}switch(b=b||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(b,function(){a instanceof Function&&a()});case"slide":this.host.slideUp(b,function(){a instanceof Function&&a()});case"combined":this.host.hide(b,function(){a instanceof Function&&a()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),c!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(a,b){this.show(a,b)},close:function(a,b,c){this.hide(a,b,c)},show:function(a,b){switch(this._setDialogResult("none"),b=b||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(b,function(){a instanceof Function&&a()});break;case"slide":this.host.slideDown(b,function(){a instanceof Function&&a()});break;case"combined":this.host.show(b,function(){a instanceof Function&&a()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var c=this;this._visible||(b>150&&"none"!=this.animationType?setTimeout(function(){c._contentInitialized||c.initContent&&(c.initContent(),c._contentInitialized=!0),c._raiseEvent(7),c._raiseEvent(9)},b-150):(c._contentInitialized||c.initContent&&(c.initContent(),c._contentInitialized=!0),this._raiseEvent(7),c._raiseEvent(9))),this._visible=!0,this._performLayout();var d=function(){c._isTouchDevice||c._content.focus()};d(),setTimeout(function(){d()},100)},_getTabbables:function(){var b=this._content.find("*"),c=new Array;return a.each(b,function(){d(this)&&(c[c.length]=this)}),c},move:function(b,c,d,e){var f,g,h,i=0,j=0,b=parseInt(b,10),c=parseInt(c,10);if(a.jqx.browser.msie&&(a(window).width()>a(document).width()&&!this.dragArea&&(j=this._SCROLL_WIDTH),a(window).height()<a(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(i=this._SCROLL_WIDTH)),f=this._validateCoordinates(b,c,j,i),parseInt(this.host.css("left"),10)!==f.x||parseInt(this.host.css("top"),10)!==f.y){if(d){var k=a.jqx.mobile.getTouches(d),l=(k[0],a.jqx.position(d));g=l.left,h=l.top}void 0==g&&(g=b),void 0==h&&(h=c),e!==!1&&this._raiseEvent(2,f.x,f.y,g,h)}this.element.style.left=f.x+"px",this.element.style.top=f.y+"px",this._moved=!0}})}(jqxBaseFramework),function(a){var b=function(a){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var b=a(this.resizeTarget.children(".jqx-resize"));b.detach();var c=b.children();this._removeResizeEventListeners();for(var d=0;d<c.length;d+=1)a(c[d]).detach(),this.resizeTarget.append(c[d]);b.remove()}},initResize:function(b){this.resizeConfig(),this.resizeTarget=a(b.target),this.resizeIndicatorSize=b.indicatorSize||10,this.maxWidth=b.maxWidth||100,this.minWidth=b.minWidth||1,this.maxHeight=b.maxHeight||100,this.minHeight=b.minHeight||1,this.resizeParent=b.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,b.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(b,c,d,e,f){this.resizeTargetChildren=a(f),this.resizeTargetChildren.toArray();for(var g=this.resizeTargetChildren.length;g;)g-=1,this.resizeTargetChildren[g]=a(this.resizeTargetChildren[g])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+b),this.removeHandler(this._resizeWrapper,"mousedown.resize"+b),this.removeHandler(a(document),"mousemove.resize"+b),this.removeHandler(a(document),"mouseup.resize"+b)},_addResizeEventHandlers:function(){var b=this.resizeTarget.attr("id"),c=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+b,function(a){c._resizeCursorChangeHandler(c,a)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+b,function(a){c._resizeMouseDownHandler(c,a)}),this.addHandler(a(document),"mousemove.resize."+b,function(a){return c._resizeHandler(c,a)}),this.addHandler(a(document),"mouseup.resize."+b,function(a){c._stopResizing(c,a)});try{if(""!=document.referrer||window.frameElement){var d=function(a){c._stopResizing(c,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}catch(e){}},_stopResizing:function(a,b){a.enableResize&&(a.isResizing&&a._raiseResizeEvent(1),a._resizeMouseDown=!1,a.isResizing=!1,a._resizeDirection=null,a.resizeTarget&&a.resizeTarget.removeClass("jqx-disableselect")),"undefined"==a._cursorBackup&&(a._cursorBackup="default"),a._resizeWrapper&&a._resizeWrapper.css("cursor",a._cursorBackup)},_resizeHandler:function(b,c){return b.enableResize&&!b.collapsed?b.isResizing&&b._resizeDirection?(0===c.which&&a.jqx.browser.msie&&a.jqx.browser.version<9&&b._stopResizing(c),b._performResize(c.pageX,c.pageY),!1):b._resizeCaptureCursor(c.pageX,c.pageY):void 0},_resizeCaptureCursor:function(a,b){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(a+3<this._mouseResizePosition.x||a-3>this._mouseResizePosition.x||b+3<this._mouseResizePosition.y||b-3>this._mouseResizePosition.y)?(this._changeCursor(a-parseInt(this.resizeTarget.css("left")),b-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:a,y:b},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var a,b=this.resizeTargetChildren.length;b;)b-=1,a=this.resizeTargetChildren[b],this.resizeTargetChildren[b].lastWidth=a.width(),this.resizeTargetChildren[b].lastHeight=a.height()},_performResize:function(a,b){var c=a-this._mouseResizePosition.x,d=b-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,c,d)},_resizeCursorChangeHandler:function(a,b){a.enableResize&&!a.collapsed&&(a.isResizing||a._changeCursor(b.pageX-parseInt(a.resizeTarget.css("left")),b.pageY-parseInt(a.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(a,b){a.enableResize&&null!==a._resizeDirection&&(a._resizeMouseDown=!0,a._mouseResizePosition.x=b.pageX,a._mouseResizePosition.y=b.pageY,b.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(a){alert(a)}},_changeCursor:function(a,b){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,a<=this.resizeIndicatorSize&&a>=0&&b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):b<=this.resizeIndicatorSize&&b>0&&a>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(a){this._resizeMethods=[],a.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),a.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),a.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),a.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(a,b,c,d,e){return"horizontal"===c||"both"===c?this._validateWidth(a,d,e):"vertical"===c||"both"===c?this._validateHeight(b,d,e):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).width()>a(document).width()&&a.jqx.browser.msie&&g.height===a(document).height()&&(e=this._SCROLL_WIDTH),"bottom"===d&&b+c.position().top+e+f>g.height+g.top?{fix:g.height-c.position().top-e-f+g.top,result:!1}:"top"===d&&c.lastHeight-b+c.y<g.top?{fix:b+(c.lastHeight-b+c.y)-g.top,result:!1}:b<c.minHeight?{fix:c.minHeight,result:!1}:b>c.maxHeight?{fix:c.maxHeight,result:!1}:{result:!0,fix:b}},_validateWidth:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&g.width===a(document).width()&&(e=this._SCROLL_WIDTH),"right"===d&&b+c.position().left+e+f>g.width+g.left?{fix:g.width-c.position().left-e-f+g.left,result:!1}:"left"===d&&c.lastWidth-b+c.x<g.left?{fix:b+(c.lastWidth-b+c.x)-g.left,result:!1}:b<c.minWidth?{fix:c.minWidth,result:!1}:b>c.maxWidth?{fix:c.maxWidth,result:!1}:{result:!0,fix:b}},_resize:function(a,b,c){for(var d=(this._resizeDirection,this._resizeMethods.length),e=0;d>e;e++)if(this._resizeMethods[e]instanceof Function){var f={element:a,x:b,y:c,self:this};this._resizeMethods[e](f)}this._performResizeLayout()},resize:function(a,b){if(this.resizable){var c=a-this.host.width(),d=b-this.host.height(),e="right";0!=d&&(e="bottom"),this._resizeDirection=e,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,c,d),this.isResizing=!1}},_setResizeChildrenSize:function(a,b){for(var c=this.resizeTargetChildren.length;c;)if(c--,"width"===b){var d=this.resizeTargetChildren[c].lastWidth-(this.resizeTarget.lastWidth-a);d<this.resizeTarget.maxWidth&&d>0&&this.resizeTargetChildren[c].width(d)}else{var e=this.resizeTargetChildren[c].lastHeight-(this.resizeTarget.lastHeight-a);e<this.resizeTarget.maxHeight&&e>0&&this.resizeTargetChildren[c].height(e)}},_resizeRight:function(a){var b=a.element.lastWidth+a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"right");return c.result||(b=c.fix),a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.self._raiseResizeEvent(0)),b},_resizeLeft:function(a){var b=a.element.lastWidth-a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"left"),d=a.element.x+a.x;return c.result?(a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.element.css("left",d),a.self._raiseResizeEvent(0)),b):(d=a.element.x+(a.element.lastWidth-c.fix),void(b=c.fix))},_resizeBottom:function(a){var b=a.element.lastHeight+a.y,c=a.self._validateResize(0,b,"vertical",a.element,"bottom");return c.result||(b=c.fix),a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.self._raiseResizeEvent(0)),b},_resizeTop:function(a){var b=a.element.lastHeight-a.y,c=a.self._validateResize(0,b,"vertical",a.element,"top"),d=a.element.y+a.y;return c.result?(a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.element.css("top",d),a.self._raiseResizeEvent(0)),b):(d=a.element.y+(a.element.lastHeight-c.fix),void(b=c.fix))},_raiseResizeEvent:function(b){var c=this._resizeEvents[b],d=a.Event(c),e={};if(e.width=parseInt(this.resizeTarget[0].style.width),e.height=parseInt(this.resizeTarget[0].style.height),
d.args=e,0==b){var c=this._resizeEvents[2],f=a.Event(c);f.args=e,this.resizeTarget.trigger(f)}return this.resizeTarget.trigger(d)}}}(jqxBaseFramework);a.extend(a.jqx._jqxWindow.prototype,b)}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDocking","",{}),a.extend(a.jqx._jqxDocking.prototype,{defineInstance:function(){var b={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};a.extend(!0,this,b)},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(a){a||this._performLayout()},_refresh:function(b){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var c=a.Event("resize");this.host.trigger(c)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1)this._panels[a].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[a].addClass(this.toThemeProperty("jqx-rc-all"));for(var a=0;a<this._windows.length;a+=1)this._windows[a].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1)this._panels[a].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[a].removeClass(this.toThemeProperty("jqx-rc-all"));for(var a=0;a<this._windows.length;a+=1)this._windows[a].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var b=this.host.children("div"),c=0;c<b.length;c+=1)this._panels.push(a(b[c])),this._renderWindows(a(b[c]))},_renderWindows:function(b){for(var c=b.children("div"),d=0;d<c.length;d+=1)this._windows.push(a(c[d])),a(c[d]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:a(c[d]).css("width"),maxWidth:Number.MAX_VALUE}),a(c[d]).detach(),b.append(a(c[d]));b.append('<div class="spacer" style="clear: both;"></div>')},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){for(var a,b=this.host.width(),c=0,d=0;d<this._panels.length;d+=1)a=this._panels[d],a.css("height","auto"),a.css("min-width","auto"),"vertical"===this.orientation?(a.css("width","auto"),a.css("float","none")):(c+=this._handleHorizontalSize(a,c,b),d>0&&a.css("margin-left",-this.windowsOffset)),a.css("min-width",a.width());"horizontal"===this.orientation&&b>c&&this._fillContainer(b,c)},_handleHorizontalSize:function(a,b,c){var d,e=c/this._panels.length,f=a.outerWidth()-a.width();return a.css("float","left"),("auto"===a.css("width")||0===parseInt(a.css("width"),10))&&a.width(e-f),b+a.outerWidth()>=c&&(c>b+e?(d=e-f,a.css("min-width",d),a.width(d)):(d=a.width()-(b+a.outerWidth()-c),a.css("min-width",d),a.width(d))),a.outerWidth()},_fillContainer:function(b,c){var d=this._panels.length,e=this._panels[d-1],f=b-c+e.width();a.jqx.browser.msie&&a.jqx.browser.version<9&&(f-=this._panels.length),e.width(f)},_performWindowsLayout:function(){for(var a,b=0;b<this._windows.length;b+=1)a=this._getWindowOptions(this._windows[b]),this._windows[b].ischildof(this.host)&&(a?"floating"!==a.mode&&(this._windows[b].css("margin",this.windowsOffset),this._windows[b].css("position","static")):"floating"!==this.mode&&(this._windows[b].css("position","static"),this._windows[b].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[b],a)},_setWindowSize:function(a,b){if("floating"!==b.mode&&a.ischildof(this.host)){var c=a.parent().width()-(a.outerWidth()-a.width())-2*this.windowsOffset;"vertical"===this.orientation?a.jqxWindow("width",c):a.jqxWindow("width",c)}this._setWindowOption(a,"size",{width:a.width(),height:a.height()})},_setWindowsOptions:function(a){for(var b=0;b<this._windows.length;b+=1){var c,d=this._windows[b].attr("id"),e=this._getWindowOptions(d);if(!a);c=null,this.windowsMode&&this.windowsMode.hasOwnProperty(d)?(c=this.windowsMode[d],this._setWindowOption(this._windows[b],"mode",c)):"undefined"!=typeof e&&"undefined"==typeof e.mode&&(c=this.mode,this._setWindowOption(this._windows[b],"mode",c)),a&&(this._setWindowOption(this._windows[b],"resizable",!0),"floating"==c?this._windows[b].jqxWindow({enableResize:!0}):this._windows[b].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[b],"size",{height:this._windows[b].height(),width:this._windows[b].width()}))}},_removeEventListeners:function(){for(var a=0;a<this._windows.length;a+=1)this.removeHandler(this._windows[a],"moving",this._itemDragging),this.removeHandler(this._windows[a],"moved",this._itemDrop),this.removeHandler(this._windows[a],"resized",this._itemResized),this.removeHandler(this._windows[a],"collapse",this._collapsed),this.removeHandler(this._windows[a],"expand",this._expanded)},_addEventListeners:function(){for(var b=0;b<this._windows.length;b+=1)this._addEventListenersTo(this._windows[b]);var c=this;a.jqx.utilities.resize(this.host,function(){c._performLayout()})},_addEventListenersTo:function(a){this.addHandler(a,"moving",this._itemDragging,{self:this}),this.addHandler(a,"moved",this._itemDrop,{self:this}),this.addHandler(a,"resized",this._itemResized,{self:this}),this.addHandler(a,"collapse",this._collapsed,{self:this}),this.addHandler(a,"expand",this._expanded,{self:this})},_itemDragging:function(b){var c=b.data.self,d=a(b.target),e=c._getWindowOptions(d);if(d.removeClass(c.toThemeProperty("jqx-docking-window")),d.css("margin","0px"),c._dragging||c._prepareForDragging(d),"floating"!==e.mode){var f={x:b.args.pageX,y:b.args.pageY},g=c._getMouseOverPanel(f);return g?c._mouseOverPanel(g,f):c._mouseLeavePanel(),c._draggedFired||(c._raiseEvent(1,{window:a(d).attr("id")}),c._draggedFired=!0),!0}},_prepareForDragging:function(b){this._dragging=!0;var c={parent:b.parent(),next:b.next(),prev:b.prev()};this._setWindowOption(b,"lastPosition",c),b.detach(),a(document.body).append(b),this._setDraggingStyles(b),this._draggingItem=b},_setDraggingStyles:function(a){a.css({position:"absolute",left:a.offset().left,top:a.offset().top}),a.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(a){for(var b=0;b<this._panels.length;b+=1)if(this._isMouseOverItem(this._panels[b],a,!1))return this._panels[b];return null},_mouseOverPanel:function(a,b){if(this._dragging){var c=a.children("div"),d=this._getHoverWindow(b,c);if("indicator"===d)return;var e=this._centerOffset(d,b);this._handleIndicator(a,d,e)}},_getHoverWindow:function(b,c){if(this._isMouseOverItem(this._indicator,b,!0))return"indicator";for(var d=0;d<c.length;d+=1)if(this._isMouseOverItem(a(c[d]),b,!0))return a(c[d]);return null},_centerOffset:function(a,b){if(a){var c,d={x:a.offset().left,y:a.offset().top},e=a.height();a.width();return c=d.y+e/2,b.y>c?"next":"prev"}return"all"},_handleIndicator:function(a,b,c){var d=this._getIndicator(b);"all"===c?"vertical"===this.orientation?d.insertBefore(a.children(".spacer")):a.append(d):"prev"===c?d.insertBefore(b):d.insertAfter(b),this._resizeIndicator(d,a)},_getIndicator:function(){var b=this._indicator;return b||(b=a('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=b,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),b},_resizeIndicator:function(a,b){"horizontal"===this.orientation?(a.width(b.width()-(a.outerWidth(!0)-a.width())),a.height(this._draggingItem.height())):(a.width(this._draggingItem.width()),a.height(this._draggingItem.height()))},_mouseLeavePanel:function(a){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(b){var c=b.data.self,d=a(b.currentTarget);c._dragging=!1,c._indicator?(d.detach(),d.insertAfter(c._indicator),c._indicator.remove(),c._dropFixer(d)):c._dropHandler(d),d.fadeTo(0,1),d.focus(),c._indicator=null,c._cookieExporter(),c._draggedFired=!1,c._raiseEvent(0,{window:d.attr("id")})},_dropFixer:function(a){a.css("position","static"),a.addClass(this.toThemeProperty("jqx-docking-window")),a.css("margin",this.windowsOffset),a.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(a)},_dropHandler:function(a){this._getWindowOptions(a);"docked"===this.mode?this._dropDocked(a):this._dropFloating(a)},_dropDocked:function(a){var b=this._getWindowOptions(a),c=b.lastPosition;a.detach(),c.next[0]?a.insertBefore(c.next):c.prev[0]?a.insertAfter(c.prev):c.parent.append(a),this._dropFixer(a)},_fixWindowSize:function(b){a(b).jqxWindow({width:b.parent().width()-(b.outerWidth()-b.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(b){var c=b.data.self,d=a(b.currentTarget);c._setWindowOption(d,"size",{width:b.args.width,height:b.args.height}),c._cookieExporter()},_dropFloating:function(b){var c;a(b).jqxWindow("collapsed")||(c=this._getWindowOptions(b),a(b).jqxWindow("enableResize",c.resizable)),a(document.body).append(b),this._restoreWindowSize(b)},_restoreWindowSize:function(b){var c=this._getWindowOptions(b);a(b).jqxWindow({width:c.size.width})},_isMouseOverItem:function(a,b,c){if(!a)return!1;var d=a.outerWidth(!0),e=a.outerHeight(!0),f=a.width(),g=a.height(),h=a.offset().top,i=a.offset().left;return c&&(h-=(e-g)/2,i-=(d-f)/2,f=d,g=e),i<=b.x&&i+f>=b.x&&h<=b.y&&h+g+2*this._draggingItem.height()/3>=b.y?!0:!1},_cookieHandler:function(){if(this.cookies){var b=a.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==b&&(this.importLayout(b),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&a.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(a,b){for(var c=0;c<b.length;c+=1)if(a[0]===b[c][0])return c;return-1},_exportFixed:function(){for(var b,c,d=[],e="",f=0;f<this._panels.length;f+=1){e+='"panel'+f+'": {',b=this._panels[f].children();for(var g=0;g<b.length;g+=1)c=a(b[g]),c.attr("id")&&(d.push(c),e+='"'+c.attr("id")+'":{"collapsed":'+c.jqxWindow("collapsed")+"},");b.length>1&&(e=e.substring(0,e.length-1)),e+="},"}return e=e.substring(0,e.length-1),{JSON:e,children:d}},_exportFloating:function(b){var c,d="";d+='"floating":{';for(var e=0;e<this._windows.length;e+=1)c=a(this._windows[e]),-1===this._indexOf(c,b)&&(d+='"'+c.attr("id")+'":{"x":"'+c.css("left")+'","y":"'+c.css("top")+'","width":"'+c.jqxWindow("width")+'","height":"'+c.jqxWindow("height")+'","collapsed":'+c.jqxWindow("collapsed")+"},");return","===d.substring(d.length-1,d.length)&&(d=d.substring(0,d.length-1)),d+="}"},_importFixed:function(b){for(var c in b)if("orientation"!==c&&"floating"!==c&&b.hasOwnProperty(c)){order=c.substring(c.length-1,c.length),order=parseInt(order,10),children=b[c];for(var c in children)a("#"+c).css("position","static"),children[c].collapsed&&!function(b){setTimeout(function(){a("#"+b).jqxWindow("collapsed",!0)},0)}(c),this._panels[order].append(a("#"+c)),"horizontal"===this.orientation&&this._fixWindowSize(a("#"+c))}},_importFloating:function(b){var c,d=b.floating;for(var e in d)d.hasOwnProperty(e)&&(a("#"+e).css("position","absolute"),a(document.body).append(a("#"+e)),c=this._dragging,a("#"+e).jqxWindow("move",d[e].x,d[e].y),this._dragging=c,a("#"+e).jqxWindow("width",d[e].width),a("#"+e).jqxWindow("height",d[e].height),a("#"+e).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(b){setTimeout(function(){a("#"+b).jqxWindow("collapsed",d[b].collapsed)},0)}(e),a("#"+e).fadeTo(0,1))},_getWindowOptions:function(a){return"object"==typeof a&&null!==a&&(a=a.length>0?a.attr("id"):a.id),this._windowOptions[a]},_setWindowOption:function(a,b,c){"object"==typeof a&&null!==a&&(a=a.length>0?a.attr("id"):a.id),"undefined"==typeof this._windowOptions[a]&&(this._windowOptions[a]={}),this._windowOptions[a][b]=c,"mode"===b&&this.setWindowMode(a,c)},_expanded:function(a){var b=a.data.self;b._cookieExporter()},_collapsed:function(a){var b=a.data.self;b._cookieExporter()},_raiseEvent:function(b){var c=a.Event(this._events[b]);return c.args=arguments[1],this.host.trigger(c)},_moveWindow:function(b,c,d){var e=c.children(),f=null,g=0;a.each(e,function(c){"static"==a(this).css("position")&&(g==d&&this!=b[0]&&(f=this),g++)}),d>=g?b.appendTo(c):null!=f&&b.insertBefore(f),b.css("position","static")},propertyChangedHandler:function(b,c,d,e){switch(c){case"rtl":a.each(b._windows,function(){this.jqxWindow({rtl:e})});break;case"theme":a.each(b._windows,function(){this.jqxWindow({theme:e})});break;case"orientation":case"height":case"width":b._performLayout(),b._cookieExporter();break;case"panelsRoundedCorners":b._removeClasses(),b._addClasses();break;case"disabled":e?(b.disabled=!1,b.disable()):(b.disabled=!0,b.enable());break;case"windowsMode":case"mode":b._setWindowsOptions(!1);break;case"cookies":b._cookieExporter();break;case"windowsOffset":b._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var b=0;b<this._windows.length;b+=1)this._windows[b][0].style.opacity="",a(this._windows[b]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var b=0;b<this._windows.length;b+=1)a(this._windows[b]).jqxWindow("enable")}},move:function(b,c,d){var c=this._panels[c];if(c){var e,f=a(c.children(".spacer"));f.detach(),b=a("#"+b),e=this._getWindowOptions(b),"floating"!==e.mode&&(this._moveWindow(b,c,d),c.append(f),this._cookieExporter(),this._dropFixer(b))}},exportLayout:function(){var a="{",b=this._exportFixed();return a+=b.JSON+","+this._exportFloating(b.children)+',"orientation": "'+this.orientation+'"',a+="}"},importLayout:function(b){try{var c=a.parseJSON(b);this.orientation=c.orientation,this._performLayout(),this._importFixed(c),this._importFloating(c)}catch(d){alert("Invalid JSON string.")}},setWindowMode:function(b,c){var b=a("#"+b),d=this._getWindowOptions(b);"floating"===c?(b.css("position","absolute"),this._windowOptions[b.attr("id")].mode=c):"floating"===d.mode&&"absolute"===b.css("position")&&(d.lastPosition?this._dropDocked(b):(this._panels[0].append(b),this._dropFixer(b))),this._windowOptions[b.attr("id")].mode=c},hideCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",!1)},showCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",!0)},expandWindow:function(b,c){a("#"+b).jqxWindow("expand",c)},collapseWindow:function(b,c){a("#"+b).jqxWindow("collapse",c)},setWindowProperty:function(b,c,d){a("#"+b).jqxWindow(c,d)},getWindowProperty:function(b,c){return a("#"+b).jqxWindow(c)},setWindowPosition:function(b,c,d){var b=a("#"+b),e=this._getWindowOptions(b);"floating"===e.mode&&(b.css("position","absolute"),a(b).jqxWindow("move",c,d,null,!1))},hideAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCollapseButton",!0)},pinWindow:function(b){a("#"+b).jqxWindow("draggable",!1)},unpinWindow:function(b){a("#"+b).jqxWindow("draggable",!0)},setDraggingMode:function(b){var c=a("#"+b);this._prepareForDragging(c),c.fadeTo(0,1)},enableWindowResize:function(b){b=a("#"+b),"absolute"===b.css("position")&&(this._setWindowOption(b,"resizable",!0),b.jqxWindow("enableResize",!0))},disableWindowResize:function(b){b=a("#"+b),this._setWindowOption(b,"resizable",!1),b.jqxWindow("enableResize",!1)},addWindow:function(b,c,d,e){var f="#"+b;a(f).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:a(f).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(a(f)),this._windows.push(a(f)),c?this._setWindowOption(a(f),"mode",c):this._setWindowOption(a(f),"mode",this.mode),this._setWindowOption(a(f),"resizable",!0),this._setWindowOption(a(f),"size",{width:a(f).width(),height:a(f).height()}),"floating"==c?a(f).jqxWindow({enableResize:!0}):a(f).jqxWindow({enableResize:!1}),null!=this._panels[d]&&this._setWindowOption(a(f),"size",{width:this._panels[d].width(),height:this._panels[d].height()}),this._addEventListenersTo(a(f)),"undefined"!=typeof d&&"undefined"!=typeof e&&this.move(b,d,e),this._dropFixer(a(f))},closeWindow:function(b){a("#"+b).jqxWindow("closeWindow")}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDockPanel","",{}),a.extend(a.jqx._jqxDockPanel.prototype,{defineInstance:function(){this.width=null,this.height=null,this.lastchildfill=!0,this.disabled=!1,this.events=["layout"]},createInstance:function(b){var c=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=a(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),a.jqx.utilities.resize(this.host,function(){c.refresh()})},render:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(a,b){this.width=a,this.height=b,this.render()},performLayout:function(){if(!this.disabled){var b=this.childrenCount,c=0,d=0,e=0,f=0,g=this,h={width:this.host.width(),height:this.host.height()};this.sizeCache.length<this.$wrapper.children().length&&a.each(this.$wrapper.children(),function(b){var c=a(this);c.css("position","absolute");var d={width:c.css("width"),height:c.css("height")};g.sizeCache[b]=d}),a.each(this.$wrapper.children(),function(i){var j=this.getAttribute("dock");void 0==j&&(j="left"),i==b-1&&g.lastchildfill&&(j="fill");var k=a(this);k.css("position","absolute"),k.css("width",g.sizeCache[i].width),k.css("height",g.sizeCache[i].height);var l={width:k.outerWidth(),height:k.outerHeight()},m={x:e,y:f,width:Math.max(0,h.width-(e+c)),height:Math.max(0,h.height-(f+d))};if(b>i)switch(j){case"left":e+=l.width,m.width=l.width;break;case"top":f+=l.height,m.height=l.height;break;case"right":c+=l.width,m.x=Math.max(0,h.width-c),m.width=l.width;break;case"bottom":d+=l.height,m.y=Math.max(0,h.height-d),m.height=l.height}k.css("left",m.x),k.css("top",m.y),k.css("width",m.width),k.css("height",m.height)}),this._raiseevent(0)}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(b,c,d){if(void 0!=this.isInitialized&&1==this.isInitialized){var e=this.events[b],f=new a.Event(e);f.previousValue=c,f.currentValue=d,f.owner=this;var g=this.host.trigger(f);return g}},propertyChangedHandler:function(a,b,c,d){this.isInitialized&&a.render()},refresh:function(){this.render()}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxMaskedInput","",{}),a.extend(a.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var b={value:null,mask:"99999",width:null,height:25,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",inputMode:"advanced",rtl:!1,disabled:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){var b=this;b.host.attr({role:"textbox"}),b.host.attr("data-role","input");var c=b.host.attr("value");void 0!=c&&""!=c&&(b.value=c),a.jqx.aria(this),a.jqx.aria(this,"aria-multiline",!1),a.jqx.aria(this,"aria-readonly",b.readOnly),b.host.addClass(b.toThemeProperty("jqx-input")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),maskEditor=this,"div"==b.element.nodeName.toLowerCase()?(b.element.innerHTML="",b.maskbox=a("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textarea'/>").appendTo(b.host)):(b.maskbox=b.host,b.maskbox.attr("autocomplete","off"),b.maskbox.attr("autocorrect","off"),b.maskbox.attr("autocapitalize","off"),b.maskbox.attr("spellcheck",!1)),b.maskbox.addClass(b.toThemeProperty("jqx-reset")),b.maskbox.addClass(b.toThemeProperty("jqx-input-content")),b.maskbox.addClass(b.toThemeProperty("jqx-widget-content"));var d=b.host.attr("name");d&&b.maskbox.attr("name",d),b.rtl&&b.maskbox.addClass(b.toThemeProperty("jqx-rtl"));var e=this;b.propertyChangeMap.disabled=function(a,b,c,d){d?a.maskbox.addClass(e.toThemeProperty("jqx-input-disabled")):a.maskbox.removeClass(e.toThemeProperty("jqx-input-disabled"))},b.disabled&&(b.maskbox.addClass(b.toThemeProperty("jqx-input-disabled")),b.maskbox.attr("disabled",!0),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled"))),b.selectedText="",b.self=this,b.oldValue=b._value(),b.items=new Array,b._initializeLiterals(),b._render(),null!=b.value&&b.inputValue(b.value.toString());var e=this;if(b.host.parents("form").length>0&&b.host.parents("form").on("reset",function(){setTimeout(function(){e.clearValue()},10)}),b.addHandlers(),b.cookies){var f=a.jqx.cookie.cookie("maskedInput."+b.element.id);f&&b.val(f)}},addHandlers:function(){var b=this;a.jqx.mobile.isTouchDevice()&&(this.inputMode="simple");var c="",d=function(a,b){var c=String.fromCharCode(b),d=parseInt(c),e=!0;if(!isNaN(d)){e=!0;var f=this.maskbox.val().toString().length;f>=this._getEditStringLength()&&0==this._selection().length&&(e=!1)}return a.ctrlKey||a.shiftKey||b>=65&&90>=b&&(e=!1),e};this.addHandler(this.maskbox,"blur",function(d){return"simple"==b.inputMode?(b._exitSimpleInputMode(d,b,!1,c),!1):(b.rtl&&b.maskbox.css("direction","ltr"),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),void(b.maskbox.val()!=c&&(b._raiseEvent(7,d),b.cookies&&a.jqx.cookie.cookie("maskedInput."+b.element.id,b.maskbox.val()))))}),this.addHandler(this.maskbox,"focus",function(d){return c=b.maskbox.val(),"simple"==b.inputMode?(b.maskbox[0].value=b._getEditValue(),a.data(b.maskbox,"simpleInputMode",!0),!1):(b.rtl&&b.maskbox.css("direction","rtl"),void b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"keydown",function(a){var c=b.readOnly,e=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(c||b.disabled)return!1;if("simple"!=b.inputMode){var f=b._handleKeyDown(a,e);return f||(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),f}return d.call(b,a,e)}),this.addHandler(this.host,"keyup",function(a){var c=b.readOnly,e=a.charCode?a.charCode:a.keyCode?a.keyCode:0;return c||b.disabled?!0:"simple"==b.inputMode?d.call(b,a,e):(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(a){var c=b.readOnly,e=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(c||b.disabled)return!0;if("simple"==b.inputMode)return d.call(b,a,e);var f=b._handleKeyPress(a,e);return f||(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),f})},focus:function(){try{this.maskbox.focus()}catch(a){}},_exitSimpleInputMode:function(b,c,d,e){if(void 0==c&&(c=b.data),null!=c){if(void 0==d){if(null!=b.target&&null!=c.element&&(void 0!=b.target.id&&b.target.id.toString().length>0&&c.host.find("#"+b.target.id).length>0||b.target==c.element))return;var f=c.host.offset(),g=f.left,h=f.top,i=c.host.width(),j=c.host.height(),k=a(b.target).offset();if(k.left>=g&&k.left<=g+i&&k.top>=h&&k.top<=h+j)return}if(!c.disabled&&!c.readOnly){var l=a.data(c.maskbox,"simpleInputMode");if(null!=l){for(var m=c.maskbox.val(),n=m.toString(),o=0,p=0;p<this.items.length;p++)if(this.items[p].canEdit){if(!this._match(n.substring(o,o+1),this.items[p].regex)&&""!==n.substring(o,o+1))return c.maskbox[0].value=e,a.data(c.maskbox,"simpleInputMode",null),!1;o++}return c.inputValue(m,!0),a.data(c.maskbox,"simpleInputMode",null),!1}}}},_getString:function(){for(var a="",b=0;b<this.items.length;b++){var c=this.items[b].character;a+=this.items[b].character==this.promptChar&&this.promptChar!=this.items[b].defaultCharacter?this.items[b].defaultCharacter:c}return a},_initializeLiterals:function(){if(void 0==this.mask||null==this.mask)return void(this.items=new Array);this.mask=this.mask.toString();for(var a=this.mask.length,b=0;a>b;b++){var c=this.mask.substring(b,b+1),d="",e=!1;if("["==c){for(var f=b;a>f;f++){var g=this.mask.substring(f,f+1);if("]"==g)break}d="("+this.mask.substring(b,f+1)+")",b=f,e=!0}"#"==c?(d="(\\d|[+]|[-])",e=!0):"9"==c||"0"==c?(d="\\d",e=!0):"$"==c?e=!1:"/"==c||":"==c?e=!1:"A"==c||"a"==c?(d="\\w",e=!0):"c"==c||"C"==c?(d=".",e=!0):("L"==c||"l"==c)&&(d="([a-zA-Z])",e=!0);var h=this,i=function(a,b,c){i.character=a,i.regex=b,i.canEdit=c,i.defaultCharacter=h.promptChar};e?i(this.promptChar,d,e):i(c,d,e),this.items.push(i)}},setRegex:function(a,b,c,d){null!=a&&void 0!=a&&null!=b&&void 0!=b&&a<this.items.length&&(this.items[a].regex=b,null!=c&&void 0!=c&&(this.items[a].canEdit=c),null!=d&&void 0!=d&&(this.items[a].defaultCharacter=d))},_match:function(a,b){var c=new RegExp(b,"i");return c.test(a)},_raiseEvent:function(b,c){var d=this.events[b],e={};e.owner=this;var f=(c.charCode?c.charCode:c.keyCode?c.keyCode:0,!0),g=(this.readOnly,new a.Event(d));return g.owner=this,e.value=this.inputValue(),e.text=this.maskedValue(),g.args=e,(2>b||b>6)&&(f=this.host.trigger(g)),f},_handleKeyPress:function(a,b){var c=this._isSpecialKey(b,a);return c},_insertKey:function(b){var c=this._selection(),d=this;if(c.start>=0&&c.start<this.items.length){var e=String.fromCharCode(b),f=!1;a.each(this.items,function(a,b){if(!(a<c.start)){var g=d.items[a];if(g.canEdit){if(d._match(e,g.regex)){if(!f&&c.length>0){for(var h=c.start;h<c.end;h++)d.items[h].canEdit&&(d.items[h].character=d.promptChar);var i=d._getString();d.maskedValue(i),f=!0}g.character=e;var i=d._getString();return d.maskedValue(i),c.start<d.items.length&&d._setSelectionStart(a+1),!1}return!1}}})}},_deleteSelectedText:function(){var a=this._selection(),b=!1;if(a.start>0||a.length>0){for(i=a.start;i<a.end;i++)i<this.items.length&&this.items[i].canEdit&&this.items[i].character!=this.promptChar&&(this.items[i].character=this.promptChar,b=!0);var c=this._getString();return this.maskedValue(c),b}},_saveSelectedText:function(){var b=this._selection(),c="";if(b.start>0||b.length>0)for(i=b.start;i<b.end;i++)this.items[i].canEdit&&(c+=this.items[i].character);if(window.clipboardData)window.clipboardData.setData("Text",c);else{var d=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');d.val(c),a("body").append(d),d.select(),setTimeout(function(){document.designMode="off",d.select(),d.remove()},100)}return c},_pasteSelectedText:function(){var b=this._selection(),c=0,d=b.start,e="",f=this,g=function(a){if(!(a!=f.selectedText&&a.length>0&&(f.selectedText=a,null==f.selectedText||void 0==f.selectedText))){if(b.start>=0||b.length>0)for(i=b.start;i<f.items.length;i++)f.items[i].canEdit&&c<f.selectedText.length&&(f.items[i].character=f.selectedText[c],c++,d=1+i);var e=f._getString();f.maskedValue(e),d<f.items.length?f._setSelectionStart(d):f._setSelectionStart(f.items.length)}};if(window.clipboardData)e=window.clipboardData.getData("Text"),g(e);else{var h=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a("body").append(h),h.select();setTimeout(function(){var a=h.val();g(a),h.remove()},100)}},_handleKeyDown:function(b,c){var d=this._selection();if(c>=96&&105>=c&&(c-=48),b.ctrlKey&&97==c||b.ctrlKey&&65==c)return!0;if(b.ctrlKey&&120==c||b.ctrlKey&&88==c)return this.selectedText=this._saveSelectedText(b),this._deleteSelectedText(b),a.jqx.browser.msie?!1:!0;if(b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this.selectedText=this._saveSelectedText(b),a.jqx.browser.msie?!1:!0;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return this._pasteSelectedText(),a.jqx.browser.msie?!1:!0;if(d.start>=0&&d.start<this.items.length){String.fromCharCode(c),this.items[d.start]}if(8==c){if(0==d.length)for(g=this.items.length-1;g>=0;g--)if(this.items[g].canEdit&&g<d.end&&this.items[g].character!=this.promptChar){this._setSelection(g,g+1);break}d=this._selection();var e=this._deleteSelectedText();return(d.start>0||d.length>0)&&d.start<=this.items.length&&(e?this._setSelectionStart(d.start):this._setSelectionStart(d.start-1)),!1}if(190==c)for(var f=d.start,g=f;g<this.items.length;g++)if("."==this.items[g].character){this._setSelectionStart(g+1);break}if(191==c)for(var f=d.start,g=f;g<this.items.length;g++)if("/"==this.items[g].character){this._setSelectionStart(g+1);break}if(189==c)for(var f=d.start,g=f;g<this.items.length;g++)if("-"==this.items[g].character){this._setSelectionStart(g+1);break}if(46==c){if(0==d.length)for(var g=0;g<this.items.length;g++)if(this.items[g].canEdit&&g>=d.start&&this.items[g].character!=this.promptChar){this._setSelection(g,g+1);break}var h=d;d=this._selection();this._deleteSelectedText();return(d.start>=0||d.length>=0)&&d.start<this.items.length&&(d.length<=1?h.end!=d.end?this._setSelectionStart(d.end):this._setSelectionStart(d.end+1):this._setSelectionStart(d.start)),!1}this._insertKey(c);var i=this._isSpecialKey(c,b);return i},_isSpecialKey:function(a,b){return 189==a||9==a||13==a||35==a||36==a||37==a||39==a||46==a?!0:16===a&&b.shiftKey||b.ctrlKey?!0:!1},_selection:function(){if("selectionStart"in this.maskbox[0]){var a=this.maskbox[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.maskbox[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_setSelection:function(a,b){if("selectionStart"in this.maskbox[0])this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(a,b);else{var c=this.maskbox[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}},_setSelectionStart:function(a){this._setSelection(a,a)},refresh:function(a){a||this._render()},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_render:function(){var b=parseInt(this.host.css("border-left-width")),c=parseInt(this.host.css("border-left-width")),d=parseInt(this.host.css("border-left-width")),e=parseInt(this.host.css("border-left-width")),f=parseInt(this.host.css("height"))-d-e,g=parseInt(this.host.css("width"))-b-c;null!=this.width&&-1!=this.width.toString().indexOf("px")?g=this.width:void 0==this.width||isNaN(this.width)||(g=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?f=this.height:void 0==this.height||isNaN(this.height)||(f=this.height),g=parseInt(g),f=parseInt(f),this.maskbox[0]!=this.element&&this.maskbox.css({"border-left-width":0,
"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign);var h=this.maskbox.css("font-size");isNaN(f)||this.maskbox.css("height",parseInt(h)+4+"px"),isNaN(g)||this.maskbox.css("width",g-2);var i=parseInt(f)-2*parseInt(d)-2*parseInt(e)-parseInt(h);if(isNaN(i)&&(i=0),isNaN(f)||this.host.height(f),isNaN(g)||this.host.width(g),this.maskbox[0]!=this.element){var j=i/2;a.jqx.browser.msie&&a.jqx.browser.version<8&&(j=i/4),this.maskbox.css("padding-right","0px"),this.maskbox.css("padding-left","0px"),this.maskbox.css("padding-top",j),this.maskbox.css("padding-bottom",i/2)}this.maskbox[0].value=this._getString(),this.width&&(this.width.toString().indexOf("%")>=0&&(this.element.style.width=this.width),this.height.toString().indexOf("%")>=0&&(this.element.style.height=this.height))},destroy:function(){this.host.remove()},maskedValue:function(a){return void 0===a?this._value():(this.value=a,this._refreshValue(),this.oldValue!==a&&(this._raiseEvent(1,a),this.oldValue=a,this._raiseEvent(0,a)),this)},_value:function(){var a=this.maskbox.val();return a},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("rtl"==c&&(b.rtl?b.maskbox.addClass(b.toThemeProperty("jqx-rtl")):b.maskbox.removeClass(b.toThemeProperty("jqx-rtl"))),"value"===c&&((void 0==e||null==e)&&(e=""),""===e?this.clear():(e=e.toString(),this.inputValue(e)),b._raiseEvent(7,event)),"theme"===c&&a.jqx.utilities.setTheme(d,e,this.host),"disabled"==c&&(e?(b.maskbox.addClass(b.toThemeProperty("jqx-input-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.maskbox.attr("disabled",!0)):(b.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(this.toThemeProperty("jqx-input-disabled")),b.maskbox.attr("disabled",!1)),a.jqx.aria(b,"aria-disabled",e)),"readOnly"==c&&(this.readOnly=e),"promptChar"==c){for(i=0;i<b.items.length;i++)b.items[i].character==b.promptChar&&(b.items[i].character=e,b.items[i].defaultCharacter=e);b.promptChar=e}"textAlign"==c&&(b.maskbox.css("text-align",e),b.textAlign=e),"mask"==c&&(b.mask=e,b.items=new Array,b._initializeLiterals(),b.value=b._getString(),b._refreshValue()),"width"==c?(b.width=e,b._render()):"height"==c&&(b.height=e,b._render())}},_value:function(){var a=this.value;return a},_getEditStringLength:function(){var a="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(a+=this.items[i].character);return a.length},_getEditValue:function(){var a="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&this.items[i].character!=this.promptChar&&(a+=this.items[i].character);return a},parseValue:function(a){if(void 0==a||null==a)return null;var b=a.toString(),c="",d=0;for(m=0;m<b.length;m++){var e=b.substring(m,m+1);for(i=d;i<this.items.length;i++)if(this.items[i].canEdit&&this._match(e,this.items[i].regex)){c+=e,d=i;break}}return c},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(a){return void 0!=a&&"object"!=typeof a&&("number"==typeof a&&isFinite(a)&&(a=a.toString()),this.maskedValue(a)),this.maskbox[0].value},inputValue:function(a,b){if(void 0==a||null==a){for(var c="",d=0;d<this.items.length;d++)this.items[d].canEdit&&(c+=this.items[d].character);return c}var e=0;a=a.toString();for(var d=0;d<this.items.length;d++)this.items[d].canEdit&&(this._match(a.substring(e,e+1),this.items[d].regex)?(this.items[d].character=a.substring(e,e+1),e++):b&&(this.items[d].character=this.promptChar,e++));var f=this._getString();return this.maskedValue(f),this.inputValue()},_refreshValue:function(){for(var b=this.maskedValue(),c=0,d=0;d<this.items.length;d++)b.length>c&&(this.items[d].canEdit&&this.items[d].character!=b[c]&&(!this._match(b[c],this.items[d].regex)&&b[c]!=this.promptChar||1!=b[c].length||(this.items[d].character=b[c])),c++);this.value=this._getString(),b=this.value,this.maskbox[0].value=b,a.jqx.aria(this,"aria-valuenow",b)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxMenu","",{}),a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){var b={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,title:"",events:["shown","closed","itemclick","initialized"]};a.extend(!0,this,b)},createInstance:function(b){var c=this;if(this.host.attr("role","menubar"),a.jqx.utilities.resize(this.host,function(){c.refresh()},!1,"popup"!=this.mode),this.host.css("outline","none"),this.source&&null!=this.source){var d=this.loadItems(this.source);this.element.innerHTML=d}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var e=this.host.find("ul:first");e.length>0&&this._createMenu(e[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{this.host.focus()}catch(a){}},loadItems:function(b,c){if(null!=b){if(0==b.length)return"";var d=this;this.items=new Array;var e="<ul>";return c&&(e='<ul style="width:'+c+';">'),a.map(b,function(a){return void 0==a?null:void(e+=d._parseItem(a))}),e+="</ul>"}},_parseItem:function(a){var b="";if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html),c||(c="Item"),"string"==typeof a&&(c=a);var d=!1;void 0!=a.selected&&a.selected&&(d=!0);var e=!1;return void 0!=a.disabled&&a.disabled&&(e=!0),b+="<li",e&&(b+=' item-disabled="true" '),a.label&&!a.html&&(b+=' item-label="'+c+'" '),null!=a.value&&(b+=' item-value="'+a.value+'" '),void 0!=a.id&&(b+=' id="'+a.id+'" '),b+=">"+c,a.items&&(b+=a.subMenuWidth?this.loadItems(a.items,a.subMenuWidth):this.loadItems(a.items)),b+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var b=a(window).width();if(!a.jqx.response){var c=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var d=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;d||(c=!0)}var e=this.minimizeWidth;if(c&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&a.jqx.response){var f=new a.jqx.response;("Phone"==f.device.type||"Tablet"==f.device.type)&&(this.minimized||this.minimize())}else e>b&&!this.minimized?this.minimize():this.minimized&&b>=e&&this.restore()}},minimize:function(){if(!this.minimized){var b=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var c=this.host.closest("div.jqx-menu-wrapper");if(c.remove(),a("#menuWrapper"+this.element.id).remove(),a.each(this.items,function(){var b=this,c=(a(b.element),a(b.subMenuElement)),d=c.closest("div.jqx-menu-popup");d.remove()}),this.source){var d=this.loadItems(this.source);this.element.innerHTML=d,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var e=this.host.find("ul:first");e.length>0&&this._createMenu(e[0])}this._render();var f=this.host.find("ul:first");f.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var c=f.closest("div.jqx-menu-wrapper");c[0].id="menuWrapper"+this.element.id,c.detach(),c.appendTo(a(document.body)),c.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-menu")),c.addClass(this.toThemeProperty("jqx-menu-minimized")),c.addClass(this.toThemeProperty("jqx-widget-header")),f.children().hide(),c.hide(),c.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=a("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=a("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),a("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),b.minimizedHidden=!0;var g=function(a){b.minimizedHidden=!0,b.minimizedItem.show();var d=!1;"right"==b.minimizedItem.css("float")&&(d=!0),c.animate({left:d?b.host.coord().left+b.host.width()+c.width():-c.outerWidth(),opacity:0},b.animationHideDuration,function(){c.find("ul:first").children().hide(),c.hide()})},h=function(a){if(b.minimizedHidden){c.find("ul:first").children().show(),b.minimizedHidden=!1,c.show(),c.css("opacity",0),c.css("left",-c.outerWidth());var d=!1,e=c.width();"right"==b.minimizedItem.css("float")&&(c.css("left",b.host.coord().left+b.host.width()+e),d=!0),c.css("top",b.host.coord().top+b.host.height()),c.animate({left:d?b.host.coord().left+b.host.width()-e:b.host.coord().left,opacity:.95},b.animationShowDuration,function(){})}else g(a);b._raiseEvent("2",{item:b.minimizedItem[0],event:a}),b.setSize()};this.addHandler(a(window),"orientationchange.jqxmenu"+this.element.id,function(a){setTimeout(function(){if(!b.minimizedHidden){var a=c.width(),d=!1,a=c.width();"right"==b.minimizedItem.css("float")&&(d=!0),c.css("top",b.host.coord().top+b.host.height()),c.css({left:d?b.host.coord().left+b.host.width()-a:b.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(a){h(a)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var b=a("#menuWrapper"+this.element.id);if(b.remove(),this.source){var c=this.loadItems(this.source);this.element.innerHTML=c,this._tmpHTML=c}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var d=this.host.find("ul:first");d.length>0&&this._createMenu(d[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&(this.host.addClass(this.toThemeProperty("jqx-touch")),a(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=b,b},refresh:function(a){a||this.setSize()},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_closeAll:function(b){var c=null!=b?b.data:this,d=c.items;if(a.each(d,function(){var a=this;1==a.hasItems&&a.isOpen&&c._closeItem(c,a)}),"popup"==c.mode&&null!=b){var e=c._isRightClick(b);e||c.close()}},closeItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;1==a.isOpen&&a.element==d&&(e._closeItem(e,a),a.parentId&&e.closeItem(a.parentId))}),!0},openItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;0==a.isOpen&&a.element==d&&(e._openItem(e,a),a.parentId&&e.openItem(a.parentId))}),!0},_getClosedSubMenuOffset:function(b){var c=a(b.subMenuElement),d=-c.outerHeight(),e=-c.outerWidth(),f=0==b.level&&"horizontal"==this.mode;switch(f?e=0:d=0,b.openVerticalDirection){case"up":case"center":d=c.outerHeight()}switch(b.openHorizontalDirection){case this._getDir("left"):e=f?0:c.outerWidth();break;case"center":e=f?0:c.outerWidth()}return{left:e,top:d}},_closeItem:function(b,c,d,e){if(null==b||null==c)return!1;var f=a(c.subMenuElement),g=0==c.level&&"horizontal"==this.mode,h=this._getClosedSubMenuOffset(c),i=h.top,j=h.left,k=(a(c.element),f.closest("div.jqx-menu-popup"));if(null!=k){var l=b.animationHideDelay;1==e&&(l=0),null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var m=function(){c.isOpen=!1,g?f.stop().animate({top:i},b.animationHideDuration,function(){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected")),a(c.element).removeClass(b.toThemeProperty("jqx-rc-b-expanded")),k.removeClass(b.toThemeProperty("jqx-rc-t-expanded"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(b.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(b.toThemeProperty("jqx-icon-arrow-up")))),a.jqx.aria(a(c.element),"aria-expanded",!1),k.css({display:"none"}),0==b.animationHideDuration&&f.css({top:i}),b._raiseEvent("1",c)}):(!a.jqx.browser.msie,f.stop().animate({left:j},b.animationHideDuration,function(){if(0==b.animationHideDuration&&f.css({left:j}),c.level>0){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}else{a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("right"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("left"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}a.jqx.aria(a(c.element),"aria-expanded",!1),k.css({display:"none"}),b._raiseEvent("1",c)}))};if(l>0?f.data("timer").hide=setTimeout(function(){m()},l):m(),void 0!=d&&d){var n=f.children();a.each(n,function(){if(b.menuElements[this.id]&&b.menuElements[this.id].isOpen){a(b.menuElements[this.id].subMenuElement);b._closeItem(b,b.menuElements[this.id],!0,!0)}})}}},getSubItems:function(b,c){if(null==b)return!1;var d=this,e=new Array;null!=c&&a.extend(e,c);var f=b,g=this.menuElements[f],h=a(g.subMenuElement),i=h.find(".jqx-menu-item");return a.each(i,function(){e[this.id]=d.menuElements[this.id];var b=d.getSubItems(this.id,e);a.extend(e,b)}),e},disable:function(b,c){if(null!=b){var d=b,e=this;if(this.menuElements[d]){var f=this.menuElements[d];f.disabled=c;var g=a(f.element);f.element.disabled=c,a.each(g.children(),function(){this.disabled=c}),c?(g.addClass(e.toThemeProperty("jqx-menu-item-disabled")),g.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(g.removeClass(e.toThemeProperty("jqx-menu-item-disabled")),g.removeClass(e.toThemeProperty("jqx-fill-state-disabled")))}}},_setItemProperty:function(a,b,c){if(null!=a){var d=a;if(this.menuElements[d]){var e=this.menuElements[d];e[b]&&(e[b]=c)}}},setItemOpenDirection:function(b,c,d){if(null!=b){var e=b,f=this,g=a.jqx.browser.msie&&a.jqx.browser.version<8;if(this.menuElements[e]){var h=this.menuElements[e];if(null!=c&&(h.openHorizontalDirection=c,h.hasItems&&h.level>0)){var i=a(h.element);if(void 0!=i){var j=a(h.arrow);null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i),h.arrow=j[0]),j.removeClass(),"left"==h.openHorizontalDirection?(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("left"))),j.addClass(f.toThemeProperty("jqx-icon-arrow-"+f._getDir("left")))):(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("right"))),j.addClass(f.toThemeProperty("jqx-icon-arrow-"+f._getDir("right")))),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right"))}}if(null!=d){h.openVerticalDirection=d;var j=a(h.arrow),i=a(h.element);if(!f.showTopLevelArrows)return;void 0!=i&&(null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i),h.arrow=j[0]),j.removeClass(),"down"==h.openVerticalDirection?(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-down")),j.addClass(f.toThemeProperty("jqx-icon-arrow-down"))):(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-up")),j.addClass(f.toThemeProperty("jqx-icon-arrow-up"))),j.css("visibility","visible"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right")))}}}},_getSiblings:function(a){var b=new Array,c=0;for(i=0;i<this.items.length;i++)this.items[i]!=a&&this.items[i].parentId==a.parentId&&this.items[i].hasItems&&(b[c++]=this.items[i]);return b},_openItem:function(b,c,d){if(null==b||null==c)return!1;if(c.isOpen)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var e=b.popupZIndex;void 0!=d&&(e=d);var f=b.animationHideDuration;b.animationHideDuration=0,b._closeItem(b,c,!0,!0),b.animationHideDuration=f,this.host.focus();var g=[5,5],h=a(c.subMenuElement);null!=h&&h.stop(),null!=h.data("timer").hide&&clearTimeout(h.data("timer").hide);var i=h.closest("div.jqx-menu-popup"),j=a(c.element),k=0==c.level?this._getOffset(c.element):j.position();if(c.level>0&&this.hasTransform){var l=parseInt(j.coord().top)-parseInt(this._getOffset(c.element).top);k.top+=l}0==c.level&&"popup"==this.mode&&(k=j.coord());var m=0==c.level&&"horizontal"==this.mode,n=m?k.left:null!=this.menuElements[c.parentId]&&null!=this.menuElements[c.parentId].subMenuElement?parseInt(a(a(this.menuElements[c.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-g[0]:parseInt(h.outerWidth());if(i.css({visibility:"visible",display:"block",left:n,top:m?k.top+j.outerHeight():k.top,zIndex:e}),h.css("display","block"),"horizontal"!=this.mode&&0==c.level){var o=this._getOffset(this.element);i.css("left",-1+o.left+this.host.outerWidth()),h.css("left",-h.outerWidth())}else{var p=this._getClosedSubMenuOffset(c);h.css("left",p.left),h.css("top",p.top)}i.css({height:parseInt(h.outerHeight())+parseInt(g[1])+"px"});var q=0,r=0;switch(c.openVerticalDirection){case"up":if(m){h.css("top",h.outerHeight()),q=g[1];var s=parseInt(h.parent().css("padding-bottom"));isNaN(s)&&(s=0),s>0&&i.addClass(this.toThemeProperty("jqx-menu-popup-clear")),h.css("top",h.outerHeight()-s),i.css({display:"block",top:k.top-i.outerHeight(),zIndex:e})}else q=g[1],h.css("top",h.outerHeight()),i.css({display:"block",top:k.top-i.outerHeight()+g[1]+j.outerHeight(),zIndex:e});break;case"center":m?(h.css("top",0),i.css({display:"block",top:k.top-i.outerHeight()/2+g[1],zIndex:e})):(h.css("top",0),i.css({display:"block",top:k.top+j.outerHeight()/2-i.outerHeight()/2+g[1],zIndex:e}))}switch(c.openHorizontalDirection){case this._getDir("left"):m?i.css({left:k.left-(i.outerWidth()-j.outerWidth()-g[0])}):(r=0,h.css("left",i.outerWidth()),i.css({left:k.left-i.outerWidth()+2*c.level}));break;case"center":m?i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}):(i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}),h.css("left",i.outerWidth()))}if(m){if(parseInt(h.css("top"))==q)return void(c.isOpen=!0)}else if(parseInt(h.css("left"))==r)return void(1==c.isOpen);a.each(b._getSiblings(c),function(){b._closeItem(b,this,!0,!0)});var t=a.data(b.element,"animationHideDelay");b.animationHideDelay=t,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){b._closeAll()},this.autoCloseInterval))),h.data("timer").show=setTimeout(function(){if(null!=i)if(m){h.stop(),h.css("left",r),!a.jqx.browser.msie,j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected")),"down"==c.openVerticalDirection?(a(c.element).addClass(b.toThemeProperty("jqx-rc-b-expanded")),i.addClass(b.toThemeProperty("jqx-rc-t-expanded"))):(a(c.element).addClass(b.toThemeProperty("jqx-rc-t-expanded")),i.addClass(b.toThemeProperty("jqx-rc-b-expanded")));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-up")))),0==b.animationShowDuration?(h.css({top:q}),c.isOpen=!0,b._raiseEvent("0",c),a.jqx.aria(a(c.element),"aria-expanded",!0)):h.animate({top:q},b.animationShowDuration,b.easing,function(){c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0),b._raiseEvent("0",c)})}else{if(h.stop(),h.css("top",q),!a.jqx.browser.msie,c.level>0){j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}else{j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}!a.jqx.browser.msie,0==b.animationShowDuration?(h.css({left:r}),b._raiseEvent("0",c),c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0)):h.animate({left:r},b.animationShowDuration,b.easing,function(){b._raiseEvent("0",c),c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0)})}},this.animationShowDelay)},_getDir:function(a){switch(a){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(b,c){var d=this,e=0;if(this.host.removeClass(d.toThemeProperty("jqx-menu-horizontal")),this.host.removeClass(d.toThemeProperty("jqx-menu-vertical")),this.host.removeClass(d.toThemeProperty("jqx-menu")),this.host.removeClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-menu")),void 0!=b&&void 0!=c&&"popup"==c){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var f=a.data(document.body,"jqxMenuOldHost"+this.element.id);if(null!=f){var g=this.host.closest("div.jqx-menu-wrapper");g.remove(),g.appendTo(f),this.host.css("display","block"),this.host.css("visibility","visible"),g.css("display","block"),g.css("visibility","visible")}}}else void 0==b&&void 0==c&&a.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0]);switch(this.autoOpenPopup&&"popup"==this.mode?(this.addHandler(a(document),"contextmenu."+this.element.id,function(a){return!1}),this.addHandler(a(document),"mousedown.menu"+this.element.id,function(a){d._openContextMenu(a)})):(this.removeHandler(a(document),"contextmenu."+this.element.id),this.removeHandler(a(document),"mousedown.menu"+this.element.id)),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.mode){case"horizontal":this.host.addClass(d.toThemeProperty("jqx-widget-header")),this.host.addClass(d.toThemeProperty("jqx-menu-horizontal")),a.each(this.items,function(){var b=this;$element=a(b.element);var c=a(b.arrow);if(c.removeClass(),b.hasItems&&b.level>0){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float",d._getDir("right")),c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right"))),b.arrow=c[0]}if(0==b.level){if(a(b.element).css("float",d._getDir("left")),!b.ignoretheme&&b.hasItems&&d.showTopLevelArrows){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),f=a.jqx.browser.msie&&a.jqx.browser.version<8;null==b.arrow?f?c.appendTo($element):c.prependTo($element):c=a(b.arrow),"down"==b.openVerticalDirection?(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-down")),c.addClass(d.toThemeProperty("jqx-icon-arrow-down"))):(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-up")),c.addClass(d.toThemeProperty("jqx-icon-arrow-up"))),c.css("visibility","visible"),f?c.css("display","inline-block"):(c.css("display","block"),c.css("float","right")),b.arrow=c[0]}else if(!b.ignoretheme&&b.hasItems&&!d.showTopLevelArrows&&null!=b.arrow){var c=a(b.arrow);c.remove(),b.arrow=null}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":case"simple":if(this.host.addClass(d.toThemeProperty("jqx-menu-vertical")),a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&!b.ignoretheme){if(b.arrow&&a(b.arrow).remove(),"simple"==d.mode)return!0;var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float","right"),0==b.level?(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-top-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right")))):(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right")))),b.arrow=c[0]}$element.css("float","none")}),"popup"==this.mode){this.host.addClass(d.toThemeProperty("jqx-widget-content")),this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var g=this.host.closest("div.jqx-menu-wrapper");this.host.addClass(d.toThemeProperty("jqx-popup")),g[0].id="menuWrapper"+this.element.id,g.appendTo(a(document.body))}else this.host.addClass(d.toThemeProperty("jqx-widget-header"));if("popup"==this.mode){var h=this.host.height();this.host.css("position","absolute"),this.host.css("top","0"),this.host.css("left","0"),"simple"!=this.mode&&(this.host.height(h),this.host.css("display","none"))}}var i=this.isTouchDevice();this.autoCloseOnClick&&(this.removeHandler(a(document),"mousedown.menu"+this.element.id,d._closeAfterClick),this.addHandler(a(document),"mousedown.menu"+this.element.id,d._closeAfterClick,d),i&&(this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,d._closeAfterClick,d),this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,d._closeAfterClick,d)))},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_getOffset:function(b){var c=a.jqx.mobile.isSafariMobileBrowser(),d=a(b).coord(!0),e=d.top,f=d.left;"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left);var g=a.jqx.mobile.isWindowsPhone();if(this.hasTransform||null!=c&&c||g){var h={left:a.jqx.mobile.getLeftPos(b),top:a.jqx.mobile.getTopPos(b)};return h}return{left:f,top:e}},_isRightClick:function(a){var b;if(!a)var a=window.event;return a.which?b=3==a.which:a.button&&(b=2==a.button),b},_openContextMenu:function(a){var b=this,c=b._isRightClick(a);c&&b.open(parseInt(a.clientX)+5,parseInt(a.clientY)+5)},close:function(){var b=this,c=a.data(this.element,"contextMenuOpened"+this.element.id);if(c){this.host;a.each(b.items,function(){var a=this;a.hasItems&&b._closeItem(b,a)}),a.each(b.items,function(){var b=this;if(1==b.isOpen){$submenu=a(b.subMenuElement);var c=$submenu.closest("div.jqx-menu-popup");c.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),a.data(b.element,"contextMenuOpened"+this.element.id,!1),b._raiseEvent("1",b)}},open:function(b,c){if("popup"==this.mode){var d=0;"block"==this.host.css("display")&&(this.close(),d=this.animationHideDuration);var e=this;(void 0==b||null==b)&&(b=0),(void 0==c||null==c)&&(c=0),setTimeout(function(){e.host.show(e.animationShowDuration),e.host.css("visibility","visible"),a.data(e.element,"contextMenuOpened"+e.element.id,!0),e._raiseEvent("0",e),e.host.css("z-index",9999),void 0!=b&&void 0!=c&&e.host.css({left:b,top:c})},d)}},_renderHover:function(a,b,c){var d=this;b.ignoretheme||(this.addHandler(a,"mouseenter",function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(a,"mouseleave",function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(b){var c=null!=b?b.data:this,d=!1;c.autoCloseOnClick&&(a.each(a(b.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(d=!0,!1):void 0}),d||(b.data=c,c._closeAll(b)))},_autoSizeHorizontalMenuItems:function(){var b=this;if(b.autoSizeMainItems&&"horizontal"==this.mode){var c=this.maxHeight;parseInt(c)>parseInt(this.host.height())&&(c=parseInt(this.host.height())),c=parseInt(this.host.height()),a.each(this.items,function(){var d=this;if($element=a(d.element),0==d.level&&c>0){var e=$element.children().length>0?parseInt($element.children().height()):$element.height(),f=b.host.find("ul:first"),g=parseInt(f.css("padding-top")),h=parseInt(f.css("margin-top")),i=c-2*(h+g),j=parseInt(i)/2-e/2,k=parseInt(j),l=parseInt(j);if($element.css("padding-top",k),$element.css("padding-bottom",l),parseInt($element.outerHeight())>i){var m=1;$element.css("padding-top",k-m),k-=m}}})}a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&b.level>0&&b.arrow){var c=a(b.arrow),d=a(b.element).height();d>15&&c.css("margin-top",(d-15)/2)}})},_render:function(b,c){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled")));var d=this.popupZIndex,e=[5,5],f=this;a.data(f.element,"animationHideDelay",f.animationHideDelay);var g=this.isTouchDevice(),h=g&&(a.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),i=!1;
if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var j="MSPointerDown"in window;(j||a.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(i=!0,h=!0,f.clickToOpen=!0,f.autoCloseOnClick=!1,f.enableHover=!1)}a.data(document.body,"menuel",this),this.hasTransform=a.jqx.utilities.hasTransform(this.host),this._applyOrientation(b,c),f.enableRoundedCorners&&this.host.addClass(f.toThemeProperty("jqx-rc-all")),a.each(this.items,function(){var b=this,c=a(b.element);if(c.attr("role","menuitem"),f.enableRoundedCorners&&c.addClass(f.toThemeProperty("jqx-rc-all")),f.removeHandler(c,"click"),f.addHandler(c,"click",function(c){if(!b.disabled&&!f.disabled&&(f._raiseEvent("2",{item:b.element,event:c}),f.autoOpen?!f.autoCloseOnClick||g||f.clickToOpen||b.closeOnClick&&(c.data=f,f._closeAll(c)):b.level>0&&(!f.autoCloseOnClick||g||f.clickToOpen||(c.data=f,f._closeAll(c))),g&&f.autoCloseOnClick&&(c.data=f,b.hasItems||f._closeAll(c)),"A"!=c.target.tagName&&"a"!=c.target.tagName)){var d=null!=b.anchor?a(b.anchor):null;if(null!=d&&d.length>0){var e=d.attr("href"),h=d.attr("target");null!=e&&(null!=h?window.open(e,h):window.location=e)}}}),f.removeHandler(c,"mouseenter"),f.removeHandler(c,"mouseleave"),h||"simple"==f.mode||f._renderHover(c,b,g),null!=b.subMenuElement){var i=a(b.subMenuElement);if("simple"==f.mode)return i.show(),!0;i.wrap('<div class="jqx-menu-popup '+f.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+d+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),i.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-i.outerHeight()}),i.data("timer",{}),b.level>0?i.css("left",-i.outerWidth()):"horizontal"==f.mode&&i.css("left",0),d++;var j=a(b.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(b.subMenuElement).outerWidth())+parseInt(e[0])+"px",height:parseInt(a(b.subMenuElement).outerHeight())+parseInt(e[1])+"px"}),k=c.closest("div.jqx-menu-popup");if(k.length>0){var l=i.css("margin-left"),m=i.css("margin-right"),n=i.css("padding-left"),o=i.css("padding-right");j.appendTo(k),i.css("margin-left",l),i.css("margin-right",m),i.css("padding-left",n),i.css("padding-right",o)}else{var l=i.css("margin-left"),m=i.css("margin-right"),n=i.css("padding-left"),o=i.css("padding-right");j.appendTo(a(document.body)),i.css("margin-left",l),i.css("margin-right",m),i.css("padding-left",n),i.css("padding-right",o)}f.clickToOpen?(f.removeHandler(c,"mousedown"),f.addHandler(c,"mousedown",function(a){clearTimeout(i.data("timer").hide),null!=i&&i.stop(),0!=b.level||b.isOpen||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b)})):((g||h)&&(f.removeHandler(c,a.jqx.mobile.getTouchEventName("touchstart")),f.addHandler(c,a.jqx.mobile.getTouchEventName("touchstart"),function(a){return clearTimeout(i.data("timer").hide),null!=i&&i.stop(),0!=b.level||b.isOpen||"popup"==f.mode||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b),!1})),h||(f.addHandler(c,"mouseenter",function(){if((f.autoOpen||b.level>0&&!f.autoOpen)&&clearTimeout(i.data("timer").hide),b.parentId&&0!=b.parentId&&f.menuElements[b.parentId]){var a=f.menuElements[b.parentId].isOpen;if(!a)return}return(f.autoOpen||b.level>0&&!f.autoOpen)&&f._openItem(f,b),!1}),f.addHandler(c,"mousedown",function(){f.autoOpen||0!=b.level||(clearTimeout(i.data("timer").hide),null!=i&&i.stop(),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b))}),f.addHandler(c,"mouseleave",function(c){if(f.autoCloseOnMouseLeave){clearTimeout(i.data("timer").hide);var d=a(b.subMenuElement),e={left:parseInt(c.pageX),top:parseInt(c.pageY)},g={left:parseInt(d.coord().left),top:parseInt(d.coord().top),width:parseInt(d.outerWidth()),height:parseInt(d.outerHeight())},h=!0;g.left-5<=e.left&&e.left<=g.left+g.width+5&&g.top<=e.top&&e.top<=g.top+g.height&&(h=!1),h&&f._closeItem(f,b,!0)}}),f.removeHandler(j,"mouseenter"),f.addHandler(j,"mouseenter",function(){clearTimeout(i.data("timer").hide)}),f.removeHandler(j,"mouseleave"),f.addHandler(j,"mouseleave",function(a){f.autoCloseOnMouseLeave&&(clearTimeout(i.data("timer").hide),clearTimeout(i.data("timer").show),null!=i&&i.stop(),f._closeItem(f,b,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var a=Math.random()+"";for(a=a.replace(".",""),a="99"+a,a/=1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"menuItem"+a},_createMenu:function(b,c){if(null!=b){void 0==c&&(c=!0),null==c&&(c=!0);for(var d=a(b).find("li"),e=0,f=0;f<d.length;f++){var g=d[f],h=a(g);if(-1!=g.className.indexOf("jqx-menu")||0!=this.autoGenerate){var i=g.id;i||(i=this.createID()),c&&(g.id=i,this.items[e]=new a.jqx._jqxMenu.jqxMenuItem,this.menuElements[i]=this.items[e]),e+=1;var j=0,k=this,l=h.children();l.each(function(){return c||(this.className="",k.autoGenerate&&(a(k.items[e-1].subMenuElement)[0].className="",k.minimized||a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-widget-content")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-menu-dropdown")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(c&&(k.items[e-1].subMenuElement=this),!1):!k.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(c&&(k.items[e-1].subMenuElement=this),this.className="",k.minimized||a(this).addClass(k.toThemeProperty("jqx-widget-content")),a(this).addClass(k.toThemeProperty("jqx-menu-dropdown")),a(this).addClass(k.toThemeProperty("jqx-popup")),a(this).attr("role","menu"),k.rtl?a(this).addClass(k.toThemeProperty("jqx-rc-l")):a(this).addClass(k.toThemeProperty("jqx-rc-r")),a(this).addClass(k.toThemeProperty("jqx-rc-b")),!1)});var m=h.parents();m.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(j=this.id,!1):!k.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(j=this.id,!1)});var n=!1,o=g.getAttribute("type"),p=g.getAttribute("ignoretheme")||g.getAttribute("data-ignoretheme");if(p?("true"==p||1==p)&&(p=!0):p=!1,o){if("separator"==o)var n=!0}else o=g.type;n||(o=j?"sub":"top");var q=this.items[e-1];if(c){q.id=i,q.parentId=j,q.type=o,q.separator=n,q.element=d[f];var r=h.children("a");q.disabled="true"==g.getAttribute("item-disabled")?!0:!1,q.level=h.parents("li").length,q.anchor=r.length>0?r:null}q.ignoretheme=p;var s=this.menuElements[j];null!=s&&s.ignoretheme&&(q.ignoretheme=s.ignoretheme,p=s.ignoretheme),this.autoGenerate&&("separator"==o?(h.removeClass(),h.addClass(this.toThemeProperty("jqx-menu-item-separator")),h.attr("role","separator")):p||(h[0].className="",this.rtl&&h.addClass(this.toThemeProperty("jqx-rtl")),q.level>0&&!k.minimized?(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item"))):(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item-top"))))),q.disabled&&(h.addClass(k.toThemeProperty("jqx-menu-item-disabled")),h.addClass(k.toThemeProperty("jqx-fill-state-disabled"))),c&&!p&&(q.hasItems=h.find("li").length>0,q.hasItems&&q.element&&(a.jqx.aria(a(q.element),"aria-haspopup",!0),q.subMenuElement.id||(q.subMenuElement.id=a.jqx.utilities.createId()),a.jqx.aria(a(q.element),"aria-owns",q.subMenuElement.id)))}}}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0);var b=this.host.closest("div.jqx-menu-wrapper");b.remove(),a("#menuWrapper"+this.element.id).remove();var c=this;this.removeHandler(a(document),"mousedown.menu"+this.element.id,c._closeAfterClick),this.removeHandler(a(document),"mouseup.menu"+this.element.id,c._closeAfterClick),a.data(document.body,"jqxMenuOldHost"+this.element.id,null),this.isTouchDevice()&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+this.element.id,this._closeAfterClick,this),a(window).off&&a(window).off("resize.menu"+c.element.id),a.each(this.items,function(){var b=this,d=a(b.element);c.removeHandler(d,"click"),c.removeHandler(d,"selectstart"),c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave"),c.removeHandler(d,"mousedown"),c.removeHandler(d,"mouseleave");var e=a(b.subMenuElement),f=e.closest("div.jqx-menu-popup");f.remove(),delete this.subMenuElement,delete this.element}),a.data(document.body,"menuel",null),delete this.menuElements,this.items=new Array,delete this.items;var d=a.data(this.element,"jqxMenu");d&&delete d.instance,this.host.removeClass(),this.host.remove(),delete this.host,delete this.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);"2"==b&&(args=c.item,args.owner=this,a.extend(e,c.event),e.type="itemclick"),e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==c&&(b.disabled?(b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-menu-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-menu-disabled")))),e!=d)){if("touchMode"==c&&(this._isTouchDevice=null,b._render(e,d)),"source"==c&&null!=b.source){var f=b.loadItems(b.source);b.element.innerHTML=f;var g=b.host.find("ul:first");g.length>0&&(b.refresh(),b._createMenu(g[0]),b._render())}"autoCloseOnClick"==c?0==e?b.removeHandler(a(document),"mousedown.menu"+this.element.id,b._closeAll):b.addHandler(a(document),"mousedown.menu"+this.element.id,b,b._closeAll):"mode"==c||"width"==c||"height"==c||"showTopLevelArrows"==c?(b.refresh(),"mode"==c?b._render(e,d):b._applyOrientation()):"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host)}}})}(jqxBaseFramework),function(a){a.jqx._jqxMenu.jqxMenuItem=function(a,b,c){var d={id:a,parentId:b,parentItem:null,anchor:null,type:c,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return d}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxExpander","",{}),a.extend(a.jqx._jqxExpander.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};a.extend(!0,this,b)},createInstance:function(b){this._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this.render()},expand:function(){if(0==this.disabled&&0==this.expanded&&1==this._expandChecker){var b=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown(this.expandAnimationDuration,this.easing,function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&0==b._initialized&&(b.initContent(),b._initialized=!0)}):"bottom"==this.headerPosition&&(this._content.css({display:"inherit",height:0}),a.jqx.browser.msie&&a.jqx.browser.version<8&&this._content.css("display","block"),1==this._cntntEmpty?this._content.animate({height:0},this.expandAnimationDuration,this.easing,function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&0==b._initialized&&(b.initContent(),b._initialized=!0)}):this._content.animate({height:this._contentHeight},this.expandAnimationDuration,this.easing,function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&0==b._initialized&&(b.initContent(),b._initialized=!0)}));break;case"fade":this._content.fadeIn(this.expandAnimationDuration,this.easing,function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&0==b._initialized&&(b.initContent(),b._initialized=!0)});break;case"none":this._content.css("display","inherit"),this.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&0==this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(0==this.disabled&&1==this.expanded&&0==this._expandChecker){var b=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),b._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),b._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp(this.collapseAnimationDuration,this.easing,function(){b.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),b._raiseEvent("3")}):"bottom"==this.headerPosition&&this._content.animate({height:0},this.expandAnimationDuration,function(){b._content.css("display","none"),b.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),b._raiseEvent("3")});break;case"fade":this._content.fadeOut(this.collapseAnimationDuration,this.easing,function(){b.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),b._raiseEvent("3")});break;case"none":this._content.css("display","none"),this.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(a){this._header_text.html(a),this.invalidate()},getHeaderContent:function(){return this._header_text.html()},setContent:function(a){this._content.html(a),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),a.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),a.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){a.jqx.isHidden(this.host)||this._setSize()},refresh:function(a){1!=a&&(this._removeHandlers(),1==this.showArrow?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this._setTheme(),this._setSize(),0==this.disabled&&this._toggle(),this._keyBoard())},render:function(){this.widgetID=this.element.id,this._header&&(this._header.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header.removeClass(this.toThemeProperty("jqx-expander-header")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header")),this._header_text.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.attr("tabindex",null),this._content.attr("tabindex",null),this._header.css("margin-top",0),this._header[0].innerHTML=this._header_text[0].innerHTML,"bottom"==this.headerPosition&&(this._header.detach(),this.host.prepend(this._header))),this._header_temp=this.host.children("div:eq(0)"),this._header_temp.wrap("<div></div>"),this._header=this.host.children("div:eq(0)"),this._content=this.host.children("div:eq(1)"),"bottom"==this.headerPosition&&(this._header.detach(),this.host.append(this._header)),this._header_text=this._header.children("div:eq(0)");var b=this._header_text[0].className;this._header.addClass(b),this._header_text.removeClass(),this.rtl?this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content-rtl")):this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content")),this._header.append("<div></div>"),this._arrow=this._header.children("div:eq(1)"),1==this.showArrow?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this.tI=-1,void 0==this._header.attr("tabindex")&&(this.tI++,this._header.attr("tabindex",this.tI)),void 0==this._content.attr("tabindex")&&(this.tI++,this._content.attr("tabindex",this.tI)),this._setTheme(),this._checkContent();var c="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(0==this._header.length||0==this._content.length||this.host.children().length<2||this.host.children().length>2)throw c}catch(d){alert(d)}this._expandChecker,this._initialized,1==this.expanded?("top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.initContent&&(this._setSize(),this.initContent()),this._initialized=!0,this._expandChecker=0):0==this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),"top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"))),this._initialized=!1,this._expandChecker=1,this._content.css("display","none")),this._setSize(),0==this.disabled&&this._toggle(),this._keyBoard();var e=this;a.jqx.utilities.resize(this.host,function(){e.invalidate()})},destroy:function(){this.removeHandler(a(window),"resize.expander"+this.widgetID),this.host.remove(),a(this.element).removeData("jqxExpander")},focus:function(){try{0==this.disabled&&this._header.focus()}catch(a){}},propertyChangedHandler:function(a,b,c,d){"expanded"==b?1==d&&0==c?(this.expanded=!1,this.expand()):0==d&&1==c&&(this.expanded=!0,this.collapse()):this.refresh()},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},resize:function(a,b){this.width=a,this.height=b,this._setSize()},_setSize:function(){this.host.width(this.width),this.host.height(this.height),this._header.height("auto"),this._header.css("min-height",this._arrow.height());var a=this.arrowPosition;if(this.rtl)switch(a){case"left":a="right";break;case"right":a="left"}if("right"==a?(this._header_text.css({"float":"left","margin-left":"0px"}),this._arrow.css({"float":"right",position:"relative"})):"left"==a&&("auto"==this.width?(this._header_text.css({"float":"left","margin-left":"17px"}),this._arrow.css({"float":"left",position:"absolute"})):(this._header_text.css({"float":"right","margin-left":"0px"}),this._arrow.css({"float":"left",position:"relative"}))),this._arrow.css("margin-top",this._header_text.height()/2-this._arrow.height()/2),"auto"==this.height)this._content.height("auto"),this._contentHeight=this._content.height();else{this._content.height("auto");var b=Math.round(this.host.height())-Math.round(this._header.outerHeight())-1;0>b&&(b=0),this._contentHeight||(this._contentHeight=this._content.height()),b!=this._contentHeight?(this._content.height(b),this._contentHeight=Math.round(this._content.outerHeight())):this._content.height(this._contentHeight)}},_toggle:function(){var b=this;if(0==this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){b._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){b._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,a.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){b._animate()})}},_animate:function(){1==this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.addClass(this.toThemeProperty("jqx-expander-header-hover")),"top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-up-hover")))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-hover")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var a=this;this.host.addClass(this.toThemeProperty("jqx-widget")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),1==this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),0==this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.expanded?(this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"))):(this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,a._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){a._hovered=!0,1==a._expandChecker&&(a._header.removeClass(a.toThemeProperty("jqx-fill-state-normal")),a._header.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._header.addClass(a.toThemeProperty("jqx-fill-state-hover")),a._header.addClass(a.toThemeProperty("jqx-expander-header-hover")),"top"==a.headerPosition?(a.expanded?a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover")):a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover")),a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==a.headerPosition&&(a.expanded&&a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover")),a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){a._hovered=!1,a._header.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover")),a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a._header.removeClass(a.toThemeProperty("jqx-expander-header-hover")),"top"==a.headerPosition?(a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover")),a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==a.headerPosition&&(a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover")),a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-up-hover"))),1==a._expandChecker?a._header.addClass(a.toThemeProperty("jqx-fill-state-normal")):a._header.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}))):(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))),this.host.addClass(this.toThemeProperty("jqx-expander")),this._header.addClass(this.toThemeProperty("jqx-expander-header")),this._content.addClass(this.toThemeProperty("jqx-expander-content")),"top"==this.headerPosition?this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom")):"bottom"==this.headerPosition&&this._content.addClass(this.toThemeProperty("jqx-expander-content-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._content.html()),1==this._cntntEmpty?(this._content.height(0),this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):(this._content.height(this._contentHeight),this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var a=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(b){var c=!1;if((1==a.focusedH||1==a.focusedC)&&0==a.disabled){switch(b.keyCode){case 13:case 32:"none"!=a.toggleMode&&(1==a.focusedH&&a._animate(),c=!0);break;case 38:1==b.ctrlKey&&1==a.focusedC&&a._header.focus(),c=!0;break;case 40:1==b.ctrlKey&&1==a.focusedH&&a._content.focus(),c=!0}return!0}return c&&b.preventDefault&&b.preventDefault(),!c})},_focus:function(){var b=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){b.focusedH=!0,a.jqx.aria(b._header,"aria-selected",!0),b._header.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){b.focusedH=!1,a.jqx.aria(b._header,"aria-selected",!1),b._header.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header_text,"focus.expander"+this.widgetID,function(){b._header.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){b._header.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){b.focusedC=!0,b._content.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){b.focusedC=!1,b._content.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxNavigationBar","",{}),a.extend(a.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};a.extend(!0,this,b)},createInstance:function(b){this._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),this.render()},val:function(b){return 0==arguments.length||"object"==typeof b?this.expandedIndexes:("string"==typeof b?(this.expandedIndexes.push(parseInt(b)),this._applyExpandedIndexes()):(a.isArray(b)?this.expandedIndexes=b:(this.expandedIndexes=new Array,this.expandedIndexes.push(b)),this._applyExpandedIndexes()),this.expandedIndexes)},expandAt:function(b){var c=this;("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode)&&a.each(this.items,function(a,d){a!=b&&c.collapseAt(a)});var d=this.items[b];if(0==d.disabled&&0==d.expanded&&1==d._expandChecker){var c=this;switch(d._expandChecker=0,this._raiseEvent("0",{item:b}),d._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),d._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),d._header.addClass(this.toThemeProperty("jqx-expander-header-expanded")),d._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),d._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),d._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),d._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),d._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),d._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),d._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),
d._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),d._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded")),0==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"hidden"}),this.eCFlag=1,this.animationType){case"slide":var e=d._content,f=(e.height(),{});f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="show";var g=0,h=e.outerHeight();if(a.jqx.browser.msie&&a.jqx.browser.version<9){var f={};f.height=f.paddingTop=f.paddingBottom="show"}e.animate(f,{duration:this.expandAnimationDuration,easing:this.easing,step:function(a,b){b.now=Math.round(a),"height"!==b.prop?g+=b.now:c._collapseContent?(b.now=Math.round(h-c._collapseContent.outerHeight()-g),g=0):b.now=Math.round(a)},complete:function(){d.expanded=!0,a.jqx.aria(d._header,"aria-expanded",!0),a.jqx.aria(d._content,"aria-hidden",!1),c._updateExpandedIndexes(),c._raiseEvent("1",{item:b}),c._checkHeight(),1==c.heightFlag&&c.host.css({"overflow-x":"hidden","overflow-y":"auto"}),c.initContent&&0==d._initialized&&(c.initContent(b),d._initialized=!0),c.eCFlag=0}});break;case"fade":setTimeout(function(){d._content.fadeIn(this.expandAnimationDuration,function(){d.expanded=!0,a.jqx.aria(d._header,"aria-expanded",!0),a.jqx.aria(d._content,"aria-hidden",!1),c._updateExpandedIndexes(),c._raiseEvent("1",{item:b}),c._checkHeight(),1==c.heightFlag&&c.host.css({"overflow-x":"hidden","overflow-y":"auto"}),c.initContent&&0==d._initialized&&(c.initContent(b),d._initialized=!0),c.eCFlag=0})},this.collapseAnimationDuration);break;case"none":d._content.css("display","inherit"),d.expanded=!0,a.jqx.aria(d._header,"aria-expanded",!0),a.jqx.aria(d._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:b}),this._checkHeight(),1==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"auto"}),this.initContent&&0==d._initialized&&(this.initContent(b),d._initialized=!0),this.eCFlag=0}}},collapseAt:function(b){var c=this.items[b];if(0==c.disabled&&1==c.expanded&&0==c._expandChecker){var d=this;switch(c._expandChecker=1,this._raiseEvent("2",{item:b}),c._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),c._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),c._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),c._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),c._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),c._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),c._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded")),c._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),c._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),0==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"hidden"}),this.eCFlag=1,this._collapseContent=c._content,this.animationType){case"slide":var e={};if(e.height=e.paddingTop=e.paddingBottom=e.borderTopWidth=e.borderBottomWidth="hide",a.jqx.browser.msie&&a.jqx.browser.version<9){var e={};e.height=e.paddingTop=e.paddingBottom="hide"}var f=c._content;f.animate(e,{duration:this.collapseAnimationDuration,step:function(a,b){b.now=Math.round(a)},easing:this.easing,complete:function(){c.expanded=!1,f.hide(),a.jqx.aria(c._header,"aria-expanded",!1),a.jqx.aria(c._content,"aria-hidden",!0),d._updateExpandedIndexes(),d._raiseEvent("3",{item:b}),d._checkHeight(),1==d.heightFlag&&d.host.css({"overflow-x":"hidden","overflow-y":"auto"}),d.eCFlag=0,d._collapseContent=null}});break;case"fade":c._content.fadeOut(this.collapseAnimationDuration,function(){c.expanded=!1,a.jqx.aria(c._header,"aria-expanded",!1),a.jqx.aria(c._content,"aria-hidden",!0),d._updateExpandedIndexes(),d._raiseEvent("3",{item:b}),d._checkHeight(),1==d.heightFlag&&d.host.css({"overflow-x":"hidden","overflow-y":"auto"}),d.eCFlag=0});break;case"none":c._content.css("display","none"),c.expanded=!1,a.jqx.aria(c._header,"aria-expanded",!1),a.jqx.aria(c._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:b}),this._checkHeight(),1==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"auto"}),this.eCFlag=0}}},setHeaderContentAt:function(a,b){this.items[a]._header_text.html(b)},getHeaderContentAt:function(a){return this.items[a]._header_text.html()},setContentAt:function(a,b){this.items[a]._content.html(b),this._checkContent(a)},getContentAt:function(a){return this.items[a]._content.html()},showArrowAt:function(a){this.items[a]._arrow.css("display","block")},hideArrowAt:function(a){this.items[a]._arrow.css("display","none")},enable:function(){this.disabled=!1,a.each(this.items,function(a,b){this.disabled=!1}),this._enabledDisabledCheck(),this.refresh(),a.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,a.each(this.items,function(a,b){this.disabled=!0}),this._enabledDisabledCheck(),this.refresh(),a.jqx.aria(this,"aria-disabled",!0)},enableAt:function(a){this.items[a].disabled=!1,this.refresh()},disableAt:function(a){this.items[a].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(b){1!=b&&(this._removeHandlers(),1==this.showArrow?a.each(this.items,function(a,b){var c=this;c._arrow.css("display","block")}):a.each(this.items,function(a,b){var c=this;c._arrow.css("display","none")}),this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard())},render:function(){this.widgetID=this.element.id;var b=this;-1==this._expandModes.indexOf(this.expandMode)&&(this.expandMode="singleFitHeight"),a.jqx.utilities.resize(this.host,function(){b._setSize()}),this.host.attr("role","tablist"),this.items&&(this._removeHandlers(),a.each(this.items,function(){this._header.removeClass(),this._header.attr("tabindex",null),this._content.attr("tabindex",null),this._header[0].className="",this._header_text.removeClass(),this._header_text[0].className="",this._header.css("margin-top",0),this._header[0].innerHTML=this._header_text[0].innerHTML})),this.items=new Array;var c=this.host.children().length,d="Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content.";try{if(c%2!=0)throw d}catch(e){alert(e)}var f="Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs.";try{for(var g=this.host.children(),h=0;c>h;h++)if("div"!=g[h].tagName.toLowerCase())throw f}catch(e){alert(e)}for(var i,j=0;c>j;j+=2)i=this.host.children("div:eq("+j+")"),i.wrap("<div></div>");for(var k,h=0,l=0;c/2>l;l++)k=h+1,this.items[l]=new Object,this.items[l]._header=this.host.children("div:eq("+h+")"),this.items[l]._header.attr("role","tab"),this.items[l]._content=this.host.children("div:eq("+k+")"),this.items[l]._content.attr("role","tabpanel"),h+=2;var m=this.expandedIndexes.length;a.each(this.items,function(a,b){this.expandedFlag=!1,this.focusedH=!1,this.focusedC=!1}),this.items&&0==this.items.length||("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode?(a.each(this.items,function(a,b){var c=this;c.expanded=!1}),0!=m?this.items[this.expandedIndexes[0]].expanded=!0:0!=m||"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0)):"multiple"==this.expandMode?0!=m?a.each(this.items,function(a,c){for(var d=this,e=0;m>e;e++){if(b.expandedIndexes[e]==a){d.expanded=!0;break}d.expanded=!1}}):a.each(this.items,function(a,b){var c=this;c.expanded=!1}):"none"==this.expandMode&&a.each(this.items,function(a,b){var c=this;c.expanded=!1}),this._enabledDisabledCheck(),a.each(this.items,function(a,c){var d=this;d._header_text=d._header.children("div:eq(0)"),b.rtl?d._header_text.addClass(b.toThemeProperty("jqx-expander-header-content-rtl")):d._header_text.addClass(b.toThemeProperty("jqx-expander-header-content")),d._header.append("<div></div>"),d._arrow=d._header.children("div:eq(1)"),1==b.showArrow?d._arrow.css("display","block"):d._arrow.css("display","none")}),a.each(this.items,function(c,d){var e=this;1==e.expanded?(e._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-up")),e._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-selected")),e._arrow.addClass(b.toThemeProperty("jqx-expander-arrow-bottom")),e._arrow.addClass(b.toThemeProperty("jqx-expander-arrow-expanded")),b.initContent&&setTimeout(function(){b.initContent(c)},10),e._initialized=!0,e._expandChecker=0,a.jqx.aria(e._header,"aria-expanded",!0),a.jqx.aria(e._content,"aria-hidden",!1)):0==e.expanded&&(e._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),e._arrow.addClass(b.toThemeProperty("jqx-expander-arrow-top")),e._initialized=!1,e._expandChecker=1,e._content.css("display","none"),a.jqx.aria(e._header,"aria-expanded",!1),a.jqx.aria(e._content,"aria-hidden",!0))}),this.tI=0,a.each(this.items,function(a,c){var d=this;void 0==d._header.attr("tabindex")&&(b.tI++,d._header.attr("tabindex",b.tI)),void 0==d._content.attr("tabindex")&&(b.tI++,d._content.attr("tabindex",b.tI))}),this._setTheme(),a.each(this.items,function(a,c){b._checkContent(a)}),this._setSize(),this._toggle(),this._keyBoard())},insert:function(b,c,d){var e="<div>"+c+"</div><div>"+d+"</div>";if(-1!=b)a(e).insertBefore(this.items[b]._header);else{var f=this.items.length-1;a(e).insertAfter(this.items[f]._content)}this.render()},add:function(a,b){this.insert(-1,a,b)},update:function(a,b,c){this.setHeaderContentAt(a,b),this.setContentAt(a,c)},remove:function(a){if(isNaN(a)&&(a=this.items.length-1),this.items[a]){this.items[a]._header.remove(),this.items[a]._content.remove(),this.items.splice(a,1);var b=this.expandedIndexes.indexOf(a);b>-1&&this.expandedIndexes.splice(b,1),this.render()}},destroy:function(){this._removeHandlers(),this.host.remove()},focus:function(){try{a.each(this.items,function(a,b){var c=this;return 0==c.disabled?(c._header.focus(),!1):void 0})}catch(b){}},_applyExpandedIndexes:function(){for(var b=this,c=this.expandedIndexes.length,d=0;c>d;d++){var e=b.expandedIndexes[d];a.each(this.items,function(a,c){var d=this;return a==e&&(d.expandedFlag=!0,0==d.expanded&&b.expandAt(a),"single"==b.expandMode||"singleFitHeight"==b.expandMode||"toggle"==b.expandMode||"none"==b.expandMode)?!1:void 0}),a.each(this.items,function(a,c){var d=this;a!=e&&0==d.expandedFlag&&b.collapseAt(a)})}a.each(this.items,function(a,b){this.expandedFlag=!1})},propertyChangedHandler:function(a,b,c,d){"disabled"==b?a._enabledDisabledCheck():"expandedIndexes"==b?a._applyExpandedIndexes():a.refresh()},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c,e.item=e.args.item;try{var f=this.host.trigger(e)}catch(g){}return f},resize:function(a,b){this.width=a,this.height=b,this._setSize()},_setSize:function(){var b=this;this.headersHeight=0;var c=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-left")):0,d=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-right")):0,e=2,f=c+d+e;isNaN(f)&&(f=12),"auto"==this.width?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):this.host.width(parseInt(this.width)+f),this.host.height(this.height),a.each(this.items,function(a,c){var d=this,e=b.arrowPosition;if(b.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(d._header_text.css({"float":"left","margin-left":"0px"}),d._arrow.css({"float":"right",position:"relative"})):"left"==e&&("auto"==b.width?(d._header_text.css({"float":"left","margin-left":"17px"}),d._arrow.css({"float":"left",position:"absolute"})):(d._header_text.css({"float":"right","margin-left":"0px"}),d._arrow.css({"float":"left",position:"relative"}))),d._header.height("auto"),d._header_text.css("min-height",d._arrow.height()),b.headersHeight+=d._header.outerHeight(),d._arrow.css("margin-top",d._header_text.height()/2-d._arrow.height()/2)}),a.each(this.items,function(a,c){var d=this;if("auto"!=b.height)if("single"==b.expandMode||"toggle"==b.expandMode||"multiple"==b.expandMode)b.host.css({"overflow-x":"hidden","overflow-y":"auto"});else if("singleFitHeight"==b.expandMode){var e=parseInt(d._content.css("padding-top"))+parseInt(d._content.css("padding-bottom"));b.height&&b.height.toString().indexOf("%")>=0?d._content.height(b.host.height()-b.headersHeight-e+2):d._content.height(b.host.height()-b.headersHeight-e)}}),b._checkHeight()},_toggle:function(){var b=this;if(0==this._isTouchDevice)switch(this.toggleMode){case"click":a.each(this.items,function(a,c){var d=this;0==d.disabled&&b.addHandler(d._header,"click.navigationbar"+b.widgetID,function(){b.focusedH=!0,b._animate(a)})});break;case"dblclick":a.each(this.items,function(a,c){var d=this;0==d.disabled&&b.addHandler(d._header,"dblclick.navigationbar"+b.widgetID,function(){b.focusedH=!0,b._animate(a)})});break;case"none":}else{if("none"==this.toggleMode)return;a.each(this.items,function(c,d){var e=this;0==e.disabled&&b.addHandler(e._header,a.jqx.mobile.getTouchEventName("touchstart")+"."+b.widgetID,function(){b._animate(c)})})}},_animate:function(a,b){var c=this;this.eCFlag;var d=this.items[a];"none"!=this.expandMode&&1!=this.eCFlag&&(1==this.items[a].expanded?("multiple"==this.expandMode||"toggle"==this.expandMode)&&this.collapseAt(a):this.expandAt(a),c._isTouchDevice||(1!=b?(d._header.addClass(this.toThemeProperty("jqx-fill-state-hover")),d._header.addClass(this.toThemeProperty("jqx-expander-header-hover")),d._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),d._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):(d._header.removeClass(this.toThemeProperty("jqx-fill-state-hover")),d._header.removeClass(this.toThemeProperty("jqx-expander-header-hover")),d._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),d._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var b=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID),a.each(this.items,function(a,c){var d=this;b.removeHandler(d._header,"click.navigationbar"+b.widgetID),b.removeHandler(d._header,"dblclick.navigationbar"+b.widgetID),b.removeHandler(d._header,"mouseenter.navigationbar"+b.widgetID),b.removeHandler(d._header,"mouseleave.navigationbar"+b.widgetID),b.removeHandler(d._header,"focus.navigationbar"+b.widgetID),b.removeHandler(d._header,"blur.navigationbar"+b.widgetID),b.removeHandler(d._content,"focus.navigationbar"+b.widgetID),b.removeHandler(d._content,"blur.navigationbar"+b.widgetID),b.removeHandler(d._header_text,"focus.navigationbar"+b.widgetID),b.removeHandler(d._arrow,"focus.navigationbar"+b.widgetID)})},_setTheme:function(){var b=this;this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-widget")),1==this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),a.each(this.items,function(a,c){var d=this;d._header.css("position","relative"),d._content.css("position","relative"),d._header.addClass(b.toThemeProperty("jqx-widget-header")),d._header.addClass(b.toThemeProperty("jqx-item")),d._content.addClass(b.toThemeProperty("jqx-widget-content")),0==d.disabled?(d._header.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),d._content.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),1==d.expanded?(d._header.addClass(b.toThemeProperty("jqx-fill-state-pressed")),d._header.addClass(b.toThemeProperty("jqx-expander-header-expanded"))):(d._header.addClass(b.toThemeProperty("jqx-fill-state-normal")),d._header.removeClass(b.toThemeProperty("jqx-expander-header-expanded"))),b._isTouchDevice||(b.addHandler(d._header,"mouseenter.navigationbar"+b.widgetID,function(){1==d._expandChecker&&(d.focusedH||d._header.css("z-index",5),d._header.removeClass(b.toThemeProperty("jqx-fill-state-normal")),d._header.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),d._header.addClass(b.toThemeProperty("jqx-fill-state-hover")),d._header.addClass(b.toThemeProperty("jqx-expander-header-hover")),d._arrow.addClass(b.toThemeProperty("jqx-expander-arrow-top-hover")),d._arrow.addClass(b.toThemeProperty("jqx-expander-arrow-down-hover")),d.expanded?d._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover")):d._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")))}),b.addHandler(d._header,"mouseleave.navigationbar"+b.widgetID,function(){d.focusedH||d._header.css("z-index",0),d._header.removeClass(b.toThemeProperty("jqx-fill-state-hover")),d._header.removeClass(b.toThemeProperty("jqx-expander-header-hover")),d._arrow.removeClass(b.toThemeProperty("jqx-expander-arrow-top-hover")),d._arrow.removeClass(b.toThemeProperty("jqx-expander-arrow-down-hover")),1==d._expandChecker?d._header.addClass(b.toThemeProperty("jqx-fill-state-normal")):d._header.addClass(b.toThemeProperty("jqx-fill-state-pressed")),d._arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover")),d._arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))}))):(d._header.addClass(b.toThemeProperty("jqx-fill-state-disabled")),d._content.addClass(b.toThemeProperty("jqx-fill-state-disabled"))),b.host.addClass(b.toThemeProperty("jqx-navigationbar")),d._header.addClass(b.toThemeProperty("jqx-expander-header")),d._content.addClass(b.toThemeProperty("jqx-expander-content")),d._content.addClass(b.toThemeProperty("jqx-expander-content-bottom")),0!=a&&d._header.css("margin-top",-1),d._arrow.addClass(b.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(a){var b=this.items[a],c=b._content;if(this._cntntEmpty=/^\s*$/.test(this.items[a]._content.html()),1==this._cntntEmpty)c.css("display","none"),c.height(0),c.addClass(this.toThemeProperty("jqx-expander-content-empty"));else{if(b.expanded&&c.css("display","block"),"singleFitHeight"==this.expandMode){var d=1;0!=a&&(d=2),c.height(this.host.height()-this.headersHeight+d)}else c.height("auto");c.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){var b=this;this.totalHeight=0,this.heightFlag;var c=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-left")):0,d=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-right")):0,e=2,f=c+d+e;isNaN(f)&&(f=12);var g=17;a.each(this.items,function(a,c){var d=this;b.totalHeight+=(d.expanded?d._content.outerHeight():0)+d._header.outerHeight()}),"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(this.totalHeight>this.host.height()?(this.host.width(this.width+f+g),this.heightFlag=!0):(this.host.width(this.width+f),this.heightFlag=!1))},_enabledDisabledCheck:function(){1==this.disabled?a.each(this.items,function(a,b){var c=this;c.disabled=!0}):a.each(this.items,function(a,b){var c=this;c.disabled=!1})},_updateExpandedIndexes:function(){var b=this;this.expandedIndexes=[],a.each(this.items,function(a,c){var d=this;return 1==d.expanded&&(b.expandedIndexes.push(a),"single"==b.expandMode||"singleFitHeight"==b.expandMode||"toggle"==b.expandMode||"none"==b.expandMode)?!1:void 0})},_keyBoard:function(){var b=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(c){var d=!1;return a.each(b.items,function(a,e){var f=this,g=b.items.length;if((1==f.focusedH||1==f.focusedC)&&0==f.disabled){switch(c.keyCode){case 13:case 32:"none"!=b.toggleMode&&(1==f.focusedH&&b._animate(a,!0),d=!0);break;case 37:if(0!=a)b.items[a-1]._header.focus();else{var g=b.items.length;b.items[g-1]._header.focus()}d=!0;break;case 38:if(0==c.ctrlKey)if(0!=a)b.items[a-1]._header.focus();else{var g=b.items.length;b.items[g-1]._header.focus()}else 1==f.focusedC&&f._header.focus();d=!0;break;case 39:a!=g-1?b.items[a+1]._header.focus():b.items[0]._header.focus(),d=!0;break;case 40:0==c.ctrlKey?a!=g-1?b.items[a+1]._header.focus():b.items[0]._header.focus():1==f.expanded&&f._content.focus(),d=!0;break;case 35:a!=g-1&&b.items[g-1]._header.focus(),d=!0;break;case 36:0!=a&&b.items[0]._header.focus(),d=!0}return!1}}),d&&c.preventDefault&&c.preventDefault(),!d})},_focus:function(){var b=this;this.disabled||a.each(this.items,function(c,d){var e=this;b.addHandler(e._header,"focus.navigationbar"+this.widgetID,function(){e.focusedH=!0,a.jqx.aria(e._header,"aria-selected",!0),e._header.addClass(b.toThemeProperty("jqx-fill-state-focus")),e._header.css("z-index",10)}),b.addHandler(e._header,"blur.navigationbar"+this.widgetID,function(){e.focusedH=!1,a.jqx.aria(e._header,"aria-selected",!1),e._header.hasClass("jqx-expander-header-hover")?e._header.css("z-index",5):e._header.css("z-index",0),e._header.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(e._header_text,"focus.navigationbar"+this.widgetID,function(){e._header.focus()}),b.addHandler(e._arrow,"focus.navigationbar"+this.widgetID,function(){e._header.focus()}),b.addHandler(e._content,"focus.navigationbar"+this.widgetID,function(){e.focusedC=!0,e._content.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(e._content,"blur.navigationbar"+this.widgetID,function(){e.focusedC=!1,e._content.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxNumberInput","",{}),a.extend(a.jqx._jqxNumberInput.prototype,{defineInstance:function(){var b={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};a.extend(!0,this,b)},createInstance:function(a){var b=this.host.attr("value");void 0!=b&&(this.decimal=b),null!=this.value&&(this.decimal=this.value),this.render()},_doTouchHandling:function(){var a=this,b=a.savedValue;if(a.parsing||(a.parsing=!0),a.parsing){a.numberInput.val()&&0==a.numberInput.val().indexOf("-")?a.setvalue("negative",!0):a.setvalue("negative",!1);for(var c=a.numberInput.val(),d=0;d<c.length-1;d++){var e=c.substring(d,d+1);if(isNaN(parseFloat(e))&&e!=a.symbol&&"%"!=e&&"$"!=e&&"."!=e&&","!=e&&"-"!=e)return a.numberInput[0].value=b,void(a.parsing=!1)}a.ValueString=a.GetValueString(a.numberInput.val(),a.decimalSeparator,""!=a.decimalSeparator),a.ValueString=new Number(a.ValueString).toFixed(a.decimalDigits),a._parseDecimalInSimpleMode(),a.decimal=a.ValueString;var f=a.getvalue("negative");f&&(a.decimal="-"+a.ValueString),a.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),a.jqx.aria(this),a.jqx.aria(this,"aria-multiline",!1);var b=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(a.jqx.mobile.isTouchDevice()||this.touchMode===!0)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=a("<input autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content")));var c=this.host.attr("name");if(c&&this.numberInput.attr("name",c),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),a.jqx.mobile.isTouchDevice()||this.touchMode===!0||"textbox"==this.inputMode){var b=this;b.savedValue="",this.addHandler(this.numberInput,"focus",function(){b.savedValue=b.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){b._doTouchHandling()})}var d=a.data(this.host[0],"jqxNumberInput");d.jqxNumberInput=this;var b=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){b.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.numberInput.addClass(e.toThemeProperty("jqx-input-disabled")),a.numberInput.attr("disabled",!0)):(a.host.removeClass(e.toThemeProperty("jqx-input-disabled")),a.numberInput.attr("disabled",!1)),a.spinButtons&&a.host.jqxRepeatButton&&(a.upbutton.jqxRepeatButton({disabled:d}),a.downbutton.jqxRepeatButton({disabled:d}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;var e=(this.element.id,this.element,this);this.oldValue=this._value(),this.items=new Array;var f=(this.value,this.decimal);this._initializeLiterals(),this._render(),this.setDecimal(f);var b=this;setTimeout(function(){b._render(!1)},100),this._addHandlers(),a.jqx.utilities.resize(this.host,function(){b._render()})},refresh:function(a){a||this._render()},wheel:function(a,b){if(b.enableMouseWheel){var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation(),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1}},_handleDelta:function(a){return 0>a?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var b=this;this.addHandler(this.numberInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this._mousewheelfunc=this._mousewheelfunc||function(a){return b.editcell?void 0:(b.wheel(a,b),!1)},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var c="";this.addHandler(this.numberInput,"focus",function(d){a.data(b.numberInput,"selectionstart",b._selection().start),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.spincontainer&&b.spincontainer.addClass(b.toThemeProperty("jqx-numberinput-focus")),c=b.numberInput.val()}),this.addHandler(this.numberInput,"blur",function(d){if("simple"==b.inputMode&&b._exitSimpleInputMode(d,b,!1,c),b.autoValidate){var e=parseFloat(b.decimal),f=b.getvalue("negative");f&&b.decimal>0&&(e=-parseFloat(b.decimal)),e>b.max&&(b._disableSetSelection=!0,b.setDecimal(b.max),b._disableSetSelection=!1),e<b.min&&(b._disableSetSelection=!0,b.setDecimal(b.min),b._disableSetSelection=!1)}return b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.spincontainer&&b.spincontainer.removeClass(b.toThemeProperty("jqx-numberinput-focus")),b.numberInput.val()!=c&&(b._raiseEvent(7,d),a.jqx.aria(b,"aria-valuenow",b.decimal),b.element.value=b.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.numberInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.numberInput,"keyup",function(a){return b._raiseEvent(5,a)}),this.addHandler(this.numberInput,"keypress",function(a){return b._raiseEvent(6,a)})},focus:function(){try{this.numberInput.focus()}catch(a){}},_removeHandlers:function(){var b=this;this.removeHandler(this.numberInput,"mousedown");var c=a.jqx.mobile.isOperaMiniMobileBrowser();c&&this.removeHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=a("<input autocomplete='off' style='position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=a('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"});var b=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(a){b.disabled||(b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(a){b.disabled||(b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(a(document),"mouseup."+this.element.id),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-selected")),b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(c){return b.disabled?void 0:(a.jqx.browser.msie&&a.jqx.browser.version<9&&(b._inputSelection=b._selection()),b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-selected")),c.preventDefault(),c.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mousedown",function(c){return b.disabled?void 0:(a.jqx.browser.msie&&a.jqx.browser.version<9&&(b._inputSelection=b._selection()),b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-selected")),c.preventDefault(),c.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mouseenter",function(a){b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(a){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(a){
b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(a){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var b=this;this._upArrow.hover(function(){b.disabled||b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){b.disabled||b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))});var c=a.jqx.mobile.isTouchDevice(),d="click";c&&(d=a.jqx.mobile.getTouchEventName("touchstart")),c&&(this.addHandler(this.downbutton,"click",function(a){b.spinDown()}),this.addHandler(this.upbutton,"click",function(a){b.spinUp()})),this.addHandler(this.downbutton,d,function(d){return c?(d.preventDefault(),d.stopPropagation()):(0==b._selection().start&&b._setSelectionStart(b.numberInput.val().length),a.jqx.browser.msie&&a.jqx.browser.version<9&&b._setSelectionStart(b._inputSelection.start)),b.spinDown(),!1}),this.addHandler(this.upbutton,d,function(d){return c?(d.preventDefault(),d.stopPropagation()):(0==b._selection().start&&b._setSelectionStart(b.numberInput.val().length),a.jqx.browser.msie&&a.jqx.browser.version<9&&b._setSelectionStart(b._inputSelection.start)),b.spinUp(),!1})},spinDown:function(){var b=this;if("none"!=b.spinMode){if(null==this.decimal)return void this.setDecimal(-1);var c=this.getvalue("negative"),d=c?-1:0;if((a.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&b._doTouchHandling(),!b.disabled){var e=this._selection(),f=this.decimal,g=this.getDecimal();if(g<this.min)return g=this.min,this.setDecimal(this.min),this._setSelectionStart(e.start),void this.spinDown();if(g>this.max)return g=this.max,this.setDecimal(this.max),this._setSelectionStart(e.start),void this.spinDown();b.spinButtonsStep<0&&(b.spinButtonsStep=1);var h=parseInt(b.decimal)-b.spinButtonsStep;h=h.toString().length;var i=d+h<=b.digits;if("advanced"!=b.spinMode){if(g-b.spinButtonsStep>=b.min&&i){var j=1;for(o=0;o<b.decimalDigits;o++)j=10*j;var k=j*g-j*b.spinButtonsStep;k/=j,k=this._parseDecimalValueToEditorValue(k),b.setDecimal(k)}}else{var l=this._getspindecimal(),g=(this._getSeparatorPosition(),parseFloat(l.decimal));b.spinButtonsStep<0&&(b.spinButtonsStep=1);var h=parseInt(g)-b.spinButtonsStep;h=h.toString().length;var i=d+h<=b.digits,j=1,m=l.decimal.indexOf(".");if(-1!=m){for(var n=l.decimal.length-m-1,j=1,o=0;n>o;o++)j=10*j;g-=new Number(b.spinButtonsStep/j),g=g.toFixed(n);var m=g.toString().indexOf(".");-1==m&&(g=g.toString()+".");var p=g.toString()+l.afterdecimal;p=new Number(p),p=p.toFixed(b.decimalDigits),p>=b.min&&(p=this._parseDecimalValueToEditorValue(p),b.setDecimal(p))}else if(g-b.spinButtonsStep>=b.min&&i){var k=j*g-j*b.spinButtonsStep;k/=j;var p=k.toString()+l.afterdecimal;p>=b.min&&(p=this._parseDecimalValueToEditorValue(p),b.setDecimal(p))}}if(void 0==p||"simple"!=this.inputMode)return this._setSelectionStart(e.start),b.savedValue=b.numberInput[0].value,a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),void a.jqx.aria(self,"aria-valuenow",this.decimal);p=this.decimal.toString();var c=this.getvalue("negative");0==d&&c?this._setSelectionStart(e.start+1):void 0==p||void 0!=f&&f.toString().length!=p.length?c?this._setSelectionStart(e.start+1):this._setSelectionStart(e.start-1):this._setSelectionStart(e.start),a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),a.jqx.aria(self,"aria-valuenow",this.decimal)}}},_getspindecimal:function(){var a=this._selection(),b="",c=(this._getSeparatorPosition(),this._getVisibleItems()),d=this._getHiddenPrefixCount(),e=this.numberInput.val();this.numberInput.val().length==a.start&&0==a.length&&(this._setSelection(a.start,a.start+1),a=this._selection());for(var f="advanced"!=this.inputMode,g=0;g<a.start;g++)if(f){var h=e.substring(g,g+1),i=!isNaN(parseInt(h));i&&(b+=h),h==this.decimalSeparator&&(b+=h)}else c[g].canEdit&&c[g].character!=this.promptChar?b+=c[g].character:c[g].canEdit||-1==this.decimalSeparatorPosition||c[g]!=c[this.decimalSeparatorPosition-d]||(0==b.length&&(b="0"),b+=c[g].character);for(var j="",g=a.start;g<c.length;g++)if(f){var h=e.substring(g,g+1),i=!isNaN(parseInt(h));i&&(j+=h),h==this.decimalSeparator&&(j+=h)}else c[g].canEdit&&c[g].character!=this.promptChar?j+=c[g].character:c[g].canEdit||-1==this.decimalSeparatorPosition||c[g]!=c[this.decimalSeparatorPosition-d]||(j+=c[g].character);var k=this.getvalue("negative"),l=k?"-"+this._parseDecimalValue(b).toString():this._parseDecimalValue(b).toString();return{decimal:l,afterdecimal:this._parseDecimalValue(j)}},_parseDecimalValue:function(a){if("."!=this.decimalSeparator){var b=a.toString().indexOf(this.decimalSeparator);if(b>=0){var c=a.toString().substring(0,b)+"."+a.toString().substring(b+1);return c}}return a},_parseDecimalValueToEditorValue:function(a){if("."!=this.decimalSeparator){var b=a.toString().indexOf(".");if(b>=0){var c=a.toString().substring(0,b)+this.decimalSeparator+a.toString().substring(b+1);return c}}return a},spinUp:function(){var b=this;if("none"!=b.spinMode){if(null==this.decimal)return void this.setDecimal(1);(a.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&b._doTouchHandling();var c=this.getvalue("negative"),d=c?-1:0;if(!b.disabled){var e=this._selection(),f=b.decimal,g=b.getDecimal();if(g<this.min)return g=this.min,this.setDecimal(this.min),this._setSelectionStart(e.start),void this.spinUp();if(g>this.max)return g=this.max,this.setDecimal(this.max),this._setSelectionStart(e.start),void this.spinUp();b.spinButtonsStep<0&&(b.spinButtonsStep=1);var h=parseInt(b.decimal)+b.spinButtonsStep;h=h.toString().length;var i=d+h<=b.digits;if("advanced"!=b.spinMode){if(g+b.spinButtonsStep<=b.max&&i){for(var j=1,k=0;k<b.decimalDigits;k++)j=10*j;var l=j*g+j*b.spinButtonsStep;l/=j,l=this._parseDecimalValueToEditorValue(l),b.setDecimal(l)}}else{var m=this._getspindecimal(),g=(this._getSeparatorPosition(),parseFloat(m.decimal));b.spinButtonsStep<0&&(b.spinButtonsStep=1);var h=parseInt(g)+b.spinButtonsStep;h=h.toString().length;var i=d+h<=b.digits,j=1,n=m.decimal.indexOf(".");if(-1!=n){for(var o=m.decimal.length-n-1,j=1,k=0;o>k;k++)j=10*j;g+=new Number(b.spinButtonsStep/j),g=g.toFixed(o);var n=g.toString().indexOf(".");-1==n&&(g=g.toString()+".");var p=g.toString()+m.afterdecimal;p=new Number(p),p=p.toFixed(b.decimalDigits);var q=new Number(p).toFixed(b.decimalDigits);q<=b.max?(p=this._parseDecimalValueToEditorValue(p),b.setDecimal(p)):p=void 0}else if(g+b.spinButtonsStep<=b.max&&i){var l=j*g+j*b.spinButtonsStep;l/=j;var p=l.toString()+m.afterdecimal,q=new Number(p).toFixed(b.decimalDigits);q<=b.max?(p=this._parseDecimalValueToEditorValue(p),c&&-1==p.indexOf("-")&&"-0"!=m.decimal&&(p="-"+p),b.setDecimal(p)):p=void 0}}if(void 0==p||"simple"!=this.inputMode)return this._setSelectionStart(e.start),b.savedValue=b.numberInput[0].value,a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),void a.jqx.aria(self,"aria-valuenow",this.decimal);p=this.decimal.toString();var c=this.getvalue("negative");-1!=d||c?void 0==p||void 0!=f&&f.toString().length!=p.length?c?this._setSelectionStart(e.start):this._setSelectionStart(1+e.start):this._setSelectionStart(e.start):this._setSelectionStart(-1+e.start),a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),a.jqx.aria(self,"aria-valuenow",this.decimal)}}},_exitSimpleInputMode:function(b,c,d,e){if(void 0==c&&(c=b.data),null!=c){if(void 0==d){if(null!=b.target&&null!=c.element&&(void 0!=b.target.id&&b.target.id.toString().length>0&&c.host.find("#"+b.target.id).length>0||b.target==c.element))return;var f=c.host.offset(),g=f.left,h=f.top,i=c.host.width(),j=c.host.height(),k=a(b.target).offset();if(k.left>=g&&k.left<=g+i&&k.top>=h&&k.top<=h+j)return}if(a.jqx.mobile.isOperaMiniBrowser()&&c.numberInput.attr("readonly",!0),!c.disabled&&!c.readOnly){var l=a.data(c.numberInput,"simpleInputMode");if(null!=l)return a.data(c.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_getDecimalInSimpleMode:function(){var a=this.decimal;if("."!=this.decimalSeparator){var b=a.toString().indexOf(this.decimalSeparator);if(b>0)var c=a.toString().substring(0,b),a=c+"."+a.toString().substring(b+1)}return a},_parseDecimalInSimpleMode:function(a){var b=this,c=b.getvalue("negative"),d=this.ValueString;if(void 0==d&&(d=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var e=d.toString().indexOf(".");if(e>0){var f=d.toString().substring(0,e),g=f+this.decimalSeparator+d.toString().substring(e+1);d=g}}var h=c?"-":"";"left"==this.symbolPosition&&(h+=this.symbol);var i=this.digits%this.groupSize;0==i&&(i=this.groupSize);var j=d.toString();j.indexOf("-")>=0&&(j=j.substring(j.indexOf("-")+1)),h+=j,"right"==this.symbolPosition&&(h+=this.symbol),0!=a&&b.numberInput.val(h)},_enterSimpleInputMode:function(b,c){void 0==c&&(c=b.data);var d=this._selection();if(null!=c){var e=c.getvalue("negative"),f=c.decimal;e&&f>0&&(f=-f),c.numberInput.val(f),a.data(c.numberInput,"simpleInputMode",!0),a.jqx.mobile.isOperaMiniBrowser()&&c.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(d.start)}},setvalue:function(a,b){void 0!==this[a]&&("decimal"==a?this._setDecimal(b):(this[a]=b,this.propertyChangedHandler(this,a,b,b)))},getvalue:function(a){return"decimal"==a&&void 0!=this.negative&&1==this.negative?-Math.abs(this[a]):a in this?this[a]:null},_getString:function(){for(var a="",b=0;b<this.items.length;b++){var c=this.items[b].character;a+=c}return a},_literal:function(a,b,c,d){return{character:a,regex:b,canEdit:c,isSeparator:d}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var a=0,b=this.negativeSymbol.length,c=0;b>c;c++){var d=this.negativeSymbol.substring(c,c+1),e="",f=!1,g=null;g=this.negative?this._literal(d,e,f,!1):this._literal("",e,f,!1),this.items[a]=g,a++}var h=this.symbol.length;if("left"==this.symbolPosition)for(c=0;h>c;c++){var d=this.symbol.substring(c,c+1),e="",f=!1,g=this._literal(d,e,f,!1);this.items[a]=g,a++}var i=this.digits%this.groupSize;0==i&&(i=this.groupSize);for(var c=0;c<this.digits;c++){var d=this.promptChar,e="\\d",f=!0,g=this._literal(d,e,f,!1);if(this.items[a]=g,a++,c<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(i--,0==i){i=this.groupSize;var j=this._literal(this.groupSeparator,"",!1,!1);this.items[a]=j,a++}}else c==this.digits-1&&(g.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){var d=this.decimalSeparator;0==d.length&&(d=".");var g=this._literal(d,"",!1,!0);this.items[a]=g,this.decimalSeparatorPosition=a,a++;for(var c=0;c<this.decimalDigits;c++){var k=0,e="\\d",l=this._literal(k,e,!0,!1);this.items[a]=l,a++}}if("right"==this.symbolPosition)for(var c=0;h>c;c++){var d=this.symbol.substring(c,c+1),e="",f=!1,g=this._literal(d,e,f);this.items[a]=g,a++}}},_match:function(a,b){var c=new RegExp(b,"i");return c.test(a)},_raiseEvent:function(b,c){var d=this.events[b],e={};if(e.owner=this,"none"==this.host.css("display"))return!0;var f=c.charCode?c.charCode:c.keyCode?c.keyCode:0,g=!0,h=this.readOnly,i=this;if((3==b||2==b)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(c)}if(0==b){var j=this.getvalue("decimal");this.max<j||this.min>j?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var k=new a.Event(d);k.owner=this,e.value=this.getvalue("decimal"),e.text=this.numberInput.val(),k.args=e,g=this.host.trigger(k);var i=this;if("textbox"==this.inputMode)return g;if("simple"!=this.inputMode){if(4==b){if(h||this.disabled)return!1;g=i._handleKeyDown(c,f)}else if(5==b)(h||this.disabled)&&(g=!1);else if(6==b){if(h||this.disabled)return!1;g=i._handleKeyPress(c,f)}}else if(4==b||5==b||6==b){if(a.jqx.mobile.isTouchDevice()||this.touchMode===!0)return!0;if(h||this.disabled)return!1;var l=String.fromCharCode(f),m=(parseInt(l),!0);if(c.ctrlKey||c.shiftKey||f>=65&&90>=f&&(m=!1),6==b&&void 0!=a.jqx.browser.opera&&8==f)return!1;if(m){if(4==b&&(m=i._handleSimpleKeyDown(c,f)),189==f||45==f||109==f||173==f){var n=i._selection();if(4==b){var o=i.getvalue("negative");0==o?i.setvalue("negative",!0):i.setvalue("negative",!1),i.decimal=i.ValueString,i._parseDecimalInSimpleMode(),i._setSelectionStart(n.start),m=!1,i._raiseEvent(0,i.value),i._raiseEvent(1,i.numberInput.val())}}if(!a.jqx.browser.msie){var p=c;if(p.ctrlKey&&99==f||p.ctrlKey&&67==f||p.ctrlKey&&122==f||p.ctrlKey&&90==f||p.ctrlKey&&118==f||p.ctrlKey&&86==f||p.shiftKey&&45==f)return(a.jqx.browser.webkit||a.jqx.browser.chrome)&&i._handleSimpleKeyDown(c,f),67==f?!0:!1}if(c.ctrlKey&&97==f||c.ctrlKey&&65==f)return!0;if(6==b&&m){var q=this._isSpecialKey(f);return q}}return m}return g},GetSelectionInValue:function(a,b,c,d){var e=0;for(i=0;i<b.length&&!(i>=a);i++){var f=b.substring(i,i+1),g=!isNaN(parseInt(f));(g||d&&b.substring(i,i+1)==c)&&e++}return e},GetSelectionLengthInValue:function(a,b,c,d){var e=0;for(i=0;i<c.length&&!(i>=a+b);i++){var f=c.substring(i,i+1),g=!isNaN(parseInt(f));(b>0&&i>=a&&g||i>=a&&c[i].toString()==d)&&e++}return e},GetInsertTypeByPositionInValue:function(a,b,c,d){var e="before",f=this.GetValueString(c,b,d),g=this.GetDigitsToSeparator(0,f,b);return a>g&&(e="after"),e},RemoveRange:function(a,b,c,d,e,f){var g=this.digits,h=a,i=b,j=0,c=(this.decimal,this._selection(),this.numberInput.val()),d=this.decimalSeparator,k=""!=d;if(0==i&&this.ValueString.length<this.decimalPossibleChars-1)return j;var l=this.GetSeparatorPositionInText(d,c);e||(l=this.GetSeparatorPositionInText(d,c)),0>l&&!k&&c.length>1&&(l=c.length),-1==l&&(l=c.length);var m=k?1:0;if(2>b&&1==f){var n=this.ValueString.length-this.decimalDigits-m;n==g&&l>a+b&&i++}for(var o="",p=0;p<c.length;p++)if(h>p||p>=h+i)o+=c.substring(p,p+1);else{var q=c.substring(p,p+1);if(q!=d){var q=c.substring(p,p+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(q)>=0))if(p>l)o+="0";else{var q=c.substring(p,p+1),r=!isNaN(parseInt(q));r&&j++}}else o+=d}0==o.length&&(o="0"),e?this.numberInput.val(o):this.ValueString=o;var s=o.substring(0,1);if(s==d&&isNaN(parseInt(s))){var t="0"+o;o=t}return this.ValueString=this.GetValueString(o,d,k),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(h),j},InsertDigit:function(a,b){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var c=1+this.digits,d=this._selection(),e=this.getvalue("negative"),f=!1;0==d.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(d.start+1),d=this._selection(),f=!0),(e&&f||e&&!f&&0==d.start)&&(this._setSelectionStart(d.start+1),d=this._selection());var g=this.numberInput.val().substring(d.start,d.start+1),h=this.numberInput.val(),i=this.decimalSeparator,j=""!=i&&this.decimalDigits>0;if(g==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(h,i,j),this.ValueString.length>=c)return}this.ValueString=this.GetValueString(h,i,j),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var k=this.ValueString;this.decimalDigits>0&&b>=k.length&&(b=k.length-1);var l="";b<k.length&&(l=k.substring(b,b+1));var m=!1,n=this.GetInsertTypeByPositionInValue(b,i,h,j);"after"==n&&(m=!0);var o=j?1:0;l!=i&&this.ValueString.length-this.decimalDigits-o>=c-1&&(m=!0);var p=!1,q=j?1:0;if(!(!m&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+q)){if(m&&l!=i){p&&b++;var r=k.substring(0,b);if(r.length==k.length&&this.ValueString.length>=this.digits+this.decimalDigits+q)return;var s=a,t="";b+1<k.length&&(t=k.substring(b+1));var u=r+s+t;this.ValueString=u}else{var r=k.substring(0,b),s=a,t=k.substring(b),u=r+s+t;"0"==k.substring(0,1)&&(u=s+k.substring(1),l==i&&(this._setSelectionStart(d.start-1),d=this._selection())),this.ValueString=u}e?this.decimal=-this.ValueString:this.decimal=this.ValueString,this._parseDecimalInSimpleMode();var v=d.start;v+=1,this._setSelectionStart(v),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(a,b,c){var d="",e=this.GetSeparatorPositionInText(b,a),f=a.subString(0,e);return d=this.GetValueString(f,b,c)},GetSeparatorPositionInText:function(a,b){var c=-1;for(i=0;i<b.length;i++)if(b.substring(i,i+1)==a){c=i;break}return c},GetValueString:function(a,b,c){for(var d="",e=0;e<a.length;e++){var f=a.substring(e,e+1),g=!isNaN(parseInt(f));g&&(d+=f),f==b&&(d+=b)}return d},Backspace:function(){var a=this._selection(),b=this._selection(),c=this.numberInput.val();if(0!=a.start||0!=a.length){this.isBackSpace=!0;var d=c.substring[(a.start,a.start+1)];!isNaN(parseInt(d));if(a.start>0&&0==a.length){this._setSelectionStart(a.start-1);var a=this._selection()}this.Delete(),this._setSelectionStart(b.start-1),this.isBackSpace=!1}},Delete:function(a){var b=this._selection(),c=this.numberInput.val(),d=b.start,e=b.length;e=Math.max(e,1),this.ValueString=this.GetValueString(c,this.decimalSeparator,""!=this.decimalSeparator),this.RemoveRange(b.start,e,this.ValueString,".",!1);var f=this.ValueString.substring(0,1),g=!isNaN(parseInt(f));g||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(d),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(a){var b=this._selection(),c=this.numberInput.val();if(!(b.start==c.length&&null!=this.decimal&&this.decimalDigits>0)){var d=(this.decimal,this.decimalSeparator);this.ValueString=this.GetValueString(c,d,""!=d);var e=this.GetSelectionInValue(b.start,c,d,""!=d),f=this.GetSelectionLengthInValue(b.start,b.length,c,d);this.GetDigitsToSeparator(0,this.ValueString,d);if(this.decimalDigits>0&&e>=this.ValueString.length&&e--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),void this.InsertDigit(a,e,b);this.RemoveRange(b.start,f,this.ValueString,d,!1,!0),this.InsertDigit(a,e,b)}},GetDigitsToSeparator:function(a,b,c){if(void 0==c&&(c="."),b.indexOf(c)<0)return b.length;for(i=0;i<b.length;i++)if(b.substring(i,i+1)==c){a=i;break}return a},_handleSimpleKeyDown:function(b,c){var d=this._selection();if((8==c||46==c)&&b.ctrlKey)return this.setDecimal(null),!1;if(d.start>=0&&d.start<this.items.length)var e=String.fromCharCode(c);if(this.rtl&&37==c){var f=b.shiftKey,g=f?1:0;return f?this._setSelection(d.start+1-g,d.start+d.length+1):this._setSelection(d.start+1-g,d.start+1),!1}if(this.rtl&&39==c){var f=b.shiftKey,g=f?1:0;return f?this._setSelection(d.start-1,d.length+g+d.start-1):this._setSelection(d.start-1,d.start-1),!1}if(8==c)return this.Backspace(),!1;if(190==c||110==c){var h=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return-1!=h&&this._setSelectionStart(h+1),!1}if(188==c){var i=this.numberInput.val();for(l=d.start;l<i.length;l++)if(i[l]==this.groupSeparator){this._setSelectionStart(1+l);break}return!1}if(b.ctrlKey&&99==c||b.ctrlKey&&67==c){var d=this._selection(),j="",k=this.numberInput.val();if(d.start>0||d.length>0)for(var l=d.start;l<d.end;l++)j+=k.substring(l,l+1);if(a.data(document.body,"jqxSelection",j),a.jqx.browser.msie)window.clipboardData.setData("Text",j);else{var m=this,n=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');n.val(j),a("body").append(n),n.select(),setTimeout(function(){document.designMode="off",n.select(),n.remove(),m.focus()},100)}return this.savedText=j,!0}if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return a.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(a.data(document.body,"jqxSelection")),!1;var e=String.fromCharCode(c),o=parseInt(e);if(c>=96&&105>=c&&(o=c-96,c-=48),!isNaN(o)){var m=this;return this.insertsimple(o),!1}if(46==c)return this.Delete(),!1;if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;var p=this._isSpecialKey(c);return a.jqx.browser.mozilla?p:!0},_getEditRange:function(){var a=0,b=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){a=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){b=i;break}return{start:a,end:b}},_getVisibleItems:function(){var a=new Array,b=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(a[b]=this.items[i],b++);return a},_hasEmptyVisibleItems:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++)if(a[i].canEdit&&a[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++)if(a[i].canEdit&&a[i].character!=this.promptChar)return i},_handleMouse:function(a,b){var c=this._selection();if(c.length<=1){var d=this._getFirstVisibleNonEmptyIndex();c.start<d&&this._setSelectionStart(d)}},_insertKey:function(b){this.numberInput[0].focus();var c=String.fromCharCode(b),d=parseInt(c);if(!isNaN(d)){var e=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&e++;var f=this._selection(),g=this;if(f.start>=0&&f.start<=this.items.length){var h=!1,k=this._getFirstVisibleNonEmptyIndex();f.start<k&&0==f.length&&(isNaN(c)&&" "!=c||(this._setSelectionStart(k),f=this._selection()));var l=(this._getFirstEditableItemIndex(),this._getLastEditableItemIndex()),m=this._getVisibleItems();a.each(m,function(a,b){if(!(f.start>a&&a!=m.length-1)){var d=m[a];if(a>l&&(d=m[l]),!isNaN(c)&&" "!=c&&d.canEdit){var i=g._getSeparatorPosition();if(g._match(c,d.regex)){if(!h&&f.length>0){for(j=f.start+e;j<f.end+e;j++)g.items[j].canEdit&&(j>i?g.items[j].character="0":g.items[j].character=g.promptChar);var k=g._getString();h=!0}var i=g._getSeparatorPosition(),n=g._hasEmptyVisibleItems();if(null==g.decimal&&(f.start=i-1,f.start<0&&(f.start=0),f.end=f.start),f.start<=i&&n){var o=a;-1==g.decimalSeparatorPosition&&f.start==i&&(o=a+1),null==g.decimal&&(o=f.start);var q="";for(p=0;p<o;p++)m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character);q+=c;var r=g.decimal<1?1:0;for(f.start==i&&-1!=g.decimalSeparatorPosition&&(q+=g.decimalSeparator,r=0),p=o+r;p<m.length;p++)m[p].character==g.decimalSeparator&&m[p].isSeparator?q+=m[p].character:m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character);"."!=g.decimalSeparator&&(q=g._parseDecimalValue(q)),q=parseFloat(q).toString(),q=new Number(q),q=q.toFixed(g.decimalDigits),"."!=g.decimalSeparator&&(q=g._parseDecimalValueToEditorValue(q)),g.setvalue("decimal",q);var k=g._getString();if(f.end<i?g._setSelectionStart(f.end+r):g._setSelectionStart(f.end),f.length>=1&&g._setSelectionStart(f.end),f.length==g.numberInput.val().length){var s=g._moveCaretToDecimalSeparator(),t=g.decimalSeparatorPosition>=0?1:0;g._setSelectionStart(s-t)}}else if(f.start<i||f.start>i){if(g.numberInput.val().length==f.start&&-1!=g.decimalSeparatorPosition)return!1;if(g.numberInput.val().length==f.start&&-1==g.decimalSeparatorPosition&&!n)return!1;var q="",u=!1;for(p=0;p<a;p++)m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character),m[p].character==g.decimalSeparator&&m[p].isSeparator&&(q+=m[p].character,u=!0);q+=c;var r=g.decimal<1?1:0;for(u||f.start!=i-1||(q+=g.decimalSeparator,u=!0),p=a+1;p<m.length;p++)!u&&m[p].character==g.decimalSeparator&&m[p].isSeparator?q+=m[p].character:m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character);g.setvalue("decimal",q);var k=g._getString();if(g.decimalSeparatorPosition<0&&d==m[l])return g._setSelectionStart(a),!1;var v=k.indexOf(g.symbol),w=g.getvalue("negative")?1:0;if(w>=v&&(v=k.length),f.start<v?g._setSelectionStart(a+1):g._setSelectionStart(a),f.length>=1,f.length==g.numberInput.val().length){var s=g._moveCaretToDecimalSeparator();g._setSelectionStart(s-1)}}return!1}}}})}}},_handleKeyPress:function(b,c){var d=this._selection(),e=this;if(b.ctrlKey&&97==c||b.ctrlKey&&65==c)return!0;if(8==c)return d.start>0&&e._setSelectionStart(d.start),!1;if(46==c)return d.start<this.items.length&&e._setSelectionStart(d.start),!1;if(!a.jqx.browser.mozilla&&(45==c||173==c||109==c||189==c)){var f=this.getvalue("negative");0==f?this.setvalue("negative",!0):this.setvalue("negative",!1)}a.jqx.browser.msie&&this._insertKey(c);var g=this._isSpecialKey(c);return g},_deleteSelectedText:function(){var a=this._selection(),b="",c=this._getSeparatorPosition(),d=this._getVisibleItems(),e=this._getHiddenPrefixCount();for(this.numberInput.val().length==a.start&&0==a.length&&(this._setSelection(a.start,a.start+1),a=this._selection()),i=0;i<a.start;i++)d[i].canEdit&&d[i].character!=this.promptChar?b+=d[i].character:d[i].canEdit||-1==this.decimalSeparatorPosition||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);for(i=a.start;i<a.end;i++)i>c&&-1!=this.decimalSeparatorPosition?d[i].canEdit&&d[i].character!=this.promptChar&&(b+="0"):d[i].canEdit||-1==this.decimalSeparatorPosition||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);for(i=a.end;i<d.length;i++)d[i].canEdit&&d[i].character!=this.promptChar?b+=d[i].character:d[i].canEdit||-1==this.decimalSeparatorPosition||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);return this.setvalue("decimal",b),a.length>0},_restoreInitialState:function(){var a=parseInt(this.decimalDigits);for(a>0&&(a+=2),k=this.items.length-1;k>this.items.length-1-a;k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"==this.inputMode)return void this.numberInput.val();for(var a=0;a<this.items.length;a++)this.items[a].canEdit&&(this.items[a].character=this.promptChar);this._restoreInitialState()},_saveSelectedText:function(){var b=this._selection(),c="",d=this._getVisibleItems();if(b.start>0||b.length>0)for(i=b.start;i<b.end;i++)d[i].canEdit&&d[i].character!=this.promptChar?c+=d[i].character:d[i].isSeparator&&(c+=d[i].character);return a.jqx.browser.msie&&window.clipboardData.setData("Text",c),c},_pasteSelectedText:function(){var b=this._selection();if(this.selectedText=a.data(document.body,"jqxSelection"),window.clipboardData){var c=window.clipboardData.getData("Text");if(c!=this.selectedText&&c.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}b.start,this._getVisibleItems();if(null!=this.selectedText)for(var d=0;d<this.selectedText.length;d++){var e=parseInt(this.selectedText[d]);if(!isNaN(e)){var f=48+e;this._insertKey(f)}}},_getHiddenPrefixCount:function(){var a=0;if(this.negative||a++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&a++;return a},_getEditableItem:function(){var a=this._selection();for(i=0;i<this.items.length;i++)if(i<a.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var a=new Array,b=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(a[b]=this.items[i],b++);return a},_getValidSelectionStart:function(a){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(a){var b=this._selection(),c=this._getHiddenPrefixCount(),d=this._getVisibleItems(),e=b.start,f=-1;for(i=0;i<e;i++)i<d.length&&d[i].canEdit&&(f=i+c);if(-1==f&&b.length>0)for(e=b.end,i=0;i<e;i++)if(i<d.length&&d[i].canEdit){f=i+c;break}return f},_getEditableItemByIndex:function(a){for(k=0;k<this.items.length;k++)if(k>a&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var a=this._getVisibleItems();for(m=0;m<a.length;m++)if(a[m].character!=this.promptChar&&a[m].canEdit&&"0"!=a[m].character)return m;return-1},_getLastEditableItemIndex:function(){var a=this._getVisibleItems();for(m=a.length-1;m>=0;m--)if(a[m].character!=this.promptChar&&a[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var a=this._selection(),b=this._getHiddenPrefixCount(),c=this._getEditableItemIndex()-b;if(c>=0){0==a.length&&-1!=c&&this._setSelection(c,c+1);var d=a.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;d&&(a=this._selection());this._deleteSelectedText();if(a.length<1||d?this._setSelectionStart(a.start):a.length>=1&&this._setSelectionStart(a.end),a.length==this.numberInput.val().length){var e=this._moveCaretToDecimalSeparator();this._setSelectionStart(e-1)}}else this._setSelectionStart(a.start)},_handleKeyDown:function(b,c){var d=this._selection();if((8==c||46==c)&&b.ctrlKey)return this.setDecimal(null),!1;if(this.rtl&&37==c){var e=b.shiftKey,f=e?1:0;return e?this._setSelection(d.start+1-f,d.start+d.length+1):this._setSelection(d.start+1-f,d.start+1),!1}if(this.rtl&&39==c){var e=b.shiftKey,f=e?1:0;return e?this._setSelection(d.start-1,d.length+f+d.start-1):this._setSelection(d.start-1,d.start-1),!1}if(b.ctrlKey&&97==c||b.ctrlKey&&65==c)return!0;if(b.ctrlKey&&120==c||b.ctrlKey&&88==c)return this.selectedText=this._saveSelectedText(b),a.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this.selectedText=this._saveSelectedText(b),a.data(document.body,"jqxSelection",this.selectedText),!1;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return this._pasteSelectedText(),!1;if(d.start>=0&&d.start<this.items.length){var g=String.fromCharCode(c);this.items[d.start]}if(8==c)return this._handleBackspace(),!1;if(190==c||110==c)return this._moveCaretToDecimalSeparator(),!1;if(188==c){var h=this.numberInput.val();for(i=d.start;i<h.length;i++)if(h[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==a.jqx.browser.msie){var g=String.fromCharCode(c),j=parseInt(g);if(c>=96&&105>=c&&(j=c-96,c-=48),!isNaN(j)){var k=this;return k._insertKey(c),!1}}if(46==c){var l=this._getVisibleItems();if(d.start<l.length){var f=0==l[d.start].canEdit?2:1;0==d.length&&this._setSelection(d.start+f,d.start+f+d.length),this._handleBackspace(),new Number(this.decimal)<1||d.start>this._getSeparatorPosition()?this._setSelectionStart(d.end+f):d.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(d.end+f);
}return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;var m=this._isSpecialKey(c);if(a.jqx.browser.mozilla&&(45==c||173==c||109==c||189==c)){var n=this.getvalue("negative");0==n?this.setvalue("negative",!0):this.setvalue("negative",!1)}return a.jqx.browser.mozilla?m:!0},_isSpecialKey:function(a){return 8!=a&&9!=a&&13!=a&&35!=a&&36!=a&&37!=a&&39!=a&&27!=a&&46!=a?!1:!0},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var a=this.numberInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.numberInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}}catch(f){return{start:0,end:0,length:0}}},_setSelection:function(b,c){if(1!=this._disableSetSelection){var d=a.jqx.mobile.isTouchDevice();if(!d&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(b,c);else{var e=this.numberInput[0].createTextRange();e.collapse(!0),e.moveEnd("character",c),e.moveStart("character",b),e.select()}}catch(f){}}},_setSelectionStart:function(b){this._setSelection(b,b),a.data(this.numberInput,"selectionstart",b)},resize:function(a,b){this.width=a,this.height=b,this._render(!1)},_render:function(b){var c=(parseInt(this.host.css("border-left-width")),parseInt(this.host.css("border-left-width")),parseInt(this.host.css("border-left-width")));parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var d=this.host.width(),e=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.numberInput.css("text-align",this.textAlign);var f=this.numberInput.css("font-size");this.numberInput.css("height",parseInt(f)+4+"px"),this.numberInput.css("width",d-2);var g=e-2*c-parseInt(f)-2;if(isNaN(g)&&(g=0),0>g&&(g=0),this.spinButtons&&this.spincontainer){d-=parseInt(this.spinButtonsWidth-2);var h=a.jqx.mobile.isTouchDevice();h||this.touchMode===!0?(this.spincontainer.width(2*this.spinButtonsWidth),d-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",d-6),this.numberInput.css("margin-right","2px")}var i=g/2;a.jqx.browser.msie&&a.jqx.browser.version<8&&(i=g/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(i)+"px"),this.numberInput.css("padding-bottom",Math.round(i)+"px"),(void 0==b||1==b)&&(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(a){return void 0===a?this._value():(this.propertyChangedHandler(this,"value",this._value,a),this._refreshValue(),this)},_value:function(){var a=this.numberInput.val();return a},val:function(a){if((void 0===a||"object"==typeof a)&&null!==a)return this.getDecimal();if(null===a)return void this.setDecimal(null);var b=a;b=b.toString(),b.indexOf(this.symbol)>-1&&(b=b.replace(this.symbol,""));var c=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d};b=c(b,this.groupSeparator,""),b=b.replace(this.decimalSeparator,".");for(var d="",e=0;e<b.length;e++){var f=b.substring(e,e+1);"-"===f&&(d+="-"),"."===f&&(d+="."),null!=f.match(/^[0-9]+$/)&&(d+=f)}b=d,b=b.replace(/ /g,""),b=new Number(b),this.setDecimal(b)},getDecimal:function(){if(null==this.decimal)return null;if("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal)return 0;var a=this.getvalue("negative");return a&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal)},setDecimal:function(a){var b=a;if("."!=this.decimalSeparator){if("number"!=typeof a){a=a.toString();var c=a.indexOf(".");if(-1!=c){var d=a.substring(0,c),e=a.substring(c+1);a=d+this.decimalSeparator+e}else{var c=a.indexOf(this.decimalSeparator);if(-1!=c){var d=a.substring(0,c),e=a.substring(c+1);a="advanced"!=this.inputMode?d+"."+e:d+this.decimalSeparator+e}}}0>a?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(a)}else 0>a?this.setvalue("negative",!0):this.setvalue("negative",!1),null===a?this._setDecimal(a):this._setDecimal(Math.abs(a));null==b&&this.numberInput.val("")},_setDecimal:function(a){if(null==a)return this.decimal=null,this.value=null,this._refreshValue(),this.decimal=null,void(this.value=null);(null==a||void 0==a)&&(a=0),-1!=a.toString().indexOf("e")&&(a=0),this.clearDecimal();var b=a.toString(),c="",d="",e=!0;0==b.length&&(b="0");for(var f=0;f<b.length;f++)b.substring(f,f+1)!=this.decimalSeparator?e?c+=b.substring(f,f+1):d+=b.substring(f,f+1):e=!1;c.length>0&&(c=parseFloat(c).toString());var g=this.digits;g<c.length&&(c=c.substr(0,g));var h=0,i=this._getSeparatorPosition(),j=this._getHiddenPrefixCount();i+=j;for(var f=i;f>=0;f--)f<this.items.length&&this.items[f].canEdit&&h<c.length&&(this.items[f].character=c.substring(c.length-h-1,c.length-h),h++);h=0;for(var f=i;f<this.items.length;f++)this.items[f].canEdit&&h<d.length&&(this.items[f].character=d.substring(h,h+1),h++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(a).toFixed(this.decimalDigits);else{var k=a.toString().indexOf(this.decimalSeparator);if(k>0){var l=a.toString().substring(0,k),m=l+"."+a.toString().substring(k+1);this.ValueString=new Number(m).toFixed(this.decimalDigits)}else this.ValueString=new Number(a).toFixed(this.decimalDigits)}if("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode){this.decimal=this.ValueString;var n=this.getvalue("negative");n&&(this.decimal="-"+this.ValueString)}var a=this.val();a<this.min||a>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var a=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-a:this.items.length-a},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(b,c,d,e){if(("digits"==c||"groupSize"==c||"decimalDigits"==c)&&0>e)throw new Exception(this.invalidArgumentExceptions[0]);if("theme"===c&&a.jqx.utilities.setTheme(d,e,b.host),"digits"==c&&e!=d&&(b.digits=parseInt(e)),("min"==c||"max"==c)&&(a.jqx.aria(b,"aria-value"+c,e.toString()),b._refreshValue()),"decimalDigits"==c&&e!=d&&(b.decimalDigits=parseInt(e)),"decimalSeparator"==c||"digits"==c||"symbol"==c||"symbolPosition"==c||"groupSize"==c||"groupSeparator"==c||"decimalDigits"==c||"negativeSymbol"==c){var f=b.decimal;if("decimalSeparator"==c&&""==e&&(e=" "),d!=e){var g=b._selection();b.items=new Array,b._initializeLiterals(),b.value=b._getString(),b._refreshValue(),b._setDecimal(f)}}if("rtl"==c&&(b.rtl?(b.spincontainer&&(b.spincontainer.css("float","right"),b.spincontainer.css("border-right-width","1px")),b.numberInput.css("float","right")):(b.spincontainer&&(b.spincontainer.css("float","right"),b.spincontainer.css("border-right-width","1px")),b.numberInput.css("float","left"))),"spinButtons"==c&&(b.spincontainer?(e?b.spincontainer.css("display","block"):b.spincontainer.css("display","none"),b._render()):b._spinButtons()),"touchMode"===c&&(b.inputMode="textbox",b.spinMode="simple",b.render()),"negative"==c&&"advanced"==b.inputMode){var g=b._selection(),h=0;e?(b.items[0].character=b.negativeSymbol[0],h=1):(b.items[0].character="",h=-1),b._refreshValue(),b.isInitialized&&b._setSelection(g.start+h,g.end+h)}if("decimal"==c&&(b.value=e,b.setDecimal(e)),"value"===c&&(b.value=e,b.setDecimal(e),b._raiseEvent(1,e)),"textAlign"==c&&(b.textAlign=e,b._render()),"disabled"==c&&(b.numberInput.attr("disabled",e),b.disabled?b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(b,"aria-disabled",e.toString())),"readOnly"==c&&(b.readOnly=e),"promptChar"==c){for(i=0;i<b.items.length;i++)b.items[i].character==b.promptChar&&(b.items[i].character=e);b.promptChar=e}"width"==c?(b.width=e,b._render()):"height"==c&&(b.height=e,b._render())},_value:function(){var a=this.value;return a},_refreshValue:function(){var a=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),a=this.value;for(var b="",c=0;c<this.items.length;c++){var d=this.items[c];d.canEdit&&d.character!=this.promptChar&&(b+=d.character),c==this.decimalSeparatorPosition&&(b+=".")}this.decimal=b;var e=!1;this.oldValue!==a&&(this.oldValue=a,this._raiseEvent(0,a),e=!0),"simple"!=this.inputMode&&(this.numberInput.val(a),e&&this._raiseEvent(1,a)),null==a&&this.numberInput.val("")}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxProgressBar","",{}),a.extend(a.jqx._jqxProgressBar.prototype,{defineInstance:function(){var b={value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};a.extend(!0,this,b)},createInstance:function(b){var c=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),a.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?this.host.width(this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?this.host.height(this.height):this.host.height(this.height),this.valueDiv=a("<div></div>").appendTo(this.element),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.feedbackElementHost=a("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host),this.feedbackElement=a("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),a.jqx.utilities.resize(this.host,function(){c.refresh()})},resize:function(a,b){this.width=a,this.height=b,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(b,c,d){if(void 0!=this.isInitialized&&1==this.isInitialized){var e=this.events[b],f=new a.Event(e);f.previousValue=c,f.currentValue=d,f.owner=this;var g=this.host.trigger(f);return g}},actualValue:function(b){return void 0===b?this._value():(a.jqx.aria(this,"aria-valuenow",b),a.jqx.setvalueraiseevent(this,"value",b),this._value())},val:function(a){return 0==arguments.length||"object"==typeof a?this.actualValue():this.actualValue(a)},propertyChangedHandler:function(b,c,d,e){if(this.isInitialized){var f=this;"min"==c&&b.value<e?b.value=e:"max"==c&&b.value>e&&(b.value=e),"value"===c&&void 0!=f.value&&(f.value=e,f.oldValue=d,a.jqx.aria(b,"aria-valuenow",e),(e<f.min||e>f.max)&&f._raiseevent(1,d,e),f.refresh()),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"renderText"==c||"orientation"==c||"layout"==c||"showText"==c||"min"==c||"max"==c?f.refresh():"width"==c&&void 0!=f.width?void 0==f.width||isNaN(f.width)||(f.host.width(f.width),f.refresh()):"height"==c&&void 0!=f.height&&(void 0==f.height||isNaN(f.height)||(f.host.height(f.height),f.refresh())),"disabled"==c&&f.refresh()}},_value:function(){var a=this.value;if("number"!=typeof a){var b=parseInt(a);a=isNaN(b)?0:b}return Math.min(this.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_initialRender:!0,refresh:function(){var b=this.actualValue(),c=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a(this.element.children[0]).show(),!isNaN(b)&&!isNaN(c)){this.oldValue!==b&&(this._raiseevent(0,this.oldValue,b),this._raiseevent(3,this.oldValue,b),this.oldValue=b);var d=this.oldValue,e=this.host.outerHeight(),f=this.host.outerWidth();null!=this.width&&(f=parseInt(this.width)),null!=this.height&&(e=parseInt(this.height));var g=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2;isNaN(c)&&(c=0);var h=this;try{var i=this.element.children[0];if(a(i)[0].style.position="relative","horizontal"==this.orientation){a(i).toggle(b>=this.min);var f=this.host.outerWidth()*c/100,j=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(a(i)[0].style.left=this.host.width()+"px",a(i)[0].style.width=0),j=this.host.outerWidth()-f),a(i).animate({width:f,left:j+"px"},this.animationDuration,function(){h._value()===h.max&&h._raiseevent(2,d,h.max)}),this.feedbackElementHost.css("margin-top",-this.host.height())}else{a(i).toggle(b>=this.min);var e=this.host.height()*c/100,k=0;"reverse"==this.layout&&(this._initialRender&&(a(i)[0].style.top=this.host.height()+"px",a(i)[0].style.height=0),k=this.host.height()-e),this.feedbackElementHost.animate({"margin-top":-(c.toFixed(0)*h.host.height())/100},this.animationDuration,function(){}),a(i).animate({height:e,top:k+"px"},this.animationDuration,function(){var b=h._percentage();isNaN(b)&&(b=0),b.toFixed(0)==h.min&&(a(i).hide(),h._value()===h.max&&h._raiseevent(2,d,h.max))})}}catch(l){}this._initialRender=!1,this.feedbackElement.html(c.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(c.toFixed(0)+"%")),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0");var m=this.feedbackElement.height(),n=this.feedbackElement.width(),o=Math.floor(g-parseInt(n)/2);this.feedbackElement.css({left:o,"margin-top":-parseInt(m)/2+"px"})}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxRadioButton","",{}),a.extend(a.jqx._jqxRadioButton.prototype,{defineInstance:function(){var b={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){this.setSize();var b=this;this.propertyChangeMap.width=function(a,c,d,e){b.setSize()},this.propertyChangeMap.height=function(a,c,d,e){b.setSize()},this.radiobutton&&this.radiobutton.remove(),this.radiobutton=a("<div><div><span></span></div></div>"),this.host.attr("role","radio"),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.prepend(this.radiobutton),this.host.append(a('<div style="clear: both;"></div>')),this.checkMark=a(this.radiobutton).find("span"),this.box=a(this.radiobutton).find("div"),this._supportsRC=!0,a.jqx.browser.msie&&a.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var c=this.element.getAttribute("checked");("checked"==c||"true"==c||1==c)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),a.jqx.aria(this)},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b)},refresh:function(a){a||(this.setSize(),this._render())},resize:function(a,b){this.width=a,this.height=b,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var a=this;this.addHandler(this.box,"click",function(b){return a.disabled||a.enableContainerClick?void 0:(a.toggle("click"),b.preventDefault(),!1)}),this.addHandler(this.host,"keydown",function(b){return a.disabled||a.locked||32!=b.keyCode?void 0:(a.toggle("click"),b.preventDefault(),!1)}),this.addHandler(this.host,"click",function(b){return!a.disabled&&a.enableContainerClick?(a.toggle("click"),b.preventDefault(),!1):void 0}),this.addHandler(this.host,"selectstart",function(b){!a.disabled&&a.enableContainerClick&&b.preventDefault()}),this.addHandler(this.host,"mouseup",function(b){!a.disabled&&a.enableContainerClick&&b.preventDefault()}),this.addHandler(this.host,"focus",function(b){return a.disabled||!a.enableContainerClick||a.locked?void 0:(a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.addClass(a.toThemeProperty("jqx-fill-state-focus")),b.preventDefault(),!1)}),this.addHandler(this.host,"blur",function(b){return a.disabled||!a.enableContainerClick||a.locked?void 0:(a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.removeClass(a.toThemeProperty("jqx-fill-state-focus")),b.preventDefault(),!1)}),this.addHandler(this.host,"mouseenter",function(b){return a.disabled||!a.enableContainerClick||a.locked?void 0:(a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.addClass(a.toThemeProperty("jqx-fill-state-hover")),b.preventDefault(),!1)}),this.addHandler(this.host,"mouseleave",function(b){return a.disabled||!a.enableContainerClick||a.locked?void 0:(a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.removeClass(a.toThemeProperty("jqx-fill-state-hover")),b.preventDefault(),!1)}),this.addHandler(this.box,"mouseenter",function(){a.disabled||a.enableContainerClick||(a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){a.disabled||a.enableContainerClick||(a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.removeClass(a.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(a){return 0==arguments.length||"object"==typeof a?this.checked:("string"==typeof a?("true"==a&&this.check("api"),"false"==a&&this.uncheck("api"),""==a&&this.indeterminate("api")):(1==a&&this.check("api"),0==a&&this.uncheck("api"),null==a&&this.indeterminate("api")),this.checked)},check:function(b){this.checked=!0;var c=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var d=a.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),a.each(d,function(){var b=a(this).jqxRadioButton("groupName");b==c.groupName&&this!=c.element&&a(this).jqxRadioButton("uncheck","api")}),this._raiseEvent("0"),this._raiseEvent("3",{type:b,checked:!0}),0==this.checkMark.height())this.checkMark.height(this.boxSize),this.checkMark.width(this.boxSize);else if("13px"!=this.boxSize){var e=parseInt(this.boxSize)/2;this.checkMark.height(e),this.checkMark.width(e),this.checkMark.css("margin-left",1+e/4),this.checkMark.css("margin-top",1+e/4)}this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(b){var c=this.checked;this.checked=!1;var d=this;a.jqx.browser.msie?d.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){d.checkMark.removeClass()})),c&&(this._raiseEvent("1"),this._raiseEvent("3",{type:b,checked:!1})),this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(b){var c=this.checked;this.checked=null,this.checkMark.removeClass(),a.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=c&&(this._raiseEvent("2"),this._raiseEvent("3",{type:b,checked:null})),this.input.val(this.checked),a.jqx.aria(this,"aria-checked","undefined")},toggle:function(a){if(!this.disabled&&!this.locked){var b=this.checked;1==this.checked?this.checked=this.hasTreeStates?null:!0:this.checked=!0,b!=this.checked&&this.updateStates(a),this.input.val(this.checked)}},updateStates:function(a){this.checked?this.check(a):0==this.checked?this.uncheck(a):null==this.checked&&this.indeterminate(a)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(c!=this.enableContainerClick||this.disabled||this.locked||(e?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==c&&(e?(b.box.addClass(b.toThemeProperty("jqx-radiobutton-rtl")),b.host.addClass(b.toThemeProperty("jqx-rtl"))):(b.box.removeClass(b.toThemeProperty("jqx-radiobutton-rtl")),b.host.removeClass(b.toThemeProperty("jqx-rtl")))),"checked"==c)switch(e){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==c&&a.jqx.utilities.setTheme(d,e,this.host),"disabled"==c&&(e?this.disable():this.enable())}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxRating","",{}),a.extend(a.jqx._jqxRating.prototype,{defineInstance:function(){var b={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};a.extend(!0,this,b)},createInstance:function(b){a.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(a){return 0==arguments.length||"object"==typeof a?this.value:("string"==typeof a?this.value=parseInt(a):this.value=a,this.setValue(this.value),this.value)},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget"))},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this.value.toString())},_render:function(){for(var b=1;b<=this.count;b++)this._images[b-1]=a('<div style="float:left;width:auto;height:auto;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[b-1])},_performLayout:function(){for(var a=1;a<=this.count;a++){var b=this._images[a-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),c=this._images[a-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),d=this._images[a-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),e=this._getImageName(c),f=this._getImageName(d),g=this._getImageName(b);c.css("background-image","none"),d.css("background-image","none"),b.css("background-image","none"),this._appendImage(d,f,a-1),this._appendImage(b,g,a-1),this._appendImage(c,e,a-1)}},resize:function(a,b){this.width=a,this.height=b,this._setControlSize(this.width,this.height)},_setControlSize:function(a,b){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=b,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=a},_appendImage:function(b,c,d){var e=this,f=a('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+c+'" />');return b.append(f),f.load(function(){e._initialized||(e._setControlSize(a(this).width(),a(this).height()),e._setValue(e.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),e._initialized=!0),e._images[d].height(e._itemHeight),a(this).height(e._itemHeight),e._images[d].width(e._itemWidth),a(this).width(e._itemWidth)}),f},_validateProperties:function(){try{if(this.precision<.001||this.precision>1)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(a){alert(a)}},_getImageIndex:function(a){for(var b=0;a!==this._images[b][0];)b++;return++b},_getRating:function(b,c){var d=this._getImageIndex(b);if(this.precision<1){for(var e=parseInt(c)-parseInt(a(b).position().left),f=this._itemWidth*this.precision,g=0;e>g;)g+=f;g>parseInt(this._itemWidth)-f&&(g=parseInt(this._itemWidth));var h=g/a(b).width();d-=1-h}return d},_addEventHandlers:function(){for(var b=this,c=0;c<this.count;c++)a.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[c],"mousemove",function(a){var c=b._getRating(this,a.pageX);b._setValue(c,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[c],"mouseenter",function(a){for(var c=b._getImageIndex(this),d=0;c>d;d++)b._images[d].children(".jqx-rating-hoverWrapper").css("z-index","10"),b._images[d].children(".jqx-rating-voteWrapper").css("z-index","1"),b._images[d].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[c],"mouseleave",function(a){for(var c=b._getImageIndex(this),d=0;c>d;d++)b._images[d].children(".jqx-rating-voteWrapper").css("z-index","10"),b._images[d].children(".jqx-rating-hoverWrapper").css("z-index","1"),b._images[d].children(".jqx-rating-hoverWrapper").css("visibility","hidden");
})),this.addHandler(this._images[c],"click",function(a){var c=b._getRating(this,a.pageX);b._setValue(c,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),b.singleVote&&b.disable(),a.stopPropagation(),b._raiseEvent(0,c)}),this.addHandler(this._images[c],"dragstart",function(a){return!1})},_removeEventHandlers:function(){for(var a=0;a<this.count;a++)this.removeHandler(this._images[a],"mousemove"),this.removeHandler(this._images[a],"mouseenter"),this.removeHandler(this._images[a],"mouseleave"),this.removeHandler(this._images[a],"click"),this.removeHandler(this._images[a],"dragstart")},_getImageName:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_setValue:function(b,c,d,e){for(var f=1;f<=this.count;f++){var g=1,h=this._images[f-1].children(c),i=h.children(d),j=h.children(e);f>b&&(g=Math.abs(f-b)<1?1-Math.abs(f-b):0),i.width(this._itemWidth*g),j.width(this._itemWidth-parseInt(i.width())),h.children(this.toThemeProperty(e)).children(0).css("margin-left",-this._itemWidth*g+"px")}a.jqx.aria(this,"aria-valuenow",b)},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);return d.owner=this,d.value=c,d.oldvalue=this.value,this.value=c,this.input&&this.input.val(this.value.toString()),this.host.trigger(d)},setValue:function(a){this._setValue(a,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=a,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,a.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,a.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(a,b,c,d){return"disabled"===b?void(d?this.disable():this.enable()):void("value"===b?a.setValue(d):a._createRating())}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxSlider","",{}),a.extend(a.jqx._jqxSlider.prototype,{defineInstance:function(){var b={disabled:!1,width:300,height:30,step:1,max:10,min:0,orientation:"horizontal",showTicks:!0,ticksPosition:"both",ticksFrequency:2,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!0,sliderButtonSize:14,tickSize:7,layout:"normal",rtl:!1,_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){this.element.innerHTML="",this.host.attr("role","slider"),this.host.addClass(this.toThemeProperty("jqx-slider")),this.host.addClass(this.toThemeProperty("jqx-widget")),a.jqx.aria(this),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this.host.width(this.width),this.host.height(this.height),this._refresh(),this._raiseEvent(4,{value:this.getValue()}),this._addInput();var b=this,c=null==b.host.attr("tabindex");c&&b.host.attr("tabindex",0),a.jqx.utilities.resize(this.host,function(){b.host.width(b.width),b.host.height(b.height),b._performLayout(),b._initialSettings()})},resize:function(a,b){this.width=a,this.height=b,this.refresh(),this.host.width(me.width),this.host.height(me.height),this._performLayout(),this._initialSettings()},focus:function(){try{this.host.focus()}catch(a){}},destroy:function(){this.host.remove()},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.rangeSlider?this.values&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString())},_getSetting:function(a){return this._settings[this.orientation][a]},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},refresh:function(a){a||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._addContentWrapper(),this._addButtons(),this._addRangeBar()},_addTrack:function(){(null===this._track||this._track.length<1)&&(this._track=a('<div class="'+this.toThemeProperty("jqx-slider-track")+'"></div>'),this.host.append(this._track)),this._track.attr("style",""),this._track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite"))),this._track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._track.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._track.addClass(this.toThemeProperty("jqx-rc-all"))},_addSliders:function(){(null===this._slider||this._slider.length<1)&&(this._slider={},this._slider.left=a('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>'),this._track.append(this._slider.left),this._slider.right=a('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>'),this._track.append(this._slider.right)),this._slider.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._slider.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._slider.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._slider.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){(null!==this._bottomTicks||this._bottomTicks.length<1||null!==this._topTicks||this._topTicks.length<1)&&this._addTickContainers();var a="visible";this.showTicks||(a="hidden"),this._bottomTicks.css("visibility",a),this._topTicks.css("visibility",a)},_addTickContainers:function(){("undefined"==typeof this._bottomTicks||this._bottomTicks.length<1)&&(this._bottomTicks=a('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>'),this.host.prepend(this._bottomTicks)),("undefined"==typeof this._topTicks||this._topTicks.length<1)&&(this._topTicks=a('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>'),this.host.append(this._topTicks))},_addButtons:function(){(null===this._leftButton||this._leftButton.length<1||null===this._rightButton||this._rightButton.length<1)&&this._createButtons();var a="block";(!this.showButtons||this.rangeSlider)&&(a="none"),this._rightButton.css("display",a),this._leftButton.css("display",a)},_createButtons:function(){if(this._leftButton=a('<div class="jqx-slider-left"><div style="width: 100%; height: 100%;"></div></div>'),this._rightButton=a('<div class="jqx-slider-right"><div style="width: 100%; height: 100%;"></div></div>'),this.host.prepend(this._rightButton),this.host.prepend(this._leftButton),!this.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");this._leftButton.jqxRepeatButton({theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize}),this._rightButton.jqxRepeatButton({theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize})},_addContentWrapper:function(){(void 0===this._contentWrapper||0===this._contentWrapper.length)&&(this.host.wrapInner("<div></div>"),this._contentWrapper=this.host.children(0)),"horizontal"===this.orientation?this._contentWrapper.css("float","left"):this._contentWrapper.css("float","none")},_addTicks:function(b){if(this.showTicks){var c=this.max-this.min,d=b[this._getSetting("size")](),e=Math.round(c/this.ticksFrequency),f=d/e;b.empty();var g="",h=b[this._getSetting("oSize")]();g+=this._addTick(b,0,this.min,h);for(var i=1;e>i;i++){var j=i*f;j=Math.floor(j),g+=this._addTick(b,j,i,h)}g+=this._addTick(b,e*f,this.max,h),b.append(a(g))}},_addTick:function(a,b,c,d){var e="";e=this.toThemeProperty("jqx-slider-tick"),e+=" "+this.toThemeProperty("jqx-fill-state-pressed");var f,g=this._getSetting("top"),h="2px";return a[0]!==this._topTicks[0]&&(h=d-this.tickSize-2+"px"),f="horizontal"===this.orientation?'<div style="'+g+": "+h+"; "+this._getSetting("oSize")+":  "+this.tickSize+"px; float: left; position:absolute; left:"+b+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+e+'"></div>':'<div style="'+g+": "+h+"; "+this._getSetting("oSize")+":  "+this.tickSize+"px; float: none; position:absolute; top:"+b+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+e+'"></div>'},_addRangeBar:function(){(null===this._rangeBar||this._rangeBar.length<1)&&(this._rangeBar=a('<div class="'+this.toThemeProperty("jqx-slider-rangebar")+'"></div>'),this._rangeBar.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._rangeBar.addClass(this.toThemeProperty("jqx-rc-all")),this._track.append(this._rangeBar)),this.showRange?this._rangeBar.css("display","block"):this._rangeBar.css("display","none")},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){this.host.width(this.width),this.host.height(this.height);var a=this.host.height();if("width"==this._getSetting("size")&&(a=this.host.width()),this._performButtonsLayout(),this._performTrackLayout(a-1),this._contentWrapper[this._getSetting("size")](this._track[this._getSetting("size")]()),this._contentWrapper[this._getSetting("oSize")](this[this._getSetting("oSize")]),this._performTicksLayout(),this._performRangeBarLayout(),this.rangeSlider?this._slider.left.css("visibility","visible"):this._slider.left.css("visibility","hidden"),this._refreshRangeBar(),"vertical"==this.orientation&&this.showButtons){var b=parseInt((this._leftButton.width()-this._track.width())/2);this._track.css("margin-left",-3+b+"px")}},_performTrackLayout:function(a){this._track[this._getSetting("size")](a-(this.showButtons&&!this.rangeSlider?this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0):0)),this._slider.left.css("left",0),this._slider.left.css("top",0),this._slider.right.css("left",0),this._slider.right.css("top",0)},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks),this._addTicks(this._bottomTicks),this._topTicks.css("visibility","hidden"),this._bottomTicks.css("visibility","hidden"),"top"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||this._bottomTicks.css("visibility","visible"),"bottom"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||this._topTicks.css("visibility","visible")},_performTicksContainerLayout:function(){var a=this._getSetting("size"),b=this._getSetting("oSize"),c=this._getSetting("outerOSize");this._topTicks[a](this._track[a]()),this._bottomTicks[a](this._track[a]());var d=-2+(this[b]-this._track[c](!0))/2;this._topTicks[b](parseInt(d));var e=-2+(this[b]-this._track[c](!0))/2;this._bottomTicks[b](parseInt(e)),"vertical"===this.orientation?(this._topTicks.css("float","left"),this._track.css("float","left"),this._bottomTicks.css("float","left")):(this._topTicks.css("float","none"),this._track.css("float","none"),this._bottomTicks.css("float","none"))},_performButtonsLayout:function(){this._addButtonsStyles(),this._addButtonsClasses(),this._addButtonsHover(),this._orderButtons(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_addButtonsStyles:function(){this._leftButton.css("background-position","center"),this._rightButton.css("background-position","center"),"vertical"===this.orientation?(this._leftButton.css("float","none"),this._rightButton.css("float","none")):(this._leftButton.css("float","left"),this._rightButton.css("float","left"))},_addButtonsClasses:function(){var a={prev:"left",next:"right"};"vertical"===this.orientation&&(a={prev:"up",next:"down"}),this._leftButton.addClass(this.toThemeProperty("jqx-rc-all")),this._rightButton.addClass(this.toThemeProperty("jqx-rc-all")),this._leftButton.addClass(this.toThemeProperty("jqx-slider-button")),this._rightButton.addClass(this.toThemeProperty("jqx-slider-button")),this._leftArrow=this._leftButton.find("div"),this._rightArrow=this._rightButton.find("div"),this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+a.prev)),this._rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+a.next))},_addButtonsHover:function(){var b=this,c={prev:"left",next:"right"};"vertical"===this.orientation&&(c={prev:"up",next:"down"}),this.addHandler(a(document),"mouseup.arrow"+this.element.id,function(){b._leftArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-selected")),b._rightArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-selected"))}),this.addHandler(this._leftButton,"mousedown",function(){b.disabled||b._leftArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-selected"))}),this.addHandler(this._leftButton,"mouseup",function(){b.disabled||b._leftArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-selected"))}),this.addHandler(this._rightButton,"mousedown",function(){b.disabled||b._rightArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-selected"))}),this.addHandler(this._rightButton,"mouseup",function(){b.disabled||b._rightArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-selected"))}),this._leftButton.hover(function(){b.disabled||b._leftArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-hover"))},function(){b.disabled||b._leftArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-hover"))}),this._rightButton.hover(function(){b.disabled||b._rightArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-hover"))},function(){b.disabled||b._rightArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var a=2+Math.ceil(this.sliderButtonSize/2);"left"==this.buttonsPosition?(this._leftButton.css("margin-right","0px"),this._rightButton.css("margin-right",a)):"right"==this.buttonsPosition?(this._leftButton.css("margin-left",2+a),this._rightButton.css("margin-right","0px")):(this._leftButton.css("margin-right",a),this._rightButton.css("margin-left",2+a))},_verticalButtonsLayout:function(){var a=2+Math.ceil(this.sliderButtonSize/2);"left"==this.buttonsPosition?(this._leftButton.css("margin-bottom","0px"),this._rightButton.css("margin-bottom",a)):"right"==this.buttonsPosition?(this._leftButton.css("margin-top",2+a),this._rightButton.css("margin-bottom","0px")):(this._leftButton.css("margin-bottom",a),this._rightButton.css("margin-top",2+a));var b=this._leftButton.css("margin-left");this._leftButton.css("margin-left",parseInt(b)-1),this._rightButton.css("margin-left",parseInt(b)-1)},_orderButtons:function(){switch(this._rightButton.detach(),this._leftButton.detach(),this.buttonsPosition){case"left":this.host.prepend(this._rightButton),this.host.prepend(this._leftButton);break;case"right":this.host.append(this._leftButton),this.host.append(this._rightButton);break;case"both":this.host.prepend(this._leftButton),this.host.append(this._rightButton)}},_performRangeBarLayout:function(){this._rangeBar[this._getSetting("oSize")](this._track[this._getSetting("oSize")]()),this._rangeBar[this._getSetting("size")](this._track[this._getSetting("size")]()),this._rangeBar.css("position","absolute"),this._rangeBar.css("left",0),this._rangeBar.css("top",0)},_centerElement:function(b){var c=-1+(a(b.parent())[this._getSetting("oSize")]()-b[this._getSetting("outerOSize")]())/2;return b.css("margin-"+[this._getSetting("left")],0),b.css("margin-"+[this._getSetting("top")],c),b},_raiseEvent:function(b,c){var d=this._events[b],e=new a.Event(d);if(this._triggerEvents===!1)return!0;e.args=c,1===b&&(e.args.cancel=!1,this._slideEvent=e),this._lastValue[b]=c.value,e.owner=this;var f=this.host.trigger(e);return f},_initialSettings:function(){this.rangeSlider?"number"!=typeof this.value?this.setValue(this.value):this.setValue(this.values):(void 0==this.value&&(this.value=0),this.setValue(this.value)),this.disabled&&this.disable()},_addEventHandlers:function(){var b=this;this.addHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(a(document),this._getEvent("mouseup")+"."+this.element.id,function(){b._stopDrag()});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c=function(a){b._stopDrag()},d=null;window.parent&&document.referrer&&(d=document.referrer),d&&-1!=d.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}}catch(e){}this.addHandler(a(document),this._getEvent("mousemove")+"."+this.element.id,this._performDrag,{self:this});var f=this;this.addHandler(this._slider.left,"mouseenter",function(){f.disabled||b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseenter",function(){f.disabled||b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mouseleave",function(){f.disabled||b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseleave",function(){f.disabled||b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mousedown",function(){f.disabled||b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mousedown",function(){f.disabled||b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.left,"mouseup",function(){f.disabled||b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mouseup",function(){f.disabled||b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler,{self:this}),this.addHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler,{self:this}),this.addHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler,{self:this}),this.addHandler(this.host,"focus",function(){b._track.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._leftButton.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._rightButton.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"blur",function(){b._leftButton.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._rightButton.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._track.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.element.onselectstart=function(){return!1},this._addMouseWheelListeners(),this._addKeyboardListeners()},_addMouseWheelListeners:function(){var a=this;this.addHandler(this.host,"mousewheel",function(b){if(a.disabled)return!0;var c=b.wheelDelta;b.originalEvent&&b.originalEvent.wheelDelta&&(b.wheelDelta=b.originalEvent.wheelDelta),"wheelDelta"in b||(c=-40*b.detail),c>0?a.incrementValue():a.decrementValue(),b.preventDefault()})},_addKeyboardListeners:function(){var a=this;this.addHandler(this.host,"keydown",function(b){switch(b.keyCode){case 40:case 37:return"normal"!=a.layout||a.rtl?a.incrementValue():a.decrementValue(),!1;case 38:case 39:return"normal"!=a.layout||a.rtl?a.decrementValue():a.incrementValue(),!1;case 36:return a.rangeSlider?a.setValue([a.values[0],a.max]):a.setValue(a.min),!1;case 35:return a.rangeSlider?a.setValue([a.min,a.values[1]]):a.setValue(a.max),!1}})},_trackMouseDownHandler:function(b){var c=a.jqx.mobile.getTouches(b),d=c[0],e=b.data.self,b=e._isTouchDevice?d:b,f=(e._track.coord()[e._getSetting("left")],b[e._getSetting("page")]-e._slider.left[e._getSetting("size")]()/2),g=e._getClosest(f),h=(parseInt(e._track[e._getSetting("size")]()),e._getValueByPosition(f));e._setValue(h,g),e.input&&a.jqx.aria(e,"aria-valuenow",e.input.val())},_getClosest:function(a){return this.rangeSlider?(a=a-this._track.coord()[this._getSetting("left")]-this._slider.left[this._getSetting("size")]()/2,Math.abs(parseInt(this._slider.left.css(this._getSetting("left")),10)-a)<Math.abs(parseInt(this._slider.right.css(this._getSetting("left")),10)-a)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){"horizontal"!=this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){"horizontal"!=this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(a){var b=a.data.self;return"normal"==b.layout?b._rightButtonClick():b._leftButtonClick(),!1},_leftButtonHandler:function(a){var b=a.data.self;return"normal"==b.layout?b._leftButtonClick():b._rightButtonClick(),!1},_startDrag:function(b){var c=a.jqx.mobile.getTouches(b),d=(c[0],b.data.self);d._capturedElement=a(b.target),d._startX=a(b.target).coord().left,d._startY=a(b.target).coord().top;var e=a.jqx.position(b);return d._mouseStartX=e.left,d._mouseStartY=e.top,!1},_stopDrag:function(){var b=this;return b._slideStarted&&b._raiseEvent(2,{value:b.getValue()}),b._slideStarted&&null!=b._capturedElement?(this.input&&a.jqx.aria(this,"aria-valuenow",this.input.val()),b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._slideStarted=!1,void(b._capturedElement=null)):void(b._capturedElement=null)},_performDrag:function(b){var c=b.data.self;if(null!==c._capturedElement){var d=a.jqx.mobile.getTouches(b);d[0];if(0===b.which&&a.jqx.browser.msie&&a.jqx.browser.version<9)return c._stopDrag(),!1;var e=a.jqx.position(b),f="horizontal"==c.orientation?e.left:e.top;if(c._isDragged(f),c._slideStarted||c._isTouchDevice)return c._dragHandler(f)}},_isDragged:function(a){Math.abs(a-this[this._getSetting("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null===this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(a){a=a-this[this._getSetting("mouse")]+this[this._getSetting("start")];var b=this._getValueByPosition(a);if(this.rangeSlider){var c=this._slider.right,d=this._slider.left,e=this._getSetting("left");this._capturedElement[0]===d[0]?parseFloat(a)>c.coord()[e]&&(a=c.coord()[e]):parseFloat(a)<d.coord()[e]&&(a=d.coord()[e])}return this._setValue(b,this._capturedElement,a),!1},_getValueByPosition:function(a){return"default"===this.mode?this._getFloatingValueByPosition(a):this._getFixedValueByPosition(a)},_getFloatingValueByPosition:function(a){var b=a-this._track.coord()[this._getSetting("left")]+this._slider.left.width()/2,c=b/this._track[this._getSetting("size")](),d=(this.max-this.min)*c+this.min;return"normal"==this.layout?"horizontal"!==this.orientation||this.rtl?this.max+this.min-d:d:"horizontal"!==this.orientation||this.rtl?d:this.max+this.min-d},_getFixedValueByPosition:function(a){for(var b=this.step,c=(this.max-this.min)/b,d=this._track[this._getSetting("size")]()/c,e=this._track.coord()[this._getSetting("left")]-this._slider.left[this._getSetting("size")]()/2,f={number:-1,distance:Number.MAX_VALUE},g=this.min;g<=this.max+this.step;g+=this.step)Math.abs(f.distance-a)>Math.abs(e-a)&&(f.distance=e,f.number=g),e+=d;return"normal"==this.layout?"horizontal"!==this.orientation||this.rtl?this.max+this.min-f.number:f.number:"horizontal"!==this.orientation||this.rtl?f.number:this.max+this.min-f.number},_setValue:function(a,b,c){if(!this._slideEvent||!this._slideEvent.args.cancel){if(a=this._handleValue(a,b),this._setSliderPosition(a,b,c),this._fixZIndexes(),this._valueChanged(1)){this._raiseEvent(1,{value:this.getValue()})}this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),this.tooltip&&b.attr("title",a),this.input&&(this.rangeSlider?this.values&&void 0!=this.value.rangeEnd&&void 0!=this.value.rangeStart&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString()))}},_valueChanged:function(a){var b=this.getValue();return!this.rangeSlider&&this._lastValue[a]!==b||this.rangeSlider&&("object"!=typeof this._lastValue[a]||parseFloat(this._lastValue[a].rangeEnd)!==parseFloat(b.rangeEnd)||parseFloat(this._lastValue[a].rangeStart)!==parseFloat(b.rangeStart))},_handleValue:function(a,b){return a=this._validateValue(a,b),b[0]===this._slider.left[0]&&(this.values[0]=a),b[0]===this._slider.right[0]&&(this.values[1]=a),this.rangeSlider?this.value={rangeStart:this.values[0],rangeEnd:this.values[1]}:this.value=a,a},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.css("z-index",20),this._slider.right.css("z-index",15)):(this._slider.left.css("z-index",15),this._slider.right.css("z-index",20))},_refreshRangeBar:function(){var a=this._getSetting("left"),b=this._getSetting("size"),c=this.rtl&&"horizontal"==this.orientation;if("normal"==this.layout){var d=this._slider.left.position()[a];("vertical"===this.orientation||c)&&(d=this._slider.right.position()[a])}else{var d=this._slider.right.position()[a];if("vertical"===this.orientation||c)var d=this._slider.left.position()[a]}this._rangeBar.css(a,d+this._slider.left[b]()/2),this._rangeBar[b](Math.abs(this._slider.right.position()[a]-this._slider.left.position()[a]))},_validateValue:function(a,b){return a>this.max&&(a=this.max),a<this.min&&(a=this.min),this.rangeSlider&&(b[0]===this._slider.left[0]?a>=this.values[1]&&(a=this.values[1]):a<=this.values[0]&&(a=this.values[0])),a},_setSliderPosition:function(a,b,c){var d,e,f=this._track[this._getSetting("size")]();if(c&&(c-=this._track.coord()[this._getSetting("left")]),"normal"==this.layout){var d=(a-this.min)/(this.max-this.min);("horizontal"!=this.orientation||"horizontal"==this.orientation&&this.rtl)&&(d=1-(a-this.min)/(this.max-this.min))}else{var d=1-(a-this.min)/(this.max-this.min);("horizontal"!=this.orientation||"horizontal"==this.orientation&&this.rtl)&&(d=(a-this.min)/(this.max-this.min))}e=f*d-this._slider.left[this._getSetting("size")]()/2,b.css(this._getSetting("left"),e),this._refreshRangeBar()},_validateDropPosition:function(a,b){var c=this._track[this._getSetting("size")](),d=b[this._getSetting("size")]();return-d/2>a&&(a=-d/2),a>c-d/2&&(a=c-d/2),Math.floor(a)},propertyChangedHandler:function(b,c,d,e){switch(c){case"theme":a.jqx.utilities.setTheme(d,e,b.host),b._leftButton.jqxRepeatButton({theme:e}),b._rightButton.jqxRepeatButton({theme:e});break;case"disabled":e?(b.disabled=!0,b.disable()):(b.disabled=!1,b.enable());break;case"width":case"height":b._performLayout(),b._initialSettings();break;case"min":case"max":b.rangeSlider||b._setValue(e,b._slider.left),b._initialSettings();break;case"showTicks":case"ticksPosition":case"ticksFrequency":case"tickSize":b._performLayout(),b._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":b._render(),b._performLayout(),b._initialSettings();break;case"buttonsPosition":b._refresh();break;case"rangeSlider":e?b.value={rangeEnd:b.value,rangeStart:b.value}:b.value=b.value.rangeEnd,b._render(),b._performLayout(),b._initialSettings();break;case"value":b.rangeSlider||(b.value=parseFloat(e)),b.setValue(e);break;case"values":b.setValue(e);break;case"tooltip":e||(b._slider.left.removeAttr("title"),b._slider.right.removeAttr("title"));break;default:b._refresh()}},incrementValue:function(b){(void 0==b||isNaN(parseFloat(b)))&&(b=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+b,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+b,this._slider.right),this.input&&a.jqx.aria(this,"aria-valuenow",this.input.val())},decrementValue:function(b){(void 0==b||isNaN(parseFloat(b)))&&(b=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-b,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-b,this._slider.right),this.input&&a.jqx.aria(this,"aria-valuenow",this.input.val())},val:function(b){return 0==arguments.length||!a.isArray(b)&&"object"==typeof b?this.getValue():a.isArray(b)?void this.setValue(b):void this.setValue(b)},setValue:function(b){if(this.rangeSlider){var c,d;arguments.length<2?b instanceof Array?(c=b[0],d=b[1]):"object"==typeof b&&"undefined"!=typeof b.rangeStart&&"undefined"!=typeof b.rangeEnd&&(c=b.rangeStart,d=b.rangeEnd):(c=arguments[0],d=arguments[1]),this._triggerEvents=!1,this._setValue(d,this._slider.right),this._triggerEvents=!0,this._setValue(c,this._slider.left)}else this._triggerEvents=!1,this._setValue(this.min,this._slider.left),this._triggerEvents=!0,this._setValue(b,this._slider.right);this.input&&a.jqx.aria(this,"aria-valuenow",this.input.val());
},getValue:function(){return this.value},_enable:function(a){a?(this._addEventHandlers(),this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._leftButton.jqxRepeatButton({disabled:this.disabled}),this._rightButton.jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),a.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),a.jqx.aria(this,"aria-disabled",!1)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxSplitter","",{}),a.extend(a.jqx._jqxSplitter.prototype,{defineInstance:function(){var b={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};a.extend(!0,this,b)},createInstance:function(){this.render()},_initOverlay:function(b){if(this.overlay||"undefined"==b)this.overlay.remove(),this.overlay=null;else if(1==b){this.overlay=a("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(a(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(a(window).width()),this.overlay.height(a(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(b){return b.target==this.splitBarButton[0]||this.disabled?!0:this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable?!0:null==this.overlay?(this._dragging=!0,this._initOverlay(!0),this._dragStart=a.jqx.position(b),!1):!0},_drag:function(b){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var c="horizontal"==this.orientation?"top":"left",d="vertical"==this.orientation?"width":"height";if(this._position=a.jqx.position(b),this.overlay&&!this._splitBarClone&&Math.abs(this._position[c]-this._dragStart[c])>=3){var e=this.splitBar.coord();return this._cloneStart={left:e.left,top:e.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var f,g,h=this.host[d](),i=h/100,j=0,k=this._splitBarClone[d]()+2,l=parseInt(this.host.coord()[c]),m=this._position[c]-this._dragStart[c]+this._cloneStart[c]-l;return j>m&&(m=j),m>h+j-k&&(m=h+j-k),f=this.panels[0].min,g=this.panels[1].min,-1!=g.toString().indexOf("%")&&(g=parseFloat(g)*i),-1!=f.toString().indexOf("%")&&(f=parseFloat(f)*i),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),f>m&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),m=f),m>h+j-k-g&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),m=h+j-k-g),this._splitBarClone.css(c,m),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}return!0},resize:function(a,b){this.width=a,this.height=b,this._arrange()},_resize:function(){var a="horizontal"==this.orientation?"height":"width",b="horizontal"==this.orientation?"top":"left",c=this._splitBarClone.css(b),d=this.host[a](),e=d/100,f=1/e,g=this.panels[0].size;-1!=g.toString().indexOf("%")?this.panels[0].size=parseFloat(c)*f+"%":this.panels[0].size=parseFloat(c),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var a=this.splitBar.clone();return a.fadeTo(0,.7),a.css("z-index",99999),"vertical"==this.orientation?a.css("cursor","col-resize"):a.css("cursor","row-resize"),this.host.append(a),a},_eventName:function(a){return this._isTouchDevice?this._eventsMap[a]:a},_addHandlers:function(){var b=this;if(a.jqx.utilities.resize(this.host,function(){b._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(a){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var a=function(a){a.collapsed?b.expand():b.collapse()};b.panels[0].collapsible?a(b.panels[0]):b.panels[1].collapsible&&a(b.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){b.splitBarButton.addClass(b.toThemeProperty("jqx-splitter-collapse-button-hover")),b.splitBarButton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){b.splitBarButton.removeClass(b.toThemeProperty("jqx-splitter-collapse-button-hover")),b.splitBarButton.removeClass(b.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(a(document),this._eventName("mousemove")+"."+this.element.id,function(a){return b._drag(a)}),this.addHandler(a(document),this._eventName("mouseup")+"."+this.element.id,function(){return b._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(a){return b._startDrag(a)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){b.resizable&&!b.disabled&&(b.splitBar.addClass(b.toThemeProperty("jqx-splitter-splitbar-hover")),b.splitBar.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){b.resizable&&!b.disabled&&(b.splitBar.removeClass(b.toThemeProperty("jqx-splitter-splitbar-hover")),b.splitBar.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c=null;if(window.parent&&document.referrer&&(c=document.referrer),c&&-1!=c.indexOf(document.location.host)){var d=function(a){b._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}},_removeHandlers:function(){this.removeHandler(a(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(a(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(a(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var b=this.host.children();if(2!=b.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==b.length){var c=b[0].className.split(" "),d=b[1].className.split(" ");if(-1!=c.indexOf("jqx-reset")&&-1!=c.indexOf("jqx-splitter")&&-1!=c.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=d.indexOf("jqx-reset")&&-1!=d.indexOf("jqx-splitter")&&-1!=d.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=a("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return a.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var b=this.host.children();if(2!=b.length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var b=this.host.children();this.panel1=this.panels[0].element=a(b[0]),this.panel2=this.panels[1].element=a(b[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",a.each(this.panels,function(){void 0==this.min&&(this.min=0),void 0==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),void 0==this.collapsible&&(this.collapsible=!0),void 0==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var a=this.width;"string"!=typeof a&&(a=parseInt(this.width)+"px"),this.host.css("width",a)}if(null!=this.height){var b=this.height;"string"!=typeof b&&(b=parseInt(this.height)+"px"),this.host.css("height",b)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var c="horizontal"==this.orientation?"width":"height";this.splitBar.css(c,"100%"),this.panel1.css(c,"100%"),this.panel2.css(c,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?a=0:this.panels[1].collapsible&&(a=1),-1!=a&&(this.panels[a].collapsed=!0,this.panels[a].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:a,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?a=0:this.panels[1].collapsible&&(a=1),-1!=a&&(this.panels[a].collapsed=!1,this.panels[a].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:a,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(a){1!=a&&this._arrange()},propertyChangedHandler:function(b,c,d,e){return"panels"===c||"orientation"===c||"showSplitBar"===c?void b.render():("touchMode"===c&&(b._isTouchDevice=e),void("disabled"===c?e?b.disable():b.enable():"theme"===c?a.jqx.utilities.setTheme(d,e,b.host):b.refresh()))},_layoutPanels:function(){var a,b,c,d,e=this,f="horizontal"==this.orientation?"height":"width",g="horizontal"==this.orientation?"top":"left",h=parseInt(this._splitBarSize)+2;this.showSplitBar||(h=0);var i=this.host[f](),j=i/100,k=1/j,l=k*h,m=this.panel1,n=this.panel2,o=this.panels[0].size;this.panels[0].collapsed&&(c=!0),this.panels[1].collapsed&&(d=!0),a=this.panels[0].min,b=this.panels[1].min,-1!=b.toString().indexOf("%")&&(b=parseFloat(b)*j),-1!=a.toString().indexOf("%")&&(a=parseFloat(a)*j),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(m.width(this.host.width()),n.width(this.host.width())):(m.height(this.host.height()),n.height(this.host.height())));var p=function(){var a=e.panel1[f]();if(e.splitBar[0].style[g]!=a+"px"){var b=a;"vertical"==e.orientation?(e.splitBar[0].style.borderLeftColor="",e.splitBar[0].style.borderRightColor="",e.splitBarButton[0].style.width=parseInt(e._splitBarSize)+"px",e.splitBarButton[0].style.left="0px"):(e.splitBar[0].style.borderTopColor="",e.splitBar[0].style.borderBottomColor="",e.splitBarButton[0].style.height=parseInt(e._splitBarSize)+"px",e.splitBarButton[0].style.top="0px"),e._hasBorder&&(i-h==a?"vertical"==e.orientation?(e.splitBar[0].style.borderRightColor="transparent",e.splitBarButton[0].style.width=parseInt(e._splitBarSize+1)+"px"):(e.splitBar[0].style.borderBottomColor="transparent",e.splitBarButton[0].style.height=parseInt(e._splitBarSize+1)+"px"):0==a&&("vertical"==e.orientation?(e.splitBar[0].style.borderLeftColor="transparent",e.splitBarButton[0].style.width=parseInt(e._splitBarSize+1)+"px",e.splitBarButton[0].style.left="-1px"):(e.splitBar[0].style.borderTopColor="transparent",e.splitBarButton[0].style.height=parseInt(e._splitBarSize+1)+"px",e.splitBarButton[0].style.top="-1px"))),e.splitBar[0].style[g]=b+"px"}e.panel2[0].style[g]!=a+h+"px"&&(e.panel2[0].style[g]=a+h+"px")};if(c){var q=Math.max(b,i-h);m[f](0),n[f](q)}else if(d){var q=Math.max(a,i-h);n[f](0),m[f](q)}else if(-1!=o.toString().indexOf("%")){var r=100-parseFloat(o);m.css(f,parseFloat(o)+"%"),r-=l,n.css(f,r+"%");var s=n[f]();if(b>s){var q=s-b,t=q*k;o=parseFloat(o)+parseFloat(t);var r=100-parseFloat(o);m.css(f,parseFloat(o)+"%"),r-=l,n.css(f,r+"%")}var u=m[f]();if(a>u){var t=a*k;m.css(f,parseFloat(t)+"%")}}else{var s=i-o-h;m[0].style[f]!=o+"px"&&m[f](o),n[0].style[f]!=s+"px"&&n[f](s),b>s&&(o+=s-b,n[f](b),m[f](o)),a>o&&m[f](a)}p(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c;var e=("vertical"==this.orientation?"width":"height",new Array);return e[0]={},e[1]={},e[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,e[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,e[0].min=this.panels[0].min,e[1].min=this.panels[1].min,e[0].collapsible=this.panels[0].collapsible,e[1].collapsible=this.panels[1].collapsible,e[0].collapsed=this.panels[0].collapsed,e[1].collapsed=this.panels[1].collapsed,d.args.panels=e,this.host.trigger(d)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxTabs","",{}),a.extend(a.jqx._jqxTabs.prototype,{defineInstance:function(){var b={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};a.extend(!0,this,b)},createInstance:function(){a.jqx.aria(this),this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.attr("role","tablist"),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var b=this.length();b;)b--,this._titleList[b]=a(this._titleList[b]),this._titleList[b].attr("role","tab"),this._contentList[b]=a(this._contentList[b]),this._contentList[b].attr("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){var b=this;if("none"==b.host.css("display"))return!0;var c=!1;return a.each(b.host.parents(),function(){return"none"==a(this).css("display")?(c=!0,!1):void 0}),c},_enableWindowResize:function(){var b=this,c=a.jqx.isHidden(b.host);a.jqx.utilities.resize(this.host,function(){c?(b._uiRefresh(!0),c=!1):b.refresh()})},resize:function(b,c){this.width=b,this.height=c;var d=a.jqx.isHidden(this.host);d?(this._uiRefresh(!0),d=!1):this.refresh()},refresh:function(a){(1!=a||void 0==a)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var b="Browser CodeName: "+navigator.appCodeName;return b+="Browser Name: "+navigator.appName,b+="Browser Version: "+navigator.appVersion,b+="Platform: "+navigator.platform,b+="User-agent header: "+navigator.userAgent,-1!=b.indexOf("IEMobile")?!1:-1!=b.indexOf("Windows Phone OS")?!1:a.jqx.browser.msie&&a.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(a){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),a&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var b=2*this.arrowButtonSize,c=this.host.width()-parseInt(this._unorderedList.width()+b+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",c+"px")}},_refresh:function(){a.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var a=this.length();a;)switch(a--,this._titleList[a].removeClass(),this._titleList[a].css("padding",""),this._titleList[a].addClass("jqx-reset"),this._titleList[a].addClass("jqx-disableselect"),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[a].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[a].disabled&&(this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c,(6===b||7===b)&&(d.cancel=!1,this._currentEvent=d);var e="";try{if(e=this.host.trigger(d),1==b){var f=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0);var b=new a.Event("loadContent");b.owner=this,f._contentList.length>0&&f._contentList[f.selectedItem]&&f._contentList[f.selectedItem].find("div").trigger(b)},50+f.selectionTrackerAnimationDuration);else{var d=new a.Event("loadContent");f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0),d.owner=this;var d=new a.Event("resize");this.host.trigger(d)}}}catch(g){}return e},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var a,b=this.arrowButtonSize,c=this.arrowButtonSize;return a="left"===this.scrollPosition?b+c:"both"===this.scrollPosition?b:0},_scrollRight:function(a,b){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var c,d,e=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),f=parseInt(this.host.width(),10),g=parseInt(this._unorderedList.css("left"),10),h=this._getArrowsDisplacement(),i=0,j=void 0;this.scrollable?(c=parseInt(this._leftArrow.outerWidth(),10),d=parseInt(this._rightArrow.outerWidth(),10)):(c=0,d=0),a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?i=h:Math.abs(g)+this.scrollStep<Math.abs(f-e)+c+d+h?(i=g-this.scrollStep,j=g-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(i=f-e-(2*this.arrowButtonSize-h),i<parseInt(this._unorderedList.css("left"),10)-4&&i>parseInt(this._unorderedList.css("left"),10)+4&&(j=f-e-c-d+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(i,j,a)},_scrollLeft:function(a,b){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var c=parseInt(this._unorderedList.css("left")),d=this._getArrowsDisplacement(),e=0,f=void 0;a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?e=d:c+this.scrollStep<d?(e=c+this.scrollStep,f=c+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(e=d,e<parseInt(this._unorderedList.css("left"))-4&&e>parseInt(this._unorderedList.css("left"))+4&&(f=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(e,f,a)},_performScrollAnimation:function(a,b,c){var d=this;void 0!==b&&this._moveSelectionTrack(this._selectedItem,0,b),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:a},c,function(){d._moveSelectionTrack(d.selectedItem,0),d._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var b=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(c){if(!b._activeAnimation()){var d=b._selectedItem,e=b.selectionTracker,f=b.getContentAt(d);if(a(c.target).ischildof(f))return!0;switch(c.keyCode){case 37:return b.rtl?b.next():b.previous(),!1;case 39:return b.rtl?b.previous():b.next(),!1;case 36:return b.first(),!1;case 35:return b.last(),!1;case 27:b._tabCaptured&&(b._cancelClick=!0,b._uncapture(null,b.selectedItem),b._tabCaptured=!1)}b.selectionTracker=e}return!0})},_addScrollHandlers:function(){var b=this;this.addHandler(this._leftArrow,"mousedown",function(){b._startScrollRepeat(!0,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){b._startScrollRepeat(!1,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(a(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(a){var b=a.data;b._scrollTimeout&&clearTimeout(b._scrollTimeout)},_mouseUpScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpDragDocumentHandler:function(a){var b=a.data;b._tabCaptured&&b._dragStarted&&b._uncapture(a),b._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var b=this.length();b;)b--,this._addEventListenerAt(b);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var c=this;try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var d=function(a){c._tabCaptured&&(c._cancelClick=!0,c._uncapture(null,c.selectedItem),c._tabCaptured=!1)},e=null;window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)&&window.top.document&&this.addHandler(a(window.top.document),"mouseup",d)}}catch(f){}},focus:function(){try{this.host.focus()}catch(a){}},_getFocusedItem:function(a,b){for(var c=this.length();c;){c--;var d=this._titleList[c],e=parseInt(d.outerWidth(!0)),f=parseInt(d.offset().left),g=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),f);if(a>=g&&g+e>=a&&d!==this._capturedElement&&!this._titleList[c].locked&&this._titleList[c].disabled!==!0)return c}return-1},_uncapture:function(b){var c=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var d=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(b)var e=this._getFocusedItem(b.clientX,b.clientY);-1!==e&&b?(this._raiseEvent(10,{item:d,dropIndex:e}),this._reorderItems(e,d)):this._capturedElement.css("left",0),a.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==e&&b?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=d,this._moveSelectionTrack(d,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=c}},_reorderItems:function(a,b){var c=this._titleList[this.selectedItem];this._contentList[b];"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[b]),this._titleList[b].remove(),a>b?this._titleList[b].insertAfter(this._titleList[a]):this._titleList[b].insertBefore(this._titleList[a]),this._reorderElementArrays(a,b),this._getSelectedItem(c),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(a,b){var c=(this._titleList[this.selectedItem],this._contentList[b]);if(a>b){for(var d=b;a>=d;d++)this._titleList[d]=this._titleList[d+1],this._contentList[d]=this._contentList[d+1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}else{for(var d=b;d>=a;d--)this._titleList[d]=this._titleList[d-1],this._contentList[d]=this._contentList[d-1];this._contentList[a]=c,this._titleList[a]=this._capturedElement;
}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a){this._selectedItem=this.selectedItem=b;break}},_moveElement:function(a,b){var b=a.data;b._tabCaptured&&(document.selection&&document.selection.clear(),b._dragStarted?(b._performDrag(a),clearTimeout(b._scrollTimeout)):(unorderedListLeft=-parseInt(b._unorderedList.css("left"),10),(a.clientX+unorderedListLeft>b._startX+3||a.clientX+unorderedListLeft<b._startX-3)&&(b._prepareTabForDragging(),b._dragStarted=!0)))},_performDrag:function(a){var b=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+a.clientX/b-this._startX/b),this._lastX=a.clientX/b,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var a=1;if(document.body.getBoundingClientRect){var b=document.body.getBoundingClientRect(),c=b.right-b.left,d=document.body.offsetWidth;a=Math.round(c/d*100)/100}return a},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(a){var b=parseInt(this._unorderedList.css("left")),c=this;parseInt(this._capturedElement.css("left"));a.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):a.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var c=this;this._scrollTimeout=setTimeout(function(){c._dragScroll(a)},this.scrollAnimationDuration),this._lastUnorderedListPosition=b},_captureElement:function(a,b){this._tabCaptured||this._titleList[b].locked||this._titleList[b].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+a.clientX,this._startY=a.clientY,this._lastX=a.clientX,this._lastY=a.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[b])},_titleInteractionTrigger:function(a){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==a?(this.select(this._titleList[a],"toggle"),this._titleList[a].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var a=this._selectedItem,b=this;this.isCollapsed=!0,"auto"!==b.height?b._contentWrapper.css("visibility","hidden"):b._contentWrapper.hide(),b._raiseEvent(13,{item:a}),"top"==this.position?(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var a=this._selectedItem,b=this;this.isCollapsed=!1,this._select(a,b.contentTransitionDuration,null,!1,!0),"auto"!==b.height?b._contentWrapper.css("visibility","visible"):b._contentWrapper.show(),b._raiseEvent(14,{item:a}),"top"==this.position?(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(a){var b=this;this.addHandler(this._titleList[a],"selectstart",function(a){return!1}),this.addHandler(this._titleList[a],this.toggleMode,function(a){return function(){return b._raiseEvent("15",{item:a}),b._tabCaptured||b._cancelClick||b._titleInteractionTrigger(a),!0}}(a))},_addDragDropHandlers:function(a){var b=this;this.addHandler(this._titleList[a],"mousedown",function(c){return b._captureElement(c,a),!1}),this.addHandler(this._titleList[a],"mouseup",function(c){return b._tabCaptured&&b._dragStarted?(b._cancelClick=!0,b._uncapture(c,a)):b._cancelClick=!1,b._tabCaptured=!1,!1})},_removeHoverStates:function(){var b=this;a.each(this._titleList,function(){this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(a){var b=this,c=this._titleList[a];this.addHandler(c,"mouseenter",function(d){if(a!=b._selectedItem&&("top"==b.position?c.addClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.addClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.addClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var e=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));e.addClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(c,"mouseleave",function(d){if(a!=b._selectedItem&&("top"==b.position?c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var e=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));e.removeClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(a){var b=this;if(!this._titleList[a].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(a),this._addSelectHandler(a),this.enabledHover&&this._addHoverHandlers(a);var c=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(c,"click"),this.addHandler(c,"click",function(c){return b.removeAt(a),!1})}},_removeEventHandlers:function(){for(var b=this.length();b;)b--,this._removeEventListenerAt(b);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(a){this.removeHandler(this._titleList[a],this.toggleMode),this.removeHandler(this._titleList[a],"mouseenter"),this.removeHandler(this._titleList[a],"mouseleave"),this.removeHandler(this._titleList[a],"mousedown"),this.removeHandler(this._titleList[a],"mouseup");var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(b,"click")},_moveSelectionTrack:function(a,b,c){var d=this;if(-1!=a&&0!=this._titleList.length&&!(a>=this._titleList.length)&&this.selectionTracker&&this._selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===c){var e=parseInt(this._titleList[a].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(e+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(e+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[a].css("margin-left")))||(e+=parseInt(this._titleList[a].css("margin-left"))),!isNaN(parseInt(this._titleList[a].css("margin-right")))}else var e=c;var f=0,g=0;"top"===this.position&&(f=parseInt(this._headerWrapper.height())-parseInt(this._titleList[a].outerHeight()),this.autoHeight||(g+=parseInt(this._titleList[a].css("margin-top")))),this._lockAnimation("selectionTracker");var h=parseInt(this._titleList[a].css("padding-left"))+parseInt(this._titleList[a].css("padding-right")),i="top"==this.position?0:1,j=parseInt(this._headerWrapper.css("padding-top")),k=parseInt(this._titleList[a].css("padding-top"))+parseInt(this._titleList[a].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var l=parseInt(this._titleList[a].css("margin-top"));isNaN(l)&&(l=0),this._selectionTracker.animate({top:j+l-i,left:e+"px",height:parseInt(this._titleList[a].height()+k),width:this._titleList[a].width()+h},b,function(){d._unlockAnimation("selectionTracker"),d._selectionTracker.css("visibility","hidden"),d._addSelectStyle(a,!0),d._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_switchTabs:function(a,b){if(a!==b&&!this._activeAnimation()&&!this._tabCaptured){var c=this;return this._raiseEvent(7,{item:b}),this._raiseEvent(6,{item:a}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(b,null,!0),this._select(a,c.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(a){for(var b=this.length();b;)if(b--,this._titleList[b][0]===a[0]||this._contentList[b][0]===a[0])return b;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(a){alert(a)}},_startScrollRepeat:function(a,b){var c=this;a?this._scrollLeft(b):this._scrollRight(b),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){c._startScrollRepeat(a,c.scrollAnimationDuration)},b)},_performLayout:function(){for(var a=this.length();a;)a--,("top"===this.position||"bottom"===this.position)&&(this.rtl?this._titleList[a].css("float","right"):this._titleList[a].css("float","left"));this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.element.offsetWidth?this._unorderedList.width(this._totalItemsWidth):this._unorderedList[0].style.width=this.element.offsetWidth-2+"px",this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.width(this.arrowButtonSize),this._leftArrow.height("100%"),this._rightArrow.width(this.arrowButtonSize),this._rightArrow.height("100%"),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var b=this.length();return a.each(this._titleList,function(){var a=this.attr("hasclosebutton");void 0!=a&&null!=a&&("false"==a||0==a)&&b--}),b},_calculateTitlesSize:function(){var b=0,c=0,d=this.length();for(this.rtl&&a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._measureItem=a("<span style='position: relative; visibility: hidden;'></span>"),a(document.body).append(this._measureItem));d;){if(d--,this._measureItem&&(this._measureItem.html(this._titleList[d].html()),this._titleList[d].width(this._measureItem.width())),this._titleList[d].css("position","static"),this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),c+=parseInt(this._titleList[d].outerWidth(!0)),b<this._titleList[d].outerHeight(!0)&&(b=Math.round(parseInt(this._titleList[d].outerHeight(!0)))),0==this._titleList[d].height()){var e=this._titleList[d].clone();a(document.body).append(e),b=Math.round(parseInt(e.outerHeight(!0))),e.remove()}var f=this._titleList[d].attr("hasCloseButton");if(void 0!=f&&null!=f){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||("true"==f||1==f?(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==f||0==f)&&this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}this._titleList[d].height(this._titleList[d].height())}return this._measureItem&&this._measureItem.remove(),{height:b,width:10+c}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var a=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;a>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var b=this.scrollPosition;switch(this.rtl&&("left"==b&&(b="right"),"right"==b&&(b="left")),b){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-a+"px"),this._leftArrow.css("right",this.arrowButtonSize-a+"px")}}},_positionArrows:function(a){a>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow[0].style.display="none",this._rightArrow[0].style.display="none",this._unorderedList[0].style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var b=this._calculateTitlesSize(),c=b.height,d=b.width;this._headerWrapper.height(c),this._unorderedList.height(c),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight)),d>this.host.width()?this._unorderedList.width(d):this._unorderedList.width(this.host.width()),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),d+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=d,this._positionArrows(d),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var a=this.length();for(this._maxHeightTab();a;){a--;var b=this._titleList[a].find(".jqx-tabs-titleContentWrapper"),c=(b.height(),this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),d=parseInt(this._titleList[a].css("padding-top"));if(d||(d=0),this.autoHeight){var e=this._titleList[a].outerHeight(!0)-this._titleList[a].height(),f=parseInt(this._titleList[a].css("padding-top")),g=parseInt(this._titleList[a].css("padding-bottom")),h=parseInt(this._titleList[a].css("border-top-width")),i=parseInt(this._titleList[a].css("border-bottom-width"));this._titleList[a].height(this._unorderedList.outerHeight()-f-g-h-i)}else if("top"===this.position){var j=parseInt(this._unorderedList.height())-parseInt(this._titleList[a].outerHeight(!0));parseInt(this._titleList[a].css("margin-top"))!==j&&0!==j&&this._titleList[a].css("margin-top",j)}else this._titleList[a].height(this._titleList[a].height());this._titleList[a].children(0).height("100%");var k=parseInt(this._titleList[a].height()),l=parseInt(k)/2-parseInt(c.height())/2;c.css("margin-top",1+l);var m=parseInt(k)/2-parseInt(b.height())/2;b.css("margin-top",m)}if(this.scrollable){var e=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,n=e/2;this._rightArrow.children(0).css("margin-top",n),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",n)}},_getImageUrl:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_fitToSize:function(){var a=!1,b=!1,c=this;if(null!=c.width&&-1!=c.width.toString().indexOf("%")&&(a=!0),null!=c.height&&-1!=c.height.toString().indexOf("%")&&(b=!0),a&&(this.host[0].style.width=this.width,this._contentWrapper[0].style.width="100%"),b){this.host[0].style.height=this.height,this._contentWrapper[0].style.width="100%",this._contentWrapper[0].style.height="auto";var d=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=d+"px"}if(a||(this.host.width(this.width),"auto"!=this.width&&this._contentWrapper.css("width","100%")),!b)if("auto"!==this.height){this.host.height(this.height);var d=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.height(d)}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var a=this.length(),b=-1,c=-1;a;)a--,b<parseInt(this._titleList[a].outerHeight(!0))&&(c=a);return c},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=a('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var b=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=a('<div class="'+b+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var b="none",c=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||a('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+b+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var d=this.length();d;)d--,this._contentList[d].addClass(this.toThemeProperty("jqx-tabs-content-element"));c&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var b=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||a('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));b;){if(b--,this._titleList[b].children(".jqx-tabs-titleWrapper").length<=0){var c=a('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');c.append(this._titleList[b].html()),this._titleList[b].empty(),c.appendTo(this._titleList[b])}this._titleList[b].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(b){var c=b;if(this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[c].find(".jqx-tabs-titleContentWrapper").length<=0){var d=a('<div class="jqx-tabs-titleContentWrapper"></div>'),e="left";this.rtl&&(e="right"),d.css("float",e),d.addClass("jqx-disableselect"),d.append(this._titleList[c].html()),this._titleList[c].html("");var f=a('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');f.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":e,"font-size":"1px"});this._titleList[c].append(d),this._titleList[c].append(f),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[b]&&f.css("display","none"):f.css("display","none")}},_addCloseButtons:function(){for(var a=this.length();a;)a--,this._addCloseButton(a)},_prepareTabs:function(){var a=this.length(),b=this.selectionTracker;for(this.selectionTracker=!1;a;)a--,this._selectedItem!==a&&this._unselect(a,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=b,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(a){return a>=0&&a<this.length()},_removeSelectStyle:function(){for(var a=this.length();a;){a--;var b=null;if(this.showCloseButtons){var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));b.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(a,b){this.length();if(this._removeSelectStyle(),(!this.selectionTracker||void 0!=b&&b)&&a>=0&&void 0!=this._titleList[a]){var c=null;if(this.showCloseButtons){var c=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[a]&&(c=null)}this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=c&&c.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(a,b,c){if(b<a.length){for(var d=void 0,e=void 0,f=b;f+1<a.length;f++)void 0===d?(d=a[f+1],a[f+1]=a[f]):(e=a[f+1],a[f+1]=d,d=e);void 0===d&&(d=a[b]),a[b]=c,a.push(d)}else a.push(c)},_select:function(b,c,d,e,f){if(!this._tabCaptured){this.host.attr("hideFocus","true");var g=this;if(void 0==f?this._addSelectStyle(b):this._addSelectStyle(b,f),this.isCollapsed&&this.collapsible)return this._contentList[b].css("display","none"),void this._selectCallback(b,d,e);switch(this.animationType){case"none":if(g.selectionTracker)setTimeout(function(){g._contentList[b].css("display","block"),a.jqx.aria(g._titleList[b],"aria-selected",!0),a.jqx.aria(g._contentList[b],"aria-hidden",!1),a.jqx.aria(g,"aria-activedescendant",g._titleList[b][0].id)},this.selectionTrackerAnimationDuration);else{for(var h=0;h<this._contentList.length;h++)b!=h&&"block"==this._contentList[h].css("display")&&(this._contentList[h].css("display","none"),a.jqx.aria(this._titleList[h],"aria-selected",!1),a.jqx.aria(this._contentList[h],"aria-hidden",!0));this._contentList[b].css("display","block"),a.jqx.aria(this._titleList[b],"aria-selected",!0),a.jqx.aria(this._contentList[b],"aria-hidden",!1),a.jqx.aria(this,"aria-activedescendant",this._titleList[b][0].id)}this._selectCallback(b,d,e);break;case"fade":this._lockAnimation("contentListSelect"),g._selectCallback(b,d,e),this._contentList[b].fadeIn(c,function(){g._unlockAnimation("contentListSelect"),a.jqx.aria(g._titleList[b],"aria-selected",!0),a.jqx.aria(g._contentList[b],"aria-hidden",!1),a.jqx.aria(g,"aria-activedescendant",g._titleList[b][0].id)})}}},_selectCallback:function(a,b,c){this._selectedItem=a,this.selectedItem=this._selectedItem,b&&b(),c&&this._raiseEvent(1,{item:a})},_unselect:function(b,c,d){if(b>=0&&!this._tabCaptured){var e=this;this._contentList[b].stop(),"fade"==this.animationType?(this._contentList[b].css("display","none"),a.jqx.aria(e._titleList[b],"aria-selected",!1),a.jqx.aria(e._contentList[b],"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){e._contentList[b].css("display","none"),a.jqx.aria(e._titleList[b],"aria-selected",!1),a.jqx.aria(e._contentList[b],"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(this._contentList[b].css("display","none"),a.jqx.aria(e._titleList[b],"aria-selected",!1),a.jqx.aria(e._contentList[b],"aria-hidden",!0)),this._unselectCallback(b,c,d),this.selectionTracker||(this._titleList[b].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[b].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(a,b,c){c&&this._raiseEvent(8,{item:a}),b&&b()},disable:function(){for(var a=this.length();a;)a--,this.disableAt(a)},enable:function(){for(var a=this.length();a;)a--,this.enableAt(a)},getEnabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled||b++}),b},getDisabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled&&b++}),b},removeAt:function(a){if(this._isValidIndex(a)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var b=this,c=(this._titleList[this._selectedItem],parseInt(this._titleList[a].outerWidth(!0))),d=this.getTitleAt(a);this._unorderedList.width(parseInt(this._unorderedList.width())-c),this._titleList[a].remove(),this._contentList[a].remove();if(this._titleList.splice(a,1),this._contentList.splice(a,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:a,title:d}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var e=this._getPreviousIndex(this.selectedItem);this.select(e)}else{this._selectedItem=-1;var e=this._getNextIndex(this.selectedItem);this.select(e)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var f=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},f,function(){b._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){if(!this._titleList[a].disabled||void 0===this._titleList[a].disabled){if(this.selectedItem==a){var b=this.next();b||(b=this.previous())}this._titleList[a].disabled=!0,this.removeHandler(this._titleList[a],this.toggleMode),this.enabledHover&&this._titleList[a].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(a),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:a})}},enableAt:function(a){this._titleList[a].disabled&&(this._titleList[a].disabled=!1,this._addEventListenerAt(a),this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:a}))},addAt:function(b,c,d){if(b>=0||b<=this.length()){this._removeHoverStates();var e=a("<li>"+c+"</li>"),f=a("<div>"+d+"</div>");e.addClass(this.toThemeProperty("jqx-tabs-title")),e.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&e.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var g=!1;0==this._titleList.length?this._unorderedList.append(e):b<this.length()&&b>=0?this._titleList[b].before(e):this._titleList[this.length()-1].after(e),f.appendTo(this._contentWrapper),this._addItemTo(this._titleList,b,e),this._addItemTo(this._contentList,b,f),this._selectedItem>b&&this._selectedItem++,this._switchTabs(b,this._selectedItem),this._selectedItem=b,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(b),this._uiRefresh(g),this._raiseEvent(2,{item:b}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(a,b){this.addAt(0,a,b)},addLast:function(a,b){this.addAt(this.length(),a,b)},val:function(a){return 0==arguments.length||"object"==typeof a?this._selectedItem:(this.select(a),this._selectedItem)},select:function(a,b){"object"==typeof a&&(a=this._indexOf(a));var c=a>=0&&a<this._titleList.length?this._titleList[a].attr("canselect"):!0;
if((void 0==c||"true"==c||1==c)&&a!==this._selectedItem&&this._isValidIndex(a)&&!this._activeAnimation()&&!this._titleList[a].disabled){var d=this._switchTabs(a,this._selectedItem);d&&this.ensureVisible(a)}},previous:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>0&&b<this._titleList.length;)if(b--,!this._titleList[b].disabled)return this.select(b),!0;return!1},_getPreviousIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>0&&a<=this._titleList.length;)if(a--,!this._titleList[a].disabled)return a;return b},_getNextIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>=0&&a<this._titleList.length;){if(!this._titleList[a].disabled)return a;a++}return b},next:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>=0&&b<this._titleList.length-1;)if(b++,!this._titleList[b].disabled)return this.select(b),!0;return!1},first:function(){var a=0;this._titleList[a].disabled?this.next(a):this.select(a)},last:function(){var a=this._titleList.length-1;this._titleList[a].disabled?this.previous(a):this.select(a)},length:function(){return this._titleList.length},lockAt:function(a){!this._isValidIndex(a)||this._titleList[a].locked&&void 0!==this._titleList[a].locked||(this._titleList[a].locked=!0,this._raiseEvent(11,{item:a}))},unlockAt:function(a){this._isValidIndex(a)&&this._titleList[a].locked&&(this._titleList[a].locked=!1,this._raiseEvent(12,{item:a}))},lockAll:function(){for(var a=this.length();a;)a--,this.lockAt(a)},unlockAll:function(){for(var a=this.length();a;)a--,this.unlockAt(a)},showCloseButtonAt:function(a){if(this._isValidIndex(a)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=0}},hideCloseButtonAt:function(a){if(this._isValidIndex(a)){var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=1}},hideAllCloseButtons:function(){for(var a=this.length();a;)a--,this.hideCloseButtonAt(a)},showAllCloseButtons:function(){for(var a=this.length();a;)a--,this.showCloseButtonAt(a)},getTitleAt:function(a){return this._titleList[a]?this._titleList[a].text():null},getContentAt:function(a){return this._contentList[a]?this._contentList[a]:null},setTitleAt:function(a,b){this._titleList[a]&&(this._titleList[a].text(b),this.showCloseButtons&&(this._addCloseButton(a),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(a,b){this._contentList[a]&&this._contentList[a].html(b)},ensureVisible:function(a){var b=this;if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var c,d,e=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),f=parseInt(this._unorderedList.css("left")),g=parseInt(this._headerWrapper.outerWidth(!0)),h=parseInt(this._titleList[a].outerWidth(!0)),i=f-this._getArrowsDisplacement(),j=g-this._getArrowsDisplacement()-i;if(-i>e)c=-e+this._getArrowsDisplacement(),d=this._getArrowsDisplacement();else{if(!(e+h>j-this._getArrowsDisplacement()))return this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration),!0;c=-e+g-h-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),d=g-h-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:c},this.scrollAnimationDuration,function(){return b._unlockAnimation("unorderedList"),b._moveSelectionTrack(b._selectedItem,0),!0}),this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration,d),!0},isVisibleAt:function(a){if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var b=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),c=parseInt(this._unorderedList.css("left")),d=parseInt(this._headerWrapper.outerWidth(!0)),e=parseInt(this._titleList[a].outerWidth(!0)),f=c-this._getArrowsDisplacement(),g=d-this._getArrowsDisplacement()-f;return-f>b?!1:b+e>g?!1:!0},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!0)},_unlockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!1)},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"touchMode":e&&(b.enabledHover=!1,b.keyboardNavigation=!1);break;case"width":case"height":return void b._performResize();case"disabled":return void(e?this.disable():this.enable());case"showCloseButtons":return e?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);case"selectedItem":return void(this._isValidIndex(e)&&this.select(e));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(e?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove());case"scrollable":return void(e?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void a.jqx.utilities.setTheme(d,e,this.host)}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jqxBaseFramework),function(a){function b(b,c){return this.owner=b,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}else if(this[a.toLowerCase()]){var c=this[a.toLowerCase()];this[a.toLowerCase()]=b,this.owner._columnPropertyChanged(this,a.toLowerCase(),b,c)}},this._initfields=function(c){if(null!=c){var d=this.that;if(a.jqx.hasProperty(c,"dataField")&&(this.datafield=a.jqx.get(c,"dataField")),a.jqx.hasProperty(c,"displayField")?this.displayfield=a.jqx.get(c,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(c,"enableTooltips")&&(this.enabletooltips=a.jqx.get(c,"enableTooltips")),a.jqx.hasProperty(c,"text")?this.text=a.jqx.get(c,"text"):this.text=this.displayfield,a.jqx.hasProperty(c,"sortable")&&(this.sortable=a.jqx.get(c,"sortable")),a.jqx.hasProperty(c,"hideable")&&(this.hideable=a.jqx.get(c,"hideable")),a.jqx.hasProperty(c,"hidden")&&(this.hidden=a.jqx.get(c,"hidden")),a.jqx.hasProperty(c,"groupable")&&(this.groupable=a.jqx.get(c,"groupable")),a.jqx.hasProperty(c,"renderer")&&(this.renderer=a.jqx.get(c,"renderer")),a.jqx.hasProperty(c,"align")&&(this.align=a.jqx.get(c,"align")),a.jqx.hasProperty(c,"cellsAlign")&&(this.cellsalign=a.jqx.get(c,"cellsAlign")),a.jqx.hasProperty(c,"cellsFormat")&&(this.cellsformat=a.jqx.get(c,"cellsFormat")),a.jqx.hasProperty(c,"width")&&(this.width=a.jqx.get(c,"width")),a.jqx.hasProperty(c,"minWidth")&&(this.minwidth=a.jqx.get(c,"minWidth")),a.jqx.hasProperty(c,"maxWidth")&&(this.maxwidth=a.jqx.get(c,"maxWidth")),a.jqx.hasProperty(c,"cellsRenderer")&&(this.cellsrenderer=a.jqx.get(c,"cellsRenderer")),a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"checkChange")&&(this.checkchange=a.jqx.get(c,"checkChange")),a.jqx.hasProperty(c,"buttonClick")&&(this.buttonclick=a.jqx.get(c,"buttonClick")),a.jqx.hasProperty(c,"pinned")&&(this.pinned=a.jqx.get(c,"pinned")),a.jqx.hasProperty(c,"visibleIndex")&&(this.visibleindex=a.jqx.get(c,"visibleIndex")),a.jqx.hasProperty(c,"filterable")&&(this.filterable=a.jqx.get(c,"filterable")),a.jqx.hasProperty(c,"filter")&&(this.filter=a.jqx.get(c,"filter")),a.jqx.hasProperty(c,"resizable")&&(this.resizable=a.jqx.get(c,"resizable")),a.jqx.hasProperty(c,"editable")&&(this.editable=a.jqx.get(c,"editable")),a.jqx.hasProperty(c,"initEditor")&&(this.initeditor=a.jqx.get(c,"initEditor")),a.jqx.hasProperty(c,"createEditor")&&(this.createeditor=a.jqx.get(c,"createEditor")),a.jqx.hasProperty(c,"destroyEditor")&&(this.destroyeditor=a.jqx.get(c,"destroyEditor")),a.jqx.hasProperty(c,"getEditorValue")&&(this.geteditorvalue=a.jqx.get(c,"getEditorValue")),a.jqx.hasProperty(c,"validation")&&(this.validation=a.jqx.get(c,"validation")),a.jqx.hasProperty(c,"cellBeginEdit")&&(this.cellbeginedit=a.jqx.get(c,"cellBeginEdit")),a.jqx.hasProperty(c,"cellEndEdit")&&(this.cellendedit=a.jqx.get(c,"cellEndEdit")),a.jqx.hasProperty(c,"className")&&(this.classname=a.jqx.get(c,"className")),a.jqx.hasProperty(c,"cellClassName")&&(this.cellclassname=a.jqx.get(c,"cellClassName")),a.jqx.hasProperty(c,"menu")&&(this.menu=a.jqx.get(c,"menu")),a.jqx.hasProperty(c,"aggregates")&&(this.aggregates=a.jqx.get(c,"aggregates")),a.jqx.hasProperty(c,"aggregatesRenderer")&&(this.aggregatesrenderer=a.jqx.get(c,"aggregatesRenderer")),a.jqx.hasProperty(c,"createFilterWidget")&&(this.createfilterwidget=a.jqx.get(c,"createFilterWidget")),a.jqx.hasProperty(c,"filterType")&&(this.filtertype=a.jqx.get(c,"filterType")),a.jqx.hasProperty(c,"filterDelay")&&(this.filterdelay=a.jqx.get(c,"filterDelay")),a.jqx.hasProperty(c,"rendered")&&(this.rendered=a.jqx.get(c,"rendered")),a.jqx.hasProperty(c,"exportable")&&(this.exportable=a.jqx.get(c,"exportable")),a.jqx.hasProperty(c,"filterItems")&&(this.filteritems=a.jqx.get(c,"filterItems")),a.jqx.hasProperty(c,"cellValueChanging")&&(this.cellvaluechanging=a.jqx.get(c,"cellValueChanging")),a.jqx.hasProperty(c,"draggable")&&(this.draggable=a.jqx.get(c,"draggable")),a.jqx.hasProperty(c,"filterCondition")&&(this.filtercondition=a.jqx.get(c,"filterCondition")),a.jqx.hasProperty(c,"threeStateCheckbox")&&(this.threestatecheckbox=a.jqx.get(c,"threeStateCheckbox")),a.jqx.hasProperty(c,"nullable")&&(this.nullable=a.jqx.get(c,"nullable")),a.jqx.hasProperty(c,"columnGroup")&&(this.columngroup=a.jqx.get(c,"columnGroup")),!c instanceof String&&"string"!=typeof c)for(var e in c)if(!d.hasOwnProperty(e)&&!d.hasOwnProperty(e.toLowerCase()))throw b.host.remove(),new Error("jqxGrid: Invalid property name - "+e+".")}},this._initfields(c),this}function c(a,b){return this.setdata=function(a){null!=a&&(this.bounddata=a,this.boundindex=a.boundindex,this.visibleindex=a.visibleindex,this.group=a.group,this.parentbounddata=a.parentItem,this.uniqueid=a.uniqueid,this.level=a.level)},this.setdata(b),this.parentrow=null,this.subrows=new Array,this.owner=a,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(a){this.hidden=a.hidden,this.rowdetails=a.rowdetails,this.rowdetailsheight=a.rowdetailsheight,this.rowdetailshidden=!a.showdetails,this.height=a.height},this}a.jqx.jqxWidget("jqxGrid","",{}),a.extend(a.jqx._jqxGrid.prototype,{defineInstance:function(){var b={disabled:!1,width:600,height:400,pagerheight:28,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:25,columnsheight:25,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:199,updatefilterconditions:null,showaggregates:!1,showfilterrow:!1,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:a.jqx.utilities.scrollBarSize,touchscrollbarsize:a.jqx.utilities.touchScrollBarSize,scrollbarautoshow:a.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",sorttogglestates:2,rendergridrows:null,enableanimations:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:25,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};a.extend(!0,this,b)},createInstance:function(b){this.that=this,this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight);var c="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(this.element.innerText="",this.element.innerHTML="",15!=a.jqx.utilities.scrollBarSize&&(this.scrollbarsize=a.jqx.utilities.scrollBarSize),this.source){this.source.dataBind||(this.source=new a.jqx.dataAdapter(this.source));var d=this.source._source.datafields;d&&d.length>0&&(this._camelCase=void 0!==this.source._source.dataFields,this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=c,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var e=this.host.find("#verticalScrollBar"+this.element.id),f=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),!e.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=new Array,this.vScrollBar=e.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=f.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=this.host.parent()?2e3==this.host.parent().css("z-index"):!1,this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(void 0==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),void 0==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),void 0==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){if(this._builddataloadelement(),this._cachedcolumns=this.columns,25!=this.rowsheight&&this._measureElement("cell"),(25!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source){var d=this.source.datafields;if(null==d&&this.source._source&&(d=this.source._source.datafields),d)for(var g=0;g<this.columns.length;g++){var h=this.columns[g];if(h&&h.cellsformat&&h.cellsformat.length>2)for(var i=0;i<d.length;i++)if(d[i].name==h.datafield&&!d[i].format){d[i].format=h.cellsformat;break}}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null;var j=this.that,k=function(){j.content&&(j.content[0].scrollTop=0,j.content[0].scrollLeft=0),j.gridcontent&&(j.gridcontent[0].scrollLeft=0,j.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){k()}),this.addHandler(this.content,"scroll",function(a){return k(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=a.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),a.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var b=this.that;(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&(this._updatesizeonwindowresize=!0,a.jqx.utilities.resize(this.host,function(c){var d=a(window).width(),e=a(window).height(),f=b.host.width(),g=b.host.height();if(b.autoheight&&(b._lastHostWidth=e),b._lastHostWidth!=f||b._lastHostHeight!=g){if(b.touchdevice&&b.editcell&&"orientationchange"!==c)return;b._updatesize(b._lastHostWidth!=f,b._lastHostHeight!=g)}b._lastWidth=d,b._lastHeight=e,b._lastHostWidth=f,b._lastHostHeight=g}))},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var b=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),b.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(b)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement)},_measureElement:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget")),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_measureMenuElement:function(){var b=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");b.addClass(this.toTP("jqx-widget")),b.addClass(this.toTP("jqx-menu")),b.addClass(this.toTP("jqx-menu-item-top")),b.addClass(this.toTP("jqx-fill-state-normal")),a(document.body).append(b);var c=b.outerHeight();return b.remove(),c},_measureElementWidth:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+b+"</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid")),c.addClass(this.toTP("jqx-grid-column-header")),c.addClass(this.toTP("jqx-widget-header")),a(document.body).append(c);var d=c.outerWidth()+20;return c.remove(),d},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_testmodules:function(){var b="",c=this.that,d=function(){""!=b.length&&(b+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(d(),b+=" jqxmenu.js"),this.host.jqxScrollBar||(d(),b+=" jqxscrollbar.js"),this.host.jqxButton||(d(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(d(),b+=" jqxdata.js"),this.pageable&&!this.gotopage&&(d(),b+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(d(),b+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(d(),b+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(d(),b+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(d(),b+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(d(),b+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(d(),b+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(d(),b+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(d(),b+=" jqxgrid.selection.js"),""!=b||this.editable||this.filterable||this.pageable){var e=[],f=function(a){switch(a){case"checkbox":c.host.jqxCheckBox||e.checkbox||(e.checkbox=!0,d(),b+=" jqxcheckbox.js");break;case"numberinput":c.host.jqxNumberInput||e.numberinput||(e.numberinput=!0,d(),b+=" jqxnumberinput.js");break;case"datetimeinput":c.host.jqxDateTimeInput||e.datetimeinput?c.host.jqxCalendar||e.calendar||(d(),b+=" jqxcalendar.js"):(d(),e.datetimeinput=!0,b+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":c.host.jqxComboBox||e.combobox?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.combobox=!0,b+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":c.host.jqxDropDownList||e.dropdownlist?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.dropdownlist=!0,b+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&f("dropdownlist");for(var g=0;g<this.columns.length;g++)if(void 0!=this.columns[g]){var h=this.columns[g].columntype;if(f(h),this.filterable&&this.showfilterrow){var h=this.columns[g].filtertype;("checkedlist"==h||"bool"==h)&&f("checkbox"),"date"==h&&f("datetimeinput")}}if(""!=b)throw new Error("jqxGrid: Missing references to the following module(s): "+b)}return!1},focus:function(){try{this.wrapper.focus();var a=this.that;setTimeout(function(){a.wrapper.focus()},25),this.focused=!0}catch(b){}},hiddenParent:function(){return a.jqx.isHidden(this.host)},resize:function(a,b){this.width=a,this.height=b,this._updatesize(!0,!0)},_updatesize:function(b,c){if(!this._loading){var d=this.that;d._newmax=null;var e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),d._resizeTimer&&clearTimeout(d._resizeTimer);var g=5;d._resizeTimer=setTimeout(function(){if(d.resizingGrid=!0,!a.jqx.isHidden(d.host)){if(d.editcell&&(d.endcelledit(d.editcell.row,d.editcell.column,!0,!0),d._oldselectedcell=null),h!=d._oldHeight||1==c){var f=d.groupable&&d.groups.length>0,g=d.vScrollBar.css("visibility");if(!d.autoheight){if(d.virtualmode&&(d._pageviews=new Array),f||d.rowdetails||d.pageable){d._arrange(),d.prerenderrequired=!0;var h=Math.round(d.host.height())+2*d.rowsheight;realheight=d._gettableheight();var i=Math.round(h/d.rowsheight),j=Math.max(d.dataview.totalrows,d.dataview.totalrecords);d.pageable&&(j=d.pagesize,d.pagesize>Math.max(d.dataview.totalrows,d.dataview.totalrecords)&&d.autoheight?j=Math.max(d.dataview.totalrows,d.dataview.totalrecords):d.autoheight||d.dataview.totalrows<d.pagesize&&(j=Math.max(d.dataview.totalrows,d.dataview.totalrecords)));j*d.rowsheight,d._getpagesize();!d.pageable&&d.autoheight&&(i=j),d.virtualsizeinfo&&(d.virtualsizeinfo.visiblerecords=i),d.rendergridcontent(!0,!1),d._renderrows(d.virtualsizeinfo)}else{d._arrange(),d.virtualsizeinfo=d._calculatevirtualheight();var h=Math.round(d.host.height())+2*d.rowsheight;parseInt(h)>=parseInt(d._oldHeight)&&(d.prerenderrequired=!0),d._renderrows(d.virtualsizeinfo)}g!=d.vScrollBar.css("visibility")&&(d.vScrollInstance.setPosition(0),d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}}if(e!=d._oldWidth||1==b){var k=!1;if(d.editcell&&d.editcell.editor)switch(d.editcell.columntype){case"dropdownlist":if(k=d.editcell.editor.jqxDropDownList("isOpened")||d.editcell.editor.jqxDropDownList("isanimating")&&!d.editcell.editor.jqxDropDownList("ishiding"))return d.editcell.editor.jqxDropDownList({openDelay:0}),d.editcell.editor.jqxDropDownList("open"),void d.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(k=d.editcell.editor.jqxComboBox("isOpened")||d.editcell.editor.jqxComboBox("isanimating")&&!d.editcell.editor.jqxComboBox("ishiding"))return d.editcell.editor.jqxComboBox({openDelay:0}),d.editcell.editor.jqxComboBox("open"),void d.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(k)return k=d.editcell.editor.jqxDateTimeInput("isOpened")||d.editcell.editor.jqxDateTimeInput("isanimating")&&!d.editcell.editor.jqxDateTimeInput("ishiding"),d.editcell.editor.jqxDateTimeInput({openDelay:0}),d.editcell.editor.jqxDateTimeInput("open"),void d.editcell.editor.jqxDateTimeInput({openDelay:250})}var l=d.hScrollBar.css("visibility");d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths(),0==b&&d._oldWidth>e||c&&0!=d.dataview.rows.length||d._renderrows(d.virtualsizeinfo),l!=d.hScrollBar.css("visibility")&&d.hScrollInstance.setPosition(0)}d._oldWidth=e,d._oldHeight=h,d.resizingGrid=!1}},g)}},getTouches:function(b){return a.jqx.mobile.getTouches(b)},_updateTouchScrolling:function(){var b=this.that;if(b.isTouchDevice()){b.scrollmode="logical",b.vScrollInstance.thumbStep=b.rowsheight;var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.enablehover=!1,b.gridcontent&&(b.removeHandler(b.gridcontent,c+".touchScroll"),b.removeHandler(b.gridcontent,e+".touchScroll"),b.removeHandler(b.gridcontent,d+".touchScroll"),b.removeHandler(b.gridcontent,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b.gridcontent[0],b.vScrollInstance.max,function(a,c){if("visible"==b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("visible"==b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;
b.hScrollInstance.setPosition(d+a)}b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),b._overlayElement&&(b.removeHandler(b._overlayElement,c+".touchScroll"),b.removeHandler(b._overlayElement,e+".touchScroll"),b.removeHandler(b._overlayElement,d+".touchScroll"),b.removeHandler(b._overlayElement,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b._overlayElement[0],b.vScrollInstance.max,function(a,c){if("visible"==b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("visible"==b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,c,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")}),this.addHandler(this.host,d,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();if(this.touchDevice=b,1==this.touchmode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return this.enablehover=!1,!1;b=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=b}else 0==this.touchmode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b,c){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=b){for(var d in b)d.toLowerCase()!==d&&(b[d.toLowerCase()]=b[d]);if(b.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=b.pagergotopagestring),b.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=b.pagershowrowsstring),b.pagerrangestring&&(this.gridlocalization.pagerrangestring=b.pagerrangestring),b.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=b.pagernextbuttonstring),b.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=b.pagerpreviousbuttonstring),b.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=b.pagerfirstbuttonstring),b.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=b.pagerlastbuttonstring),b.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=b.groupsheaderstring),b.sortascendingstring&&(this.gridlocalization.sortascendingstring=b.sortascendingstring),b.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=b.sortdescendingstring),b.sortremovestring&&(this.gridlocalization.sortremovestring=b.sortremovestring),b.groupbystring&&(this.gridlocalization.groupbystring=b.groupbystring),b.groupremovestring&&(this.gridlocalization.groupremovestring=b.groupremovestring),b.firstDay&&(this.gridlocalization.firstDay=b.firstDay),b.days&&(this.gridlocalization.days=b.days),b.months&&(this.gridlocalization.months=b.months),b.AM&&(this.gridlocalization.AM=b.AM),b.PM&&(this.gridlocalization.PM=b.PM),b.patterns&&(this.gridlocalization.patterns=b.patterns),b.percentsymbol&&(this.gridlocalization.percentsymbol=b.percentsymbol),b.currencysymbol&&(this.gridlocalization.currencysymbol=b.currencysymbol),b.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=b.currencysymbolposition),void 0!=b.decimalseparator&&(this.gridlocalization.decimalseparator=b.decimalseparator),void 0!=b.thousandsseparator&&(this.gridlocalization.thousandsseparator=b.thousandsseparator),b.filterclearstring&&(this.gridlocalization.filterclearstring=b.filterclearstring),b.filterstring&&(this.gridlocalization.filterstring=b.filterstring),b.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=b.filtershowrowstring),b.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=b.filtershowrowdatestring),b.filterselectallstring&&(this.gridlocalization.filterselectallstring=b.filterselectallstring),b.filterchoosestring&&(this.gridlocalization.filterchoosestring=b.filterchoosestring),b.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=b.filterorconditionstring),b.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=b.filterandconditionstring),b.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=b.filterstringcomparisonoperators),b.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=b.filternumericcomparisonoperators),b.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=b.filterdatecomparisonoperators),b.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=b.filterbooleancomparisonoperators),b.emptydatastring&&(this.gridlocalization.emptydatastring=b.emptydatastring),b.filterselectstring&&(this.gridlocalization.filterselectstring=b.filterselectstring),b.todaystring&&(this.gridlocalization.todaystring=b.todaystring),b.clearstring&&(this.gridlocalization.clearstring=b.clearstring),b.validationstring&&(this.gridlocalization.validationstring=b.validationstring),b.loadtext&&(this.gridlocalization.loadtext=b.loadtext),c!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var d in this._filterrowcache)a(this._filterrowcache[d]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today"}},_initmenu:function(){var b=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array,this.gridmenu=a('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var c=a("<ul></ul>"),d='<div class="jqx-grid-sortasc-icon"></div>',e=a("<li>"+d+this.gridlocalization.sortascendingstring+"</li>"),f='<div class="jqx-grid-sortdesc-icon"></div>',g=a("<li>"+f+this.gridlocalization.sortdescendingstring+"</li>"),h='<div class="jqx-grid-sortremove-icon"></div>',i=a("<li>"+h+this.gridlocalization.sortremovestring+"</li>"),j='<div class="jqx-grid-groupby-icon"></div>',k=a("<li>"+j+this.gridlocalization.groupbystring+"</li>"),l=a("<li>"+j+this.gridlocalization.groupremovestring+"</li>"),m=a('<li type="separator"></li>'),n=a('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"></div></li>'),o=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>o&&(o=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>o&&(o=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>o&&(o=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>o&&(o=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var q=200;p=a.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=a("<span>"+p+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),q=r.outerWidth()+60,r.remove();var s=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(c.append(e),this.menuitemsarray[0]=e[0],c.append(g),this.menuitemsarray[1]=g[0],c.append(i),this.menuitemsarray[2]=i[0],s=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(c.append(k),this.menuitemsarray[3]=k[0],c.append(l),this.menuitemsarray[4]=l[0],s+=2);var t=this._measureMenuElement(),u=s*t+9,v=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=n[0],this.menuitemsarray[6]=n[0],c.append(m),c.append(n),u+=180,a.jqx.browser.msie&&a.jqx.browser.version<8&&(u+=20);var w=a(n).find("div:first");q+=20,this._initfilterpanel(this,w,"",q),v=!1,this.removeHandler(a(document),"click.menu"+b.element.id,b._closemenuafterclick,b),this.addHandler(a(document),"click.menu"+b.element.id,b._closemenuafterclick,b)}if(this.gridmenu.append(c),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.filterable&&(a("#listBoxfilter1"+this.element.id).css("z-index",4990),a("#listBoxfilter2"+this.element.id).css("z-index",4990),a("#listBoxfilter3"+this.element.id).css("z-index",4990),a("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(a("#gridmenu"+this.element.id),"initialized",function(){a("#menuWrappergridmenu"+b.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(u=65),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(c){if(27==c.keyCode)b.gridmenu.jqxMenu("close");else if(13==c.keyCode&&b.filterable&&b._buildfilter){var d="block"==a(a.find("#filter1"+b.element.id)).jqxDropDownList("container").css("display"),e="block"==a(a.find("#filter2"+b.element.id)).jqxDropDownList("container").css("display"),f="block"==a(a.find("#filter3"+b.element.id)).jqxDropDownList("container").css("display"),g=a(a.find("#filterclearbutton"+b.element.id)).hasClass("jqx-fill-state-focus");if(g){var h=a.data(document.body,"contextmenu"+b.element.id).column;b._clearfilter(b,b.element,h),b.gridmenu.jqxMenu("close")}else if(!d&&!e&&!f){var h=a.data(document.body,"contextmenu"+b.element.id).column;b.gridmenu.jqxMenu("close"),b._buildfilter(b,n,h)}}}),"auto"!=this.popupwidth&&(q=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:q,height:u,autoCloseOnClick:v,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",n[0].id,"closeOnClick",!1),this.rtl){var x=this.that;a.each(c.find("li"),function(){a(this).addClass(x.toTP("jqx-rtl"))});var y=function(a){var b=a.find("div");b.css("float","right"),b.css("margin-left","4px"),b.css("margin-right","-4px")};y(i),y(g),y(e),y(k),y(l)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var b=this.gridlocalization.sortascendingstring.length,c=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>b&&(b=this.gridlocalization.sortdescendingstring.length,c=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>b&&(b=this.gridlocalization.sortremovestring.length,c=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>b&&(b=this.gridlocalization.groupbystring.length,c=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>b&&(b=this.gridlocalization.groupremovestring.length,c=this.gridlocalization.groupremovestring));var d=200;c=a.trim(c).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var e=a("<span>"+c+"</span>");e.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(e),d=e.outerWidth()+60,e.remove();var f=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(f=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(f+=2);var g=27*f+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(g+=180,d+=20,a.jqx.browser.msie&&a.jqx.browser.version<8&&(g+=20)),void 0==this.menuitemsarray[0]&&(g=65),"auto"!=this.popupwidth&&(d=this.popupwidth),this.gridmenu.jqxMenu({width:d,height:g})},_closemenuafterclick:function(b){var c=null!=b?b.data:this,d=!1;if(void 0==b.target||void 0!=b.target&&void 0==b.target.className.indexOf)return void c.gridmenu.jqxMenu("close");if(-1==b.target.className.indexOf("filter")||-1!=b.target.className.indexOf("jqx-grid-cell-filter")){if(-1!=b.target.className.indexOf("jqx-grid-cell"))return void c.gridmenu.jqxMenu("close");if(!c._hasOpenedMenu||!a(b.target).ischildof(c.gridmenu)){var e=(c.host.coord(),c.gridmenu.coord()),f=b.pageX,g=b.pageY;if(a.each(a(b.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(d=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(d=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(c.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(c.gridmenu.jqxMenu("close"),!1):void 0}),!d){try{if("default"===c.filtermode){var h=a(a.find("#filter1"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,i=new Date;if(100>i-h)return;var j=a(a.find("#filter3"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>i-j)return;if("block"==a(a.find("#filter3"+c.element.id)).jqxDropDownList("container").css("display"))return;if("block"==a(a.find("#filter1"+c.element.id)).jqxDropDownList("container").css("display"))return;if("block"==a(a.find("#filter2"+c.element.id)).jqxDropDownList("container").css("display"))return;if(c._hasdatefilter&&"div"==a(".filtertext1"+c.element.id)[0].nodeName.toLowerCase()){if("block"==a(".filtertext1"+c.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==a(".filtertext2"+c.element.id).jqxDateTimeInput("container").css("display"))return}}else{var h=a(a.find("#filter1"+c.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,i=new Date;if(100>i-h)return;var j=a(a.find("#filter1"+c.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>i-j)return}}catch(k){}f>=e.left&&f<=e.left+c.gridmenu.width()&&g>=e.top&&g<=e.top+c.gridmenu.height()||c.gridmenu.jqxMenu("close")}}}},_handlemenueevents:function(){var b=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(a){b._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(c){for(var d=c.args,e=0;e<b.menuitemsarray.length;e++){var f=b.menuitemsarray[e];if(d==f){if(void 0!=a(d).attr("ignoretheme"))return;var g=a.data(document.body,"contextmenu"+b.element.id),h=g.column;b.filterable&&b.gridmenu.jqxMenu("close");var i=h.displayfield;if(null==i&&(i=h.datafield),null!=g)switch(e){case 0:b.sortby(i,"ascending",null);break;case 1:b.sortby(i,"descending",null);break;case 2:b.sortby(i,null,null);break;case 3:b.addgroup(h.datafield);break;case 4:b.removegroup(h.datafield);break;case 5:var j=a(b.menuitemsarray[6]);a(j).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var a=this.dataview.totalrecords;return this.summaryrows&&(a+=this.summaryrows.length),{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var b=this.that;this.hiddens=new Array;var c=this.hiddenboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.hiddens[c]=this.hidden}})},_updaterowheights:function(){var b=this.that;this.heights=new Array;var c=this.heightboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.heights[c]=this.height}})},_updaterowdetails:function(){var b=this.that;this.details=new Array;var c=this.detailboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.details[c]=this.details}})},_getmenuitembyindex:function(a){return void 0==a?null:this.menuitemsarray[a]},openmenu:function(b){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var c=this.getcolumn(b);if(!c.menu)return!1;this.gridmenu||this._initmenu();var d=c.columnsmenu;a(c.element).trigger("mouseenter");for(var e=this,f=0;f<e.columns.records.length;f++)e.columns.records[f].datafield!=b&&a(e.columns.records[f].element).trigger("mouseleave");setTimeout(function(){"block"==a(d)[0].style.display&&a(d).trigger("click"),e._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var b=a.data(document.body,"contextmenu"+this.element.id);if(null!=b&&this.autoshowcolumnsmenubutton){if(this.enableanimations){a(b.columnsmenu).animate({"margin-left":0},"fast",function(){a(b.columnsmenu).css("display","none")});var c=this.rtl?0:-32;b.column.iconscontainer.animate({"margin-left":c},"fast")}else{a(b.columnsmenu).css("display","none");var c=this.rtl?0:-32;b.column.iconscontainer.css("margin-left",c)}a.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1;var d=this._getmenuitembyindex(5);if(d){var e=a(d).find("#filter1"+this.element.id),f=a(d).find("#filter2"+this.element.id),g=a(d).find("#filter3"+this.element.id);e.length>0&&"default"===this.filtermode&&(e.jqxDropDownList("hideListBox"),f.jqxDropDownList("hideListBox"),g.jqxDropDownList("hideListBox"))}}},scrolloffset:function(a,b){null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginupdate:function(a){this._updating=!0,this._datachanged=!1,a===!0&&(this._batchupdate=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void this.render();if(1==this._datachanged){var a=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=a&&a<this.vScrollInstance.max&&this.scrolltop(a)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block")},hideloadelement:function(){a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this.that;a.focusedfilter&&(a.focusedfilter.focus(),setTimeout(function(){if(a.focusedfilter.focus(),"input"==a.focusedfilter[0].nodeName.toLowerCase()){var b=a.focusedfilter.val().length;try{if("selectionStart"in a.focusedfilter[0])a.focusedfilter[0].setSelectionRange(b,b);else{var c=a.focusedfilter[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}catch(d){}}},10))},databind:function(b,c){if(this.loadingstate!==!0){"block"==this.host.css("display")&&(this.autoshowloadelement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var d=this.that;null==b&&(b={}),b.recordstartindex||(b.recordstartindex=0),b.recordendindex||(b.recordendindex=0),(void 0==b.loadallrecords||null==b.loadallrecords)&&(b.loadallrecords=!0),(void 0==b.sortcomparer||null==b.sortcomparer)&&(b.sortcomparer=null),(void 0==b.filter||null==b.filter)&&(b.filter=null),(void 0==b.sort||null==b.sort)&&(b.sort=null),(void 0==b.data||null==b.data)&&(b.data=null);var e=null;if(null!=b&&(e=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.dataview,a.jqx.dataview.sort&&a.extend(this.dataview,new a.jqx.dataview.sort),a.jqx.dataview.grouping&&a.extend(this.dataview,new a.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!d.initializedcall){if(b._source&&this.sortable&&(void 0!=b._source.sortcolumn&&(this.sortcolumn=b._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=b._source.sortcolumn,b._source.sortcolumn=null),void 0!=b._source.sortdirection)){this.dataview.sortfielddirection=b._source.sortdirection;var f=b._source.sortdirection;if("a"==f||"asc"==f||"ascending"==f||1==f)var g=!0;else var g=!1;null!=f?this.sortdirection={ascending:g,descending:!g}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&b._source&&(void 0!=b._source.pagenum&&(this.dataview.pagenum=b._source.pagenum),void 0!=b._source.pagesize?(this.pagesize=b._source.pagesize,this.dataview.pagesize=b._source.pagesize):(this.dataview.pagesize=b._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(b.sortcolumn&&(this.dataview.sortfield=b.sortcolumn),b.sortdirection&&(this.dataview.sortfielddirection=b.sortdirection)),this.filterable&&this.columns&&a.each(this.columns,function(){this.filter&&d.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(b){if(!d.pageable&&d.virtualmode&&(d.loadondemand=!0),d._loading=!1,d.dataview.isupdating()&&d.dataview.resumeupdate(!1),d.pageable&&d.pagerrenderer){if(!d._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");d._initpager()}if(d.source&&d.source.sortcolumn&&d.sortby&&!d.virtualmode)d.render(),d.source._source.sort||d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer),d.source.sortcolumn=null;else{var e=d.vScrollInstance.value,f=d.hScrollInstance.value,g=d.source?d.source.datatype:"array";if("local"!=g||"array"!=g){var h=null==d.virtualsizeinfo||null!=d.virtualsizeinfo&&0==d.virtualsizeinfo.virtualheight;if("cells"==c){var i=!1;if(d.filterable&&d._initfilterpanel&&d.dataview.filters.length&&(i=!0),0==b)return d.vScrollInstance.isScrolling()||d.hScrollInstance.isScrolling()||(d._cellscache=new Array,d._pagescache=new Array,d._renderrows(d.virtualsizeinfo),d.showfilterrow&&d.filterable&&d.filterrow&&d._updatelistfilters(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()),d.sortcolumn&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer),d.autoshowloadelement&&(a(d.dataloadelement).css("visibility","hidden"),a(d.dataloadelement).css("display","none")),void(d.virtualmode&&!d._loading&&(d.loadondemand=!0,d._renderrows(d.virtualsizeinfo)));i?c="filter":void 0!=d.sortcolumn&&(c="sort")}!d.virtualmode||h||d.virtualmode&&d.pageable?1==d.initializedcall&&"pagechanged"==c?(e=0,d.groupable&&d.groups.length>0?(d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):(d.rendergridcontent(!0),d.pageable&&d.updatepagerdetails&&(d.updatepagerdetails(),d.autoheight?(d._updatepageviews(),d.autorowheight&&d._renderrows(this.virtualsizeinfo)):d.autorowheight&&(d._updatepageviews(),d._renderrows(this.virtualsizeinfo)))),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):"filter"==c?d.virtualmode?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d._render(!0,!0,!1,!1,!1):"sort"==c?(d.virtualmode?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):(d._render(!0,!0,!1,!1,!1),d.sortcolumn&&!d.source.sort&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer)),d.source.sort&&d._updatefocusedfilter()):"data"==c?d._render(!0,!0,!1,!1,!1):"state"==c?d._render(!0,!0,!1,d.menuitemsarray&&d.menuitemsarray.length>0&&!d.virtualmode):d._render(!0,!0,!0,d.menuitemsarray&&d.menuitemsarray.length>0&&!d.virtualmode):d.virtualmode&&1==b&&!d.pageable?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d.virtualmode&&!d.pageable&&0==b&&void 0!=c?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):d.virtualmode&&0==d.dataview.totalrecords&&d.dataview.filters.length>0?d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):(d._pagescache=new Array,d._renderrows(d.virtualsizeinfo)),d.vScrollInstance.value!=e&&e<=d.vScrollInstance.max&&d.vScrollInstance.setPosition(e),d.hScrollInstance.value!=f&&f<=d.hScrollInstance.max&&d.hScrollInstance.setPosition(f)}}if(d.autoshowloadelement&&(a(d.dataloadelement).css("visibility","hidden"),a(d.dataloadelement).css("display","none")),d.pageable&&(d.pagerrightbutton&&(d.pagerrightbutton.jqxButton({disabled:!1}),d.pagerleftbutton.jqxButton({disabled:!1}),d.pagershowrowscombo.jqxDropDownList({disabled:!1})),d.pagerfirstbutton&&(d.pagerfirstbutton.jqxButton({disabled:!1}),d.pagerlastbutton.jqxButton({disabled:!1}))),d._raiseEvent(11),d.initializedcall)d._updateTouchScrolling();else{var j=function(){d._raiseEvent(0),d.initializedcall=!0,d.isInitialized=!0,d.ready&&d.ready(),d.renderstatusbar&&d.renderstatusbar(d.statusbar),d.rendertoolbar&&d.rendertoolbar(d.toolbar),d.autoloadstate&&d.loadstate&&d.loadstate(null,!0)};if(a.jqx.isHidden(d.host)?(d.readyInterval&&clearInterval(d.readyInterval),d.readyInterval=setInterval(function(){a.jqx.isHidden(d.host)||d.__isRendered&&(clearInterval(d.readyInterval),d.readyInterval=null,j(),d._initmenu())},200)):j(),null!=d.width&&-1!=d.width.toString().indexOf("%")||null!=d.height&&-1!=d.height.toString().indexOf("%"),"hidden"==d.host.css("visibility")){a.jqx.browser.msie&&a.jqx.browser.version<8;"visible"==d.vScrollBar.css("visibility")&&d.vScrollBar.css("visibility","inherit"),d.autowidth||"visible"==d.hScrollBar.css("visibility")&&d.hScrollBar.css("visibility","inherit"),d._intervalTimer=setInterval(function(){"visible"==d.host.css("visibility")&&(d._updatesize(!0),clearInterval(d._intervalTimer))},100)}}},this.dataview.databind(b),this.dataview.isupdating()&&(void 0!=e?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(a,b){void 0!=a&&this.hScrollInstance.setPosition(a),void 0!=b&&this.vScrollInstance.setPosition(b)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(a){if(this.autoheight&&!this.pageable)return!0;var b=this._getpagesize(),c=Math.floor(a/b);if(this._pageviews[c]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var d=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var c=Math.floor(a/b);if(this.dataview.pagenum!=c){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(c),d=!0}}var e=this.vScrollInstance.value,f=this._gettableheight()-this.rowsheight,g=b*(a/b-c);if(g=Math.round(g),this._pageviews[c]){var h=this._pageviews[c].top,i=h+g*this.rowsheight;if(this.rowdetails)for(var j=b*c;a>j;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=i+this.rowsheight&&(i=this.vScrollInstance.max),e>i?(this.scrolltop(i),d=!0):i>e+f+2&&(this.scrolltop(i-f),d=!0)}else if(this.pageable){var i=g*this.rowsheight;if(this.rowdetails)for(var j=b*c;b*c+g>j;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);(e>i||i>e+f)&&(this.scrollto(0,i),d=!0)}return d},ensurecellvisible:function(b,c){var d=this.that,e=this.hScrollBar.jqxScrollBar("value"),f=d.hScrollInstance.max;d.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(f=0);var g=this.ensurerowvisible(b),h=0;if(this.columns.records){var i=e;if("hidden"==this.hScrollBar.css("visibility"))return;var j=this.host.width(),k=0,l="visible"==this.vScrollBar.css("visibility")?20:0,m=!1;a.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==c){
var a=0,b=d.rtl?f-e:i;return h+this.width>b+j-l?(a=h+this.width-j+l,d.rtl&&(a=f-a),d.scrollleft(a),m=!0):b>=h&&(a=h-this.width,d.rtl&&(a=f-a),d.scrollleft(a),m=!0),0==k?(d.rtl?d.scrollleft(f):d.scrollleft(0),m=!0):k==d.columns.records.length-1&&"visible"==d.hScrollBar.css("visibility")&&(d.rtl?d.scrollleft(d.hScrollBar.jqxScrollBar("min")):d.scrollleft(d.hScrollBar.jqxScrollBar("max")),m=!0),!1}k++,h+=this.width}),m||d.scrollleft(i)}return g},setrowheight:function(a,b){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null==a||null==b?!1:(this.heightboundrows[a]={index:a,height:b},a=this.getrowvisibleindex(a),0>a?!1:(this.rows.records[a]?this.rows.records[a].height=b:(row=new c(this,null),row.height=b,this.rows.replace(a,row)),this.heights[a]=b,this.rendergridcontent(!0),!0))},getrowheight:function(a){return null==a?null:(a=this.getrowvisibleindex(a),0>a?!1:this.rows.records[a]?this.rows.records[a].height:void 0)},setrowdetails:function(b,c,d,e){if(!(void 0==b||null==b||0>b)){var f=b+"_";if(this._rowdetailscache[f]){var g=this._rowdetailscache[f].element;a(g).remove(),this._rowdetailscache[f]=null}var h=this.dataview.generatekey();return this.detailboundrows[b]={index:b,details:{rowdetails:c,rowdetailsheight:d,rowdetailshidden:e,key:h}},b=this.getrowvisibleindex(b),0>b?!1:this._setrowdetails(b,c,d,e,h)}},getcolumn:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_getcolumnindex:function(b){var c=-1;return this.columns.records&&a.each(this.columns.records,function(){return c++,this.datafield==b?!1:void 0}),c},_getcolumnat:function(a){var b=this.columns.records[a];return b},_getprevvisiblecolumn:function(a){for(var b=this.that;a>0;){a--;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},_getnextvisiblecolumn:function(a){for(var b=this.that;a<this.columns.records.length;){a++;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},getcolumnat:function(a){if(!isNaN(a)){var b=this.columns.records[a];return b}return null},_getcolumn:function(b){var c=null;return a.each(this._columns,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;b=b.toLowerCase();var d=this.getcolumn(a);if(null!=d){var e=d[b];d[b]=c;var f=this._getcolumn(a);switch(null!=f&&(f[b]=c),this._cellscache=new Array,b){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo);break;case"editable":case"resizable":case"draggable":if("editable"==b&&c!=e){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==d.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==b&&this._initializeColumns(),this.rendergridcontent(!0),this.updating())return!1;"hidden"==b&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;d._width=null,d._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();var c=this.getcolumn(a);return c[b]},setcolumnproperty:function(a,b,c){this._setcolumnproperty(a,b,c)},getcolumnproperty:function(a,b){return this._getcolumnproperty(a,b)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",!1)},iscolumnvisible:function(a){return!this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",!0)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",!1)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(a,b,c,d,e){if(0==c&&(c=100),null==a||null==c)return!1;if(null!=e)this.details[a]={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:e};else{for(var f=null!=this.details[a]?this.details[a].detailskey:null,g={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:f},h=(this.that,0);h<this.detailboundrows.length;h++)if(void 0!=this.detailboundrows[h]){var i=this.detailboundrows[h];if(i.details.detailskey==f){i.details.rowdetailsheight=g.rowdetailsheight,i.details.rowdetailshidden=g.rowdetailshidden,i.details.rowdetails=g.rowdetails;break}}this.details[a]=g}return this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0},getrowdetails:function(a){return null==a?!1:(a=this.getrowvisibleindex(a),this._getrowdetails(a))},_getrowdetails:function(a){return null==a?!1:0>a?!1:this.details[a]?this.details[a]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a)return!1;if(a=this.getrowvisibleindex(a),0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!1)},hiderowdetails:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(a=this.getrowvisibleindex(a),0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!0)},_togglerowdetails:function(a){var b=a.visibleindex,c=this._getrowdetails(b);if(null!=c){var d=this.vScrollInstance.value,e=!c.rowdetailshidden,f=this._setrowdetailsvisibility(b,c,e);return 0!==d&&"hidden"!==this.vScrollBar.css("visibility")&&(d<=this.vScrollInstance.max?this.vScrollInstance.setPosition(d):this.vScrollInstance.setPosition(this.vScrollInstance.max)),f}return!1},_setrowdetailsvisibility:function(a,b,c){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[a])){this.details[a]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var d=this.dataview.generatekey();this.details[a].detailskey=d,this.detailboundrows[a]={index:a,details:this.details[a]}}if(null==b)return!1;this.details[a].rowdetailshidden=c;var e=this.details[a];return c?this._raiseEvent(21,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}):this._raiseEvent(20,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}),this._setrowdetails(a,e.rowdetails,e.rowdetailsheight,e.rowdetailshidden)},getrowvisibleindex:function(a){if(void 0==a||null==a||0>a)return!1;if(this.virtualmode){var b=this.dataview.loadedrecords[a];return void 0==b?-1:b.visibleindex}return this.getrowdisplayindex(a)},hiderow:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==a||null==a||0>a?!1:null==a?!1:(this.hiddenboundrows[a]={index:a,hidden:!0},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!0))},showrow:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==a||null==a||0>a?!1:null==a?!1:(this.hiddenboundrows[a]={index:a,hidden:!1},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!1))},isrowhiddenat:function(a){return null==a?null:(a=this.getrowvisibleindex(a),this.rows.records[a]?this.rows.records[a].hidden:void 0)},_setrowvisibility:function(a,b,c){return null==a?!1:(this.hiddens[a]=b,void 0==c||c?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var a=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var b=this.that,d=new Array,e=new Array,f=b.groupable&&b.groups.length>0,g=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var h=this.dataview.pagesize;this.pageable&&f&&(h=this.dataview.rows.length);for(var i=0;h>i&&!(i>=this.dataview.rows.length);i++){var j=this.dataview.rows[i],k=null;b.rows.records[j.visibleindex]?(k=b.rows.records[j.visibleindex],k.setdata(j)):k=new c(b,j),k.hidden=this.hiddens[k.visibleindex],this.rowdetailstemplate&&(k.rowdetails=this.rowdetailstemplate.rowdetails,k.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,k.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var l=this.details[k.visibleindex];if(l?(k.rowdetails=l.rowdetails,k.rowdetailsheight=l.rowdetailsheight,k.rowdetailshidden=l.rowdetailshidden):this.rowdetailstemplate||(k.rowdetails=null),f&&this.pageable&&null!=k.parentbounddata){var m=d[k.parentbounddata.uniqueid];if(null!=m){var n=this._findgroupstate(m.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,k.parentbounddata,!n,!1),k.hidden=this.hiddens[k.visibleindex]}null!=m&&void 0!=m&&(k.parentrow=m,m.subrows[m.subrows.length++]=k)}if(!k.hidden){var o=j.visibleindex;this.heights[o]||(this.heights[o]=this.rowsheight),k.height=this.heights[o],this.rowdetails&&k.rowdetails&&!k.rowdetailshidden&&(k.height+=k.rowdetailsheight),d[k.uniqueid]=k,e[g++]=k,k.top=a,a+=k.height;var p=o;b.rows.replace(p,k)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=a),this.rows.resumeupdate(),e.length>0&&(this._pagescache[this.dataview.pagenum]=e)}}},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var a=this.host.height();if(this.columnsheader){var b=this.columnsheader.outerHeight();this.showheader||(b=0)}return a-=b,"visible"==this.hScrollBar[0].style.visibility&&(a-=this.hScrollBar.outerHeight()),this.pageable&&(a-=this.pager.outerHeight()),this._groupsheader()&&(a-=this.groupsheader.outerHeight()),this.showtoolbar&&(a-=this.toolbarheight),this.showstatusbar&&(a-=this.statusbarheight),a>0?(this.tableheight=a,a):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight,b=Math.round(a/this.rowsheight);return b}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var a=(this.that,Math.round(this.host.height())+2*this.rowsheight);realheight=this._gettableheight();var b=Math.round(a/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var c=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(c=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?c=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(c=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var d=c*this.rowsheight,e=0,f=0,g=0,h=this._getpagesize(),i=h*this.rowsheight,j=0;if(!this.pageable&&this.autoheight&&(b=c),c+h>0)for(;c+h>=j;){if(e+=i,c>j-h&&j>=c){var k=j-c;k>0&&(g-=i,this._pageviews[f-1]={top:g,height:i-k*this.rowsheight});break}this._pageviews[f++]={top:g,height:i},g=e,j+=h}return 1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),d>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:d}):this.vScrollBar.jqxScrollBar({max:d-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=h,this.dataview.updateview(),{visiblerecords:b,virtualheight:d}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var a=this.that,b=Math.round(this.host.height())+2*this.rowsheight,c=Math.round(b/this.rowsheight),d=Math.max(this.dataview.totalrows,this.dataview.totalrecords),e=d*this.rowsheight,f=0,g=0,h=0,i=0,j=0,k=this._getpagesize();if(this.pageable)this._updatepagedview&&(e=this._updatepagedview(d,e,0)),this.autoheight&&this._arrange();else for(var l=0;d>l;l++){var m={index:l,height:this.heights[l],hidden:this.hiddens[l],details:this.details[l]};if(void 0==this.heights[l]&&(this.heights[l]=this.rowsheight,m.height=this.rowsheight),void 0==this.hiddens[l]&&(this.hiddens[l]=!1,m.hidden=!1),void 0==this.details[l]&&(this.details[l]=null),m.height!=a.rowsheight&&(e-=a.rowsheight,e+=m.height),m.hidden)e-=m.height;else{g+=m.height;var n=0;this.rowdetails&&(this.rowdetailstemplate&&(m.details||(m.details=this.rowdetailstemplate)),m.details&&m.details.rowdetails&&!m.details.rowdetailshidden&&(n=m.details.rowdetailsheight,g+=n,e+=n)),f+=m.height+n}j++,(j>=k||l==d-1)&&(this._pageviews[h++]={top:i,height:g},g=0,i=f,j=0)}var o=this._gettableheight();if(e>o)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(o>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-o>0){if("deferred"!=this.scrollmode){var p=e-o,q=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:p}),p!=q&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(c=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:c,virtualheight:e}}},updatebounddata:function(a){"data"==a||"sort"==a||"filter"==a||"cells"==a||"pagechanged"==a||"pagesizechanged"==a||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,a)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var a=this._pageviews[0].height;(this.virtualmode||!this.pageable)&&(a=this.virtualsizeinfo.virtualheight);var b=this._gettableheight();if(a>b)if(this.pageable&&this.gotopage&&(a=this._pageviews[0].height,0>a&&(a=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(b>=a||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),a-b>0){var c=a-b;this.vScrollBar.jqxScrollBar({max:c})}else this.vScrollBar.jqxScrollBar({value:0,max:a});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(b){if(1!=b){if(a.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var a=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var b=this,c=0;c<this.columngroups.length;c++)this.columngroups[c].parent=null,this.columngroups[c].groups=null;for(var c=0;c<this.columns.records.length;c++)this.columns.records[c].parent=null,this.columns.records[c].groups=null;for(var d=function(a){for(var c=0;c<b.columngroups.length;c++){var d=b.columngroups[c];if(d.name===a)return d}return null},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c];if(e.groups||(e.groups=null),e.parentgroup){var f=d(e.parentgroup);f&&(e.parent=f,f.groups||(f.groups=new Array),-1===f.groups.indexOf(e)&&f.groups.push(e))}}for(var c=0;c<this.columns.records.length;c++){var e=this.columns.records[c];if(e.columngroup){var f=d(e.columngroup);f&&(f.groups||(f.groups=new Array),e.parent=f,-1===f.groups.indexOf(e)&&f.groups.push(e))}}for(var g=0,c=0;c<this.columns.records.length;c++){var e=this.columns.records[c],h=e;for(e.level=0;h.parent;)h=h.parent,e.level++;var h=e,i=e.level;for(g=Math.max(g,e.level);h.parent;)h=h.parent,h&&(h.level=--i)}for(var j=function(a){var b=new Array;if(a.columngroup&&b.push(a),a.groups)for(var c=0;c<a.groups.length;c++)if(a.groups[c].columngroup)b.push(a.groups[c]);else if(a.groups[c].groups)for(var d=j(a.groups[c]),e=0;e<d.length;e++)b.push(d[e]);return b},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c],k=j(e);e.columns=k;for(var l=new Array,m=0,n=0;n<k.length;n++)l.push(this.columns.records.indexOf(k[n])),k[n].pinned&&m++;if(0!=m)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");l.sort(function(a,b){return a=parseInt(a),b=parseInt(b),b>a?-1:a>b?1:0});for(var o=1;o<l.length;o++)if(l[o]!=l[o-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+g,a=this.columngroupslevel*this.columnsheight}return a},_render:function(b,c,d,e,f){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(a.jqx.isHidden(this.host)){var g=this;return g.___hiddenTimer&&(clearInterval(g.___hiddenTimer),g.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){a.jqx.isHidden(g.host)||(clearInterval(g.___hiddenTimer),g.render())},300))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=c?c:!0,this._newmax=null,d&&(this._requiresupdate||0!=e&&this._initmenu(),null==this.columns?this.columns=new a.jqx.collection(this.element):this._initializeColumns()),this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==e&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,a.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),d?(this.filterrow&&this.filterrow.detach(),a.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&a.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var h=this.columnsheight;if(h=this._preparecolumngroups(),this.showfilterrow&&this.filterable?this.columnsheader.height(h+this.filterrowheight):this.columnsheader.height(h),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||a("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,d),this.groups.length>0&&this.groupable){var i=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=i&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==f||1==f)&&this._updatelistfilters(!d),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){if(this.autoheight)return this._overlayElement&&this._overlayElement.remove(),void this._updateTouchScrolling();var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var c=0;"checkbox"==this.selectionmode&&(c+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var d=this._overlayElement.css("left");this._overlayElement.css("left",d+c)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=a("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(a,b){if(this.updating())return!1;(void 0==a||null==a)&&(a=!1),this._requiresupdate=a;var c=this.prerenderrequired;this.prerenderrequired&&this._arrange();var d=this.that,b=b;if((null==b||void 0==b)&&(b=!0),this.tableheight=null,d.virtualsizeinfo=d.virtualsizeinfo||d._calculatevirtualheight(),d.pageable&&!d.autoheight&&d.dataview.totalrows<d.pagesize&&(d._requiresupdate=!0),b?d._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),d._renderrows(d.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),c){var e=this.tableheight;this._arrange(),e!=this.tableheight&&this.autoheight&&d._renderrows(d.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var b=this.host.width(),c=b,d="";if(void 0!=this.columns&&void 0!=this.columns.records){var e=this.that,f=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;a.each(this.columns.records,function(a,g){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var g=0,h="hidden"==e.vScrollBar[0].style.visibility?0:e.scrollbarsize+5;e.scrollbarautoshow&&(h=0);var i=c;g=parseFloat(this.width)*i/100,h+=f,void 0!=this._percentagewidth&&(g=parseFloat(this._percentagewidth)*(i-h)/100),g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),b-=g}else"auto"==this.width||this._width?d+=this.text:b-=this.width});var g=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>g)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var h=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var i=0;i<this.dataview.rows.length;i++)this.dataview.rows[i].group&&0===this.dataview.rows[i].level&&(h+=this.rowsheight);h>g?(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5)}else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;var f=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(c-=f,this.columnsheader){var j=this.columnsheader.find("#columntable"+this.element.id);if(0!=j.length){var k=j.find(".jqx-grid-column-header"),l=0;a.each(this.columns.records,function(e,f){var g=a(k[e]),h=!1,i=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(i=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*c/100:parseFloat(this.width)*c/100,h=!0),"auto"==this.width||this._width||h)if(h)i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth,this.width=i),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth,this.width=i),parseInt(g[0].style.width)!=i&&(g.width(i),this.width=i);else{var j=Math.floor(b*(this.text.length/d.length));isNaN(j)&&(j=this.minwidth),0>j&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),j=10+$element.width(),$element.remove()),j<this.minwidth&&(j=this.minwidth),j>this.maxwidth&&(j=this.maxwidth),this._width="auto",this.width=j,g.width(this.width)}else parseInt(g[0].style.width)!=this.width&&g.width(this.width);parseInt(g[0].style.left)!=l&&g.css("left",l),this.hidden&&this.hideable||(l+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+l),j.width(this.columnsheader.width()),0==l?this.columnsheader[0].style.visibility="hidden":this.columnsheader[0].style.visibility="inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var b=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),void(this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e=0,f="",g=this.host.width(),h=g,i=new Array,j=new Array,k=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(a.each(this.columns.records,function(a,c){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)f+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)g-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)g-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var c=0,d="hidden"==b.vScrollBar[0].style.visibility?0:b.scrollbarsize+5;d+=k,c=parseFloat(this.width)*(h-d)/100,c<this.minwidth&&"auto"!=this.minwidth&&(c=this.minwidth),c>this.maxwidth&&"auto"!=this.maxwidth&&(c=this.maxwidth),g-=c}else"string"==typeof this.width&&(this.width=parseInt(this.width)),g-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(b._haspinned&&(this.pinned=!0),i[i.length]=this):j[j.length]=this}),this.rtl){var l=0;i.reverse();for(var m=this.columns.records.length-1;m>=this.columns.records.length-i.length;m--)this.columns.replace(m,i[l++]);for(var n=0;n<j.length;n++)this.columns.replace(n,j[n])}else{for(var m=0;m<i.length;m++)this.columns.replace(m,i[m]);for(var n=0;n<j.length;n++)this.columns.replace(i.length+n,j[n])}var o=this.headerZIndex,p=b.groupable?b.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&p++;var q=b.columnsheader.height();this.showfilterrow&&(this.columngroups?q-=this.filterrowheight:q=this.columnsheight);var r=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>r&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var s=0;if(this.pageable){if(this.pageable)for(var t=0;t<this.dataview.rows.length;t++)this.dataview.rows[t].group&&0===this.dataview.rows[t].level&&(s+=this.rowsheight)}else var s=this.dataview.loadedrootgroups.length*this.rowsheight;s>r&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5)}else g-=this.scrollbarsize+5,h-=this.scrollbarsize+5;else this.autoheight||(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5);h-=k;var u=function(a,c){var d=b.columngroupslevel*b.columnsheight;return d-=c.level*b.columnsheight};if(a.each(this.columns.records,function(i,j){this.height=b.columnsheight,b.columngroups&&b.columngroups.length&&(this.height=u(this.datafield,this),q=this.height);var k=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(k+=" "+b.toTP("jqx-grid-column-header-rtl"));var l=b.rtl?150+o+1:150+o-1,m=b.rtl?o++:o--,n=a('<div role="columnheader" style="z-index: '+m+';position: absolute; height: 100%;" class="'+k+'"><div style="height: 100%; width: 100%;"></div></div>');b.columngroups&&(n[0].style.height=q+"px",n[0].style.bottom="0px",this.pinned&&(n[0].style.zIndex=l)),this.uielement=n,""!=this.classname&&this.classname&&n.addClass(this.classname);var r=this.width,s=!1;if(null===this.width&&(this.width="auto"),(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(r=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*h/100:parseFloat(this.width)*h/100,s=!0),"auto"==this.width||this._width||s){if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),n.width(r),this.width=r;else if(!this.hidden){var t=Math.floor(g*(this.text.length/f.length));isNaN(t)&&(t=this.minwidth),0>t&&($element=a("<span>"+this.text+"</span>"),
a(document.body).append($element),t=10+$element.width(),$element.remove()),t<this.minwidth&&(t=this.minwidth),t>this.maxwidth&&(t=this.maxwidth),this._width="auto",this.width=t,r=this.width,n.width(this.width)}}else r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),n[0].style.width=parseInt(r)+"px";this.hidden&&this.hideable&&n.css("display","none");var v=a(n.children()[0]),w=b.rtl?b.toTP("jqx-grid-column-menubutton")+" "+b.toTP("jqx-grid-column-menubutton-rtl"):b.toTP("jqx-grid-column-menubutton");w+=" "+b.toTP("jqx-icon-arrow-down");var x=a('<div style="height: '+q+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+w+'" style="width: 100%; height:100%;"></div></div>');b.enableanimations||x.css("margin-left",-16),b.rtl&&x.css("left","0px"),this.columnsmenu=x[0],c[0].cells[i]=n[0],x[0].style.width=parseInt(b.columnsmenuwidth)+"px";var y=b.columnsmenu,z=!1,A=!1,B=b.groupable&&p>0&&p>d||b.rowdetails&&p>d;if(b.rtl&&(B=b.groupable&&p>0&&p>d||b.rowdetails&&p>d,B&=i>b.columns.records.length-1-p),B)d++,y&=!1,this.sortable=!1,this.editable=!1,A=!0;else{var C=null!=this.renderer?this.renderer(this.text,this.align,q):b._rendercolumnheader(this.text,this.align,q,b);null==C&&(C=b._rendercolumnheader(this.text,this.align,q,b)),null!=this.renderer&&(C=a(C)),y&=!0,z=!0}if(b.WinJS?MSApp.execUnsafeLocalFunction(function(){v.append(a(C))}):this.renderer?v.append(a(C)):C&&(v[0].innerHTML=C),null!=C){var D=a('<div class="iconscontainer" style="height: '+q+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortascbutton")+" "+b.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortdescbutton")+" "+b.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');x.addClass(b.toTP("jqx-widget-header")),v.append(D);var E=D.children();this.sortasc=E[1],this.sortdesc=E[2],this.filtericon=E[0],this.iconscontainer=D,b.rtl&&(D.css("margin-left","0px"),D.css("left","0px"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left")),!b.autoshowfiltericon&&this.filterable&&a(this.filtericon).css("display","block")}if(y&&(b._handlecolumnsmenu(b,v,n,x,this),this.menu||x.hide()),c.append(n),b.groupable&&z){if(n[0].id=b.dataview.generatekey(),!b._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");b._handlecolumnstogroupsdragdrop(this,n)}b.columnsreorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,n);var F=this;if(b.addHandler(n,"click",function(a){return F.checkboxcolumn?!0:(b.sorttogglestates>0&&b._togglesort&&(b._loading||b._togglesort(F)),a.preventDefault(),void b._raiseEvent(7,{column:F.getcolumnproperties(),datafield:F.datafield,originalEvent:a}))}),F.resizable&&b.columnsresize&&!A){var G=!1,H="mousemove";b.isTouchDevice()&&b.touchmode!==!0&&(G=!0,H=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(n,H,function(c){var d=parseInt(c.pageX),e=5,f=parseInt(n.coord().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(n).left),b.resizing)return!0;if(b._handlecolumnsresize){if(G){var g=b.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+F.width-e?(b.resizablecolumn={columnelement:n,column:F},n.css("cursor","col-resize")):(n.css("cursor",""),b.resizablecolumn=null),!0}var i=F.width;if(b.rtl&&(i=0),d>=f+i-e){if(f+i+e>=d)return b.resizablecolumn={columnelement:n,column:F},n.css("cursor","col-resize"),!1;n.css("cursor",""),b.resizablecolumn=null}else n.css("cursor",""),f+i-e>d&&(F._animating||F._menuvisible||n.mouseenter()),b.resizablecolumn=null}})}if(n.css("left",e),this.hidden&&this.hideable||(e+=r),F.rendered){var I=F.rendered(a(v[0].firstChild),F.align,q);I&&null!=D&&D.hide()}if(F.checkboxcolumn){if(D&&D.hide(),!b.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");v.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var J=v.find("div:first");J.jqxCheckBox({_canFocus:!1,disabled:b.disabled,disabledContainer:!0,theme:b.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),F.checkboxelement=J;var K=J.data().jqxCheckBox.instance;b._checkboxcolumn=F,K.updated=function(a,c,d){b._checkboxcolumnupdating=!0,b.disabled&&(J.jqxCheckBox({disabled:b.disabled}),c=d),c?b.selectallrows():b.unselectallrows(),b._checkboxcolumnupdating=!1}}}),e>0?this.columnsheader.width(2+e):this.columnsheader.width(e),this.columnsrow=c,b.columnsheader.append(c),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?c.height(this.columngroupslevel*this.columnsheight):c.height(this.columnsheight),!this.filterrow){var v=a("<div></div>");v[0].id="filterrow."+this.element.id,v.height(this.filterrowheight),this.filterrow=v}this.filterrow.width(2+e),this.columnsheader.append(this.filterrow),this._updatefilterrow()}0==e?c[0].style.visibility="hidden":c[0].style.visibility="inherit",c.width(e),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var b=0,c=0;c<this.columns.records.length;c++)this.columns.records[c].pinned&&b++;var d=this.headerZIndex-b+this.columns.records.length,e=this.that,f=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-grid-columngroup-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(f+=" "+e.toTP("jqx-grid-columngroup-header-rtl"));var g=this.columnsheader.find("#columntable"+this.element.id);g.find("jqx-grid-columngroup-header").remove();for(var h=0;h<this.columngroupslevel-1;h++)for(var c=0;c<this.columngroups.length;c++){var i=this.columngroups[c],j=i.level;if(j===h){var k=j*this.columnsheight,l=99999;if(i.groups){var m=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=m(d):d.hidden||(b+=d.width,l=Math.min(parseFloat(d.element.style.left),l))}return b};i.width=m(i),i.left=l;var n=this.columnsheight,o=d--,p=a('<div role="columnheader" style="z-index: '+o+';position: absolute;" class="'+f+'"></div>'),q=a(this._rendercolumnheader(i.text,i.align,this.columnsheight,this));if(i.renderer){var q=a("<div style='height: 100%; width: 100%;'></div>"),r=i.renderer(i.text,i.align,n);q.html(r)}p.append(q),p[0].style.left=l+"px",0===l&&(p[0].style.borderLeftColor="transparent"),p[0].style.top=k+"px",p[0].style.height=n+"px",p[0].style.width=-1+i.width+"px",g.append(p),i.element=p,i.rendered&&i.rendered(q,i.align,n)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var a=0;a<this.columngroups.length;a++){var b=this.columngroups[a],c=b.level,d=c*this.columnsheight,e=99999;if(b.groups){var f=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=f(d):d.hidden||(b+=d.width,e=Math.min(parseFloat(d.element.style.left),e))}return b};b.width=f(b),b.left=e;var g=this.columnsheight,h=b.element;h[0].style.left=e+"px",h[0].style.top=d+"px",h[0].style.height=g+"px",h[0].style.width=-1+b.width+"px"}}},_handlecolumnsmenu:function(b,c,d,e,f){b.dragmousedown=null,e[0].id=b.dataview.generatekey(),c.append(e),d[0].columnsmenu=e[0],f.element=d[0];var g=this.columnsmenuwidth+1,h=function(){if(!f.menu)return!1;if(!b.resizing){if(f._menuvisible&&b._hasOpenedMenu)return!1;if(f._animating=!0,b.menuitemsarray&&b.menuitemsarray.length>0)if(b.enableanimations){e.css("display","block"),e.stop(),f.iconscontainer.stop(),b.rtl?(e.css("margin-left",-g),e.animate({"margin-left":"0px"},"fast",function(){e.css("display","block"),f._animating=!1,f._menuvisible=!0})):(e.css("margin-left","0px"),e.animate({"margin-left":-g},"fast",function(){e.css("display","block"),f._animating=!1,f._menuvisible=!0}));var a=b.rtl?g:-(32+g);f.iconscontainer.animate({"margin-left":a},"fast")}else{e.css("display","block");var a=b.rtl?16:-48;f.iconscontainer.css("margin-left",a+"px"),f._animating=!1,f._menuvisible=!0}}},i="mouseenter";if(b.isTouchDevice()&&(i="touchstart"),b.addHandler(d,i,function(c){var e=parseInt(c.pageX),g=b.columnsresize&&f.resizable?3:0,i=parseInt(d.coord().left);b.hasTransform&&(i=a.jqx.utilities.getOffset(d).left);var j=f.width;if(b.rtl&&(j=0),0!=g&&e>=i+j-g&&i+j+g>=e)return!1;var k=b.vScrollInstance.isScrolling();f.menu&&b.autoshowcolumnsmenubutton&&!k&&!b.disabled&&h()}),!b.autoshowcolumnsmenubutton){e.css("display","block");var j=b.rtl?16:-48;f.iconscontainer.css("margin-left",j+"px"),b.rtl?e.css({"margin-left":"0px"}):e.css({"margin-left":-g})}b.addHandler(d,"mouseleave",function(c){if(b.menuitemsarray&&b.menuitemsarray.length>0&&f.menu){var d=a.data(document.body,"contextmenu"+b.element.id);if(void 0!=d&&e[0].id==d.columnsmenu.id)return;if(b.autoshowcolumnsmenubutton)if(b.enableanimations){b.rtl?e.css("margin-left","0px"):e.css("margin-left",-g),e.stop(),f.iconscontainer.stop(),b.rtl?e.animate({"margin-left":-g},"fast",function(){e.css("display","none"),f._menuvisible=!1}):e.animate({"margin-left":0},"fast",function(){e.css("display","none"),f._menuvisible=!1});var h=b.rtl?0:-32;f.iconscontainer.animate({"margin-left":h},"fast")}else{e.css("display","none");var h=b.rtl?0:-32;f.iconscontainer.css("margin-left",h+"px"),f._menuvisible=!1}}});var k=!0,l="",m=a(f.filtericon);b.addHandler(e,"mousedown",function(c){b.gridmenu||b._initmenu(),k=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),l=a.data(document.body,"contextmenu"+b.element.id),null!=l&&(l=l.column.datafield)}),b.addHandler(m,"mousedown",function(c){b.gridmenu||b._initmenu(),k=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),l=a.data(document.body,"contextmenu"+b.element.id),null!=l&&(l=l.column.datafield)});var n=function(){if(!f.menu)return!1;if(b.gridmenu||b._initmenu(),b.disabled)return!1;for(var c=0;c<b.columns.records.length;c++)b.columns.records[c].datafield!=f.datafield&&(b.columns.records[c]._menuvisible=!1);var d=e.coord(!0),g=e.height();if(!k&&(k=!0,l==f.datafield))return b._closemenu(),!1;var h=b.host.coord(!0);b.hasTransform&&(h=a.jqx.utilities.getOffset(b.host),d=a.jqx.utilities.getOffset(e)),h.left+b.host.width()>parseInt(d.left)+b.gridmenu.width()?b.gridmenu.jqxMenu("open",d.left,d.top+g):b.gridmenu.jqxMenu("open",e.width()+d.left-b.gridmenu.width(),d.top+g),b.gridmenu.width()<100&&b._arrangemenu(),b._hasOpenedMenu=!0;var i=b._getmenuitembyindex(0),j=b._getmenuitembyindex(1),m=b._getmenuitembyindex(2),n=b._getmenuitembyindex(3),o=b._getmenuitembyindex(4),p=b._getmenuitembyindex(5);if(null!=i&&null!=j&&null!=m){var q=f.sortable&&b.sortable;if(b.gridmenu.jqxMenu("disable",i.id,!q),b.gridmenu.jqxMenu("disable",j.id,!q),b.gridmenu.jqxMenu("disable",m.id,!q),f.datafield)if(b.sortcolumn==f.datafield){var r=b.getsortinformation();q&&(r.sortdirection.ascending?b.gridmenu.jqxMenu("disable",i.id,!0):b.gridmenu.jqxMenu("disable",j.id,!0))}else b.gridmenu.jqxMenu("disable",m.id,!0)}if(null!=n&&null!=o&&(b.groupable&&f.groupable?b.groups&&-1!=b.groups.indexOf(f.datafield)?(b.gridmenu.jqxMenu("disable",n.id,!0),b.gridmenu.jqxMenu("disable",o.id,!1)):(b.gridmenu.jqxMenu("disable",n.id,!1),b.gridmenu.jqxMenu("disable",o.id,!0)):(b.gridmenu.jqxMenu("disable",o.id,!0),b.gridmenu.jqxMenu("disable",n.id,!0))),null!=p){b._updatefilterpanel(b,p,f);var s=0;b.sortable&&b._togglesort&&b.showsortmenuitems&&(s+=3),b.groupable&&b.addgroup&&b.showgroupmenuitems&&(s+=2);var t=27*s+3;a.jqx.browser.msie&&a.jqx.browser.version<8&&(t+=20,a(p).height(190)),b.filterable&&b.showfiltermenuitems&&(f.filterable?(b.gridmenu.height(t+180),a(p).css("display","block")):(b.gridmenu.height(t),a(p).css("display","none")))}a.data(document.body,"contextmenu"+b.element.id,{column:f,columnsmenu:e[0]})};b.addHandler(m,"click",function(a){return f.menu?(b.showfilterrow||("block"!=e[0].style.display&&d.trigger("mouseenter"),setTimeout(function(){"block"!=e[0].style.display&&d.trigger("mouseenter"),n()},200)),!1):!1}),b.addHandler(e,"click",function(a){return f.menu?(n(),!1):!1}),b.isTouchDevice()&&b.addHandler(e,a.jqx.mobile.getTouchEventName("touchstart"),function(a){return f.menu?(b._hasOpenedMenu?b._closemenu():n(),!1):!1})},_removecolumnhandlers:function(b){var c=this.that,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);if(c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click"),c.removeHandler(d,"mousemove"),c.columnsreorder&&(c.removeHandler(d,"mousedown.drag"),c.removeHandler(d,"mousemove.drag")),c.removeHandler(d,"dragstart"),d[0].columnsmenu){var f=a(d[0].columnsmenu);c.removeHandler(f,"click"),c.removeHandler(f,"mousedown"),c.removeHandler(f,a.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(a,b,c,d){var e="4px";if(d.columngroups?(e=c/2-this._columnheight/2,0>e&&(e=4),e+="px"):25!=this.columnsheight&&(e=this.columnsheight/2-this._columnheight/2,0>e&&(e=4),e+="px"),this.enableellipsis)return'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>";if("center"==b||"middle"==b)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+e+';"><a href="#">'+a+"</a></div>";var f='<a style="margin-top: '+e+"; float: "+b+';" href="#">'+a+"</a>";return f},_renderrows:function(b,c,d){var e=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(e.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var f=this.source.totalrecords;isNaN(f)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=f&&(e.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||e.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?e.prerenderrequired=!0:this.pageable||(e.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?e.prerenderrequired=!0:this.pageable||(e.prerenderrequired=!0))),e._prerenderrows(b),e._requiresupdate&&(e._requiresupdate=!1,e._updatepageviews());var g=function(){e._loading||(e.WinJS?MSApp.execUnsafeLocalFunction(function(){e._rendervisualrows()}):e._rendervisualrows(),e.virtualmode&&e.showaggregates&&e._updateaggregates&&e.refreshaggregates())},h=a.jqx.browser.msie&&a.jqx.browser.version<10;if(this.virtualmode){var i=function(){if(e.rendergridrows){var a=e._startboundindex;void 0==a&&(a=0);var b=a+1+e.dataview.pagesize;if(null!=a&&null!=b){var d=e.source._source?!0:!1,f=d?e.source._source.recordstartindex:e.source.recordstartindex;if(f!=a||1==c){if(d){if(b>=e.source._source.totalrecords&&(b=e.source._source.totalrecords,a=b-e.dataview.pagesize-1,0>a&&(a=0),e.source._source.recordendindex==b&&e.source._source.recordstartindex==a))return;e.source._source.recordstartindex=a,e.source._source.recordendindex=b}else e.source.recordstartindex=a,e.source.recordendindex=b;e.updatebounddata("cells")}}}};this.loadondemand&&(g(),i(),this.loadondemand=!1);var j=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?g():this.autoheight?g():j||h||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){g()},5)):g()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var k=this._getfirstvisualrow();if(null!=k){var l=function(b){if(null==k)return"";var c="<table>",d=e.deferreddatafields;null==d&&e.columns.records.length>0&&(d=new Array,d.push(e.columns.records[0].displayfield));for(var f=0;f<d.length;f++){var g=d[f],h=e._getcolumnbydatafield(g);if(h){var i=e._getcellvalue(h,k);""!=h.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(i)?i=a.jqx.dataFormat.formatdate(i,h.cellsformat,e.gridlocalization):a.jqx.dataFormat.isNumber(i)&&(i=a.jqx.dataFormat.formatnumber(i,h.cellsformat,e.gridlocalization))),c+="<tr><td>"+i+"</td></tr>"}}return c+="</table>"},m=this.scrollfeedback?this.scrollfeedback(k.bounddata):l(k.bounddata);m!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=m,this._scrollelementcontent=m)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()||(g(),e._scrollelement.css("visibility","hidden"),e._scrollelementoverlay.css("visibility","hidden"),clearInterval(e._scrolltimer),k&&e.ensurerowvisible(k.visibleindex))},100))}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var j=void 0==this._browser?this._isIE10():this._browser;if((j||h)&&(this._updatedelay=5),j&&this.hScrollInstance.isScrolling())return void g();if(a.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)g();else{var n=this._jqxgridrendertimer;null!=n&&clearTimeout(n),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(n=setTimeout(function(){g()},this._updatedelay),this._jqxgridrendertimer=n):(this._jqxgridrendertimer=n,g())}}if(e.autorowheight&&!e.autoheight&&this._pageviews.length>0){var o=this._gettableheight(),p=this._pageviews[0].height;if(p>o)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height,0>p&&(p=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(o>=p||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-o>0){if("deferred"!=this.scrollmode){var q=p-o,r=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:q}),Math.round(q)!=Math.round(r)&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){var a=this.vScrollInstance.isScrolling(),b=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:b}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value;"hidden"===this.hScrollBar.css("visibility")&&(a.value=0,b=0);var c=parseInt(b);if(null!=this.table){var d=this.table[0].rows.length,e=this.columnsrow,f=this.groupable&&this.groups.length>0?this.groups.length:0,g=this.columns.records.length-f,h=this.columns.records,i=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(c=a.max-c),i&&!this._haspinned){for(var j=0;d>j;j++)for(var k=this.table[0].rows[j],l=0;f+g>l;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned&&(m.style.marginLeft=c+"px",0==j)){var o=e[0].cells[l];o.style.marginLeft=c+"px"}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else if(this._haspinned||void 0==this._haspinned){for(var j=0;d>j;j++)for(var k=this.table[0].rows[j],l=0;f+g>l;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned){if(0==c&&""==m.style.marginLeft)continue;var p=null,q=null;if(this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(q=this.filterrow[0].cells[l]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[l]),this.rtl){if(m.style.marginLeft=-parseInt(b)+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=-parseInt(b)+"px",p&&(p.style.marginLeft=-parseInt(b)+"px"),q&&(q.style.marginLeft=-parseInt(b)+"px")}}else if(m.style.marginLeft=c+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=c+"px",p&&(p.style.marginLeft=c+"px"),q&&(q.style.marginLeft=c+"px")}}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px");if(this.showaggregates&&this.statusbar[0].cells){var r=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(r=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-c+r+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-c+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var b=0;b<this._rowdetailselementscache.length;b++)a(this._rowdetailselementscache[b]).css("display","none")},_getvisualcolumnsindexes:function(a,b,c,d,e){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:c+d};var f=0,g=-1,h=c+d,i=!1;if(this.autorowheight)return{start:0,end:c+d};if(!e)for(var j=0;c+d>j;j++){if(i||this.columns.records[j].pinned&&(i=!0),this.columns.records[j].hidden||(f+=this.columns.records[j].width),f>=a&&-1==g&&(g=j),f>b+a){h=j;break}}return h++,h>c+d&&(h=c+d),(-1==g||i)&&(g=0),{start:g,end:h}},_getfirstvisualrow:function(){var a=this.vScrollInstance,b=a.value,c=parseInt(b);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(c=0),!this.pageable){var d=this._findvisiblerow(c,this._pageviews);if(-1==d)return null;d!=this.dataview.pagenum?(this.dataview.pagenum=d,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var e=this._findvisiblerow(c,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum];return f&&f[0]?f[e]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var b=this.vScrollInstance,c=this.hScrollInstance,d=b.value,e=c.value,f=parseInt(d),g=parseInt(e),h=this._gettableheight(),i=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(h+=29),"deferred"==this.scrollmode&&0!=this._newmax&&f>this._newmax&&null!=this._newmax&&(f=this._newmax);var j=b.isScrolling()||c.isScrolling()||this._keydown,k=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(f=0),!this.pageable){var l=this._findvisiblerow(f,this._pageviews);if(-1==l)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();l!=this.dataview.pagenum?(this.dataview.pagenum=l,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var m=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var n=this.columns.records.length-m,o=this._findvisiblerow(f,this._pagescache[this.dataview.pagenum]),p=this._pagescache[this.dataview.pagenum],q=o;0>q&&(q=0);var r=0,s=0,t=0,u=0,v=this.virtualsizeinfo.visiblerecords,w=this.groupable?this.groups.length:0,x=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(x+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(v=this.dataview.pagesize),k&&(x=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(x+=" "+this.toTP("jqx-touch")),this.autorowheight&&(x+=" jqx-grid-cell-wrap");var y=this.rowsheight,z=this._rendercell,A=!0,B=this._getvisualcolumnsindexes(g,i,m,n,k),C=B.start,D=B.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(q=0),q>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=p?p[q].bounddata.boundindex:0,this._startvisibleindex=null!=p?p[q].bounddata.visibleindex:0;for(var E=0;v>E&&v>s;E++){var F=void 0!=p?p[q+E]:null;if(null==F){if(q=-E,this._pagescache[this.dataview.pagenum+1])p=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var G=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){p=void 0;break}this.dataview.pagenum++,p=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),p=this._pagescache[this.dataview.pagenum])}while(void 0==p&&this.dataview.pagenum<G)}void 0!=p&&(F=p[q+E])}if(null!=F){if(F.hidden)continue;if(this._endboundindex=this._startboundindex+E,this._endvisibleindex=this._startvisibleindex+E,0==E){var H=Math.abs(f-F.top);this.table[0].style.top=-H+"px",u=-H}var I=this.table[0].rows[s];if(!I)continue;parseInt(I.style.height)!=F.height&&(I.style.height=parseInt(F.height)+"px"),t+=F.height;var J=this.rowdetails&&F.rowdetails,K=!F.rowdetailshidden;J&&K&&(I.style.height=parseInt(F.height-F.rowdetailsheight)+"px",v++);for(var L=this._isrowselected(A,F),M=C;D>M;M++){var N=M;this._rendervisualcell(z,x,L,J,K,k,w,I,F,N,s,j)}if(void 0!=F.group&&this._rendergroup&&this._rendergroup(w,I,F,m,n,s,i),this.autorowheight&&(this.autoheight||this.pageable)){for(var y=this.rowsheight,M=C;D>M;M++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[M].datafield&&this.editcell.row==this.getboundindex(F)?y=Math.max(y,this.editcell.editor.height()):I.cells[M].firstChild&&(y=Math.max(y,8+parseInt(I.cells[M].firstChild.offsetHeight)));I.style.height=parseInt(y)+"px",this.heights[this._startboundindex+E]=y,J&&K&&(y+=F.rowdetailsheight),F.height=y}if(this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:I,details:!1},J&&K){s++;var I=this.table[0].rows[s];this._renderrowdetails(x,I,F,m,n,s),this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:I,details:!0}}if(!this.autorowheight&&t+u>=h)break}else cansetheight=!0,this._clearvisualrow(g,k,s,m,n),h>=t+r+u&&(r+=y);s++}if(this._horizontalvalue=g,r>0&&"visible"==this.vScrollBar[0].style.visibility){var O=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),P=b.max,Q=O.top+O.height-h;"visible"==this.hScrollBar.css("visibility")&&(Q+=this.scrollbarsize+20),P==Q||this.autorowheight||Q>=0&&("deferred"!=this.scrollmode?(b.max=Q,b.setPosition(b.max)):this._newmax!=Q&&(this._newmax=Q,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var R=0,S=0,T=0;T<this.visiblerows.length;T++){var U=this.visiblerows[T];U.top=R,R+=U.height,S+=U.height;var J=this.rowdetails&&U.rowdetails,K=!U.rowdetailshidden,I=this.table[0].rows[T];J&&K&&T++;for(var M=C;D>M;M++){var V=this.columns.records[M];if(!V.hidden&&!V.cellsrenderer){var W=I.cells[M],X=0;if(W.firstChild){var X=(U.height-parseInt(W.firstChild.offsetHeight)-8)/2;if(J&&K)var X=(U.height-U.rowdetailsheight-a(W.firstChild).height()-8)/2}else var X=(U.height-parseInt(a(W).height())-8)/2;if(X>=0&&(X=parseInt(X)+4,W.firstChild&&-1==W.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=V.columntype&&"button"!=V.columntype)){if(this.editable&&this.editcell&&this.editcell.column==V.datafield&&this.editcell.row==this.getboundindex(U))continue;W.firstChild.style.marginTop=X+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=S),this._arrange()}this._renderemptyrow()}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var b=this.table[0].rows[0];if(b)for(var c=!1,d=0;d<b.cells.length;d++){var e=a(b.cells[d]);"none"==e.css("display")||c||(e.width()==this.host.width()||e.text()==this.gridlocalization.emptydatastring)&&(e[0].checkbox=null,e[0].button=null,c=!0,e[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var b=!1,c=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var d=this.table[0].rows[0];this.table[0].style.top="0px";for(var e=0;e<d.cells.length;e++){var f=a(d.cells[e]);if("none"!=f.css("display")&&!b){f[0].checkbox=null,f[0].button=null,f[0].className=c,b=!0,f[0].innerHTML="";var g=a("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");g.text(this.gridlocalization.emptydatastring),f.append(g);var h=0;this.oldhscroll||(h=parseInt(this.table[0].style.marginLeft),this.rtl&&(f.css("z-index",999),f.css("overflow","visible"))),g.css("left",-h-g.width()/2),g.css("top",this._gettableheight()/2-g.height()/2),a.jqx.browser.msie&&a.jqx.browser.version<8&&(g.css("margin-left","0px"),g.css("left",this.host.width()/2-g.width()/2));var i=Math.abs(parseInt(this.table[0].style.top));isNaN(i)&&(i=0),a(d).height(this._gettableheight()+i),f.css("margin-left","0px"),f.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}f.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var a=this.virtualsizeinfo.visiblerecords,b=this.hScrollInstance,c=b.value,d=parseInt(c),e=this.groupable&&this.groups.length>0;if(this.columns.records)for(var f=0;a>f;f++)this._clearvisualrow(d,e,f,0,this.columns.records.length)},_iscellselected:function(a,b,c){var d=!1,e=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(e=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var f=this.getrowboundindexbyid(b.bounddata.uid);for(var g in this.selectedcells)g==f+"_"+c&&(d=!0);return d}if(a&&null!=b.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==b.bounddata.dataindex)for(var g in this.selectedcells)g==e+b.bounddata.boundindex+"_"+c&&(d=!0);else for(var g in this.selectedcells)g==e+b.bounddata.dataindex+"_"+c&&(d=!0);else for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex+"_"+c){d=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==b.bounddata.dataindex){for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex+"_"+c){d=!0;break}}else for(var g in this.selectedcells)if(g==e+b.bounddata.dataindex+"_"+c){d=!0;break}}else for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex==this.selectedrowindex){d=!0;break}return d},_isrowselected:function(a,b){var c=!1,d=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(d=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var e=this.getrowboundindexbyid(b.bounddata.uid);return void 0==e||-1==e?!1:(-1!=this.selectedrowindexes.indexOf(e)&&(c=!0),c||(c=e==this.selectedrowindex&&-1!=this.selectedrowindex),
c)}return a&&null!=b.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==b.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)&&(c=!0):-1!=this.selectedrowindexes.indexOf(d+b.bounddata.dataindex)&&(c=!0):-1!=this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)&&(c=!0):this.dataview.filters.length>0?this.virtualmode||void 0==b.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)&&(c=!0):-1!=this.selectedrowindexes.indexOf(d+b.bounddata.dataindex)&&(c=!0):d+b.bounddata.boundindex==this.selectedrowindex&&(c=!0)),c},_rendervisualcell:function(b,c,d,e,f,g,h,i,j,k,l,m){var n=this.columns.records[k];if(n.hidden){var o=i.cells[k];return void(o.innerHTML="")}cellvalue=this._getcellvalue(n,j);var o=i.cells[k],p=c;if(-1!=this.selectionmode.indexOf("cell")&&(d=this.dataview.filters.length>0?this.selectedcells[j.bounddata.dataindex+"_"+n.datafield]?!0:!1:this.selectedcells[j.boundindex+"_"+n.datafield]?!0:!1,this.editcell&&this.editcell.row===j.boundindex&&this.editcell.column===n.datafield&&"checkbox"!==n.columntype&&(d=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(d=this._iscellselected(!0,j,n.datafield))),""!=n.cellclassname&&n.cellclassname)if("string"==typeof n.cellclassname)p+=" "+n.cellclassname;else{var q=n.cellclassname(this.getboundindex(j),n.datafield,cellvalue,j.bounddata);q&&(p+=" "+q)}var r=this.showsortcolumnbackground&&this.sortcolumn&&n.displayfield==this.sortcolumn;if(r&&(p+=" "+this.toTP("jqx-grid-cell-sort")),n.filter&&this.showfiltercolumnbackground&&(p+=" "+this.toTP("jqx-grid-cell-filter")),(n.pinned&&this.showpinnedcolumnbackground||n.grouped)&&(p+=g?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==j.group){var s=j.visibleindex;s>=this.altstart&&(this.altstart+s)%(1+this.altstep)==0&&(p+=r?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),n.filter&&this.showfiltercolumnbackground&&(p+=" "+this.toTP("jqx-grid-cell-filter-alt")),n.pinned&&this.showpinnedcolumnbackground&&(p+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h>=k){if(g||this.rowdetails){var t=a(o),u=this.columns.records[k].width;o.style.width!=parseInt(u)+"px"&&t.width(u)}}else if((g||this.rowdetails)&&this._hiddencolumns){var t=a(o),u=this.columns.records[k].width;parseInt(o.style.width)!=u&&t.width(u)}var v=!0;if(this.rowdetails&&e&&(f&&!g?p+=" "+this.toTP("jqx-grid-details-cell"):g&&(p+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==j.group&&k==i.cells.length-h-1){var w=this.toThemeProperty("jqx-icon-arrow-down");if(f)p+=" "+this.toTP("jqx-grid-group-expand-rtl"),p+=" "+w;else{p+=" "+this.toTP("jqx-grid-group-collapse-rtl");var w=this.toThemeProperty("jqx-icon-arrow-left");p+=" "+w}return v=!1,o.title="",o.innerHTML="",void(o.className!=p&&(o.className=p))}}else if(void 0==j.group&&k==h){var w=this.toThemeProperty("jqx-icon-arrow-down");if(f)p+=" "+this.toTP("jqx-grid-group-expand"),p+=" "+w;else{p+=" "+this.toTP("jqx-grid-group-collapse");var w=this.toThemeProperty("jqx-icon-arrow-right");p+=" "+w}return v=!1,o.title="",o.innerHTML="",void(o.className!=p&&(o.className=p))}return d&&v&&k>=h&&(p+=" "+this.toTP("jqx-grid-cell-selected"),p+=" "+this.toTP("jqx-fill-state-pressed")),o.className!=p&&(o.className=p),void 0!=j.group?(cellvalue="",o.title="",void(o.innerHTML="")):void b(this,n,j,cellvalue,o,m)},_rendercell:function(b,c,d,e,f,g){var h=e+"_"+c.visibleindex;if("number"==c.columntype||null!=c.cellsrenderer)var h=d.uniqueid+"_"+c.visibleindex;if("number"==c.columntype&&(e=d.visibleindex),b.editcell&&void 0==b.editrow)if("selectedrow"==b.editmode&&c.editable&&b.editable){if(b.editcell.row==b.getboundindex(d)&&b._showcelleditor)return void(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling()?b._showcelleditor(b.editcell.row,c,f,!1,!1):b._showcelleditor(b.editcell.row,c,f,b.editcell.init))}else if(b.editcell.row==b.getboundindex(d)&&b.editcell.column==c.datafield&&(b.editcell.element=f,b.editcell.editing&&b._showcelleditor))return void(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling()?b._showcelleditor(b.editcell.row,c,b.editcell.element,b.editcell.init,!1):b._showcelleditor(b.editcell.row,c,b.editcell.element,b.editcell.init));var i=b._defaultcellsrenderer(e,c),j=b._cellscache[h];if(j){if("inline"==c.columntype){if(b._renderinlinecell(b,f,c,d,e),null!=c.cellsrenderer){var k=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata);void 0!=k&&(f.innerHTML=k)}return}if("checkbox"==c.columntype){if(b.host.jqxCheckBox){""===e&&(e=null);var l=0==f.innerHTML.toString().length;if(!f.checkbox||b.groupable||l?b._rendercheckboxcell(b,f,c,d,e):(f.checkboxrow=b.getboundindex(d),""==e&&(e=!1),"1"==e&&(e=!0),"0"==e&&(e=!1),1==e&&(e=!0),0==e&&(e=!1),"true"==e&&(e=!0),"false"==e&&(e=!1),null!=e||c.threestatecheckbox||(e=!1),c.checkboxcolumn&&(e=!1,b.dataview.filters.length>0&&!b.virtualmode&&void 0!=d.bounddata.dataindex?-1!=b.selectedrowindexes.indexOf(d.bounddata.dataindex)&&(e=!0):-1!=b.selectedrowindexes.indexOf(d.bounddata.boundindex)&&(e=!0)),b.disabled||(f.checkboxinstance?f.checkboxinstance._setState(e):f.checkbox.jqxCheckBox("_setState",e))),null!=c.cellsrenderer){var k=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata);void 0!=k&&(f.innerHTML=k)}return}}else if("button"==c.columntype&&b.host.jqxButton)return""==e&&(e=!1),null!=c.cellsrenderer&&(e=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata)),""==f.innerHTML&&(f.buttonrow=b.getboundindex(d),f.button=null,b._renderbuttoncell(b,f,c,d,e)),void(f.button&&!b.groupable?(f.buttonrow=b.getboundindex(d),f.button.val(e)):b._renderbuttoncell(b,f,c,d,e));var m=j.element;if(null!=c.cellsrenderer||f.childNodes&&0==f.childNodes.length||b.groupable||b.rowdetails)f.innerHTML!=m&&(f.innerHTML=m);else if(f.innerHTML.indexOf("editor")>=0)f.innerHTML=m;else if(g){var n=m.indexOf(">"),o=m.indexOf("</"),p=m.substring(n+1,o),q=f.childNodes[0];if(p.indexOf(">")>=0)f.innerHTML=m;else if(q.childNodes[0])p!=q.childNodes[0].nodeValue&&(p.indexOf("&")>=0?f.innerHTML=m:q.childNodes[0].nodeValue=p);else{var r=document.createTextNode(p);q.appendChild(r)}}else f.innerHTML!=m&&(f.innerHTML=m);return void(b.enabletooltips&&c.enabletooltips&&(f.title=j.title))}if("checkbox"==c.columntype)return b._rendercheckboxcell(b,f,c,d,e),b._cellscache[h]={element:"",title:e},void(b.enabletooltips&&c.enabletooltips&&(f.title=e));if("button"==c.columntype)return null!=c.cellsrenderer&&(e=c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata)),b._renderbuttoncell(b,f,c,d,e),b._cellscache[h]={element:"",title:e},void(b.enabletooltips&&c.enabletooltips&&(f.title=e));if("number"==c.columntype)e=d.visibleindex;else if("inline"==c.columntype)return b._renderinlinecell(b,f,c,d,e),b._cellscache[h]={element:"",title:e},void(b.enabletooltips&&c.enabletooltips&&(f.title=e));var m=null;m=null!=c.cellsrenderer?c.cellsrenderer(b.getboundindex(d),c.datafield,e,i,c.getcolumnproperties(),d.bounddata):i,null==m&&(m=i);var s=e;return b.enabletooltips&&c.enabletooltips&&(""!=c.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(e)?s=a.jqx.dataFormat.formatdate(s,c.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(e)&&(s=a.jqx.dataFormat.formatnumber(s,c.cellsformat,this.gridlocalization))),f.title=s),b.WinJS?a(f).html(m):f.innerHTML=m,b._cellscache[h]={element:f.innerHTML,title:s},!0},_isIE10:function(){if(void 0==this._browser){var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==b.browser){var c="Browser CodeName: "+navigator.appCodeName;c+="Browser Name: "+navigator.appName,c+="Browser Version: "+navigator.appVersion,c+="Platform: "+navigator.platform,c+="User-agent header: "+navigator.userAgent,-1!=c.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(b,c,d,e,f){a(c);c.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(b,c,d,e,f){if(b.host.jqxCheckBox){var g=a(c);if(""===f&&(f=d.threestatecheckbox?null:!1),"1"==f&&(f=!0),"0"==f&&(f=!1),1==f&&(f=!0),0==f&&(f=!1),"true"==f&&(f=!0),"false"==f&&(f=!1),d.checkboxcolumn){f=!1;var h=this.getboundindex(e);-1!=this.selectedrowindexes.indexOf(h)&&(f=!0)}if(0==g.find(".jqx-checkbox").length){c.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',a(c.firstChild).jqxCheckBox({disabled:b.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:d.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:b.theme,checked:f}),this.editable&&d.editable&&a(c.firstChild).jqxCheckBox({locked:!1}),d.checkboxcolumn&&a(c.firstChild).jqxCheckBox({locked:!1}),c.checkbox=a(c.firstChild),c.checkboxinstance=c.checkbox.data().jqxCheckBox.instance,c.checkboxrow=this.getboundindex(e);var i=a.data(c.firstChild,"jqxCheckBox").instance;i.updated=function(e,f,g){if(b.disabled){f=g;for(var h=b.table[0].rows.length,i=b._getcolumnindex(d.datafield),j=0;h>j;j++){var k=b.table[0].rows[j].cells[i].firstChild;k&&a(k).jqxCheckBox({disabled:b.disabled})}}if(d.editable&&!b.disabled){var h=b.table[0].rows.length,i=b._getcolumnindex(d.datafield);if(void 0==b.editrow){if(d.cellbeginedit){var l=d.cellbeginedit(c.checkboxrow,d.datafield,d.columntype,!f);if(0==l)return void b.setcellvalue(c.checkboxrow,d.datafield,!f,!0)}if("selectedrow"!==b.editmode)for(var j=0;h>j;j++){var k=b.table[0].rows[j].cells[i].firstChild;k&&a(k).jqxCheckBox("destroy")}b.editcell&&0==b.editcell.validated?b.setcellvalue(c.checkboxrow,d.datafield,!f,!0):"selectedrow"!==b.editmode||null==b.editcell?(b._raiseEvent(17,{rowindex:c.checkboxrow,datafield:d.datafield,value:g,columntype:d.columntype}),b.setcellvalue(c.checkboxrow,d.datafield,f,!0),b._raiseEvent(18,{rowindex:c.checkboxrow,datafield:d.datafield,oldvalue:g,value:f,columntype:d.columntype})):b.setcellvalue(c.checkboxrow,d.datafield,f,!1,!1)}}else d.checkboxcolumn&&(b.editcell&&b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),b.disabled||(f?b.selectrow(c.checkboxrow):b.unselectrow(c.checkboxrow),b.autosavestate&&b.savestate&&b.savestate()))}}else c.checkboxrow=this.getboundindex(e),a(c.firstChild).jqxCheckBox("_setState",f)}},_renderbuttoncell:function(b,c,d,e,f){if(b.host.jqxButton){var g=a(c);if(""==f&&(f=!1),0==g.find(".jqx-button").length){c.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',a(c.firstChild).val(f),a(c.firstChild).attr("hideFocus","true"),a(c.firstChild).jqxButton({disabled:b.disabled,theme:b.theme,height:b.rowsheight-4,width:d.width-4}),c.button=a(c.firstChild),c.buttonrow=b.getboundindex(e);var h=this.isTouchDevice();if(h){var i=a.jqx.mobile.getTouchEventName("touchend");b.addHandler(a(c.firstChild),i,function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else b.addHandler(a(c.firstChild),"click",function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else c.buttonrow=b.getboundindex(e),a(c.firstChild).val(f)}},_clearvisualrow:function(b,c,d,e,f){var g=this.toTP("jqx-grid-cell");c&&(g=" "+this.toTP("jqx-grid-group-cell")),g+=" "+this.toTP("jqx-grid-cleared-cell");for(var h=this.table[0].rows,i=0;e+f>i;i++)if(h[d]){var j=h[d].cells[i];j.className!=g&&(j.className=g);var k=this.columns.records[i];if(this._horizontalvalue!=b&&!k.pinned&&1==this.oldhscroll){j.style.marginLeft=-b+"px"}var l=k.width;l<k.minwidth&&(l=k.minwidth),l>k.maxwidth&&(l=k.maxwidth),parseInt(j.style.width)!=l&&("auto"!=l?a(j)[0].style.width=l+"px":a(j)[0].style.width=l),""!=j.title&&(j.title=""),""!=j.innerHTML&&(j.innerHTML="")}h[d]&&parseInt(h[d].style.height)!=this.rowsheight&&(h[d].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(a){var b=this._findgroup(a);return null==b?!1:b.expanded},_findgroup:function(a){var b=null;return this.expandedgroups[a]?this.expandedgroups[a]:b},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(b){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[b])return this._columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){return this.datafield==b?(c=this.text,d=this,!1):void 0}),this._columnsbydatafield[b]={label:c,column:d},this._columnsbydatafield[b]},_getcolumnbydatafield:function(b){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[b])return this.__columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this.text,d=this,!1):void 0}),this.__columnsbydatafield[b]=d,this.__columnsbydatafield[b]},isscrollingvertically:function(){var a=this.vScrollBar.jqxScrollBar("isScrolling");return a},_renderrowdetails:function(b,c,d,e,f,g){if(void 0!=c){var h=a(c),i=0,j=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var k=0;f>=k;k++){var l=a(c.cells[k]);l[0].innerHTML="",l[0].className="jqx-grid-details-cell"}var l=a(c.cells[i]);if("none"==l[0].style.display){for(var m=c.cells[i],n=2,o=i;void 0!=m&&"none"==m.style.display&&10>n;)m=c.cells[o+n-1],n++;l=a(m)}if(this.rtl)for(var p=e;f>p;p++)c.cells[p].innerHTML="",c.cells[p].className="jqx-grid-details-cell";l.css("width","100%"),h.height(d.rowdetailsheight),l[0].className=b;var q=this.getboundindex(d),r=q+"_";if(this._rowdetailscache[r]){var s=this._rowdetailscache[r],t=s.html;if(this.initrowdetails){if(this._rowdetailscache[r].element){var u=this._rowdetailscache[r].element,v=l.coord(),w=this.gridcontent.coord(),x=parseInt(v.top)-parseInt(w.top),y=parseInt(v.left)-parseInt(w.left);this.rtl&&(y=0),a(u).css("top",x),a(u).css("left",y),a(u).css("display","block"),a(u).width(this.host.width()-j),this.layoutrowdetails&&this.layoutrowdetails(q,u,this.element,this.getrowdata(q))}}else l[0].innerHTML=t}else{l[0].innerHTML="",this.enablerowdetailsindent||(j=0);var z='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+j+'px;">'+d.rowdetails+"</div>";if(this.rtl)var z='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+j+'px;">'+d.rowdetails+"</div>";if(this._rowdetailscache[r]={id:c.id,html:z},this.initrowdetails){var u=a(z)[0];a(this.gridcontent).prepend(a(u)),a(u).css("position","absolute"),a(u).width(this.host.width()-j),a(u).height(l.height());var v=l.coord();a(u).css("z-index",2e3),this.isTouchDevice()&&a(u).css("z-index",99999),a(u).addClass(this.toThemeProperty("jqx-widget-content"));var v=l.coord(),w=this.gridcontent.coord(),x=parseInt(v.top)-parseInt(w.top),y=parseInt(v.left)-parseInt(w.left);a(u).css("top",x),a(u).css("left",y),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var A=a(a(u).children()[0]);""!=A[0].id&&(A[0].id=A[0].id+q),this.initrowdetails(q,u,this.element,this.getrowdata(q)),this._rowdetailscache[r].element=u,this._rowdetailselementscache[q]=u}else l[0].innerHTML=z}}},_defaultcellsrenderer:function(b,c){""!=c.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(b)?b=a.jqx.dataFormat.formatdate(b,c.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(b)&&(b=a.jqx.dataFormat.formatnumber(b,c.cellsformat,this.gridlocalization)));var d="4px";if(25!=this.rowsheight&&(d=this.rowsheight/2-this._cellheight/2,0>d&&(d=4),d+="px"),this.enableellipsis){if("center"==c.cellsalign||"middle"==c.cellsalign)return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+d+';">'+b+"</div>";if("left"==c.cellsalign)return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+d+';">'+b+"</div>";if("right"==c.cellsalign)return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+d+';">'+b+"</div>"}return"center"==c.cellsalign||"middle"==c.cellsalign?'<div style="text-align: center; margin-top: '+d+';">'+b+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+d+"; float: "+c.cellsalign+';">'+b+"</span>"},getcelltext:function(b,c){if(null==b||null==c)return null;var d=this.getcellvalue(b,c),e=this.getcolumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(d)&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},getcelltextbyid:function(b,c){if(null==b||null==c)return null;var d=this.getcellvaluebyid(b,c),e=this.getcolumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(d)&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},_getcellvalue:function(a,b){var c=null;return c=b.bounddata[a.datafield],null!=a.displayfield&&(c=b.bounddata[a.displayfield]),null==c&&(c=""),c},getcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},getrenderedcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrenderedrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},_getcellresult:function(a,b,c){var d=this.getcolumn(c);if(null==d||void 0==d)return null;var e=d.getcolumnproperties(),f=e.hidden,g=e.width,h=e.pinned,i=e.cellsalign,j=e.cellsformat,k=this.getrowheight(b);return 0==k?null:{value:a,row:b,column:c,datafield:c,width:g,height:k,hidden:f,pinned:h,align:i,format:j}},setcellvaluebyid:function(a,b,c,d,e){var f=this.getrowboundindexbyid(a);return this.setcellvalue(f,b,c,d,e)},getcellvaluebyid:function(a,b){var c=this.getrowboundindexbyid(a);return this.getcellvalue(c,b)},setcellvalue:function(b,c,d,e,f){if(null==b||null==c)return!1;var g=parseInt(b),h=g,i=b;isNaN(g)||(i=this.getrowdata(g));var j=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(j=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var k="",l="";if(null==i||i[c]===d)return this._updating||0==e||this._renderrows(this.virtualsizeinfo),!1;if(null!==i[c]||""!==d){var m=this._getcolumnbydatafield(c),n="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var p="";a.each(o,function(){return this.name==m.displayfield?(this.type&&(p=this.type),!1):void 0}),p&&(n=p),l=i[m.displayfield]}if(k=i[c],!m.nullable||null!=d&&""!==d&&m.nullable&&void 0===d.label){if(a.jqx.dataFormat.isNumber(k)||"number"==n||"float"==n||"int"==n||"decimal"==n&&"date"!=n)d=new Number(d),d=parseFloat(d),isNaN(d)&&(d=0);else if((a.jqx.dataFormat.isDate(k)||"date"==n)&&""!=d){var q=d;q=new Date(q),"Invalid Date"!=q&&null!=q?d=q:"Invalid Date"==q&&(q=new Date,d=q)}if(i[c]===d)return void(this._updating||0==e||this._renderrows(this.virtualsizeinfo))}i[c]=d;var r=this.getrenderedrowdata(g,!0);if(r){if(r[c]=d,null!=d&&null!=d.label){var m=this._getcolumnbydatafield(c);i[m.displayfield]=d.label,r[m.displayfield]=d.label,i[c]=d.value,r[c]=d.value}if(j&&void 0!=i.dataindex&&(h=i.dataindex,this.dataview.cachedrecords[i.dataindex][c]=d,null!=d&&void 0!=d.label&&(this.dataview.cachedrecords[i.dataindex][c]=d.value,this.dataview.cachedrecords[i.dataindex][m.displayfield]=d.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var s=g;j&&void 0!=i.dataindex&&(s=i.dataindex);var t=this.source._source._localdata()[s];this.source.suspendKO=!0;var u=t;if(u[c]&&u[c].subscribe)null!=d&&null!=d.label?(u[m.displayfield](d.label),u[c](d.value)):u[c](d);else{var o=this.source._source.datafields,v=null;if(o&&a.each(o,function(){return this.name==c?(v=this.map,!1):void 0}),null==v)null!=d&&null!=d.label?(u[c]=d.value,u[m.displayfield]=d.label):u[c]=d;else{var w=v.split(this.source.mapChar);if(w.length>0){for(var x=u,y=0;y<w.length-1;y++)x=x[w[y]];x[w[w.length-1]]=d}}this.source._source._localdata.replace(t,a.extend({},u))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var z=this.getsortinformation();this.sortcolumn==c&&(this.dataview.clearsortdata(),this.dataview.sortby(z.sortcolumn,z.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[c]&&(this.dataview.sortcache[c]=null);if(this._cellscache=new Array,this.source.updaterow&&(void 0==f||1==f)){var A=!1,B=this.that,C=function(a){0==a&&(B.setcellvalue(b,c,k,!0,!1),k!=l&&B.setcellvalue(b,B.getcolumn(c).displayfield,l,!0,!1))};try{var D=this.getrowid(g);A=this.source.updaterow(D,i,C),void 0==A&&(A=!0)}catch(E){return A=!1,B.setcellvalue(b,c,k,!0,!1),void(k!=l&&B.setcellvalue(b,B.getcolumn(c).displayfield,l,!0,!1))}}var F=this.vScrollInstance.value;if(this._updating&&1!=e&&(e=!1),1==e||void 0==e){var B=this.that,G=function(){B.pageable&&B.updatepagerdetails&&(B.updatepagerdetails(),(B.autoheight||B.autorowheight)&&B._updatepageviews())},H=this.groupable&&this.groups.length>0;j&&!H?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),G(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!H?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),G(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(c)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(F),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var I=this.getcolumn(c).filtertype;("list"==I||"checkedlist"==I)&&this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:b,datafield:c,newvalue:d,value:d,oldvalue:k}),!0}}},getcellvalue:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a;if(isNaN(c)||(d=this.getrowdata(c)),null!=d){var e=d[b];return e}return null},getrows:function(){var b=this.dataview.records.length;if(this.virtualmode){for(var c=new Array,d=0;d<this.dataview.records.length;d++){var e=this.dataview.records[d];e&&c.push(e)}void 0===this.dataview.records.length&&a.each(this.dataview.records,function(){var a=this;a&&c.push(a)});var f=0;return this.pageable&&(f=this.dataview.pagenum*this.dataview.pagesize),c.length>this.source._source.totalrecords-f?c.slice(0,this.source._source.totalrecords-f):c}if(this.dataview.sortdata){for(var c=new Array,d=0;b>d;d++){var g={};g=a.extend({},this.dataview.sortdata[d].value),c[d]=g}return c}return this.dataview.records},getrowboundindexbyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b&&b.boundindex)return this.getboundindex(b);for(var c=this.getboundrows(),d=0;d<c.length;d++)if(c[d]&&c[d].uid==a)return d;return-1},getrowdatabyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b)return b;var c=this.getrowboundindexbyid(a);return this.getboundrows()[c]},getrowdata:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.dataview.records[a];return b}var b=this.getboundrows()[a];return b},getrenderedrowdata:function(a,b){if(void 0==a&&(a=0),this.virtualmode){var c=this.getrowvisibleindex(a),d=this.dataview.loadedrecords[c];return d}var c=this.getrowvisibleindex(a);if(c>=0){if(this.groupable&&this.groups.length>0)var d=this.dataview.loadedrecords[c];else{var d=this.dataview.loadedrecords[c];if(this.pageable&&(void 0==b||0==b))var d=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+a]}return d}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(a){for(var b=this.getdisplayrows(),c=0;c<b.length;c++)if(void 0!==b[c].dataindex){if(b[c].dataindex===a)return b[c].visibleindex}else if(b[c].boundindex===a)return b[c].visibleindex;return-1},getboundindex:function(a){var b=a.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&a.bounddata&&(b=this.getrowboundindexbyid(a.bounddata.uid)),this.dataview.filters.length>0&&(a.bounddata?void 0!==a.bounddata.dataindex&&(b=a.bounddata.dataindex):void 0!==a.dataindex&&(b=a.dataindex)),b},getrowboundindex:function(a){var b=this.getdisplayrows()[a];return b?void 0!==b.dataindex?b.dataindex:b.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(a){var b=this.getvisiblerows();return b?b[a]:null},getloadedrowdata:function(a){var b=this.getloadedrows();return b?b[a]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var a=[],b=0;b<this.dataview.pagesize;b++){var c=this.dataview.loadedrecords[b+this.dataview.pagesize*this.dataview.pagenum];if(void 0==c)break;a.push(c)}return a}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var a=[],b=this._startvisibleindex;b<=this._endvisibleindex;b++){var c=this.dataview.loadedrecords[b];if(void 0==c)break;a.push(c)}return a}return this.dataview.loadedrecords},getrowid:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}else{var c=null,d=this.dataview.filters.length>0;if(a>=0&&a<this.dataview.bounditems.length&&!d){if(this.groupable&&this.groups.length>0)var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];else var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}if(this.dataview.filters.length>0){var c=this.getboundrows()[a];return c&&null!=c.uid?c.uid:null}}return null},_updateGridData:function(a){var b=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(b=!0),b?(this.dataview.refresh(),"updaterow"==a?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(b,c,d){if(void 0!=b&&void 0!=c){var e=this.that,f=!1;e._datachanged=!0;var g=function(b,c,e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var f=!1;a.isArray(c)?(a.each(c,function(a,c){f=b.dataview.updaterow(this,e[a],!1)}),b.dataview.refresh()):f=b.dataview.updaterow(c,e);var g=b.vScrollInstance.value;if((void 0==d||1==d)&&(void 0==b._updating||0==b._updating)&&b._updateGridData("updaterow"),b.showaggregates&&b._updatecolumnsaggregates&&b._updatecolumnsaggregates(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata){var h=b.dataview.recordsbyid["id"+c],i=b.dataview.records.indexOf(h),j=b.source._source._localdata()[i];b.source.suspendKO=!0,b.source._source._localdata.replace(j,a.extend({},h)),b.source.suspendKO=!1}return b.vScrollInstance.setPosition(g),f};if(this.source.updaterow){var h=function(a){1==a||void 0==a?g(e,b,c):f=!1};try{f=this.source.updaterow(b,c,h),void 0==f&&(f=!0)}catch(i){f=!1}}else f=g(e,b,c);return f}return!1},deleterow:function(b,c){if(void 0!=b){this._datachanged=!0;var d=!1,e=this.that,f=this.getrowboundindexbyid(b);void 0!=f&&(this.selectedrowindexes.indexOf(f)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(f),1),this.selectedrowindex==f&&(this.selectedrowindex=-1));var g=function(b,d){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var e=!1,f=b.vScrollInstance.value;if(a.isArray(d))a.each(d,function(){e=b.dataview.deleterow(this,!1)}),b.dataview.refresh();else var e=b.dataview.deleterow(d);return(void 0==b._updating||0==b._updating)&&(void 0==c||1==c)&&(b._render(!0,!0,!1,!1),"visible"!=b.vScrollBar.css("visibility")&&(b._arrange(),b._updatecolumnwidths(),b._updatecellwidths(),b._renderrows(b.virtualsizeinfo))),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.pop(rowdata),b.source.suspendKO=!1),b.dataview.sortby&&b.dataview.clearsortdata(),b.vScrollInstance.setPosition(f),e};if(this.source.deleterow){var h=function(a){(1==a||void 0==a)&&g(e,b)};try{this.source.deleterow(b,h),void 0==d&&(d=!0)}catch(i){d=!1}}else d=g(e,b);return d}return!1},addrow:function(b,c,d){if(void 0!=c){this._datachanged=!0,void 0==d&&(d="last");var e=!1,f=this.that;if(null==b){var g=this.dataview.filters&&this.dataview.filters.length>0,h=g?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(a.isArray(c)){var i=new Array;a.each(c,function(a,b){var d=f.dataview.getid(f.dataview.source.id,c[a],h+a);i.push(d)}),b=i}else for(b=this.dataview.getid(this.dataview.source.id,c,h);null!=this.dataview.recordsbyid["id"+b];)b++}var j=function(b,c,d,e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var f=b.vScrollInstance.value,g=!1;return a.isArray(d)?(a.each(d,function(a,d){void 0!=this.dataindex&&delete this.dataindex;var f=null;null!=c&&null!=c[a]&&(f=c[a]),g=b.dataview.addrow(f,this,e,!1)}),b.dataview.refresh()):(void 0!=d&&void 0!=d.dataindex&&delete d.dataindex,g=b.dataview.addrow(c,d,e)),(void 0==b._updating||0==b._updating)&&(b._render(!0,!0,!1,!1),b.invalidate()),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.push(d),b.source.suspendKO=!1),"deferred"!=b.scrollmode?b.vScrollInstance.setPosition(f):b.vScrollInstance.setPosition(0),g};if(this.source.addrow){var k=function(a,e){(1==a||void 0==a)&&(void 0!=e&&(b=e),j(f,b,c,d))};try{e=this.source.addrow(b,c,d,k),void 0==e&&(e=!0)}catch(l){e=!1}if(0==e)return!1}else j(this,b,c,d);return e}return!1},_findvisiblerow:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.rows.records);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.top>a&&e.top+e.height>a)d=mid-1;else{if(!(e.top<a&&e.top+e.height<a))return mid;c=mid+1}}return-1},_updatecellwidths:function(){var a=this.virtualsizeinfo;if(a){var b=this.that;if(void 0!=b.gridcontent){void 0==b.table&&(b.table=b.gridcontent.find("#contenttable"+b.element.id));var c=b.groupable&&b.groups.length>0,d=0,e=a.visiblerecords;if(b.pageable&&(b.autoheight||b.autorowheight)&&(e=b.dataview.pagesize,b.groupable&&(b.dataview.updateview(),e=b.dataview.rows.length)),b.groupable||b.pageable||!b.autoheight&&!b.autorowheight||(e=b.dataview.totalrecords),b.rowdetails&&(e+=b.dataview.pagesize),b.columns.records){
for(var f=b.columns.records.length,g=b.table[0].rows,h=0;e>h;h++){var i=g[h];if(!i)break;for(var j=i.cells,k=0,l=0;f>l;l++){var m=b.columns.records[l],n=m.width,o=j[l];parseInt(o.style.left)!=k&&(o.style.left=k+"px"),parseInt(o.style.width)!=n&&(o.style.width=n+"px"),m.hidden&&m.hideable?o.style.display="none":k+=parseFloat(n)}0==d&&(b.table.width(parseFloat(k)+2),d=k)}b.showaggregates&&b._updateaggregates&&b._updateaggregates(),b.showfilterrow&&b.filterable&&b._updatefilterrowui&&b._updatefilterrowui(),b._updatescrollbarsafterrowsprerender(),c&&b._renderrows(b.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var a=this.that,b=a.hScrollBar[0].style.visibility,c=0,d=a.vScrollBar[0].style.visibility;"visible"==d&&(c=a.scrollbarsize+3),a.scrollbarautoshow&&(c=0);var e=a.element.style.width;if(e=e.toString().indexOf("%")>=0?a.host.width():parseInt(e),parseInt(a.table[0].style.width)-2>e-c){if("visible"!=b&&(a.autowidth||(a.hScrollBar[0].style.visibility="visible"),a._arrange()),"visible"==d){if("deferred"==a.scrollmode||a.virtualmode)a._updatevscrollbarmax();else if(a.virtualsizeinfo){var f=a.virtualsizeinfo.virtualheight-a._gettableheight();!isNaN(f)&&f>0&&("hidden"!=b?a.vScrollBar.jqxScrollBar("max",f+a.scrollbarsize+4):a.vScrollBar.jqxScrollBar("max",f))}}else c=-2;a.hScrollBar.jqxScrollBar("max",c+a.table.width()-a.host.width())}else"hidden"!=b&&(a.hScrollBar.css("visibility","hidden"),a._arrange());a._renderhorizontalscroll()},_prerenderrows:function(b){var c=this.that;if(1==c.prerenderrequired){if(c.prerenderrequired=!1,c.editable&&c._destroyeditors&&c._destroyeditors(),void 0==c.gridcontent)return;c.gridcontent.find("#contenttable"+c.element.id).remove(),null!=c.table&&(c.table.remove(),c.table=null),c.table=a('<div id="contenttable'+c.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>'),c.gridcontent.addClass(c.toTP("jqx-grid-content")),c.gridcontent.addClass(c.toTP("jqx-widget-content")),c.gridcontent.append(c.table);var d=c.groupable&&c.groups.length>0,e=0;c.table[0].rows=new Array;var f=c.toTP("jqx-grid-cell");d&&(f=" "+c.toTP("jqx-grid-group-cell"));var g=b.visiblerecords;if(c.pageable&&(c.autoheight||c.autorowheight)&&(g=c.dataview.pagesize,c.groupable&&(c.dataview.updateview(),g=c.dataview.rows.length,g<c.dataview.pagesize&&(g=c.dataview.pagesize))),c.pageable||!c.autoheight&&!c.autorowheight||(g=c.dataview.totalrecords),c.groupable&&(c.autoheight||c.autorowheight)&&!c.pageable&&(g=c.dataview.rows.length),c.rowdetails&&(g+=c.autoheight||c.autorowheight?c.dataview.pagesize:g),!c.columns.records)return;var h=c.columns.records.length;a.jqx.browser.msie&&a.jqx.browser.version>8&&c.table.css("opacity","0.99"),a.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&c.table.css("opacity","0.99");var i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&c.host.attr("hideFocus","true");var j=c.tableZIndex;g*h>j&&(j=g*h);var k=(0==c.dataview.records.length,c.isTouchDevice(),"");c._hiddencolumns=!1;for(var l=0;g>l;l++){var m='<div role="row" style="position: relative; height='+c.rowsheight+'px;" id="row'+l+c.element.id+'">';if(i){var m='<div role="row" style="position: relative; z-index: '+j+"; height:"+c.rowsheight+'px;" id="row'+l+c.element.id+'">';j--}for(var n=0,o=0;h>o;o++){var p=c.columns.records[o],q=p.width;if(q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),c.rtl){var r=j-h+2*o,s='<div role="gridcell" style="left: '+n+"px; z-index: "+r+"; width:"+q+"px;";j--}else var s='<div role="gridcell" style="left: '+n+"px; z-index: "+j--+"; width:"+q+"px;";p.hidden&&p.hideable?(s+="display: none;",c._hiddencolumns=!0,j++):n+=q,s+='" class="'+f+'"></div>',m+=s}0==e&&(c.table.width(parseInt(n)+2),e=n),m+="</div>",k+=m}c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(k)}):c.table[0].innerHTML=k,c.table[0].rows=new Array;for(var t=c.table.children(),l=0;g>l;l++){var u=t[l];c.table[0].rows.push(u),u.cells=new Array;for(var v=a(u).children(),o=0;h>o;o++)u.cells.push(v[o])}if(0==g){var n=0;if(c.showemptyrow){var m=a('<div style="position: relative;" id="row0'+c.element.id+'"></div>');c.table.append(m),m.height(c.rowsheight),c.table[0].rows[0]=m[0],c.table[0].rows[0].cells=new Array}for(var o=0;h>o;o++){var p=c.columns.records[o],q=p.width;if(c.showemptyrow){var s=a('<div style="position: absolute; height: 100%; left: '+n+"px; z-index: "+j--+"; width:"+q+'px;" class="'+f+'"></div>');s.height(c.rowsheight),m.append(s),c.table[0].rows[0].cells[o]=s[0]}q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),p.hidden&&p.hideable||(n+=q)}c.table.width(parseInt(n)+2),e=n}c._updatescrollbarsafterrowsprerender(),c.rendered&&c.rendered("rows"),c._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var a=null,b=null;this.tableheight=null;var c=this.that,d=!1,e=!1;if(null!=c.width&&-1!=c.width.toString().indexOf("px")?a=c.width:void 0==c.width||isNaN(c.width)||(a=c.width),null!=c.width&&-1!=c.width.toString().indexOf("%")&&(a=c.width,d=!0),c.scrollbarautoshow&&(c.vScrollBar[0].style.display="none",c.hScrollBar[0].style.display="none",c.vScrollBar[0].style.zIndex=c.tableZIndex+c.headerZIndex,c.hScrollBar[0].style.zIndex=c.tableZIndex+c.headerZIndex),c.autowidth){for(var f=0,g=0;g<c.columns.records.length;g++){var h=c.columns.records[g].width;"auto"==h?(h=c._measureElementWidth(c.columns.records[g].text),f+=h):f+=h}"hidden"!=c.vScrollBar.css("visibility")&&(f+=c.scrollbarsize+4),a=f,c.width=a}null!=c.height&&-1!=c.height.toString().indexOf("px")?b=c.height:void 0==c.height||isNaN(c.height)||(b=c.height),null!=c.height&&-1!=c.height.toString().indexOf("%")&&(b=c.height,e=!0);var i=function(){var a=0,b=c.showheader&&null!=c.columnsheader?c.columnsheader.height()+2:0;return a+=b,c.pageable&&(a+=c.pagerheight),c._groupsheader()&&(a+=c.groupsheaderheight),c.showtoolbar&&(a+=c.toolbarheight),c.showstatusbar&&(a+=c.statusbarheight),"visible"==c.hScrollBar[0].style.visibility&&(a+=20),a};if(c.autoheight&&c.virtualsizeinfo)if(c.pageable&&c.gotopage){var j=0;b=j+(c._pageviews[0]?c._pageviews[0].height:0),b+=i(),c.showemptyrow&&0==c.dataview.totalrecords&&(b+=c.rowsheight)}else{var j=c.host.height()-c._gettableheight();c._pageviews.length>0?(b=j+c._pageviews[c._pageviews.length-1].height+c._pageviews[c._pageviews.length-1].top,c.vScrollBar[0].style.visibility="hidden"):(b=i(),c.showemptyrow&&(b+=c.rowsheight))}else c.autoheight&&(b=c.dataview.totalrecords*c.rowsheight,c._loading&&(b=250,c.dataloadelement.height(b)),b+=i(),b>1e4&&(b=1e4));null!=a?(a=parseInt(a),d?c.element.style.width=c.width:c.element.style.width!=parseInt(c.width)+"px"&&(c.element.style.width=parseInt(c.width)+"px"),d&&(a=c.host.width(),2>=a&&(a=600,c.host.width(a)),c._oldWidth||(c._oldWidth=a))):c.host.width(250),null!=b?(e||(b=parseInt(b)),e?c.element.style.height=c.height:c.element.style.height!=parseInt(b)+"px"&&(c.element.style.height=parseInt(b)+"px"),e&&!c.autoheight&&(b=c.host.height(),0==b&&(b=400,c.host.height(b)),c._oldHeight||(c._oldHeight=b))):c.host.height(250),c.autoheight&&(c.tableheight=null,c._gettableheight());var k=0;if(c.showtoolbar?(c.toolbar.width(a),c.toolbar.height(c.toolbarheight-1),c.toolbar.css("top",0),k+=c.toolbarheight,b-=parseInt(c.toolbarheight)):c.toolbar[0].style.height="0px",c.showstatusbar?(c.showaggregates?c.statusbar.width(c.table?Math.max(a,c.table.width()):a):c.statusbar.width(a),c.statusbar.height(c.statusbarheight)):c.statusbar[0].style.height="0px",c._groupsheader()){c.groupsheader.width(a),c.groupsheader.height(c.groupsheaderheight),c.groupsheader.css("top",k);var l=c.groupsheader.height()+1;k+=l,b>l&&(b-=parseInt(l))}else{c.groupsheader[0].style.width!=a+"px"&&(c.groupsheader[0].style.width=parseInt(a)+"px"),c.groupsheader[0].style.height="0px",c.groupsheader[0].style.top!=k+"px"&&c.groupsheader.css("top",k);var l=c.showgroupsheader&&c.groupable?c.groupsheaderheight:0,m=k+l+"px";c.content[0].style.top!=m&&c.content.css("top",k+c.groupsheaderheight)}var n=c.scrollbarsize;isNaN(n)&&(n=parseInt(n),isNaN(n)?n="17px":n+="px"),n=parseInt(n);var o=4,p=2,q=0;"visible"==c.vScrollBar[0].style.visibility&&(q=n+o),"visible"==c.hScrollBar[0].style.visibility&&(p=n+o+2);var r=0;c.pageable&&(r=c.pagerheight,p+=c.pagerheight),c.showstatusbar&&(p+=c.statusbarheight,r+=c.statusbarheight),c.hScrollBar[0].style.height!=n+"px"&&(c.hScrollBar[0].style.height=parseInt(n)+"px"),(c.hScrollBar[0].style.top!=k+b-o-n-r+"px"||"0px"!=c.hScrollBar[0].style.left)&&c.hScrollBar.css({top:k+b-o-n-r+"px",left:"0px"});var s=c.hScrollBar[0].style.width,t=!1,u=!1;0==q?s!=a-2+"px"&&(c.hScrollBar.width(a-2),t=!0):s!=a-n-o+"px"&&(c.hScrollBar.width(a-n-o+"px"),t=!0),c.autoheight||(c.vScrollBar[0].style.width!=n+"px"&&(c.vScrollBar.width(n),u=!0),c.vScrollBar[0].style.height!=parseInt(b)-p+"px"&&(c.vScrollBar.height(parseInt(b)-p+"px"),u=!0),(c.vScrollBar[0].style.left!=parseInt(a)-parseInt(n)-o+"px"||c.vScrollBar[0].style.top!=k+"px")&&c.vScrollBar.css({left:parseInt(a)-parseInt(n)-o+"px",top:k})),c.rtl&&(c.vScrollBar.css({left:"0px",top:k}),"hidden"!=c.vScrollBar.css("visibility")&&c.hScrollBar.css({left:n+2}));var v=c.vScrollInstance;v.disabled=c.disabled,c.autoheight||u&&v.refresh();var w=c.hScrollInstance;w.disabled=c.disabled,t&&w.refresh(),c.autowidth&&(c.hScrollBar[0].style.visibility="hidden"),c.statusbarheight=parseInt(c.statusbarheight),c.toolbarheight=parseInt(c.toolbarheight);var x=function(a){"visible"==a.vScrollBar[0].style.visibility&&"visible"==a.hScrollBar[0].style.visibility?(a.bottomRight[0].style.visibility="visible",a.bottomRight.css({left:1+parseInt(a.vScrollBar.css("left")),top:parseInt(a.hScrollBar.css("top"))}),a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight.width(parseInt(n)+3),a.bottomRight.height(parseInt(n)+4),a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(n)+4+a.statusbarheight),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.statusbarheight}))):a.bottomRight[0].style.visibility="hidden"};if(x(this),c.content[0].style.width!=a-q+"px"&&c.content.width(a-q),c.content[0].style.height!=b-p+3+"px"&&c.content.height(b-p+3),c.scrollbarautoshow&&(c.content[0].style.width!=a+"px"&&c.content.width(a),c.content[0].style.height!=b+"px"&&c.content.height(b)),c.content[0].style.top!=k+"px"&&c.content.css("top",k),c.rtl&&(c.content.css("left",q),c.scrollbarautoshow&&c.content.css("left","0px"),c.table)){var y=c.table.width();a-q>y&&c.content.css("left",a-y)}if(c.showstatusbar&&(c.statusbar.css("top",k+b-c.statusbarheight-(c.pageable?c.pagerheight:0)),c.showaggregates&&("visible"==c.hScrollBar.css("visibility")&&(c.hScrollBar.css({top:k+b-o-n-r+c.statusbarheight+"px"}),c.statusbar.css("top",1+k+b-n-5-c.statusbarheight-(c.pageable?c.pagerheight:0))),x(this)),c.rtl&&("visible"!=c.hScrollBar.css("visibility")?c.statusbar.css("left",c.content.css("left")):c.statusbar.css("left","0px"))),c.pageable?(c.pager.width(a),c.pager.height(c.pagerheight),c.pager.css("top",k+b-c.pagerheight-1)):c.pager[0].style.height="0px",null!=c.table){var z=-2;if("visible"==c.vScrollBar[0].style.visibility&&(z=c.scrollbarsize+3),"visible"==c.hScrollBar[0].style.visibility){var A=z+c.table.width()-c.host.width();A>=0&&c.hScrollBar.jqxScrollBar("max",A),"visible"==c.hScrollBar[0].style.visibility&&0==A&&(c.hScrollBar[0].style.visibility="hidden",c._arrange())}}a!=parseInt(c.dataloadelement[0].style.width)&&(c.dataloadelement[0].style.width=c.element.style.width),b!=parseInt(c.dataloadelement[0].style.height)&&(c.dataloadelement[0].style.height=c.element.style.height),c._hostwidth=a},destroy:function(){if(delete a.jqx.dataFormat.datescache,delete this.gridlocalization,a.jqx.utilities.resize(this.host,null,!0),this.table&&this.table[0]){for(var b=this.table[0].rows.length,c=0;b>c;c++){for(var d=this.table[0].rows[c],e=d.cells,f=e.length,g=0;f>g;g++)a(d.cells[g]).remove(),d.cells[g]=null,delete d.cells[g];d.cells=null,d.cells&&delete d.cells,a(this.table[0].rows[c]).remove(),this.table[0].rows[c]=null}try{delete this.table[0].rows}catch(h){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var c=0;c<this.columns.records.length;c++){var i=this.columns.records[c];this._removecolumnhandlers(this.columns.records[c]),i.element&&(a(i.element).remove(),a(i.sortasc).remove(),a(i.sortdesc).remove(),a(i.filtericon).remove(),a(i.menu).remove(),i.element=null,i.uielement=null,i.sortasc=null,i.sortdesc=null,i.filtericon=null,i.menu=null,delete i.element,delete i.uielement,delete i.sortasc,delete i.sortdesc,delete i.filtericon,delete i.menu,delete this.columnsrow[0].cells[c])}try{delete this.columnsrow[0].cells}catch(h){}delete this.columnsrow}if(a.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(a(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(a(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(a(document),"selectstart."+this.element.id),this.removeHandler(a(document),"mousedown.resize"+this.element.id),this.removeHandler(a(document),"mouseup.resize"+this.element.id),this.removeHandler(a(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var j=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,k=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,l=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.removeHandler(a(document),"mousedown.reorder"+this.element.id),this.removeHandler(a(document),"mouseup.reorder"+this.element.id),this.removeHandler(a(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var j=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,k=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,l=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.removeHandler(a(window),"resize."+this.element.id),this.groupable){var j="mousemove.grouping"+this.element.id,k="mousedown.grouping"+this.element.id,l="mouseup.grouping"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.columnsreorder){var j="mousemove.reorder"+this.element.id,k="mousedown.reorder"+this.element.id,l="mouseup.reorder"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader.remove(),delete this.columnsheader,this.selectionarea.remove(),delete this.selectionarea,this.menuitemsarray&&this.menuitemsarray.length)for(var m=this.menuitemsarray.length,c=0;m>c;c++)a(this.menuitemsarray[c]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent.remove(),delete this.gridcontent,this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var c=this.source?this.source.datafields:null;null==c&&this.source&&this.source._source&&(c=this.source._source.datafields);var d=c?c.length>0:!1;if(this.autogeneratecolumns){var e=new Array;if(c)a.each(c,function(){var a={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};e.push(a)});else if(this.source.records.length>0){var f=this.source.records[0];for(obj in f)if("uid"!=obj){var g={width:100,datafield:obj,text:obj};e.push(g)}}this.columns=e}if(this.columns&&this.columns.records)for(var h=0;h<this.columns.records.length;h++)this._removecolumnhandlers(this.columns.records[h]);var i=this.that,j=new a.jqx.collection(this.element),k=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&a.each(this.groups,function(a){var c=new b(i,this);c.visibleindex=k++,c.width=i.groupindentwidth,j.add(c),c.grouped=!0,c.filterable=!1,c.sortable=!1,c.editable=!1,c.resizable=!1,c.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var g=new b(i,this);g.visibleindex=k++,g.width=i.groupindentwidth,g.pinned=!0,g.editable=!1,g.filterable=!1,g.draggable=!1,g.groupable=!1,g.resizable=!1,j.add(g),i._haspinned=!0}if("checkbox"==this.selectionmode){var g=new b(i,null);g.visibleindex=k++,g.width=i.groupindentwidth,g.checkboxcolumn=!0,g.editable=!1,g.columntype="checkbox",g.groupable=!1,g.draggable=!1,g.filterable=!1,g.resizable=!1,g.datafield="_checkboxcolumn",j.add(g)}var l=new Array;a.each(this.columns,function(a){if(void 0!=i.columns[a]){var c=new b(i,this);if(c.visibleindex=k++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(i._haspinned=!0),null==this.datafield)i.source&&i.source._source&&"array"==i.source._source.datatype&&(d||(i.source._source.datafields?i.source._source.datafields.push({name:a.toString()}):(i.source._source.datafields=new Array,i.source._source.datafields.push({name:a.toString()}))),this.datafield=a.toString(),this.displayfield=a.toString(),c.datafield=this.datafield,c.displayfield=this.displayfield);else{if(l[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");l[this.datafield]=!0}j.add(c)}}),this.rtl&&j.records.reverse(),this.columns=j},_initializeRows:function(){var b=new a.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=b},_raiseEvent:function(b,c){if(void 0==c&&(c={owner:null}),this._trigger!==!1){var d=this.events[b];this._camelCase||(d=d.toLowerCase()),args=c,args.owner=this;var e=new a.Event(d);e.owner=this,e.args=args;var f=this.host.trigger(e);return c=e.args,f}},wheel:function(a,b){if(b.autoheight&&"visible"!=b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;a>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value+this.rowsheight<=a.max?a.setPosition(parseInt(a.value)+this.rowsheight):a.setPosition(a.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value-this.rowsheight>=a.min?a.setPosition(parseInt(a.value)-this.rowsheight):a.setPosition(a.min)}},_removeHandlers:function(){var b=this.that;b.removeHandler(b.vScrollBar,"valueChanged"),b.removeHandler(b.hScrollBar,"valueChanged"),b.vScrollInstance.valueChanged=null,b.hScrollInstance.valueChanged=null;var c="mousedown.jqxgrid";b.isTouchDevice()&&(c=a.jqx.mobile.getTouchEventName("touchend")),b.removeHandler(b.host,"dblclick.jqxgrid"),b.removeHandler(b.host,c),b.removeHandler(b.content,"mousemove",b._mousemovefunc),b.removeHandler(b.host,"mouseleave.jqxgrid"),b.removeHandler(b.content,"mouseenter"),b.removeHandler(b.content,"mouseleave"),b.removeHandler(b.content,"mousedown"),b.removeHandler(b.content,"scroll"),b.removeHandler(b.content,"selectstart."+b.element.id),b.removeHandler(b.host,"dragstart."+b.element.id),b.removeHandler(b.host,"keydown.edit"+b.element.id),b.removeHandler(a(document),"keydown.edit"+b.element.id),b.removeHandler(a(document),"keyup.edit"+b.element.id),b._mousemovedocumentfunc&&b.removeHandler(a(document),"mousemove.selection"+b.element.id,b._mousemovedocumentfunc),b.removeHandler(a(document),"mouseup.selection"+b.element.id),b._mousewheelfunc&&b.removeHandler(b.host,"mousewheel",b._mousewheelfunc),b.editable&&b.removeHandler(a(document),"mousedown.gridedit"+b.element.id),b.host.off&&(b.content.off("mousemove"),b.host.off("mousewheel"))},_addHandlers:function(){var b=this.that,c=b.isTouchDevice();c||b.addHandler(b.host,"dragstart."+b.element.id,function(a){return!1}),b.scrollbarautoshow&&(b.addHandler(b.host,"mouseenter.gridscroll"+b.element.id,function(a){b.vScrollBar.fadeIn("fast"),b.hScrollBar.fadeIn("fast")}),b.addHandler(b.host,"mouseleave.gridscroll"+b.element.id,function(a){b.vScrollInstance.isScrolling()||b.hScrollInstance.isScrolling()||(b.vScrollBar.fadeOut("fast"),b.hScrollBar.fadeOut("fast"))})),b.editable&&b.addHandler(a(document),"mousedown.gridedit"+b.element.id,function(a){if(b.editable&&b.begincelledit&&b.editcell&&!b.vScrollInstance.isScrolling()&&!b.vScrollInstance.isScrolling()){var c=b.host.coord(),d=b.host.width(),e=b.host.height(),f=!1,g=!1,h=!1;if((a.pageY<c.top||a.pageY>c.top+e)&&(f=!0,g=!0),(a.pageX<c.left||a.pageX>c.left+d)&&(f=!0,h=!0),f){if(b.editcell&&b.editcell.editor)switch(b.editcell.columntype){case"datetimeinput":if(b.editcell.editor.jqxDateTimeInput&&b.editcell.editor.jqxDateTimeInput("container")&&"block"==b.editcell.editor.jqxDateTimeInput("container")[0].style.display){var i=b.editcell.editor.jqxDateTimeInput("container").coord().top,j=b.editcell.editor.jqxDateTimeInput("container").coord().top+b.editcell.editor.jqxDateTimeInput("container").height();if(!g||!(a.pageY<i||a.pageY>j))return;f=!0,b.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(b.editcell.editor.jqxComboBox&&b.editcell.editor.jqxComboBox("container")&&"block"==b.editcell.editor.jqxComboBox("container")[0].style.display){var i=b.editcell.editor.jqxComboBox("container").coord().top,j=b.editcell.editor.jqxComboBox("container").coord().top+b.editcell.editor.jqxComboBox("container").height();if(!g||!(a.pageY<i||a.pageY>j))return;f=!0,b.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(b.editcell.editor.jqxDropDownList&&b.editcell.editor.jqxDropDownList("container")&&"block"==b.editcell.editor.jqxDropDownList("container")[0].style.display){var i=b.editcell.editor.jqxDropDownList("container").coord().top,j=b.editcell.editor.jqxDropDownList("container").coord().top+b.editcell.editor.jqxDropDownList("container").height();if(!g||!(a.pageY<i||a.pageY>j))return;f=!0,b.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var k=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],l=function(c){var d=b.editcell.editor.data();if(d[c]&&d[c].instance.container&&"block"==d[c].instance.container[0].style.display){var e=d[c].instance,h=e.container.coord().top,i=e.container.coord().top+e.container.height();return g&&(a.pageY<h||a.pageY>i)?(f=!0,e.close(),!0):!1}},m=0;m<k.length;m++){var n=l(k[m]);if(0==n)return}}b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),b._oldselectedcell=null}}}),b.vScrollInstance.valueChanged=function(a){b.virtualsizeinfo&&(b._closemenu(),"physical"!=b.scrollmode?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):void 0!=b.currentScrollValue&&Math.abs(b.currentScrollValue-a.currentValue)>=5?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue),b.pageable||b.groupable||!b.dataview.virtualmode||(b.loadondemandupdate&&clearTimeout(b.loadondemandupdate),b.loadondemandupdate=setTimeout(function(){b.loadondemand=!0,b._renderrows(b.virtualsizeinfo)},100)),c&&(b._lastScroll=new Date))},b.hScrollInstance.valueChanged=function(d){if(b.virtualsizeinfo){b._closemenu();var e=function(){b._renderhorizontalscroll(),b._renderrows(b.virtualsizeinfo),b.editcell&&!b.editrow&&b._showcelleditor&&b.editcell.editing&&(b.hScrollInstance.isScrolling()||b._showcelleditor(b.editcell.row,b.getcolumn(b.editcell.column),b.editcell.element,b.editcell.init))};void 0==b._browser?b._isIE10():b._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){e()},1)):a.jqx.browser.msie?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){e()},.01)):e(),c&&(b._lastScroll=new Date)}},b._mousewheelfunc=b._mousewheelfunc||function(a){return!b.editcell&&b.enablemousewheel?(b.wheel(a,b),!1):void 0},b.removeHandler(b.host,"mousewheel",b._mousewheelfunc),b.addHandler(b.host,"mousewheel",b._mousewheelfunc);var d="mousedown.jqxgrid";c&&(d=a.jqx.mobile.getTouchEventName("touchend")),b.addHandler(b.host,d,function(c){if(b.isTouchDevice()){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(a(c.target).ischildof(b.vScrollBar))return!1;if(a(c.target).ischildof(b.hScrollBar))return!1}b._mousedown=new Date;var d=b._handlemousedown(c,b);return b.isNestedGrid&&(b.resizablecolumn||b.columnsreorder||c.stopPropagation()),b._lastmousedown=new Date,d}),c||(b.addHandler(b.host,"dblclick.jqxgrid",function(c){if(b.editable&&b.begincelledit&&"dblclick"==b.editmode)b._handledblclick(c,b);else if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._handlemousedown(c,b)}return b.mousecaptured=!1,b._lastmousedown=new Date,!0}),b._mousemovefunc=function(a){return b._handlemousemove?b._handlemousemove(a,b):void 0},b.addHandler(b.content,"mousemove",b._mousemovefunc),b._handlemousemoveselection&&(b._mousemovedocumentfunc=function(a){return b._handlemousemoveselection?b._handlemousemoveselection(a,b):void 0},b.addHandler(a(document),"mousemove.selection"+b.element.id,b._mousemovedocumentfunc)),b.addHandler(a(document),"mouseup.selection"+b.element.id,function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;if(window.parent&&document.referrer&&(e=document.referrer),e&&-1!=e.indexOf(document.location.host)){var f=function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f)}}}catch(g){}b.focused=!1,c||(b.addHandler(b.content,"mouseenter",function(a){b.focused=!0,b.wrapper&&(b.wrapper.attr("tabindex",1),b.content.attr("tabindex",2)),b._overlayElement&&(b.vScrollInstance.isScrolling()||b.hScrollInstance.isScrolling()?b._overlayElement[0].style.visibility="visible":b._overlayElement[0].style.visibility="hidden")}),b.addHandler(b.content,"mouseleave",function(a){b._handlemousemove&&b.enablehover&&b._clearhoverstyle(),b._overlayElement&&(b._overlayElement[0].style.visibility="hidden"),b.focused=!1}),(b.groupable||b.columnsreorder)&&b.addHandler(a(document),"selectstart."+b.element.id,function(a){return b.__drag===!0?!1:void 0}),b.addHandler(b.content,"selectstart."+b.element.id,function(c){return b.enablebrowserselection?!0:b.showfilterrow&&a(c.target).ischildof(b.filterrow)?!0:b.editcell?void(c.stopPropagation&&c.stopPropagation()):!1}),b.addHandler(a(document),"keyup.edit"+b.element.id,function(a){b._keydown=!1}),b.addHandler(a(document),"keydown.edit"+b.element.id,function(c){b._keydown=!b.editcell;var d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}if(b.editable&&b.editcell&&(13==d||27==d)&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),27==d&&(b.mousecaptured=!1,"visible"==b.selectionarea.css("visibility")&&b.selectionarea.css("visibility","hidden")),a.jqx.browser.msie&&a.jqx.browser.version<8&&b.focused&&!b.isNestedGrid){if(13==d&&0==f)return f;var f=!0,d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(!b.editcell&&b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),f&&b.keyboardnavigation&&b._handlekeydown)return f=b._handlekeydown(c,b),f||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),f}return!0}),b.addHandler(b.host,"keydown.edit"+b.element.id,function(c){var d=!0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}return b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(d=b._handleeditkeydown(c,b),b.isNestedGrid&&c.stopPropagation()),
a.jqx.browser.msie&&a.jqx.browser.version<8?b.isNestedGrid&&d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),c.stopPropagation()):d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),b.isNestedGrid&&c.stopPropagation()),d||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),d}))},_hittestrow:function(b,c){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==b&&(b=0);var d=this.vScrollInstance,e=this.hScrollInstance,f=d.value;"visible"!=this.vScrollBar.css("visibility")&&(f=0);var g=e.value;"visible"!=this.hScrollBar.css("visibility")&&(g=0),"deferred"==this.scrollmode&&null!=this._newmax&&f>this._newmax&&(f=this._newmax);var h=parseInt(f)+c;parseInt(g)+b;if(null!=this.visiblerows&&0!=this.visiblerows.length){var i=!1,j=this._findvisiblerow(h,this.visiblerows);if(j>=0){var k=this.visiblerows[j],l=this.rowdetails&&k.rowdetails,m=!k.rowdetailshidden;if(l){var n=this.visiblerows[j-1];if(n==k&&(k=n,j--),m){var o=a(this.hittestinfo[j].visualrow).position().top+parseInt(this.table.css("top")),p=a(this.hittestinfo[j].visualrow).height();c>=o&&o+p>=c||(j++,k=this.visiblerows[j],i=!0)}}}return{index:j,row:k,details:i}}}},getcellatposition:function(b,c){var d=this.that,e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbarheight:0;f+=g;var h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host));var i=b-h.left,j=c-e-h.top-f,k=this._hittestrow(i,j),l=k.row,m=k.index,n=this.table[0].rows[m];if(this.dataview&&0==this.dataview.records.length){for(var o=this.table[0].rows,p=0,q=0;q<o.length;q++){if(j>=p&&j<p+this.rowsheight){n=o[q];break}p+=this.rowsheight}l={boundindex:q}}if(null==n)return!0;for(var r=this.hScrollInstance,s=r.value,t=0,q=(this.groupable?this.groups.length:0,0);q<n.cells.length;q++){var u=parseInt(a(this.columnsrow[0].cells[q]).css("left")),b=u-s;d.columns.records[q].pinned&&(b=u);var v=b+a(this.columnsrow[0].cells[q]).width();if(v>=i&&i>=b){t=q;break}}if(null!=l){var w=this._getcolumnat(t);return{row:this.getboundindex(l),column:w.datafield,value:this.getcellvalue(this.getboundindex(l),w.datafield)}}return null},_handlemousedown:function(b,c){if(null==b.target)return!0;if(c.disabled)return!0;if(a(b.target).ischildof(this.columnsheader))return!0;var d;b.which?d=3==b.which:b.button&&(d=2==b.button);var e;if(b.which?e=2==b.which:b.button&&(e=1==b.button),e)return!0;if(this.showstatusbar){if(a(b.target).ischildof(this.statusbar))return!0;if(b.target==this.statusbar[0])return!0}if(this.showtoolbar){if(a(b.target).ischildof(this.toolbar))return!0;if(b.target==this.toolbar[0])return!0}if(this.pageable){if(a(b.target).ischildof(this.pager))return!0;if(b.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&a(b.target).ischildof(this.pager))return!0;var f=this.showheader?this.columnsheader.height()+2:0,g=this._groupsheader()?this.groupsheader.height():0,h=this.showtoolbar?this.toolbarheight:0;g+=h;var i=this.host.coord();if(this.hasTransform){i=a.jqx.utilities.getOffset(this.host);var j=this._getBodyOffset();i.left-=j.left,i.top-=j.top}var k=parseInt(b.pageX),l=parseInt(b.pageY);if(this.isTouchDevice()){var m=c.getTouches(b),n=m[0];k=parseInt(n.pageX),l=parseInt(n.pageY),1==c.touchmode&&void 0!=n._pageX&&(k=parseInt(n._pageX),l=parseInt(n._pageY))}var o=k-i.left,p=l-f-i.top-g;if(this.pageable&&!this.autoheight&&this.gotopage){var q=this.pager.coord().top-i.top-g-f;if(p>q)return}var r=this._hittestrow(o,p);if(r&&!r.details){var s=r.row,t=r.index,u=b.target.className,v=this.table[0].rows[t];if(null==v)return c.editable&&c.begincelledit&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!0;c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-g,clickedrow:v};var w=this.hScrollInstance,x=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value);var y=-1,z=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(x=-parseInt(this.content.css("left"))));for(var A=0;A<v.cells.length;A++){var B=parseInt(a(this.columnsrow[0].cells[A]).css("left")),k=B-x;c.columns.records[A].pinned&&!c.rtl&&(k=B);var C=this._getcolumnat(A);if(null==C||!C.hidden){var D=k+a(this.columnsrow[0].cells[A]).width();if(D>=o&&o>=k){y=A,c.mousecaptureposition.clickedcell=A;break}}}if(this.rtl&&this._haspinned)for(var A=v.cells.length-1;A>=0&&c.columns.records[A].pinned;A--){var B=a(this.columnsrow[0].cells[A]).coord().left-this.host.coord().left,k=B,C=this._getcolumnat(A);if(null==C||!C.hidden){var D=k+a(this.columnsrow[0].cells[A]).width();if(D>=o&&o>=k){y=A,c.mousecaptureposition.clickedcell=A;break}}}if(null!=s&&y>=0){this._raiseEvent(1,{rowindex:this.getboundindex(s),visibleindex:s.visibleindex,row:s,group:s.group,rightclick:d,originalEvent:b});var C=this._getcolumnat(y),E=this.getcellvalue(this.getboundindex(s),C.datafield);if(this.editable&&this.editcell&&C.datafield==this.editcell.column&&this.getboundindex(s)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(s),column:C?C.getcolumnproperties():null,row:s,visibleindex:s.visibleindex,datafield:C?C.datafield:null,columnindex:y,value:E,rightclick:d,originalEvent:b}),this.isTouchDevice())if("checkbox"==C.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(t,C.datafield),!0}else if("button"==C.columntype&&this._overlayElement)return C.buttonclick&&C.buttonclick(v.cells[y].buttonrow,b),!0;var F=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(s)&&(this._raiseEvent(22,{rowindex:this.getboundindex(s),row:s,visibleindex:s.visibleindex,group:s.group,rightclick:d,originalEvent:b}),this._clickedcolumn==C.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(s),row:s,visibleindex:s.visibleindex,column:C?C.getcolumnproperties():null,datafield:C?C.datafield:null,columnindex:y,value:E,rightclick:d,originalEvent:b}),F=!0,this._clickedrowindex=-1,this._clickedcolumn=null,b.isPropagationStopped&&b.isPropagationStopped()))return!1;if(d)return!0;F||(this._clickedrowindex=this.getboundindex(s),this._clickedcolumn=C.datafield);var G=a.jqx.utilities.getBrowser();if("msie"==G.browser&&parseInt(G.version)<=7&&(0==y&&this.rowdetails&&(u="jqx-grid-group-collapse"),z>0&&z>=y&&(u="jqx-grid-group-collapse")),-1!=u.indexOf("jqx-grid-group-expand")||-1!=u.indexOf("jqx-grid-group-collapse"))this.rtl?z>0&&y>v.cells.length-z-1&&this._togglegroupstate?this._togglegroupstate(s.bounddata,!0):y==v.cells.length-1-z&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(s.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):z>0&&z>y&&this._togglegroupstate?this._togglegroupstate(s.bounddata,!0):y==z&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(s.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=s.boundindex){var H=this.selectedrowindexes.slice(0),I=!1;if("none"!=c.selectionmode&&"checkbox"!=c.selectionmode&&this._selectrowwithmouse){("multiplecellsadvanced"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplerowsextended"==c.selectionmode||"multiplerowsadvanced"==c.selectionmode)&&(b.ctrlKey||b.shiftKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array));var J=!1,K=this.getboundindex(s);(c._oldselectedrow===K||"none"===c.selectionmode)&&(J=!0),-1==c.selectionmode.indexOf("cell")?("singlerow"!=c.selectionmode||c.selectedrowindex!=K&&"singlerow"==c.selectionmode)&&(this._applyrowselection(K,!0,!1,null,C.datafield),this._selectrowwithmouse(c,r,H,C.datafield,b.ctrlKey,b.shiftKey)):null!=C.datafield&&(this._selectrowwithmouse(c,r,H,C.datafield,b.ctrlKey,b.shiftKey),b.shiftKey||this._applycellselection(K,C.datafield,!0,!1)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(I=!0),c._oldselectedcell=c.selectedcell,c._oldselectedrow=K}if(c.autosavestate&&c.savestate&&c.savestate(),c.editable&&c.begincelledit&&"programmatic"!=c.editmode){if(b.isPropagationStopped&&b.isPropagationStopped())return!1;if("selectedrow"==c.editmode){if(J&&!c.editcell){if("checkbox"!==C.columntype){c.beginrowedit(this.getboundindex(s))}}else if(c.editcell&&!J&&"none"!=c.selectionmode){c.endrowedit(c.editcell.row)}}else{var L="click"==c.editmode||I&&"selectedcell"==c.editmode;if(-1==c.selectionmode.indexOf("cell")&&"dblclick"!=c.editmode&&(L=!0),L&&void 0!=s.boundindex&&C.editable){c.begincelledit(this.getboundindex(s),C.datafield,C.defaulteditorvalue);-1!=c.selectionmode.indexOf("cell")&&c._applycellselection(K,C.datafield,!1,!1)}-1!=c.selectionmode.indexOf("cell")&&"selectedcell"==c.editmode&&!I&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(a,b,c,d){},_rowPropertyChanged:function(a,b,c,d){},_serializeObject:function(b){if(null==b)return"";var c="";return a.each(b,function(a){var b=this;a>0&&(c+=", "),c+="[";var d=0;for(obj in b)d>0&&(c+=", "),c+="{"+obj+":"+b[obj]+"}",d++;c+="]"}),c},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized)switch(c=c.toLowerCase()){case"enablebrowserselection":b.showfilterrow||(b.showstatusbar||b.showtoolbar||b.host.addClass("jqx-disableselect"),b.content.addClass("jqx-disableselect")),b.enablebrowserselection&&(b.content.removeClass("jqx-disableselect"),b.host.removeClass("jqx-disableselect"));break;case"columnsheight":(25!=b.columnsheight||b.columngroups)&&b._measureElement("column"),b._render(!0,!0,!0,!1,!1);break;case"rowsheight":e!=d&&(25!=b.rowsheight&&b._measureElement("cell"),b.virtualsizeinfo=null,b.rendergridcontent(!0,!1),b.refresh());break;case"scrollMode":b.vScrollInstance.thumbStep=b.rowsheight;break;case"showdefaultloadelement":b._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":b._initmenu();break;case"touchmode":d!=e&&(b._removeHandlers(),b.touchDevice=null,b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),b._updateTouchScrolling(),b._arrange(),b._updatecolumnwidths(),b._updatecellwidths(),b._addHandlers());break;case"autoshowcolumnsmenubutton":d!=e&&b._rendercolumnheaders();break;case"rendergridrows":d!=e&&b.updatebounddata();break;case"editmode":d!=e&&(b._removeHandlers(),b._addHandlers());break;case"source":b.updatebounddata(),b.virtualmode&&!b._loading&&(b.loadondemand=!0,b._renderrows(b.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":b._initgroupsheader&&b._initgroupsheader();break;case"showgroupsheader":d!=e&&(b._arrange(),b._initgroupsheader&&b._initgroupsheader(),b._renderrows(b.virtualsizeinfo));break;case"theme":e!=d&&(b.pager&&(b.pager.removeClass(),b.pager.addClass(b.toTP("jqx-grid-pager")),b.pager.addClass(b.toTP("jqx-widget-header")),b.pageable&&b._updatepagertheme&&b._updatepagertheme()),b.groupsheader&&(b.groupsheader.removeClass(),b.groupsheader.addClass(b.toTP("jqx-grid-groups-header")),b.groupsheader.addClass(b.toTP("jqx-widget-header"))),b.toolbar.removeClass(),b.toolbar.addClass(b.toTP("jqx-grid-toolbar")),b.toolbar.addClass(b.toTP("jqx-widget-header")),b.statusbar.removeClass(),b.statusbar.addClass(b.toTP("jqx-grid-statusbar")),b.statusbar.addClass(b.toTP("jqx-widget-content")),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.hScrollBar.jqxScrollBar({theme:b.theme}),b.host.removeClass(),b.host.addClass(b.toTP("jqx-grid")),b.host.addClass(b.toTP("jqx-reset")),b.host.addClass(b.toTP("jqx-rc-all")),b.host.addClass(b.toTP("jqx-widget")),b.host.addClass(b.toTP("jqx-widget-content")),b.bottomRight.removeClass(),b.bottomRight.addClass(b.toTP("jqx-grid-bottomright")),b.bottomRight.addClass(b.toTP("jqx-scrollbar-state-normal")),b.toolbar.addClass(b.toTP("jqx-grid-toolbar")),b.toolbar.addClass(b.toTP("jqx-widget-header")),b.statusbar.addClass(b.toTP("jqx-grid-statusbar")),b.statusbar.addClass(b.toTP("jqx-widget-header")),b.render());break;case"showtoolbar":case"toolbarheight":d!=e&&(b._arrange(),b.refresh());break;case"showstatusbar":d!=e&&(b.statusbar&&(e?b.statusbar.show():b.statusbar.hide()),b._arrange(),b.refresh());break;case"statusbarheight":d!=e&&(b._arrange(),b.refresh());break;case"filterable":case"showfilterrow":d!=e&&b.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":d!=e&&b.rendergridcontent();break;case"showrowdetailscolumn":d!=e&&b.render();break;case"scrollbarsize":d!=e&&b._arrange();break;case"width":case"height":d!=e&&(b._updatesize(!0,!0),b._resizeWindow(),b.virtualmode&&!b._loading&&b.vScrollInstance.setPosition(0));break;case"altrows":case"altstart":case"altstep":d!=e&&b._renderrows(b.virtualsizeinfo);break;case"groupsheaderheight":d!=e&&(b._arrange(),b._initgroupsheader&&b._initgroupsheader());break;case"pagerheight":d!=e&&b._initpager();break;case"selectedrowindex":b.selectrow(e);break;case"selectionmode":d!=e&&("none"==e&&(b.selectedrowindexes=new Array,b.selectedcells=new Array,b.selectedrowindex=-1),b._renderrows(b.virtualsizeinfo),"checkbox"==e&&b._render(!1,!1,!0,!1,!1));break;case"showheader":e?b.columnsheader.css("display","block"):b.columnsheader.css("display","none");break;case"virtualmode":d!=e&&(b.dataview.virtualmode=b.virtualmode,b.dataview.refresh(!1),b._render(!1,!1,!1));break;case"columnsmenu":d!=e&&b.render();break;case"columngroups":b._render(!0,!0,!0,!1,!1);break;case"columns":if(b._serializeObject(b._cachedcolumns)!==b._serializeObject(e)){var f=!1;b.filterable&&d&&d.records&&a.each(d.records,function(){this.filter&&(f=!0),b.dataview.removefilter(this.displayfield,this.filter)}),b._columns=null,b._filterrowcache=[],b.render(),f&&b.applyfilters(),b._cachedcolumns=b.columns,b.removesort&&b.removesort()}else b._initializeColumns();break;case"autoheight":d!=e&&b._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":d!=e&&b._initpager&&(b.pagershowrowscombo&&(b.pagershowrowscombo.jqxDropDownList("destroy"),b.pagershowrowscombo=null),b.pagerrightbutton&&(b.removeHandler(b.pagerrightbutton,"mousedown"),b.removeHandler(b.pagerrightbutton,"mouseup"),b.removeHandler(b.pagerrightbutton,"click"),b.pagerrightbutton.jqxButton("destroy"),b.pagerrightbutton=null),b.pagerleftbutton&&(b.removeHandler(b.pagerleftbutton,"mousedown"),b.removeHandler(b.pagerleftbutton,"mouseup"),b.removeHandler(b.pagerleftbutton,"click"),b.pagerleftbutton.jqxButton("destroy"),b.removeHandler(a(document),"mouseup.pagerbuttons"+b.element.id),b.pagerleftbutton=null),b.pagerdiv.remove(),b._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(d!=e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);if(!b.host.jqxDropDownList||!b.host.jqxListBox)return void b._testmodules();if(b._initpager){if("pageable"!=c&&"pagermode"!=c&&"string"==typeof e){var g="The expected value type is: Int.";if("pagesize"!=c)var g="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+c+". "+g)}b.dataview.pageable=b.pageable,b.dataview.pagenum=0,b.dataview.pagesize=b._getpagesize(),b.virtualmode&&b.updatebounddata(),b.dataview.refresh(!0),b._initpager(),"pagesizeoptions"==c&&null!=e&&e.length>0&&(b.pagesize=parseInt(e[0]),b.dataview.pagesize=parseInt(e[0]),b.prerenderrequired=!0,b._requiresupdate=!0,b.dataview.pagenum=-1,b.gotopage(0))}b._render(!1,!1,!1)}break;case"groups":b._serializeObject(d)!==b._serializeObject(e)&&(b.dataview.groups=e,b._refreshdataview(),b._render(!0,!0,!0,!1));break;case"groupable":d!=e&&(b.dataview.groupable=b.groupable,b.dataview.pagenum=0,b.dataview.refresh(!1),b._render(!1,!1,!0));break;case"renderstatusbar":null!=e&&b.renderstatusbar(b.statusbar);break;case"rendertoolbar":null!=e&&b.rendertoolbar(b.toolbar);break;case"disabled":e?b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(b,"aria-disabled",b.disabled),b.pageable&&(b.pagerrightbutton&&(b.pagerrightbutton.jqxButton({disabled:e}),b.pagerleftbutton.jqxButton({disabled:e}),b.pagershowrowscombo.jqxDropDownList({disabled:e}),b.pagergotoinput.attr("disabled",e)),b.pagerfirstbutton&&(b.pagerfirstbutton.jqxButton({disabled:e}),b.pagerlastbutton.jqxButton({disabled:e}))),b.vScrollBar.jqxScrollBar({disabled:e}),b.hScrollBar.jqxScrollBar({disabled:e}),b.filterable&&b.showfilterrow&&b._updatefilterrowui(!0)}}}),a.jqx.collection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(a){},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b,this.updating||this._raiseEvent({type:"replace",element:b})},this.isempty=function(a){return void 0==this.records[a]?!0:!1},this.initialize=function(a){1>a&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null==a?!1:(this.records[this.records.length]=a,this.updating||this._raiseEvent({type:"add",element:a}),!0)},this.insertAt=function(a,b){return null==a||void 0==a?!1:null==b?!1:a>=0?a<this.records.length?(this.records.splice(a,0,b),this.updating||this._raiseEvent({type:"insert",index:a,element:b}),!0):this.add(b):!1},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return-1!=b?(this.records.splice(b,1),this.updating||this._raiseEvent({type:"remove",element:a}),!0):!1},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(0>a)return!1;if(a<this.records.length){var b=this.records[a];return this.records.splice(a,1),this.updating||this._raiseEvent({type:"removeAt",index:a,element:b}),!0}return!1},this},a.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(a){this.suspend=!1,void 0==a&&(a=!0),this.refresh(a)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(b,c){var d=b._source?!0:!1,e=null;d?(e=b,b=b._source):e=new a.jqx.dataAdapter(b,{autoBind:!1});var f=function(a){e.recordids=[],e.records=new Array,e.cachedrecords=new Array,e.originaldata=new Array,e._options.virtualmode=a.virtualmode,e._options.totalrecords=a.totalrecords,e._options.originaldata=a.originaldata,e._options.recordids=a.recordids,e._options.cachedrecords=new Array,e._options.pagenum=a.pagenum,e._options.pageable=a.pageable,void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async),void 0!=b.updaterow&&(e._options.updaterow=b.updaterow),void 0!=b.addrow&&(e._options.addrow=b.addrow),void 0!=b.deleterow&&(e._options.deleterow=b.deleterow),0==a.pagesize&&(a.pagesize=10),e._options.pagesize=a.pagesize},g=function(c){if(c.totalrecords=e.totalrecords,c.virtualmode){var d={startindex:c.pagenum*c.pagesize,endindex:c.pagenum*c.pagesize+c.pagesize};if(void 0!=b.recordstartindex&&(d.startindex=parseInt(b.recordstartindex)),void 0!=b.recordendindex?d.endindex=parseInt(b.recordendindex):c.grid.pageable||(d.endindex=d.startindex+100,c.grid.autoheight&&(d.endindex=d.startindex+c.totalrecords)),b.recordendindex||(c.grid.pageable?d={startindex:c.pagenum*c.pagesize,endindex:c.pagenum*c.pagesize+c.pagesize}:(d.endindex=d.startindex+100,c.grid.autoheight&&(d.endindex=d.startindex+c.totalrecords))),d.data=e.records,c.grid.rendergridrows&&c.totalrecords>0){var f=0;if(b.records=c.grid.rendergridrows(d),b.records.length&&(f=b.records.length),b.records&&!b.records[d.startindex]){var g=new Array,h=d.startindex;a.each(b.records,function(){g[h]=this,h++,f++}),b.records=g}if(0==f&&b.records&&a.each(b.records,function(){f++}),f>0&&f<d.endindex-d.startindex&&!c.grid.groupable)for(var i=b.records[0],j=0;j<d.endindex-d.startindex-f;j++){var k={};for(obj in i)k[obj]="";b.records.push&&b.records.push(k)}}b.records&&0!=c.totalrecords||(b.records=new Array),c.originaldata=b.records,c.records=b.records,c.cachedrecords=b.records}else c.originaldata=e.originaldata,c.records=e.records,c.recordids=e.recordids,c.cachedrecords=e.cachedrecords};f(this),this.source=b,void 0!==c&&(uniqueId=c);var h=this.that;switch(b.datatype){case"local":case"array":default:if(null==b.localdata&&(b.localdata=[]),null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(c){if(void 0!=c&&""!=c){var d=e._changedrecords[0];if(d){var f=new Array;a.each(e._changedrecords,function(a){var b=this.index,d=this.record;switch(h.grid._updateFromAdapter=!0,c){case"update":var g=h.grid.getrowid(b);return a==e._changedrecords.length-1?h.grid.updaterow(g,d):h.grid.updaterow(g,d,!1),void(h.grid._updateFromAdapter=!1);case"add":return h.grid.addrow(null,d),void(h.grid._updateFromAdapter=!1);case"remove":var g=h.grid.getrowid(b);return void f.push(g)}}),f.length>0&&(h.grid.deleterow(f,!1),h.grid._updateFromAdapter=!1)}if("update"==c)return}var i=h.totalrecords;g(h,c),"updateData"==c?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex&&this.virtualmode?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(i!=h.totalrecords))};i(),e.bindBindingUpdate(h.grid.element.id,i)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(a){var c=h.totalrecords;g(h),"updateData"==a?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(c!=h.totalrecords))};return i(),void e.bindBindingUpdate(h.grid.element.id,i)}for(var j=0,k={},l=0;l<this.filters.length;l++){var m=this.filters[l].datafield,n=this.filters[l].filter,o=n.getfilters();k[m+"operator"]=n.operator;for(var p=0;p<o.length;p++){o[p].datafield=m;var q=o[p].value;if("datefilter"==o[p].type)if(o[p].value&&o[p].value.toLocaleString){var r=this.grid.getcolumn(o[p].datafield);if(r.cellsformat){var s=this.grid.source.formatDate(o[p].value,r.cellsformat,this.grid.gridlocalization);s?k["filtervalue"+j]=s:k["filtervalue"+j]=o[p].value.toLocaleString()}else k["filtervalue"+j]=q.toString()}else k["filtervalue"+j]=q.toString();else k["filtervalue"+j]=q.toString();k["filtercondition"+j]=o[p].condition,k["filteroperator"+j]=o[p].operator,k["filterdatafield"+j]=m,j++}}k.filterscount=j,k.groupscount=h.groups.length;for(var l=0;l<h.groups.length;l++)k["group"+l]=h.groups[l];void 0==b.recordstartindex&&(b.recordstartindex=0),(void 0==b.recordendindex||0==b.recordendindex)&&(h.grid.height&&-1==h.grid.height.toString().indexOf("%")?(b.recordendindex=parseInt(h.grid.height)/h.grid.rowsheight,b.recordendindex+=2):b.recordendindex=a(window).height()/h.grid.rowsheight,this.pageable&&(b.recordendindex=this.pagesize)),a.extend(k,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pagesize,recordstartindex:b.recordstartindex,recordendindex:b.recordendindex});var t=e._options.data;e._options.data?a.extend(e._options.data,k):(b.data&&a.extend(k,b.data),e._options.data=k);var i=function(){var c=a.jqx.browser.msie&&a.jqx.browser.version<9,d=function(){var a=h.totalrecords;g(h),b.recordstartindex?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(a!=h.totalrecords)};if(c)try{d()}catch(e){}else d()};e.unbindDownloadComplete(h.grid.element.id),e.bindDownloadComplete(h.grid.element.id,i),!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind?e.dataBind():h.grid.isInitialized||h.grid.autobind||i(),e._options.data=t}},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},this.getvaluebytype=function(b,c){var d=b;if("date"==c.type){var e=new Date(b);b=("NaN"==e.toString()||"Invalid Date"==e.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e,null==b&&(b=d)}else if("float"==c.type){var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else"bool"==c.type&&(null!=b&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b?!1:"");return b},this.setpaging=function(a){void 0!=a.pageSize&&(this.pagesize=a.pageSize),void 0!=a.pageNum&&(this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(a,b){for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}-1==c?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removefilter=function(a){for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this.getItemFromIndex=function(a){return this.records[a]},this.updaterow=function(a,b,c){var d=this.filters&&this.filters.length>0&&!this.virtualmode;if(!d&&void 0!=b&&void 0!=a){b.uid=a,b[this.source.id]||(b[this.source.id]=b.uid);var e=this.recordsbyid["id"+a],f=this.records.indexOf(e);return-1==f?!1:(this.records[f]=b,this.cachedrecords&&(this.cachedrecords[f]=b),(1==c||void 0==c)&&this.refresh(),this.changedrecords[b.uid]={Type:"Update",OldData:e,Data:b},!0)}if(this.filters&&this.filters.length>0){for(var g=this.cachedrecords,e=null,f=-1,h=0;h<g.length;h++)if(g[h].uid==a){e=g[h],f=h;break}if(e){var i=this.that;for(var j in b)i.cachedrecords[f][j]=b[j];return(1==c||void 0==c)&&this.refresh(),!0}}return!1},this.addrow=function(a,b,c,d){if(void 0!=b){if(a)b.uid=a;else{b.uid=this.getid(this.source.id,b,this.totalrecords);for(var e=this.recordsbyid["id"+b.uid];null!=e;){var f=Math.floor(1e4*Math.random()).toString();b.uid=f,e=this.recordsbyid["id"+f]}}return b[this.source.id]||void 0!=this.source.id&&(b[this.source.id]=b.uid),"last"==c?this.records.push(b):"number"==typeof c&&isFinite(c)?this.records.splice(c,0,b):this.records.splice(0,0,b),this.filters&&this.filters.length>0&&("last"==c?this.cachedrecords.push(b):"number"==typeof c&&isFinite(c)?this.cachedrecords.splice(c,0,b):this.cachedrecords.splice(0,0,b)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==d||void 0==d)&&this.refresh(),this.changedrecords[b.uid]={Type:"New",Data:b},!0}return!1},this.deleterow=function(a,b){if(void 0!=a){var c=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+a]&&!c){var d=this.recordsbyid["id"+a],e=this.records.indexOf(d);return this.changedrecords[a]={Type:"Delete",Data:this.records[e]},this.records.splice(e,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),(1==b||void 0==b)&&this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var f=this.cachedrecords,d=null,e=-1,g=0;g<f.length;g++)if(f[g].uid==a){d=f[g],e=g;break}if(d)return this.cachedrecords.splice(e,1),(1==b||void 0==b)&&(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(b,c,d,e,f,g,h){var i=this.that,j=new Array,k=b,l=c,m=d,n=e,o=l.length,p=0,q=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var r=Object.size(k);this.totalrecords=r,a.each(this.records,function(b){var c=this,d=0;return a.each(c,function(a,b){i.columns[d++]=a}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var g=0;if(!this.groupable)return void this.updateview();var h=this.totalrecords}else var g=0,h=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var s=g;s=this.loadgrouprecords(0,g,h,m,q,n,l,o,j)}else p=this.loadflatrecords(g,h,m,q,n,l,o,j);return o>q&&l.splice(q,o-q),this.groups.length>0&&this.groupable?this.totalrows=s:this.totalrows=p,j},this.loadflatrecords=function(b,c,d,e,f,g,h,i){var j=this.that,k=b,l=b;c=Math.min(c,this.totalrecords);for(var m=null!=this.sortdata,n=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),m?this.sortdata:this.records),o=b;c>o;o++){var p={};m?(p=a.extend({},n[o].value),id=p[j.uniqueId],p.boundindex=n[o].index,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,p.boundindex)),j.recordsbyid["id"+p.uid]=n[o].value,j.loadedrecords[k]=p,p.uniqueid=j.generatekey(),j.bounditems[p.boundindex]=p):(p=a.extend({},n[o]),id=p[j.uniqueId],p.boundindex=k,j.loadedrecords[k]=p,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,k)),j.recordsbyid["id"+p.uid]=n[o],p.uniqueid=j.generatekey(),j.bounditems[this.bounditems.length]=p),(e>=h||id!=g[e][j.uniqueId]||f&&f[id])&&(i[i.length]=e),g[e]=p,e++,p.visibleindex=l,l++,k++}if(j.grid.summaryrows){var q=k;a.each(j.grid.summaryrows,function(){var b=a.extend({},this);b.boundindex=c++,j.loadedrecords[q]=b,b.uniqueid=j.generatekey(),j.bounditems[j.bounditems.length]=b,g[e]=b,e++,b.visibleindex=l,l++,q++})}return l},this.updateview=function(a,b){var c=this.that,d=this.pagesize*this.pagenum,e=0,f=new Array,g=this.filters,h=this.updated,i=f.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],
void(this.totalrows=this.rows.length);var j=this.pagesize*(1+this.pagenum);return j>this.totalrecords&&(j=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,j,g,e,h,f,i,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=f.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var k=this.pagesize;0==k&&(k=Math.min(100,this.totalrecords));var l=k*this.pagenum;if(0==this.loadedrecords.length&&(l=0),null!=a&&null!=b?this.loadflatrecords(a,b,g,e,h,f,i,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=this.loadedrecords.length,this.rows=f,f.length>=k)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)f=this._updategroupsinpage(c,g,d,e,i,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var m=this.pagesize*this.pagenum;m<this.pagesize*(1+this.pagenum);m++){var n=m<this.loadedrecords.length?this.loadedrecords[m]:null;null!=n&&((!this.pagesize||d>=this.pagesize*this.pagenum&&d<=this.pagesize*(this.pagenum+1))&&(f[e]=n,e++),d++)}if((0==f.length||f.length<this.pagesize)&&!this.pageable&&this.virtualmode){e=f.length;for(var o=f.length,m=this.pagesize*this.pagenum;m<this.pagesize*(1+this.pagenum)-o;m++){var n={};n.boundindex=m+o,n.visibleindex=m+o,n.uniqueid=c.generatekey(),n.empty=!0,c.bounditems[m+o]=n,f[e]=n,e++}}this.rows=f},this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(b){if(!this.suspend){void 0==b&&(b=!0);var c=this.rows.length,d=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var e="",f=this.cachedrecords.length,g=new Array;this.totalrecords=0;var h=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var i=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)g=this.source.filter(this.filters,h,f),void 0==g&&(g=new Array),this.records=g;else if(null==this.source.filter||void 0==this.source.filter){for(var j=0;f>j;j++){for(var k=h[j],l=void 0,m=0;i>m;m++){var e=this.filters[m].filter,n=k[this.filters[m].datafield],o=e.evaluate(n);l=void 0==l?o:"or"==e.operator?l||o:l&&o}l?(g[g.length]=a.extend({dataindex:j},k),this._dataIndexToBoundIndex[j]={boundindex:g.length-1}):this._dataIndexToBoundIndex[j]=null}this.records=g}if(this.sortdata){var p=this.sortfield;if(this.sortcache[p]){this.sortdata=null;var q=this.sortcache[p].direction;return this.sortcache[p]=null,void this.sortby(this.sortfield,q)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var h=this.cachedrecords;if(this.records=h,this.sortdata){var p=this.sortfield;if(this.sortcache[p]){this.sortdata=null;var q=this.sortcache[p].direction;return this.sortcache[p]=null,void this.sortby(this.sortfield,q)}}}var r=this.reload(this.records,this.rows,this.filter,this.updated,b);this.updated=null,null!=this.rowschangecallback&&(d!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),c!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:c,current:rows.length}}),(r.length>0||c!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:c,current:rows.length,diff:r}}))}},this}}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var b=this.dataview.loadedrecords,c=0;a>c;c++){var d=b[c];if(d){var e=this.getboundindex(d);void 0!=e&&(this.selectedrowindexes[c]=e)}else this.selectedrowindexes[c]=c}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var b=this.dataview.loadedrecords,c=0;a>c;c++){var d=b[c];d?delete this.selectedrowindexes[c]:this.selectedrowindexes[c]=c}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(a,b){this._applyrowselection(a,!0,b),b!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var a=this.getrows();if(a&&this._checkboxcolumn){if(0===a.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var b=a.length;this.groupable&&(b=this.dataview.loadedrecords.length),this.virtualmode&&(b=this.source._source.totalrecords);var c=this.selectedrowindexes.length;c===b?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===c?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(a,b){this._applyrowselection(a,!1,b),b!==!1&&this._updatecheckboxselection()},selectcell:function(a,b){this._applycellselection(a,b,!0)},unselectcell:function(a,b){this._applycellselection(a,b,!1)},clearselection:function(a,b){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,b!==!1)for(var c=0;c<this.selectedrowindexes.length;c++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[c]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===a?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex)for(var a=0;a<this.selectedrowindexes.length;a++)return this.selectedrowindexes[a];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var a=this.selectedcell;return a.row=this.selectedcell.rowindex,a.column=this.selectedcell.datafield,a.value=this.getcellvalue(a.row,a.column),a},getselectedcells:function(){var a=new Array;for(obj in this.selectedcells)a[a.length]=this.selectedcells[obj];return a},_getcellsforcopypaste:function(){var a=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var b=this.selectedrowindexes,c=0;c<b.length;c++)for(var d=b[c],e=0;e<this.columns.records.length;e++){var f=(d+"_"+this.columns.records[e].datafield,{rowindex:d,datafield:this.columns.records[e].datafield});a.push(f)}return a},deleteselection:function(){var a=this,b=a.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(b=this._getcellsforcopypaste()),null!=b&&b.length>0){for(var c=0;c<b.length;c++){var d=b[c],e=a.getcolumn(d.datafield),f=a.getcellvalue(d.rowindex,d.datafield);if(e&&""!==f){var g=null;"checkbox"==e.columntype&&(e.threestatecheckbox||(g=!1)),a._raiseEvent(17,{rowindex:d.rowindex,datafield:d.datafield,value:f}),c==b.length-1?(a.setcellvalue(d.rowindex,d.datafield,g,!0),e.displayfield!=e.datafield&&a.setcellvalue(d.rowindex,e.displayfield,g,!0)):(a.setcellvalue(d.rowindex,d.datafield,g,!1),e.displayfield!=e.datafield&&a.setcellvalue(d.rowindex,e.displayfield,g,!0)),a._raiseEvent(18,{rowindex:d.rowindex,datafield:d.datafield,oldvalue:f,value:g})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var b="",c=this;this.clipboardselection={},this._clipboardselection=[];var d=c.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(d=this._getcellsforcopypaste()),null!=d&&d.length>0){for(var e=999999999999999,f=-1,g=0;g<d.length;g++){var h=d[g],i=c.getcolumn(h.datafield);if(null!=i){var j=c.getcelltext(h.rowindex,h.datafield);this.clipboardselection[h.rowindex]||(this.clipboardselection[h.rowindex]={}),this.clipboardselection[h.rowindex][h.datafield]=j,e=Math.min(e,h.rowindex),f=Math.max(f,h.rowindex)}}for(var k=e;f>=k;k++){var l=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[k]&&a.each(this.clipboardselection[k],function(a,d){l>0&&(b+="	");var e=d;null==d&&(e=""),c._clipboardselection[c._clipboardselection.length-1][l]=e,l++,b+=e}),f>k&&(b+="\r\n")}}return this.clipboardselectedtext=b,b},pasteselection:function(){var a=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(a=this._getcellsforcopypaste()),null!=a&&a.length>0){var b=a[0].rowindex,c=a[0].datafield,d=this._getcolumnindex(c);if(this.selectedrowindexes=new Array,this.selectedcells=new Array,!this._clipboardselection)return;for(var e=0;e<this._clipboardselection.length;e++)for(var f=0;f<this._clipboardselection[e].length;f++){var g=this.getcolumnat(d+f);if(g){var h=this.getcell(b+e,g.datafield),i=null;if(i=this._clipboardselection[e][f],null!=i){if(g.cellsformat&&(-1!=g.cellsformat.indexOf("p")||-1!=g.cellsformat.indexOf("c")||-1!=g.cellsformat.indexOf("n")||-1!=g.cellsformat.indexOf("f"))){i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var j=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d};i=j(i,this.gridlocalization.thousandsseparator,""),i=i.replace(this.gridlocalization.decimalseparator,"."),i.indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var k="",l=0;l<i.length;l++){var m=i.substring(l,l+1);"-"===m&&(k+="-"),"."===m&&(k+="."),null!=m.match(/^[0-9]+$/)&&(k+=m)}i=k,i=i.replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}this._raiseEvent(17,{rowindex:b+e,datafield:h.datafield,value:i}),this.setcellvalue(h.row,h.column,i,!1),this._raiseEvent(18,{rowindex:b+e,datafield:h.datafield,oldvalue:this.getcellvalue(h.rowindex,h.datafield),value:i}),this._applycellselection(b+e,h.datafield,!0,!1)}}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},_applyrowselection:function(a,b,c,d,e){if(null==a)return!1;var f=this.selectedrowindex;if("singlerow"==this.selectionmode&&(b?this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)}):this._raiseEvent(3,{rowindex:a,row:this.getrowdata(a)}),this._raiseEvent(3,{rowindex:f}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==d&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var g=this.getrowdata(a);g&&void 0!==g.dataindex?a=g.dataindex:g&&void 0===g.dataindex&&void 0!=g.uid&&(a=this.getrowboundindexbyid(g.uid))}var h=this.selectedrowindexes.indexOf(a);if(b)this.selectedrowindex=a,-1==h?(this.selectedrowindexes.push(a),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(h,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(a)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(h>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var i=this.selectedrowindexes[h];this.selectedrowindexes.splice(h,1),this._raiseEvent(3,{rowindex:i,row:this.getrowdata(a)}),this.selectedrowindex=-1}return(void 0==c||c)&&this._rendervisualrows(),!0},_applycellselection:function(a,b,c,d){if(null==a)return!1;if(null==b)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var e=this.selectedcell;null!=e&&this._raiseEvent(16,{rowindex:e.rowindex,datafield:e.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var e=this.selectedcell;null!=e&&this._raiseEvent(16,{rowindex:e.rowindex,datafield:e.datafield})}var f=a+"_"+b;if(this.dataview.filters.length>0){var g=this.getrowdata(a);if(g&&void 0!==g.dataindex){a=g.dataindex;var f=a+"_"+b}else if(g&&void 0===g.dataindex&&g.uid){a=this.getrowboundindexbyid(g.uid);var f=a+"_"+b}}var h={rowindex:a,datafield:b};return c?(this.selectedcell=h,this.selectedcells[f]?("multiplecells"==this.selectionmode||"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)&&(delete this.selectedcells[f],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,h)):(this.selectedcells[f]=h,this.selectedcells.length++,this._raiseEvent(15,h))):(delete this.selectedcells[f],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,h)),(void 0==d||d)&&this._rendervisualrows(),!0},_getcellindex:function(b){var c=-1;return a.each(this.selectedcells,function(){return c++,this[b]?!1:void 0}),c},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var a=this.table.find(".jqx-grid-cell-hover");a.length>0&&(a.removeClass(this.toTP("jqx-grid-cell-hover")),a.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var b=this.table[0].rows.length,c=this.table[0].rows,d=this.toTP("jqx-grid-cell-selected"),e=this.toTP("jqx-fill-state-pressed"),f=this.toTP("jqx-grid-cell-hover"),g=this.toTP("jqx-fill-state-hover"),h=0;b>h;h++)for(var i=c[h],j=i.cells.length,k=i.cells,l=0;j>l;l++){var m=k[l],n=a(m);-1!=m.className.indexOf("jqx-grid-cell-selected")&&(n.removeClass(d),n.removeClass(e)),-1!=m.className.indexOf("jqx-grid-cell-hover")&&(n.removeClass(f),n.removeClass(g))}},_selectpath:function(a,b){var c=this,d=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,e=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(e>=d){var f=this._getcolumnindex(this._lastClickedCell.column),g=this._getcolumnindex(b),h=Math.min(f,g),i=Math.max(f,g);this.selectedcells=new Array;for(var j=this.dataview.loadedrecords,k=d;e>=k;k++)for(var l=h;i>=l;l++){var a=j[k];this._applycellselection(c.getboundindex(a),c._getcolumnat(l).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(a){if("multiplerowsextended"==this.selectionmode){var b=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,c=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0,d=this.dataview.loadedrecords;if(c>=b){this.selectedrowindexes=new Array;for(var e=b;c>=e;e++){var a=d[e],f=this.getrowboundindex(e);this._applyrowselection(f,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(a,b,c,d,e,f){var g=b.row;if(void 0!=g){var h=b.index;if(void 0!=this.hittestinfo[h]){var i=this.hittestinfo[h].visualrow;if(!this.hittestinfo[h].details){i.cells[0].className;if(!g.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==f||1==e)){var j=this.getboundindex(g);if(this.dataview.filters.length>0){var k=this.getrowdata(j);if(k&&(j=k.dataindex,void 0==j))var j=this.getboundindex(g)}var l=-1!=c.indexOf(j),m=this.getboundindex(g)+"_"+d;if(-1!=this.selectionmode.indexOf("cell")){var n=void 0!=this.selectedcells[m];if(void 0!=this.selectedcells[m]&&n?this._selectcellwithstyle(a,!1,h,d,i):this._selectcellwithstyle(a,!0,h,d,i),f&&void 0==this._lastClickedCell){var o=this.getselectedcells();o&&o.length>0&&(this._lastClickedCell={row:o[0].rowindex,column:o[0].datafield})}f&&this._lastClickedCell&&(this._selectpath(g.visibleindex,d),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(l?e?this._applyrowselection(this.getboundindex(g),!1):this._selectrowwithstyle(a,i,!1,d):this._selectrowwithstyle(a,i,!0,d),f&&void 0==this._lastClickedCell){var p=this.getselectedrowindexes();p&&p.length>0&&(this._lastClickedCell={row:p[0],column:d})}if(f&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var q=this._lastClickedCell?Math.min(this._lastClickedCell.row,g.visibleindex):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,g.visibleindex):0,s=this.dataview.loadedrecords,t=q;r>=t;t++){var g=s[t];g&&this._applyrowselection(this.getboundindex(g),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(a,i,!0,d),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(a,!0,h,d,i);f||(this._lastClickedCell={row:g.visibleindex,column:d})}}}}},_selectcellwithstyle:function(b,c,d,e,f){var g=a(f.cells[b._getcolumnindex(e)]);g.removeClass(this.toTP("jqx-grid-cell-hover")),g.removeClass(this.toTP("jqx-fill-state-hover")),c?(g.addClass(this.toTP("jqx-grid-cell-selected")),g.addClass(this.toTP("jqx-fill-state-pressed"))):(g.removeClass(this.toTP("jqx-grid-cell-selected")),g.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(b,c,d,e){var f=c.cells.length,g=0;b.rowdetails&&b.showrowdetailscolumn?this.rtl?(f-=1,f-=this.groups.length):g=1+this.groups.length:this.groupable&&(this.rtl?f-=this.groups.length:g=this.groups.length);for(var h=g;f>h;h++){var i=c.cells[h];d?(a(i).removeClass(this.toTP("jqx-grid-cell-hover")),a(i).removeClass(this.toTP("jqx-fill-state-hover")),-1==b.selectionmode.indexOf("cell")&&(a(i).addClass(this.toTP("jqx-grid-cell-selected")),a(i).addClass(this.toTP("jqx-fill-state-pressed")))):(a(i).removeClass(this.toTP("jqx-grid-cell-hover")),a(i).removeClass(this.toTP("jqx-grid-cell-selected")),a(i).removeClass(this.toTP("jqx-fill-state-hover")),a(i).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(b,c){if(("multiplerowsextended"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode)&&c.mousecaptured){if(c.multipleselectionbegins){var d=c.multipleselectionbegins(b);if(d===!1)return!0}var e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbarheight:0;f+=g;var h=this.host.coord();if(this.hasTransform){h=a.jqx.utilities.getOffset(this.host);var i=this._getBodyOffset();h.left-=i.left,h.top-=i.top}var j=b.pageX,k=b.pageY-f;if(Math.abs(this.mousecaptureposition.left-j)>3||Math.abs(this.mousecaptureposition.top-k)>3){var l=parseInt(this.columnsheader.coord().top);this.hasTransform&&(l=a.jqx.utilities.getOffset(this.columnsheader).top),j<h.left&&(j=h.left),j>h.left+this.host.width()&&(j=h.left+this.host.width());var m=h.top+e;m>k&&(k=m+5);var n=parseInt(Math.min(c.mousecaptureposition.left,j)),o=-5+parseInt(Math.min(c.mousecaptureposition.top,k)),p=parseInt(Math.abs(c.mousecaptureposition.left-j)),q=parseInt(Math.abs(c.mousecaptureposition.top-k));if(n-=h.left,o-=h.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==c.selectionmode){var j=n,r=j+p,s=c.hScrollInstance,t=s.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(t=s.max-s.value),"hidden"!=this.vScrollBar[0].style.visibility);var u=c.table[0].rows[0],v=0,w=c.mousecaptureposition.clickedcell,x=w,y=!1,z=0,A=u.cells.length;c.mousecaptureposition.left<=b.pageX&&(z=w);for(var B=z;A>B;B++){var C=parseInt(a(this.columnsrow[0].cells[B]).css("left")),D=C-t;if(c.columns.records[B].pinned)D=C;else{var E=this._getcolumnat(B);if(!(null!=E&&E.hidden||c.groupable&&c.groups.length>0&&B<c.groups.length)){var F=D+a(this.columnsrow[0].cells[B]).width();if(c.mousecaptureposition.left>b.pageX){if(F>=j&&j>=D){x=B,y=!0;break}}else if(F>=r&&r>=D){x=B,y=!0;break}}}}y||(c.mousecaptureposition.left>b.pageX?a.each(this.columns.records,function(a,b){return c.groupable&&c.groups.length>0&&a<c.groups.length?!0:this.pinned||this.hidden?void 0:(x=a,!1)}):(!c.groupable||c.groupable&&!c.groups.length>0)&&(x=u.cells.length-1));var G=w;w=Math.min(w,x),x=Math.max(G,x),o+=5,o+=f;for(var H=(c.table[0].rows.indexOf(c.mousecaptureposition.clickedrow),0),I=-1,J=-1,K=0,B=0;B<c.table[0].rows.length;B++){var L=a(c.table[0].rows[B]);0==B&&(K=L.coord().top);var M=L.height(),N=K-h.top;if(-1==I&&N+M>=o){for(var O=!1,P=0;P<c.groups.length;P++){var Q=L[0].cells[P].className;if(-1!=Q.indexOf("jqx-grid-group-collapse")||-1!=Q.indexOf("jqx-grid-group-expand")){O=!0;break}}if(O)continue;I=B}if(K+=M,c.groupable&&c.groups.length>0){for(var O=!1,P=0;P<c.groups.length;P++){var Q=L[0].cells[P].className;if(-1!=Q.indexOf("jqx-grid-group-collapse")||-1!=Q.indexOf("jqx-grid-group-expand")){O=!0;break}}if(O)continue;for(var v=0,R=c.groups.length;R<L[0].cells.length;R++){var S=L[0].cells[R];""==a(S).html()&&v++}if(v==L[0].cells.length-c.groups.length)continue}if(-1!=I&&(H+=M),N+M>o+q){J=B;break}}if(-1!=I){o=a(c.table[0].rows[I]).coord().top-h.top-f-2;var T=0;this.filterable&&this.showfilterrow&&(T=this.filterrowheight),parseInt(c.table[0].style.top)<0&&o<this.rowsheight+T&&(o-=parseInt(c.table[0].style.top),H+=parseInt(c.table[0].style.top)),q=H;var U=a(this.columnsrow[0].cells[w]),V=a(this.columnsrow[0].cells[x]);if(n=parseInt(U.css("left")),p=parseInt(V.css("left"))-parseInt(n)+V.width()-2,n-=t,c.editcell&&c.editable&&c.endcelledit&&(w!=x||I!=J)){if(0==c.editcell.validated)return;c.endcelledit(c.editcell.row,c.editcell.column,!0,!0)}}}this.selectionarea.width(p),this.selectionarea.height(q),this.selectionarea.css("left",n),this.selectionarea.css("top",o)}}},_handlemouseupselection:function(b,c){if(this.selectionarea){if("visible"!=this.selectionarea.css("visibility"))return c.mousecaptured=!1,!0;if(c.mousecaptured&&("multiplerowsextended"==c.selectionmode||"multiplerowsadvanced"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode)&&(c.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0,f=this.showtoolbar?this.toolbarheight:0;e+=f;var g=this.selectionarea.coord(),h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host),g=a.jqx.utilities.getOffset(this.selectionarea));var i=g.left-h.left,j=g.top-d-h.top-e,k=j,l=i+this.selectionarea.width(),m=i,n=new Array,o=new Array;if("multiplerowsextended"==c.selectionmode){for(;j<k+this.selectionarea.height();){var p=this._hittestrow(i,j),q=p.row,r=p.index;-1!=r&&(o[r]||(o[r]=!0,n[n.length]=p)),j+=20}var k=0;a.each(n,function(){var a=this.row;"none"!=c.selectionmode&&c._selectrowwithmouse&&(b.ctrlKey?c._applyrowselection(c.getboundindex(a),!0,!1,!1):0==k?c._applyrowselection(c.getboundindex(a),!0,!1,!0):c._applyrowselection(c.getboundindex(a),!0,!1,!1),k++)})}else{"multiplecellsadvanced"==c.selectionmode&&(j+=2);var s=c.hScrollInstance,t=s.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(t=s.max-s.value),"hidden"!=this.vScrollBar[0].style.visibility&&(t-=this.scrollbarsize+4));var u=c.table[0].rows[0],v=c.selectionarea.height();!b.ctrlKey&&v>0&&(c.selectedcells=new Array);for(var w=v;k+w>j;){var p=c._hittestrow(i,j);if(p){var q=p.row,r=p.index;if(-1!=r&&!o[r]){o[r]=!0;for(var x=0;x<u.cells.length;x++){var y=parseInt(a(c.columnsrow[0].cells[x]).css("left"))-t,z=y+a(c.columnsrow[0].cells[x]).width();(m>=y&&z>=m||l>=y&&z>=l||y>=m&&l>=y)&&c._applycellselection(c.getboundindex(q),c._getcolumnat(x).datafield,!0,!1)}}j+=5}else j+=5}}c.autosavestate&&c.savestate&&c.savestate(),c._renderrows(c.virtualsizeinfo)}}},selectprevcell:function(a,b){var c=this._getcolumnindex(b),d=(this.columns.records.length,this._getprevvisiblecolumn(c));null!=d&&(this.clearselection(),this.selectcell(a,d.datafield))},selectnextcell:function(a,b){var c=this._getcolumnindex(b),d=(this.columns.records.length,this._getnextvisiblecolumn(c));null!=d&&(this.clearselection(),this.selectcell(a,d.datafield))},_getfirstvisiblecolumn:function(){for(var a=this.columns.records.length,b=0;a>b;b++){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_getlastvisiblecolumn:function(){for(var a=this.columns.records.length,b=a-1;b>=0;b--){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_handlekeydown:function(b,c){if(c.groupable&&c.groups.length>0)return!0;if(c.disabled)return!1;var d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(c.editcell&&"multiplecellsadvanced"!=c.selectionmode)return!0;if(c.editcell&&"multiplecellsadvanced"==c.selectionmode){if(!(d>=33&&40>=d))return!0;if(b.altKey)return c._cancelkeydown=!1,!0;if(void 0!=c._cancelkeydown&&0!=c._cancelkeydown)return c._cancelkeydown=!1,!0;if("selectedrow"===c.editmode)return!0;if(c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),c._cancelkeydown=!1,c.editcell&&!c.editcell.validated)return c._rendervisualrows(),c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!1}if("none"==c.selectionmode)return!0;if(c.showfilterrow&&c.filterable&&this.filterrow&&a(b.target).ischildof(this.filterrow))return!0;if(c.pageable&&a(b.target).ischildof(this.pager))return!0;if(this.showtoolbar&&a(b.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&a(b.target).ischildof(this.statusbar))return!0;var e=!1;if(b.altKey)return!0;if(b.ctrlKey&&this.clipboard){var f=String.fromCharCode(d).toLowerCase();if("c"==f||"x"==f){var g=this.copyselection();if(window.clipboardData)window.clipboardData.setData("Text",g);else{var h=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');h.val(g),a("body").append(h),h.select(),setTimeout(function(){document.designMode="off",h.select(),h.remove(),c.focus()},100)}}else if("v"==f){var i=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a("body").append(i),i.select();var j=this;setTimeout(function(){j._clipboardselection=new Array;for(var a=i.val(),b=a.split("\n"),c=0;c<b.length;c++)if(b[c].split("	").length>0){var d=b[c].split("	");if(1==d.length&&c==b.length-1&&""==d[0])continue;d.length>0&&j._clipboardselection.push(d)}j.pasteselection(),i.remove(),j.focus()},100)}"x"==f&&(this.deleteselection(),this.host.focus())}var k=Math.round(c._gettableheight()),l=Math.round(k/c.rowsheight),m=c.getdatainformation();switch(c.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var n=c.getselectedcell();if(null!=n){var o=this.getrowvisibleindex(n.rowindex),p=o,q=n.datafield,r=c._getcolumnindex(q),s=(c.columns.records.length,function(a,f,g){var h=function(a,b){var d=c.dataview.loadedrecords[a];if(void 0!=d&&null!=b){(g||void 0==g)&&c.clearselection();var f=c.getboundindex(d);return c.selectcell(f,b),c._oldselectedcell=c.selectedcell,e=!0,c.ensurecellvisible(a,b),!0}return!1};if(h(a,f)||(c.ensurecellvisible(a,f),h(a,f),c.virtualmode&&c.host.focus()),b.shiftKey&&9!=d){if(("multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode)&&c._lastClickedCell){c._selectpath(a,f);var i=c.dataview.loadedrecords[a],j=c.getboundindex(i);return void(c.selectedcell={rowindex:j,datafield:f})}}else b.shiftKey||(c._lastClickedCell={row:a,column:f})}),t=b.shiftKey&&"singlecell"!=c.selectionmode&&"multiplecells"!=c.selectionmode,u=function(){s(0,q,!t)},v=function(){var a=m.rowscount-1;s(a,q,!t)},w=9==d&&!b.shiftKey,x=9==d&&b.shiftKey;(w||x)&&(t=!1);var y=b.ctrlKey;if(y&&37==d){var z=c._getfirstvisiblecolumn(r);null!=z&&s(p,z.datafield)}else if(y&&39==d){var A=c._getlastvisiblecolumn(r);null!=A&&s(p,A.datafield)}else if(39==d||w){var B=c._getnextvisiblecolumn(r);null!=B?s(p,B.datafield,!t):w||(e=!0)}else if(37==d||x){var z=c._getprevvisiblecolumn(r);null!=z?s(p,z.datafield,!t):x||(e=!0)}else if(36==d)u();else if(35==d)v();else if(33==d)if(p-l>=0){var C=p-l;s(C,q,!t)}else u();else if(34==d)if(m.rowscount>p+l){var C=p+l;s(C,q,!t)}else v();else 38==d?y?u():p>0?s(p-1,q,!t):e=!0:40==d&&(y?v():m.rowscount>p+1?s(p+1,q,!t):e=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var p=c.getselectedrowindex();if(null==p||-1==p)return!0;p=this.getrowvisibleindex(p);var D=function(a,f){var g=function(a){var b=c.dataview.loadedrecords[a];if(void 0!=b){var d=c.getboundindex(b),g=c.selectedrowindex;(f||void 0==f)&&c.clearselection(),c.selectedrowindex=g,c.selectrow(d,!1);var h=c.ensurerowvisible(a);return(!h||c.autoheight||c.groupable)&&c._rendervisualrows(),e=!0,!0}return!1};if(g(a)||(c.ensurerowvisible(a),g(a,f),c.virtualmode&&setTimeout(function(){g(a,f)},25),c.virtualmode&&c.host.focus()),b.shiftKey&&9!=d){if("multiplerowsextended"==c.selectionmode&&c._lastClickedCell)return c._selectrowpath(a),void(c.selectedrowindex=c.getrowboundindex(a))}else b.shiftKey||(c._lastClickedCell={row:a},c.selectedrowindex=c.getrowboundindex(a))},t=b.shiftKey&&"singlerow"!=c.selectionmode&&"multiplerows"!=c.selectionmode,u=function(){D(0,!t)},v=function(){var a=m.rowscount-1;D(a,!t)},y=b.ctrlKey;if(36==d||y&&38==d)u();else if(35==d||y&&40==d)v();else if(33==d)if(p-l>=0){var C=p-l;D(C,!t)}else u();else if(34==d)if(m.rowscount>p+l){var C=p+l;D(C,!t)}else v();else 38==d?p>0?D(p-1,!t):e=!0:40==d&&(m.rowscount>p+1?D(p+1,!t):e=!0)}return e?(c.autosavestate&&c.savestate&&c.savestate(),!1):!0},_handlemousemove:function(b,c){if(!c.vScrollInstance.isScrolling()&&!c.hScrollInstance.isScrolling()){var d,e,f,g,h;if(c.enablehover||"multiplerows"==c.selectionmode){d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0;var i=this.showtoolbar?this.toolbarheight:0;if(e+=i,f=this.host.coord(),this.hasTransform){f=a.jqx.utilities.getOffset(this.host);var j=this._getBodyOffset();f.left-=j.left,f.top-=j.top}g=b.pageX-f.left,h=b.pageY-d-f.top-e}if("multiplerowsextended"!=c.selectionmode&&"multiplecellsextended"!=c.selectionmode&&"multiplecellsadvanced"!=c.selectionmode||1!=c.mousecaptured){if(!c.enablehover)return!0;if(!c.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var k=this._hittestrow(g,h);if(k){var l=k.row,m=k.index;if((-1==this.hoveredrow||-1==m||this.hoveredrow!=m||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=m&&void 0!=l)){var n=this.hittestinfo[m].visualrow;if(null!=n&&!(this.hittestinfo[m].details||b.clientX>a(n).width()+a(n).coord().left)){var o=0,p=n.cells.length;if(c.rowdetails&&c.showrowdetailscolumn?this.rtl?(p-=1,p-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?p-=this.groups.length:o=this.groups.length),0!=n.cells.length){var q=n.cells[o].className;if(!(l.group||this.selectionmode.indexOf("row")>=0&&-1!=q.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=m,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var r=o;p>r;r++){var s=n.cells[r];a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(s,b.pageX,b.pageY)}else{var t=-1,u=this.hScrollInstance,v=u.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(v=u.max-u.value);for(var r=o;p>r;r++){var w=parseInt(a(this.columnsrow[0].cells[r]).css("left"))-v,x=w+a(this.columnsrow[0].cells[r]).width();if(x>=g&&g>=w){t=r;break}}if(-1!=t){var s=n.cells[t];if(-1==s.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var y=this._getcolumnat(t);if(y&&this.editcell.row==m&&this.editcell.column==y.datafield)return}a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(s,b.pageX,b.pageY)}}}}}}}}}}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{autoresizecolumns:function(b,c){"cells"!=b&&"all"!=b&&"column"!=b&&(b="all");
var d=this.that,e=this.getrows();this.pageable&&(e=this.dataview.rows,this.groupable&&(e=this.dataview.records)),c=void 0==c?0:parseInt(c);var f=e.length;if(void 0==f&&void 0!=e){var g=new Array;a.each(e,function(a){g.push(this)}),e=g,f=e.length}var h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-widget")),h.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(h);var i=[],j=[],k=[],l=[],m=d.host.width();"hidden"!=d.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+5),0>m&&(m=0);for(var n=0;f>n;n++)for(var o=e[n],p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];if(!q.hidden){void 0==j[q.displayfield]&&(j[q.displayfield]=0),void 0==k[q.displayfield]&&(k[q.displayfield]="");var r=o[q.displayfield];if(""!=q.cellsformat)a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(r)?r=a.jqx.dataFormat.formatdate(r,q.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(r)&&(r=a.jqx.dataFormat.formatnumber(r,q.cellsformat,this.gridlocalization)));else if(q.cellsrenderer){var s=d._defaultcellsrenderer(r,q),t=q.cellsrenderer(n,q.datafield,r,s,q.getcolumnproperties(),o);void 0!=t&&(r=a(t).text())}if((void 0==b||"cells"==b||"all"==b)&&null!=r){var i=r.toString().length,u=r.toString(),v=u.replace(/[^A-Z]/g,"").length;if(i>j[q.displayfield]&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v),i>0&&i>=v){var w=20*v+15*(i-v),x=20*l[q.displayfield]+15*(j[q.displayfield]-l[q.displayfield]);w>x&&w>0&&x>0&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v)}}if("column"==b||"all"==b){if(q.text.toString().length>j[q.displayfield]){k[q.displayfield]=q.text,j[q.displayfield]=q.text.length;var u=q.text.toString(),v=u.replace(/[^A-Z]/g,"").length;l[q.displayfield]=v}var r=q.text,i=r.toString().length,u=r.toString(),v=u.replace(/[^A-Z]/g,"").length;if(i>0&&i>=v){var w=20*v+15*(i-v),x=20*l[q.displayfield]+15*(j[q.displayfield]-l[q.displayfield]);w>x&&w>0&&x>0&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v)}}}}if(this.columns.records){for(var p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];void 0==k[q.displayfield]&&(k[q.displayfield]=q.text),h[0].innerHTML=k[q.displayfield].toString();var y=h.outerWidth()+10;if(h.children().length>0&&(y=h.children().outerWidth()+10),a.jqx.browser.msie&&a.jqx.browser.version<8&&(y+=10),this.filterable&&this.showfilterrow&&(y+=5),y+=c,y>q.maxwidth&&(y=q.maxwidth),void 0!=q._width&&(q.__width=q._width),q._width=null,"auto"==q.maxwidth||y<=q.maxwidth){var z=q.width;y<q.minwidth&&(y=q.minwidth),q.width=y,void 0!=q._percentagewidth&&(q._percentagewidth=null),this._raiseEvent(14,{columntext:q.text,column:q.getcolumnproperties(),datafield:q.datafield,displayfield:q.displayfield,oldwidth:z,newwidth:y})}}h.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];void 0!=q.__width&&(q._width=q.__width)}}},autoresizecolumn:function(b,c,d){if("cells"!=c&&"all"!=c&&"column"!=c&&(c="all"),void 0==b)return!1;var e=this.getrows();this.pageable&&(e=this.dataview.rows,this.groupable&&(e=this.dataview.records));var f=this.getcolumn(b);if(void 0==f)return!1;d=void 0==d?0:parseInt(d);var g=e.length,h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-widget")),h.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(h);var i=0,j="",k=0,l=this.that,m=l.host.width();if("hidden"!=l.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+5),0>m&&(m=0),void 0==c||"cells"==c||"all"==c)for(var n=0;g>n;n++){var o=e[n][f.displayfield];if(""!=f.cellsformat)a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(o)?o=a.jqx.dataFormat.formatdate(o,f.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(o)&&(o=a.jqx.dataFormat.formatnumber(o,f.cellsformat,this.gridlocalization)));else if(f.cellsrenderer){var p=f.cellsrenderer(n,f,o);void 0!=p&&(o=a(p).text())}if(null!=o){var q=o.toString().length,r=o.toString(),s=r.replace(/[^A-Z]/g,"").length;if(q>i&&(i=q,j=o,k=s),q>0&&q>=s){var t=20*s+15*(q-s),u=20*k+15*(i-k);t>u&&t>0&&u>0&&(i=q,j=o,k=s)}}}if("column"==c||"all"==c){f.text.toString().length>i&&(j=f.text);var o=f.text.toString(),q=o.toString().length,r=o.toString(),s=r.replace(/[^A-Z]/g,"").length;if(q>0&&q>=s){var t=20*s+15*(q-s),u=20*k+15*(i-k);t>u&&t>0&&u>0&&(i=q,j=o,k=s)}}void 0==j&&(j=f.text),h[0].innerHTML=j;var v=h.outerWidth()+10;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(v+=5),this.filterable&&this.showfilterrow&&(v+=5),v+=d,h.remove(),v>f.maxwidth&&(v=f.maxwidth),"auto"==f.maxwidth||v<=f.maxwidth){var w=f.width;v<f.minwidth&&(v=f.minwidth),f.width=v,void 0!=f._width&&(f.__width=f._width),f._width=null,void 0!=f._percentagewidth&&(f._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:f.text,column:f.getcolumnproperties(),datafield:b,displayfield:f.displayfield,oldwidth:w,newwidth:v}),this._renderrows(this.virtualsizeinfo),void 0!=f._width&&(f._width=f.__width)}},_handlecolumnsresize:function(){var b=this.that;if(this.columnsresize){var c=!1;b.isTouchDevice()&&b.touchmode!==!0&&(c=!0);var d="mousemove.resize"+this.element.id,e="mousedown.resize"+this.element.id,f="mouseup.resize"+this.element.id;if(c)var d=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),d),this.addHandler(a(document),d,function(d){var e=a.data(document.body,"contextmenu"+b.element.id);if(null!=e&&b.autoshowcolumnsmenubutton)return!0;if(null!=b.resizablecolumn&&!b.disabled&&b.resizing&&null!=b.resizeline){var f=(b.resizablecolumn.columnelement,b.host.coord()),g=parseInt(b.resizestartline.coord().left),h=g-b._startcolumnwidth,i=b.resizablecolumn.column.minwidth;i="auto"==i?0:parseInt(i);var j=b.resizablecolumn.column.maxwidth;j="auto"==j?0:parseInt(j);var k=d.pageX;if(c){var l=b.getTouches(d),m=l[0];k=m.pageX}h+=i;var n=j>0?g+j:0,o=0==j?!0:b._startcolumnwidth+k-g<j?!0:!1;if(b.rtl)var o=!0;if(o)if(b.rtl){if(k>=f.left&&k<=f.left+b.host.width()&&(b.resizeline.css("left",k),c))return!1}else if(k>=f.left&&k>=h&&(0!=n&&d.pageX<n?b.resizeline.css("left",k):0==n&&b.resizeline.css("left",k),c))return!1}return c||null==b.resizablecolumn?void 0:!1}),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);if(null!=d&&b.autoshowcolumnsmenubutton)return!0;if(null!=b.resizablecolumn&&!b.disabled){var e=b.resizablecolumn.columnelement;if(e.coord().top+e.height()+5<c.pageY)return void(b.resizablecolumn=null);if(e.coord().top-5>c.pageY)return void(b.resizablecolumn=null);b._startcolumnwidth=b.resizablecolumn.column.width,b.resizablecolumn.column._width=null,a(document.body).addClass("jqx-disableselect"),a(document.body).addClass("jqx-position-reset"),b.host.addClass("jqx-disableselect"),b.content.addClass("jqx-disableselect"),b._mouseDownResize=new Date,b.resizing=!0,b._resizecolumn=b.resizablecolumn.column,b.resizeline=b.resizeline||a('<div style="position: absolute;"></div>'),b.resizestartline=b.resizestartline||a('<div style="position: absolute;"></div>'),b.resizebackground=b.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),b.resizebackground.css("opacity",.01),b.resizebackground.css("cursor","col-resize"),b.resizeline.css("cursor","col-resize"),b.resizestartline.css("cursor","col-resize"),b.resizeline.addClass(b.toThemeProperty("jqx-grid-column-resizeline")),b.resizestartline.addClass(b.toThemeProperty("jqx-grid-column-resizestartline")),a(document.body).append(b.resizeline),a(document.body).append(b.resizestartline),a(document.body).append(b.resizebackground);var f=b.resizablecolumn.columnelement.coord();b.resizebackground.css("left",b.host.coord().left),b.resizebackground.css("top",b.host.coord().top),b.resizebackground.width(b.host.width()),b.resizebackground.height(b.host.height()),b.resizebackground.css("z-index",9999);var g=function(a){b.rtl?a.css("left",parseInt(f.left)):a.css("left",parseInt(f.left)+b._startcolumnwidth);var c=b._groupsheader(),d=c?b.groupsheader.height():0,e=b.showtoolbar?b.toolbarheight:0;d+=e;var g=b.showstatusbar?b.statusbarheight:0;d+=g;var h=0;b.pageable&&(h=b.pagerheight);var i="visible"==b.hScrollBar.css("visibility")?17:0;a.css("top",parseInt(f.top)),a.css("z-index",99999),b.columngroups?a.height(b.host.height()+b.resizablecolumn.columnelement.height()-h-d-i-b.columngroupslevel*b.columnsheight):a.height(b.host.height()-h-d-i),b.enableanimations?a.show("fast"):a.show()};g(b.resizeline),g(b.resizestartline),b.dragmousedown=null}});var g=function(){if(a(document.body).removeClass("jqx-disableselect"),a(document.body).removeClass("jqx-position-reset"),(b.showfilterrow||b.showstatusbar||b.showtoolbar||b.enablebrowserselection)&&(b.host.removeClass("jqx-disableselect"),b.content.removeClass("jqx-disableselect")),b.resizing){b._mouseUpResize=new Date;var c=b._mouseUpResize-b._mouseDownResize;if(200>c)return b.resizing=!1,void(null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")&&(b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove()));if(b.resizing=!1,!b.disabled){var d=b.host.width();if("hidden"!=b.vScrollBar[0].style.visibility&&(d-=20),0>d&&(d=0),null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")){var e=parseInt(b.resizeline.css("left")),f=parseInt(b.resizestartline.css("left")),g=b._startcolumnwidth+e-f;if(b.rtl)var g=b._startcolumnwidth-e+f;var h=b._resizecolumn.width;b._closemenu(),g<b._resizecolumn.minwidth&&(g=b._resizecolumn.minwidth),b._resizecolumn.width=g,void 0!=b._resizecolumn._percentagewidth&&(b._resizecolumn._percentagewidth=g/d*100);for(var i=0;i<b._columns.length;i++)if(b._columns[i].datafield===b._resizecolumn.datafield){b._columns[i].width=b._resizecolumn.width,b._columns[i].width<b._resizecolumn.minwidth&&(b._columns[i].width=b._resizecolumn.minwidth);break}var j=b.hScrollBar[0].style.visibility;b._updatecolumnwidths(),b._updatecellwidths(),b._raiseEvent(14,{columntext:b._resizecolumn.text,column:b._resizecolumn.getcolumnproperties(),datafield:b._resizecolumn.datafield,oldwidth:h,newwidth:g}),b._renderrows(b.virtualsizeinfo),b.autosavestate&&b.savestate&&b.savestate(),j!=b.hScrollBar[0].style.visibility&&b.hScrollInstance.setPosition(0),b.rtl&&b._arrange(),b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove(),b.resizablecolumn=null}else b.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var h=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(h=document.referrer),h&&-1!=h.indexOf(document.location.host)){var i=function(a){g()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}}catch(j){}this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);return null!=d&&b.autoshowcolumnsmenubutton?!0:void g()})}}})}(jqxBaseFramework),function(a){a.jqx.dataview.sort=function(){this.sortby=function(b,c,d){var e=Object.prototype.toString;if(null==c)return this.sortdata=null,void this.refresh();void 0==c&&(c=!0),c="a"==c||"asc"==c||"ascending"==c||1==c?!0:!1;var f=b;this.sortfield=b,this.sortfielddirection=c?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var g=[],h=!1;if("constructor"==f&&(f=""),!this.virtualmode&&null!=this.sortcache[f]){var i=this.sortcache[f];g=i._sortdata,i.direction==c?g.reverse():(!i.direction&&c&&g.reverse(),h=!0),g.length<this.totalrecords&&(this.sortcache={},h=!1,g=[])}Object.prototype.toString="function"==typeof b?b:function(){return this[b]};var j=this.records,k=(this.that,"");if(this.source.datafields&&a.each(this.source.datafields,function(){return this.name==b?(this.type&&(k=this.type),!1):void 0}),0==g.length)if(j.length)for(var l=j.length,m=0;l>m;m++){var n=j[m];if(null!=n){var o=n,p=o.toString();g.push({sortkey:p,value:o,index:m})}}else{var q=!1;for(obj in j){var n=j[obj];if(void 0==n){q=!0;break}var o=n;g.push({sortkey:o.toString(),value:o,index:obj})}q&&a.each(j,function(a,b){g.push({sortkey:b.toString(),value:b,index:a})})}if(!h)if(null==d){this._sortcolumntype=k;var r=this;g.sort(function(a,b){return r._compare(a,b,k)})}else g.sort(d);c||g.reverse(),Object.prototype.toString=e,this.sortdata=g,this.sortcache[f]={_sortdata:g,direction:c},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(b,c,d){var b=b.sortkey,c=c.sortkey;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return-1;if(null!==b&&null===c)return 1;if(a.jqx.dataFormat)if(d&&""!=d)switch(d){case"number":case"int":case"float":return c>b?-1:b>c?1:0;case"date":case"time":return c>b?-1:b>c?1:0;case"string":case"text":b=String(b).toLowerCase(),c=String(c).toLowerCase()}else{if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase())}try{if(c>b)return-1;if(b>c)return 1}catch(e){}return 0},this._equals=function(a,b){return 0===this._compare(a,b)}},a.extend(a.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var b=this.that,c=this.getsortcolumn();if(this.sortdirection){var d=function(c,d){var e=b.getcolumn(c);e&&(d.ascending?a.jqx.aria(e.element,"aria-sort","ascending"):d.descending?a.jqx.aria(e.element,"aria-sort","descending"):a.jqx.aria(e.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&d(this._oldsortinfo.column,{ascending:!1,descending:!1}),d(c,this.sortdirection)}this._oldsortinfo={column:c,direction:this.sortdirection},this.sortdirection&&a.each(this.columns.records,function(d,e){var f=a.data(document.body,"groupsortelements"+this.displayfield);null==c||this.displayfield!=c?(a(this.sortasc).hide(),a(this.sortdesc).hide(),null!=f&&(f.sortasc.hide(),f.sortdesc.hide())):b.sortdirection.ascending?(a(this.sortasc).show(),a(this.sortdesc).hide(),null!=f&&(f.sortasc.show(),f.sortdesc.hide())):(a(this.sortasc).hide(),a(this.sortdesc).show(),null!=f&&(f.sortasc.hide(),f.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(a,b,c,d,e){if(this._loading&&e!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a&&(b=null,a=this.sortcolumn),void 0!=a){var f=this.that;if(void 0==c&&null!=f.source.sortcomparer&&(c=f.source.sortcomparer),"a"==b||"asc"==b||"ascending"==b||1==b?ascending=!0:ascending=!1,null!=b?f.sortdirection={ascending:ascending,descending:!ascending}:f.sortdirection={ascending:!1,descending:!1},null!=b?f.sortcolumn=a:f.sortcolumn=null,f.source.sort||f.virtualmode){if(f.dataview.sortfield=a,null==b?f.dataview.sortfielddirection="":f.dataview.sortfielddirection=ascending?"asc":"desc",f.source.sort&&!this._loading)return f.source.sort(a,b),void f._raiseEvent(6,{sortinformation:f.getsortinformation()})}else f.dataview.sortby(a,b,c);if(d===!1)return;f.groupable&&f.groups.length>0?(f._render(!0,!1,!1),f._updategroupheadersbounds&&f.showgroupsheader&&f._updategroupheadersbounds()):(f.pageable&&f.dataview.updateview(),f._updaterowsproperties(),f.rendergridcontent(!0)),f._raiseEvent(6,{sortinformation:f.getsortinformation()})}},_togglesort:function(a){var b=this.that;if(!this.disabled&&a.sortable&&b.sortable){var c=b.getsortinformation(),d=null;null!=c.sortcolumn&&c.sortcolumn==a.displayfield?(d=c.sortdirection.ascending,d=b.sorttogglestates>1?1==d?!1:null:!d):d=!0,b.sortby(a.displayfield,d,null)}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_updatefilterrowui:function(b){for(var c=this.columns.records.length,d=0,e=this,f=0;c>f;f++){var g=this.columns.records[f],h=g.width;h<g.minwidth&&(h=g.minwidth),h>g.maxwidth&&(h=g.maxwidth);var i=a(this.filterrow[0].cells[f]);i.css("left",d);var j=!0;if(i.width()==h&&(j=!1),b&&(j=!0),i.width(h),i[0].left=d,g.hidden&&g.hideable?i.css("display","none"):d+=h,j)if(g.createfilterwidget&&"custom"==g.filtertype)g.createfilterwidget(g,i);else if(g.filterable){var k=function(b,c){var d=a(c.children()[0]);d.width(h-10),d.attr("disabled",b.disabled)};switch(g.filtertype){case"number":case"input":a(i.children()[0]).width(h),i.find("input").width(h-30),i.find("input").attr("disabled",e.disabled),a(i.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({disabled:e.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?a(i.children()[0]).jqxDateTimeInput({disabled:e.disabled,width:h-10}):k(this,i);break;case"textbox":case"default":k(this,i);break;case"list":case"checkedlist":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList({disabled:e.disabled,width:h-10}):k(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({disabled:e.disabled}):k(this,i)}}}var l=a(this.filterrow.children()[0]);l.width(parseInt(d)+2),l.height(this.filterrowheight)},clearfilterrow:function(b){if(this._disablefilterrow=!0,this.columns.records){for(var c=this.columns.records.length,d=0;c>d;d++){var e=this.columns.records[d],f=a(this.filterrow[0].cells[d]);if(("string"!=typeof b||e.displayfield==b)&&e.filterable){var g=function(b,c){var d=a(c.children()[0]);d.val(""),d[0]&&(b["_oldWriteText"+d[0].id]="")};switch(e.filtertype){case"number":case"input":f.find("input").val("");break;case"date":case"range":this.host.jqxDateTimeInput?a(f.children()[0]).jqxDateTimeInput("setDate",null):g(this,f);break;case"textbox":case"default":g(this,f);break;case"list":this.host.jqxDropDownList?a(f.children()[0]).jqxDropDownList("clearSelection"):g(this,f);break;case"checkedlist":this.host.jqxDropDownList?a(f.children()[0]).jqxDropDownList("checkAll",!1):g(this,f);break;case"bool":case"boolean":this.host.jqxCheckBox?a(f.children()[0]).jqxCheckBox({checked:null}):g(this,f)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var b=this.columns.records.length,c=this.that,d=0;b>d;d++){var e=new a.jqx.filter,f=this.columns.records[d];if(f.filterable&&null!==f.datafield){var g=c._getcolumntypebydatafield(f),h=c._getfiltertype(g),i=1,j=!0,k=(f.filtertype,function(a,b,d){var e=!0;if(a._filterwidget){var f=a._filterwidget.val();if(""!=f){var g="equal";if("stringfilter"==b)var g="contains";if("numericfilter"==b&&","==c.gridlocalization.decimalseparator&&f.indexOf(c.gridlocalization.decimalseparator)>=0&&(f=f.replace(c.gridlocalization.decimalseparator,".")),"stringfilter"!=b){var h=0;if(-1!=f.indexOf(">")&&(g="greater_than",h=1),-1!=f.indexOf("<")&&(g="less_than",h=1),-1!=f.indexOf("=")&&("greater_than"==g?(g="greater_than_or_equal",h=2):"less_than"==g?(g="less_than_or_equal",h=2):(g="equal",h=1)),0!=h&&(f=f.substring(h),f.length<1))return!1}if(void 0!=a.filtercondition&&(g=a.filtercondition),"datefilter"==b)var j=d.createfilter(b,f,g,null,a.cellsformat,c.gridlocalization);else var j=d.createfilter(b,f,g);d.addfilter(i,j)}else e=!1}return e});switch(f.filtertype){case"range":case"date":if(f._filterwidget.jqxDateTimeInput)if("range"==f.filtertype){var l=f._filterwidget.jqxDateTimeInput("getRange");if(null!=l&&null!=l.from&&null!=l.to){var m="GREATER_THAN_OR_EQUAL",n=new Date(0);n.setHours(0),n.setMinutes(0),n.setFullYear(l.from.getFullYear(),l.from.getMonth(),l.from.getDate());var o=new Date(0);o.setHours(0),o.setMinutes(0),o.setFullYear(l.to.getFullYear(),l.to.getMonth(),l.to.getDate()),o.setHours(l.to.getHours()),o.setMinutes(l.to.getMinutes()),o.setSeconds(l.to.getSeconds());var p=e.createfilter(h,n,m);e.addfilter(0,p);var q="LESS_THAN_OR_EQUAL",r=e.createfilter(h,o,q);e.addfilter(0,r)}else j=!1}else{var l=f._filterwidget.jqxDateTimeInput("getDate");if(null!=l){var n=new Date(0);n.setHours(0),n.setMinutes(0),n.setFullYear(l.getFullYear(),l.getMonth(),l.getDate());var p=e.createfilter(h,n,"EQUAL");e.addfilter(0,p)}else j=!1}else j=k(f,h,e);break;case"input":if(f._filterwidget){var l=f._filterwidget.find("input").val(),s=f._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),t=e.getoperatorsbyfiltertype(h)[s];if(c.updatefilterconditions){var u=c.updatefilterconditions(h,e.getoperatorsbyfiltertype(h));void 0!=u&&e.setoperatorsbyfiltertype(h,u);var t=e.getoperatorsbyfiltertype(h)[s]}var v="NULL"==t||"NOT_NULL"==t,w="EMPTY"==t||"NOT_EMPTY"==t;void 0!=l&&l.length>0||v||w?(p=e.createfilter(h,l,t,null,f.cellsformat,c.gridlocalization),e.addfilter(0,p)):j=!1}else j=!1;break;case"number":if(f._filterwidget){var l=f._filterwidget.find("input").val();","==c.gridlocalization.decimalseparator&&l.indexOf(c.gridlocalization.decimalseparator)>=0&&(l=l.replace(c.gridlocalization.decimalseparator,"."));var s=f._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),t=e.getoperatorsbyfiltertype(h)[s];if(c.updatefilterconditions){var u=c.updatefilterconditions(h,e.getoperatorsbyfiltertype(h));void 0!=u&&e.setoperatorsbyfiltertype(h,u);var t=e.getoperatorsbyfiltertype(h)[s]}var v="NULL"==t||"NOT_NULL"==t,w="EMPTY"==t||"NOT_EMPTY"==t;void 0!=l&&l.length>0||v||w?(p=e.createfilter(h,new Number(l),t,null,f.cellsformat,c.gridlocalization),e.addfilter(0,p)):j=!1}else j=!1;break;case"textbox":case"default":j=k(f,h,e);break;case"bool":case"boolean":if(f._filterwidget.jqxCheckBox){var l=f._filterwidget.jqxCheckBox("checked");if(null!=l){var m="equal",x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1}else j=k(f,h,e);break;case"list":var y=f._filterwidget.jqxDropDownList("listBox");if(y.selectedIndex>0){var z=y.getItem(y.selectedIndex),l=z.label,m="equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1;break;case"checkedlist":if(f._filterwidget.jqxDropDownList){var y=f._filterwidget.jqxDropDownList("listBox"),A=y.getCheckedItems();if(0==A.length){for(var B=1;B<y.items.length;B++){var l=y.items[B].label,m="not_equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(0,x)}j=!0}else if(A.length!=y.items.length)for(var B=0;B<A.length;B++){var l=A[B].label,m="equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1}else j=k(f,h,e)}this._loading||(j?this.addfilter(f.displayfield,e,!1):this.removefilter(f.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var b=a('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");e+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),e+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var f=d+10,g=new Array,h=this.that;this.filterrow[0].cells=g,b.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(b),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var i=!1,j=new Array,k=0;d>k;k++){var l=this.columns.records[k],m=l.width;m<l.minwidth&&(m=l.minwidth),m>l.maxwidth&&(m=l.maxwidth);var n=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+e+'"></div>');b.append(n),n.css("left",c),this.rtl?(n.css("z-index",f++),n.css("border-left-width","1px")):n.css("z-index",f--),"auto"==m&&(m=0),n[0].style.width=parseFloat(m)+"px",n[0].left=c,l.hidden&&l.hideable?n.css("display","none"):c+=m,g[g.length]=n[0];var o=!0;if(this.rtl){if(this.groupable){var p=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+p+k>d-1&&(o=!1)}this.showrowdetailscolumn&&this.rowdetails&&k==d-1&&(o=!1)}else{if(this.groupable){var p=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+p>k&&(o=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==k&&(o=!1)}if(o)if("custom"==l.filtertype&&l.createfilterwidget){var q=function(){h._applyfilterfromfilterrow()};l.createfilterwidget(l,n,q)}else l.filterable&&(this._filterrowcache[l.datafield]?(i=!0,n.append(this._filterrowcache[l.datafield]),l._filterwidget=this._filterrowcache[l.datafield]):(this._addfilterwidget(l,n,m),j[l.datafield]=l._filterwidget))}this._filterrowcache=j,a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseFloat(c)+2),this.filterrow.addClass(e),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),i&&this._updatefilterrowui(!0)},_addfilterwidget:function(b,c,d){for(var e=this.that,f="",g=0;g<e.dataview.filters.length;g++){var h=e.dataview.filters[g];if(h.datafield&&h.datafield==b.datafield){f=h.filter.getfilters()[0].value;break}}var i=function(c,e){var g=a('<input autocomplete="off" type="textarea"/>');g[0].id=a.jqx.utilities.createId(),g.addClass(c.toThemeProperty("jqx-widget")),g.addClass(c.toThemeProperty("jqx-input")),g.addClass(c.toThemeProperty("jqx-rc-all")),g.addClass(c.toThemeProperty("jqx-widget-content")),c.rtl&&g.css("direction","rtl"),c.disabled&&g.attr("disabled",!0),g.attr("disabled",!1),g.appendTo(e),g.width(d-10),g.height(c.filterrowheight-10),g.css("margin","4px"),b.createfilterwidget&&b.createfilterwidget(b,e,g),b._filterwidget=g,g.focus(function(){return c.content[0].scrollLeft=0,setTimeout(function(){c.content[0].scrollLeft=0},10),c.focusedfilter=g,g.addClass(c.toThemeProperty("jqx-fill-state-focus")),!1}),g.blur(function(){g.removeClass(c.toThemeProperty("jqx-fill-state-focus"))}),g.keydown(function(a){"13"==a.keyCode&&c._applyfilterfromfilterrow(),g[0]._writeTimer&&clearTimeout(g[0]._writeTimer),g[0]._writeTimer=setTimeout(function(){c._loading||c["_oldWriteText"+g[0].id]!=g.val()&&(c._applyfilterfromfilterrow(),c["_oldWriteText"+g[0].id]=g.val())},b.filterdelay),c.focusedfilter=g}),c.host.removeClass("jqx-disableselect"),c.content.removeClass("jqx-disableselect"),g.val(f)};switch(null!=b.datatype&&("number"==b.filtertype&&("string"==b.datatype||"date"==b.datatype||"bool"==b.datatype)&&(b.filtertype="textbox"),"date"==b.filtertype&&("string"==b.datatype||"number"==b.datatype||"bool"==b.datatype)&&(b.filtertype="textbox"),"bool"==b.filtertype&&("string"==b.datatype||"number"==b.datatype||"date"==b.datatype)&&(b.filtertype="textbox")),b.filtertype){case"number":case"input":var j=a("<div></div>");j.width(c.width()),j.height(this.filterrowheight),c.append(j);var d=c.width()-20,k=function(c,d,g){var h=a('<input style="float: left;" autocomplete="off" type="textarea"/>');return e.rtl&&(h.css("float","right"),h.css("direction","rtl")),h[0].id=a.jqx.utilities.createId(),h.addClass(e.toThemeProperty("jqx-widget")),h.addClass(e.toThemeProperty("jqx-input")),h.addClass(e.toThemeProperty("jqx-rc-all")),h.addClass(e.toThemeProperty("jqx-widget-content")),h.appendTo(c),h.width(d-10),e.disabled&&h.attr("disabled",!0),h.attr("disabled",!1),h.height(e.filterrowheight-10),h.css("margin","4px"),h.css("margin-right","2px"),h.focus(function(){e.focusedfilter=h,h.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),h.blur(function(){h.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),h.keydown(function(a){"13"==a.keyCode&&e._applyfilterfromfilterrow(),h[0]._writeTimer&&clearTimeout(h[0]._writeTimer),h[0]._writeTimer=setTimeout(function(){e._loading||e["_oldWriteText"+h[0].id]!=h.val()&&(e._applyfilterfromfilterrow(),e["_oldWriteText"+h[0].id]=h.val())},b.filterdelay),e.focusedfilter=h}),h.val(f),h};k(j,d);var l=e._getfiltersbytype("number"==b.filtertype?"number":"string"),m=a("<div class='filter' style='float: left;'></div>");m.css("margin-top","4px"),m.appendTo(j),e.rtl&&m.css("float","right");var n=0;if(null!=b.filtercondition){var g=new a.jqx.filter,o=g.getoperatorsbyfiltertype("number"==b.filtertype?"numericfilter":"stringfilter"),p=o.indexOf(b.filtercondition.toUpperCase());-1!=p&&(n=p)}var q=170;if("input"==b.filtertype&&(q=240,0==n)){var p=l.indexOf("contains");-1!=p&&null==b.filtercondition&&(n=p)}m.jqxDropDownList({disabled:e.disabled,touchMode:e.touchmode,rtl:e.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:n,width:18,height:21,dropDownHeight:150,dropDownWidth:q,source:l,theme:e.theme}),m.jqxDropDownList({selectionRenderer:function(a){return""}}),m.jqxDropDownList("setContent",""),m.find(".jqx-dropdownlist-content").hide(),b.createfilterwidget&&b.createfilterwidget(b,c,j),b._filterwidget=j;var r=null;this.addHandler(m,"select",function(){var a=m.jqxDropDownList("getSelectedItem").label;b._filterwidget.find("input").val().length>0&&!e.refreshingfilter&&e._applyfilterfromfilterrow(),"input"!=b.filtertype||e.refreshingfilter?0!=b._filterwidget.find("input").val().length||e.refreshingfilter||("null"==r||"not null"==r||"null"==a||"not null"==a)&&e._applyfilterfromfilterrow():e._applyfilterfromfilterrow(),r=a});break;case"textbox":case"default":default:i(this,c);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var s=a("<div></div>");s.css("margin","4px"),s.appendTo(c);var t={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};s.jqxDateTimeInput({readonly:!0,disabled:e.disabled,localization:t,rtl:e.rtl,showFooter:!0,formatString:b.cellsformat,selectionMode:b.filtertype,value:null,theme:this.theme,width:d-10,height:this.filterrowheight-10}),b.createfilterwidget&&b.createfilterwidget(b,c,s),b._filterwidget=s,this.addHandler(s,"valueChanged",function(a){e.refreshingfilter||(e._applyfilterfromfilterrow(),e.focusedfilter=null)})}else i(this,c);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var u=this._getfilterdataadapter(b),v=!1,m=a("<div></div>");m.css("margin","4px");var w=b.datafield,x="checkedlist"==b.filtertype?!0:!1,q=150>d?220:"auto";u.dataBind();var y=u.records,z=y.length<8?!0:!1;v=z,m.appendTo(c),m.jqxDropDownList({disabled:e.disabled,touchMode:e.touchmode,rtl:e.rtl,checkboxes:x,dropDownWidth:q,source:u.records,autoDropDownHeight:z,theme:this.theme,width:d-10,height:this.filterrowheight-10,displayMember:b.displayfield,valueMember:w});var A=m.jqxDropDownList("listBox");if(x){m.jqxDropDownList({selectionRenderer:function(){var a='<span class="'+e.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+e.gridlocalization.filterselectstring+"</span>";return a}});var B=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+e.gridlocalization.filterselectstring+"</span>");if(B.addClass(this.toThemeProperty("jqx-item")),void 0!=A){v||A.host.height(200),A.insertAt(e.gridlocalization.filterselectallstring,0),m.jqxDropDownList("setContent",B);var C=!0;new Array;A.checkAll(!1),e.addHandler(A.host,"checkChange",function(a){if(m[0]._selectionChanged=!0,C)if(a.args.label!=e.gridlocalization.filterselectallstring){C=!1,A.host.jqxListBox("checkIndex",0,!0,!1);var b=A.host.jqxListBox("getCheckedItems"),c=A.host.jqxListBox("getItems");1==b.length?A.host.jqxListBox("uncheckIndex",0,!0,!1):c.length!=b.length&&A.host.jqxListBox("indeterminateIndex",0,!0,!1),C=!0}else C=!1,a.args.checked?A.host.jqxListBox("checkAll",!1):A.host.jqxListBox("uncheckAll",!1),C=!0})}}else A.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),m.jqxDropDownList({selectedIndex:0});b.createfilterwidget&&b.createfilterwidget(b,c,m),b._filterwidget=m;m.jqxDropDownList("dropdownlistWrapper");"list"==b.filtertype?this.addHandler(m,"select",function(a){e.refreshingfilter||a.args&&"none"!=a.args.type&&(e._applyfilterfromfilterrow(),e.focusedfilter=null)}):this.addHandler(m,"close",function(a){m[0]._selectionChanged&&(e._applyfilterfromfilterrow(),e.focusedfilter=null,m[0]._selectionChanged=!1)})}else i(this,c);break;case"bool":
case"boolean":if(this.host.jqxCheckBox){var D=a('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');D.appendTo(c),D.jqxCheckBox({disabled:e.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),b.createfilterwidget&&b.createfilterwidget(b,c,D),f===!0||"true"==f?D.jqxCheckBox({checked:!0}):(f===!1||"false"==f)&&D.jqxCheckBox({checked:!1}),b._filterwidget=D,this.addHandler(D,"change",function(a){e.refreshingfilter||a.args&&(e.focusedfilter=null,e._applyfilterfromfilterrow())})}else i(this,c)}},_getfilterdataadapter:function(b){var c=this.source._source?!0:!1;if(c){var d={localdata:this.source.records,datatype:this.source.datatype,async:!1},e=this;dataadapter=new a.jqx.dataAdapter(d,{autoBind:!1,autoSort:!0,autoSortField:b.displayfield,async:!1,uniqueDataFields:[b.displayfield],beforeLoadComplete:function(a){var c=new Array;if(b.cellsformat){for(var d=e._getcolumntypebydatafield(b),f=0;f<a.length;f++){c.push(a[f]);var g=a[f][b.displayfield];a[f][b.displayfield+"JQValue"]=g,"date"===d?a[f][b.displayfield]=dataadapter.formatDate(g,b.cellsformat,e.gridlocalization):("number"===d||"float"===d||"int"===d)&&(a[f][b.displayfield]=dataadapter.formatNumber(g,b.cellsformat,e.gridlocalization))}return c}return a}})}else dataadapter=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[b.displayfield],autoSort:!0,autoSortField:b.displayfield,async:!1});if(b.filteritems&&b.filteritems.length>0){var d={localdata:b.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new a.jqx.dataAdapter(d,{autoBind:!1,async:!1})}else if(b.filteritems){if(b.filteritems._source)return b.filteritems._options.autoBind=!1,b.filteritems._options.async=!1,b.filteritems;if(a.isFunction(b.filteritems))return b.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var b=this.that,c=this.columns.records.length,d=0;c>d;d++){var e=this.columns.records[d];if(e.filterable&&e.filter){var f=e.filter.getfilters();if(f.length>0){var g=f[0].value,h=e._filterwidget,i=e._filterwidget.parent();if(null!=h)switch(e.filtertype){case"number":if(i.find("input").val(g),this.host.jqxDropDownList){var j=e.filter.getoperatorsbyfiltertype("numericfilter");h.find(".filter").jqxDropDownList("selectIndex",j.indexOf(f[0].condition))}break;case"input":if(i.find("input").val(g),this.host.jqxDropDownList){var j=e.filter.getoperatorsbyfiltertype("stringfilter");h.find(".filter").jqxDropDownList("selectIndex",j.indexOf(f[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var g=e.filter.getfilterat(0).filtervalue;if(void 0!=g){if(e.filter.getfilterat(1))var k=e.filter.getfilterat(1).filtervalue;else k=g;"range"==e.filtertype?a(i.children()[0]).jqxDateTimeInput("setRange",new Date(g),new Date(k)):a(i.children()[0]).jqxDateTimeInput("setDate",new Date(g))}}else h.val(g);break;case"textbox":case"default":h.val(g),b["_oldWriteText"+h[0].id]=g;break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({checked:g}):h.val(g)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var b=(this.that,this.columns.records.length),c=0;b>c;c++){var d=this.columns.records[c];if(d.filterable){var e=d._filterwidget;if("list"==d.filtertype||"checkedlist"==d.filtertype)this.removeHandler(e,"select"),this.removeHandler(e,"close"),e.jqxDropDownList("destroy");else if("date"==d.filtertype)this.removeHandler(e,"valueChanged"),e.jqxDateTimeInput("destroy");else if("bool"==d.filtertype)this.removeHandler(e,"change"),e.jqxCheckBox("destroy");else if("number"==d.filtertype){var f=e.find(".jqx-input");this.removeHandler(f,"keydown");var g=a(e.children()[1]);g.jqxDropDownList("destroy")}else this.removeHandler(e,"keydown");e.remove()}}},_updatelistfilters:function(b,c){for(var d=this.that,e=this.columns.records.length,f=0;e>f;f++){var g=this.columns.records[f];if(g.filterable&&("list"==g.filtertype||"checkedlist"==g.filtertype)){var h=g._filterwidget;if(b){var i=this._getfilterdataadapter(g);h.jqxDropDownList({source:i});var j=h.jqxDropDownList("getItems"),k=!0;if(j.length!=i.records.length+1&&(k=!1),k)for(var l=1;l<j.length;l++)if(j[l].label!=i.records[l-1][g.displayfield]){k=!1;break}if(k&&!c)continue}else if(void 0==g.filter){h.jqxDropDownList("renderSelection");continue}var m="checkedlist"==g.filtertype?!0:!1,j=h.jqxDropDownList("getItems"),n=h.jqxDropDownList("listBox");if(h.jqxDropDownList("dataBind"),m){if(h.jqxDropDownList({selectionRenderer:function(){return d.gridlocalization.filterselectstring}}),n.insertAt(this.gridlocalization.filterselectallstring,0),h.jqxDropDownList("setContent",this.gridlocalization.filterselectstring),n.checkAll(!1),g.filter){for(var o=g.filter.getfilters(),l=0;l<n.items.length;l++){var p=n.items[l].label,q=void 0;a.each(o,function(){var a;"NOT_EQUAL"==this.condition?a=p==this.value?!1:!0:"EQUAL"==this.condition&&(a=p==this.value?!0:!1),q=void 0==q&&void 0!==a?a:"EQUAL"==this.condition?q||a:q&&a}),q?n.checkIndex(l,!1,!1):n.uncheckIndex(l,!1,!1)}n._updateCheckedItems();var r=n.getCheckedItems().length;n.items.length!=r&&r>0&&n.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(n.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),h.jqxDropDownList({selectedIndex:0}),g.filter){for(var o=g.filter.getfilters(),s=-1,l=0;l<n.items.length;l++){var p=n.items[l].label;a.each(o,function(){return"NOT_EQUAL"==this.condition?!0:p==this.value?(s=l,!1):void 0})}-1!=s&&n.selectIndex(s)}j.length<8?h.jqxDropDownList("autoDropDownHeight",!0):h.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var b=this.that;if(this.filterable){if(!this.columns.records)return;a.each(this.columns.records,function(c,d){var e=!1;b.autoshowfiltericon?this.filter?(a(this.filtericon).show(),e=!0):a(this.filtericon).hide():this.filterable&&(a(this.filtericon).show(),e=!0),"right"!=this.align||this.renderer||this.element&&(e?this.element.firstChild.firstChild.style.marginRight="18px":this.element.firstChild.firstChild.style.marginRight="2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var b=this.source._source.datafields;if(b)for(var c=0;c<this.columns.records.length;c++){var d=this.columns.records[c];if(!d.datatype){var e="";a.each(b,function(){return this.name==d.displayfield?(this.type&&(e=this.type),!1):void 0}),""!=e?d.datatype=e:d.datatype=""}}}},_getcolumntypebydatafield:function(b){var c=this.that,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){return this.name==b.displayfield?(this.type&&(f=this.type),!1):void 0}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g)if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}return d},_getfiltersbytype:function(a){var b=this.that,c="";switch(a){case"number":case"float":case"int":c=b.gridlocalization.filternumericcomparisonoperators;break;case"date":c=b.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":c=b.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:c=b.gridlocalization.filterstringcomparisonoperators}return c},_getfiltertype:function(a){var b="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":b="numericfilter";break;case"boolean":case"bool":b="booleanfilter";break;case"date":case"time":case"range":b="datefilter";break;case"string":case"input":b="stringfilter"}return b},_buildfilter:function(b,c,d){var e=a(c).find("#filter1"+b.element.id),f=a(c).find("#filter2"+b.element.id),g=a(c).find("#filter3"+b.element.id),h=a(c).find(".filtertext1"+b.element.id),i=a(c).find(".filtertext2"+b.element.id),j=h.val(),k=i.val(),l=b._getcolumntypebydatafield(d),m=(b._getfiltersbytype(l),new a.jqx.filter),n=b._getfiltertype(l);if("default"===b.filtermode){var o=e.jqxDropDownList("selectedIndex"),p=f.jqxDropDownList("selectedIndex"),q=g.jqxDropDownList("selectedIndex"),r=null,s=null;if(b.updatefilterconditions){var t=b.updatefilterconditions(n,m.getoperatorsbyfiltertype(n));void 0!=t&&m.setoperatorsbyfiltertype(n,t)}var u=!1,v=m.getoperatorsbyfiltertype(n)[o],g=m.getoperatorsbyfiltertype(n)[q],w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v;void 0==v&&(v=m.getoperatorsbyfiltertype(n)[0]),void 0==g&&(g=m.getoperatorsbyfiltertype(n)[0]),(j.length>0||w||x)&&(r=m.createfilter(n,j,v,null,d.cellsformat,b.gridlocalization),m.addfilter(p,r),u=!0);var y="NULL"==g||"NOT_NULL"==g,z="EMPTY"==g||"NOT_EMPTY"==g;if((k.length>0||y||z)&&(s=m.createfilter(n,k,g,null,d.cellsformat,b.gridlocalization),m.addfilter(p,s),u=!0),u){var A=d.displayfield;this.addfilter(A,m,!0)}else this._clearfilter(b,c,d)}else{var B=!1,C=e.data().jqxListBox.instance,D=C.getCheckedItems();if(0==D.length){for(var E=1;E<C.items.length;E++){var F=C.items[E].value,G="not_equal";if(F.indexOf("|")>=0||F.indexOf(" AND ")>=0||F.indexOf(" OR ")>=0||F.indexOf(" and ")>=0||F.indexOf(" or ")>=0){F=F.replace("|",""),F=F.replace("AND",""),F=F.replace("OR",""),F=F.replace("and",""),F=F.replace("or","");var G="equal"}var H=m.createfilter(n,F,G,null);m.addfilter(0,H)}B=!0}else if(D.length!=C.items.length){B=!0;for(var E=0;E<D.length;E++)if(b.gridlocalization.filterselectallstring!==D[E].value){var F=D[E].value,G="equal",H=m.createfilter(n,F,G,null),I=1;m.addfilter(I,H)}}else B=!1;if(B){var A=d.displayfield;this.addfilter(A,m,!0)}else{var A=d.displayfield;this.removefilter(A,!0)}}},_clearfilter:function(a,b,c){var d=c.displayfield;this.removefilter(d,!0)},addfilter:function(a,b,c){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var d=this.getcolumn(a),e=this._getcolumn(a);void 0!=d&&null!=d&&(d.filter=b,e.filter=b,this.dataview.addfilter(a,b),1==c&&void 0!=c&&this.applyfilters("add"))},removefilter:function(a,b){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var c=this.getcolumn(a),d=this._getcolumn(a);void 0!=c&&null!=c&&null!=c.filter&&(this.dataview.removefilter(a,c.filter),c.filter=null,d.filter=null,this.showfilterrow&&this.clearfilterrow(a),(1==b||b!==!1)&&this.applyfilters("remove"))},applyfilters:function(b){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var c=-1;this.pageable?(c=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=c)}if(this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof b&&a.isEmptyObject(b)&&this.refreshfilterrow(),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var d=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,d,null,!1,!1):this.sortby(this.sortcolumn,d,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&"string"!=typeof b&&a.isEmptyObject(b)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var a=new Array,b=0;b<this.dataview.filters.length;b++){var c=this.getcolumn(this.dataview.filters[b].datafield);a[b]={filter:this.dataview.filters[b].filter,filtercolumn:c.datafield,filtercolumntext:c.text}}return a},clearfilters:function(b){var c=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var d=1==b||b!==!1;a.each(this.columns.records,function(){c.removefilter(this.displayfield,!d)})}b!==!1&&(1==b||b!==!1)&&this.applyfilters("clear")},_destroyfilterpanel:function(){var b=a(a.find("#filterclearbutton"+this.element.id)),c=a(a.find("#filterbutton"+this.element.id)),d=a(a.find("#filter1"+this.element.id)),e=a(a.find("#filter2"+this.element.id)),f=a(a.find("#filter3"+this.element.id)),g=a(a.find(".filtertext1"+this.element.id)),h=a(a.find(".filtertext2"+this.element.id));g.length>0&&h.length>0&&(g.removeClass(),h.removeClass(),g.remove(),h.remove()),b.length>0&&(b.jqxButton("destroy"),c.jqxButton("destroy"),this.removeHandler(b,"click"),this.removeHandler(c,"click")),d.length>0&&d.jqxDropDownList("destroy"),e.length>0&&e.jqxDropDownList("destroy"),f.length>0&&f.jqxDropDownList("destroy")},_updatefilterpanel:function(b,c,d){(null==b||void 0==b)&&(b=this);var e=b._getcolumntypebydatafield(d),f=b._getfiltersbytype(e);if(!b.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");var g=a(c),h=g.find("#filterclearbutton"+b.element.id),i=g.find("#filterbutton"+b.element.id),j=g.find("#filter1"+b.element.id),k=g.find("#filter2"+b.element.id),l=g.find("#filter3"+b.element.id),m=g.find(".filtertext1"+b.element.id),n=g.find(".filtertext2"+b.element.id);if(this._hasdatefilter){var o=m.parent(),p=n.parent();if(o.children().remove(),p.children().remove(),"date"==d.filtertype){b._showwhere.text(b.gridlocalization.filtershowrowdatestring);var q=a("<div class='filtertext1"+b.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.append(q);var r=function(a){var c={calendar:b.gridlocalization,todayString:b.gridlocalization.todaystring,clearString:b.gridlocalization.clearstring};a.jqxDateTimeInput({disabled:b.disabled,localization:c,rtl:b.rtl,width:b._filterpanelwidth-15,height:20,value:null,formatString:d.cellsformat,theme:b.theme})};r(q);var q=a("<div class='filtertext2"+b.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");p.append(q),r(q)}else{b._showwhere.text(b.gridlocalization.filtershowrowstring);var q=a("<input class='filtertext1"+b.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");o.append(q);var r=function(a){a.addClass(b.toThemeProperty("jqx-input")),a.addClass(b.toThemeProperty("jqx-widget-content")),a.addClass(b.toThemeProperty("jqx-rc-all")),a.width(b._filterpanelwidth-15)};r(q);var q=a("<input class='filtertext2"+b.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");p.append(q),r(q)}var m=g.find(".filtertext1"+b.element.id),n=g.find(".filtertext2"+b.element.id)}if(m.val(""),n.val(""),this.removeHandler(i,"click"),this.addHandler(i,"click",function(){b._buildfilter(b,c,d),b._closemenu()}),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){b._clearfilter(b,c,d),b._closemenu()}),"default"===this.filtermode){if(j.jqxDropDownList("source")!=f&&(j.jqxDropDownList({enableBrowserBoundsDetection:!1,source:f}),l.jqxDropDownList({enableBrowserBoundsDetection:!1,source:f})),"boolean"==e||"bool"==e)j.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),l.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var s=!1;f&&f.length&&f.length<5&&(s=!0),j.jqxDropDownList({autoDropDownHeight:s,selectedIndex:2}),l.jqxDropDownList({autoDropDownHeight:s,selectedIndex:2})}k.jqxDropDownList({selectedIndex:0});var t=d.filter,u=new a.jqx.filter,v="";switch(e){case"number":case"int":case"float":case"decimal":v="numericfilter",w=u.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":v="booleanfilter",w=u.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":v="datefilter",w=u.getoperatorsbyfiltertype("datefilter");break;case"string":v="stringfilter",w=u.getoperatorsbyfiltertype("stringfilter")}if(null!=t){var o=t.getfilterat(0),p=t.getfilterat(1);t.getoperatorat(0);if(b.updatefilterconditions){var w=[],x=b.updatefilterconditions(v,w);if(void 0!=x){for(var y=0;y<x.length;y++)x[y]=x[y].toUpperCase();t.setoperatorsbyfiltertype(v,x),w=x}}var z="default";if(null!=o){var A=w.indexOf(o.comparisonoperator),B=o.filtervalue;m.val(B),j.jqxDropDownList({selectedIndex:A,animationType:z})}if(null!=p){var C=w.indexOf(p.comparisonoperator),D=p.filtervalue;n.val(D),l.jqxDropDownList({selectedIndex:C,animationType:z})}void 0==t.getoperatorat(0)?k.jqxDropDownList({selectedIndex:0,animationType:z}):"and"==t.getoperatorat(0)||0==t.getoperatorat(0)?k.jqxDropDownList({selectedIndex:0}):k.jqxDropDownList({selectedIndex:1})}b.updatefilterpanel&&b.updatefilterpanel(j,l,k,m,n,i,h,t,v,w),(!this._hasdatefilter||this._hasdatefilter&&"date"!=d.filtertype)&&(m.focus(),setTimeout(function(){m.focus()},10))}else{var E=b._getfilterdataadapter(d),v=b._getfiltertype(e);d.cellsformat?j.jqxListBox({displayMember:d.displayfield,valueMember:d.displayfield+"JQValue",source:E}):j.jqxListBox({displayMember:d.displayfield,valueMember:d.displayfield,source:E}),j.jqxListBox("insertAt",b.gridlocalization.filterselectallstring,0);var F=j.data().jqxListBox.instance;F.checkAll(!1);if(d.filter){F.uncheckAll(!1);for(var G=d.filter.getfilters(),H=0;H<F.items.length;H++){var I=F.items[H].value;a.each(G,function(){if("NOT_EQUAL"==this.condition){if(I!=this.value)return F.uncheckIndex(H,!1,!1),!1}else if("EQUAL"==this.condition&&I==this.value)return F.checkIndex(H,!1,!1),!1})}F._updateCheckedItems();var J=F.getCheckedItems().length;F.items.length!=J&&J>0&&F.host.jqxListBox("indeterminateIndex",0,!0,!1),J===F.items.length-1&&F.host.jqxListBox("checkIndex",0,!0,!1)}}},_initfilterpanel:function(b,c,d,e){(null==b||void 0==b)&&(b=this),c[0].innerHTML="";var f=a("<div class='filter' style='margin-left: 7px;'></div>");c.append(f);var g=a("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.text(b.gridlocalization.filtershowrowstring),this._showwhere=g;var h=a("<div class='filter' id='filter1"+b.element.id+"'></div>"),i=a("<div class='filter' id='filter2"+b.element.id+"' style='margin-bottom: 3px;'></div>"),j=a("<div class='filter' id='filter3"+b.element.id+"'></div>"),k=b._getcolumntypebydatafield(d);if(!h.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var l=b._getfiltersbytype(k);if(this._hasdatefilter=!1,this._filterpanelwidth=e,this.columns&&this.columns.records)for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0;break}var n=a("<div class='filter'><input class='filtertext1"+b.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),o=n.find("input");o.addClass(this.toThemeProperty("jqx-input")),o.addClass(this.toThemeProperty("jqx-widget-content")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.width(e-15);var p=a("<div class='filter'><input class='filtertext2"+b.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>"),q=p.find("input");q.addClass(this.toThemeProperty("jqx-input")),q.addClass(this.toThemeProperty("jqx-widget-content")),q.addClass(this.toThemeProperty("jqx-rc-all")),q.width(e-15),b.rtl&&(o.css("direction","rtl"),q.css("direction","rtl"));var r=a("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),s=a('<span tabIndex=0 id="filterbutton'+b.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+b.gridlocalization.filterstring+"</span>");r.append(s);var t=a('<span tabIndex=0 id="filterclearbutton'+b.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+b.gridlocalization.filterclearstring+"</span>");r.append(t),s.jqxButton({height:20,theme:b.theme}),t.jqxButton({height:20,theme:b.theme});var u=function(a){if(a){if(-1!=a.text().indexOf("case sensitive")){var c=a.text();c=c.replace("case sensitive","match case"),a.text(c)}return a.css("font-family",b.host.css("font-family")),a.css("font-size",b.host.css("font-size")),a.css("top","1px"),a.css("position","relative"),a}return""};if("default"===this.filtermode){f.append(g),f.append(h),h.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:e-15,height:20,dropDownHeight:150,dropDownWidth:e-15,selectionRenderer:u,source:l,theme:b.theme}),f.append(n);var v=new Array;v[0]=b.gridlocalization.filterandconditionstring,v[1]=b.gridlocalization.filterorconditionstring,i.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:20,source:v,selectionRenderer:u,theme:b.theme}),f.append(i),j.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:e-15,height:20,dropDownHeight:150,dropDownWidth:e-15,selectionRenderer:u,source:l,theme:b.theme}),f.append(j),f.append(p)}else{f.append(g),f.append(h),h.jqxListBox({rtl:b.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:e-15,height:120,theme:b.theme});var w=!0;b.addHandler(h,"checkChange",function(a){if(w)if(a.args.label!=b.gridlocalization.filterselectallstring){w=!1,h.jqxListBox("checkIndex",0,!0,!1);var c=h.jqxListBox("getCheckedItems"),d=h.jqxListBox("getItems");1==c.length?h.jqxListBox("uncheckIndex",0,!0,!1):d.length!=c.length&&h.jqxListBox("indeterminateIndex",0,!0,!1),w=!0}else w=!1,a.args.checked?h.jqxListBox("checkAll",!1):h.jqxListBox("uncheckAll",!1),w=!0})}f.append(r),b.updatefilterpanel&&b.updatefilterpanel(h,j,i,n,p,s,t,null,null,l)}})}(jqxBaseFramework),function(a){a.jqx.dataview.grouping=function(){this.loadgrouprecords=function(b,c,d,e,f,g,h,i,j){for(var k=b,l=this,m=new Array,n=0;n<l.groups.length;n++)m[n]=l.generatekey();var o=new Array,p=0,m=m,q=new Array,r=c,s=c,t=l.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var u=null!=this.sortdata,v=u?this.sortdata:this.records;if(this.pageable){var w=Object.prototype.toString,x=this.groups[0];if(Object.prototype.toString="function"==typeof x?x:function(){return this[x]},u){var y=this.sortfield;Object.prototype.toString="function"==typeof x?x:function(){return this[x]+" "+this[y]}}var z=new Array,A=0;a.each(v,function(){z[c+A++]=this}),v=z,u?v.sort(function(b,c){var b=b.value,c=c.value;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(c>b)return-1;if(b>c)return 1}catch(d){}return 0}):v.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(c>b)return-1;if(b>c)return 1}catch(d){}return 0}),Object.prototype.toString=w}if(this.virtualmode){for(var z=new Array,A=0,r=0;d-c>r;r++)z[c+A++]=v[r];r=0,v=z}for(var B=c;d>B;B++){var C={};C=u?a.extend({},v[B].value):a.extend({},v[B]),id=C[l.uniqueId],(f>=i||id!=h[f][l.uniqueId]||g&&g[id])&&(j[j.length]=f);for(var D=new Array,E=0,n=0;t>n;n++){var F=l.groups[n],G=C[F];null==G&&(G=""),D[E++]={value:G,hash:m[n]}}if(D.length!=t)break;for(var H=null,I="",J=-1,K=0;K<D.length;K++){J++;var L=D[K].value,M=D[K].hash;if(I=I+"_"+M+"_"+L,void 0==q[I]||null==q[I]){if(null==H)H={group:L,subItems:new Array,subGroups:new Array,level:0},o[p++]=H,H.uniqueid=l.generatekey(),l.loadedgroupsByKey[L]=H;else{var N={group:L,subItems:new Array,subGroups:new Array,parentItem:H,level:H.level+1};l.loadedgroupsByKey[H.uniqueid+"_"+L]=N,N.uniqueid=l.generatekey(),H.subGroups[H.subGroups.length++]=N,H=N}q[I]=H}else H=q[I]}null!=H?(void 0==C.uid&&(C.uid=this.getid(this.source.id,C,r)),u?(C.boundindex=v[B].index,this.recordsbyid["id"+C.uid]=v[B].value):(C.boundindex=r,this.recordsbyid["id"+C.uid]=v[B]),this.bounditems[C.boundindex]=C,this.sortedgroups[r]=C,C.uniqueid=l.generatekey(),C.parentItem=H,C.level=H.level+1,H.subItems[H.subItems.length++]=C):(void 0==C.uid&&(C.uid=this.getid(this.source.id,C,r)),u?(C.boundindex=v[B].index,this.recordsbyid["id"+C.uid]=v[B].value):(C.boundindex=r,this.recordsbyid["id"+C.uid]=v[B]),this.sortedgroups[r]=C,this.bounditems[C.boundindex]=C,C.uniqueid=l.generatekey()),f++,r++,s++}var O=function(a,c,d){for(var e=0;e<c.subItems.length;e++)c.subItems[e].visibleindex=b+d,a.rows[d]=c.subItems[e],a.loadedrecords[d]=c.subItems[e],d++;return d},P=function(a,c,d){var e=function(c){if(1==a.aggregates){var e=c,f={};null!=e&&(f.level=e.level,f.visibleindex=b+d,f.uniqueid=a.generatekey(),a.rows[d]=f,a.loadedrecords[d++]=f,f.totalsrow=!0,c.subItems.length>0?(e=c.subItems[c.subItems.length-1],f.parentItem=e.parentItem,f.parentItem.subItems&&(f.parentItem.subItems[f.parentItem.subItems.length]=f)):c.subGroups.length>0&&(e=c.subGroups[c.subGroups.length-1],f.level=e.level,f.parentItem=c,c.subGroups[c.subGroups.length]=f))}};for(subGroup in c.subGroups){var f=c.subGroups[subGroup];f.subGroups&&(a.loadedgroups[a.loadedgroups.length]=f,f.visibleindex=b+d,a.rows[d]=f,a.loadedrecords[d]=f,d++,f.subGroups.length>0?d=P(a,f,d):f.subItems.length>0&&(d=O(a,f,d)),e(f))}return c.subItems.length>0&&(d=O(a,c,d)),e(c),d},Q=o.length;this.loadedgroups=new Array,this.rows=new Array;for(var k=0,r=0;Q>r;r++){var F=o[r];this.loadedrootgroups[r]=F,this.loadedgroups[this.loadedgroups.length]=F,F.visibleindex=b+k,this.rows[k]=F,this.loadedrecords[k]=F,k++,k=P(this,F,k)}return k},this._updategroupsinpage=function(b,c,d,e,f,g,h){var i=new Array,j=[];if(this.groupable&&this.groups.length>0){for(var k=0,l=new Array,m=new Array,n=0;n<b.groups.length;n++)m[n]=b.generatekey();var o=0,p=new Array,q=0;h>this.totalrecords&&(h=this.totalrecords);for(var r=g;h>r;r++){var s=a.extend({},b.sortedgroups[r]);if(id=s[b.uniqueId],!b.pagesize||d>=b.pagesize*b.pagenum&&d<b.pagesize*(b.pagenum+1)){(e>=f||id!=i[e][b.uniqueId]||updated&&updated[id])&&(j[j.length]=e);for(var t=new Array,u=0,n=0;n<b.groups.length;n++){var v=b.groups[n],w=s[v];null==w&&(w=""),t[u++]={value:w,hash:m[n]}}if(t.length!=b.groups.length)break;for(var x=null,y="",z=-1,A=0;A<t.length;A++){z++;var B=t[A].value,C=t[A].hash;if(y=y+"_"+C+"_"+B,void 0==l[y]||null==l[y]){if(null==x){x={group:B,subItems:new Array,subGroups:new Array,level:0},p[q++]=x;var D=b.loadedgroupsByKey[B];void 0!=D&&(x.visibleindex=D.visibleindex,x.uniqueid=D.uniqueid)}else{var E={group:B,subItems:new Array,subGroups:new Array,parentItem:x,level:x.level+1},D=b.loadedgroupsByKey[x.uniqueid+"_"+B];E.visibleindex=D.visibleindex,E.uniqueid=D.uniqueid,x.subGroups[x.subGroups.length++]=E,x=E}l[y]=x}else x=l[y]}null!=x&&(s.parentItem=x,s.level=x.level+1,x.subItems[x.subItems.length++]=s),e++}o++,d++}for(var F=function(b,c,d){for(var e=0;e<c.subItems.length;e++)i[d]=a.extend({},c.subItems[e]),d++;return d},G=function(a){var b=!1;for(subGroup in a.subGroups){var c=a.subGroups[subGroup];if(c.subGroups){if(c.subGroups.length>0){var d=G(c);if(d)return b=!0,!0}if(c.subItems.length>0)return b=!0,!0}}return a.subItems.length>0?(b=!0,!0):b},H=function(a,b,c){for(subGroup in b.subGroups){var d=b.subGroups[subGroup];d.subGroups&&G(d)&&(i[c]=d,c++,d.subGroups.length>0?c=H(a,d,c):d.subItems.length>0&&(c=F(a,d,c)))}return b.subItems.length>0&&(c=F(a,b,c)),c},o=0;o<p.length;o++){var v=p[o];G(v)&&(i[k]=v,k++,k=H(this,v,k))}}return i}},a.extend(a.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var b=this,c=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||a('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var d=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var e=new Array;if(d>0)a.each(this.groups,function(c){var f=this,g=b._getColumnText(this),h=g.label,i=b._rendergroupcolumn(h,f);if(i.addClass(b.toThemeProperty("jqx-grid-group-column")),b.groupsheaderdiv.append(i),b.closeablegroups){var j=a(i.find(".jqx-icon-close"));b.isTouchDevice()&&b.touchmode!==!0?b.addHandler(j,"touchstart",function(){return b.removegroupat(c),!1}):b.addHandler(j,"click",function(){return b.removegroupat(c),!1})}if(b.sortable&&b.addHandler(i,"click",function(){var a=b.getcolumn(f);return null!=a&&b._togglesort(a),!1}),e[e.length]=i,b._handlegroupstocolumnsdragdrop(this,i),d-1>c){var k=i.height(),l=a('<div style="float: left; position: relative;"></div>');b.rtl&&l.css("float","right"),l.width(b.groupindentwidth/3),l.height(1),l.css("top",k/2),l.addClass(b.toThemeProperty("jqx-grid-group-column-line")),b.groupsheaderdiv.append(l)}});else{var f=a('<div style="position: relative;">'+c+"</div>");this.groupsheaderdiv.append(f),this.rtl&&f.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=e,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var b=this,c=this.groupsheaderdiv.children().outerHeight(),d=(this.groupsheader.height()-c)/2;this.groupsheaderdiv.css("top",d),this.rtl?this.groupsheaderdiv.css("right",d):this.groupsheaderdiv.css("left",d),this.rtl&&this._groupheaders.reverse(),a.each(this._groupheaders,function(a){var c=this.coord();b.groupheadersbounds[a]={left:c.left,top:c.top,width:this.outerWidth(),height:this.outerHeight(),index:a}})},addgroup:function(a){if(a){var b=this;b.groups!==b.dataview.groups&&(b.dataview.groups=b.groups),b.groups[b.groups.length]=a,b.refreshgroups(),this._raiseEvent(12,{type:"Add",index:b.groups[b.groups.length],groups:b.groups})}},insertgroup:function(a,b){if(void 0!=a&&null!=a&&a>=0&&a<=this.groups.length&&b){var c=this;c.groups!==c.dataview.groups&&(c.dataview.groups=c.groups),c.groups.splice(a,0,b.toString()),c.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:a,groups:c.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1)},_insertaftergroup:function(a,b){
var c=this._getGroupIndexByDataField(a);this.insertgroup(c+1,b)},_insertbeforegroup:function(a,b){var c=this._getGroupIndexByDataField(a);this.insertgroup(c,b)},removegroupat:function(a){if(a>=0&&null!=a&&void 0!=a){var b=this;return b.groups!==b.dataview.groups&&(b.dataview.groups=b.groups),b.groups.splice(a,1),b.refreshgroups(),b.virtualmode&&b.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:a,groups:b.groups}),!0}return!1},cleargroups:function(){var a=this;return a.groups=[],a.dataview.groups=a.groups,a.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:a.groups}),!0},removegroup:function(a){if(null==a)return!1;var b=this.groups.indexOf(a.toString());return this.removegroupat(b)},getrootgroupscount:function(){var a=this.dataview.loadedrootgroups.length;return a},collapsegroup:function(a){return this._setrootgroupstate(a,!1)},expandgroup:function(a){return this._setrootgroupstate(a,!0)},collapseallgroups:function(a){this._setbatchgroupstate(!1,a)},expandallgroups:function(a){this._setbatchgroupstate(!0,a)},getgroup:function(b){var c=this.dataview.loadedrootgroups[b];if(null==c)return null;var d=this.expandedgroups[c.uniqueid].expanded,e=c.group,f=c.level,g=new Array;this._getsubgroups(g,c);var h=this,i={group:e,level:f,expanded:d,subgroups:g};if(c.subItems){var j=new Array;a.each(c.subItems,function(){var a=this.boundindex;j[j.length]=h.getrowdata(a)}),j.length>0&&(i.subrows=j)}return i},getrootgroups:function(){for(var a=this.dataview.loadedrootgroups.length,b=new Array,c=0;a>c;c++)b[c]=this.getgroup(c);return b},_getsubgroups:function(b,c){var d=this;for(obj in c.subGroups){var e=c.subGroups[obj],f=d.expandedgroups[e.uniqueid].expanded,g=e.group,h=e.level;if(b[b.length]={group:g,level:h,expanded:f},e.subItems){var i=new Array;a.each(e.subItems,function(){var a=this.boundindex;i[i.length]=d.getrowdata(a)}),b[b.length-1].subrows=i}if(e.subGroups){var j=new Array;d._getsubgroups(j,e)}}return b},_setbatchgroupstate:function(a,b){var c=this;for(obj in this.dataview.loadedrootgroups)c._setrootgroupstate(obj,a,!1,!0);if(0==b)return c._requiresupdate=!0,c._renderrows(c.virtualsizeinfo),!0;var d=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(d!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(a,b,c,d){if(void 0==a||null==a||0>a)return!1;if(!this.groupable||0==this.groups.length)return!1;var e=void 0!=c?c:!0;if(a>=0&&a<this.dataview.loadedrootgroups.length){var f=this.dataview.loadedrootgroups[a];if(this.pageable){for(var g=new Array,h=0;h<this.dataview.rows.length;h++)null!=this.dataview.rows[h].group&&0===this.dataview.rows[h].level&&g.push(this.dataview.rows[h]);if(f=g[a],!f)return}return this._setgroupstate(f,b,e,d)}return!1},_togglegroupstate:function(a,b){if(null==a||void 0==a)return!1;var c=this.vScrollInstance.value,d=this.expandedgroups[a.uniqueid];d=void 0==d?!1:d.expanded,d=!d;var e=this._setgroupstate(a,d,b);return 0!==c&&"hidden"!==this.vScrollBar.css("visibility")&&(c<=this.vScrollInstance.max?this.vScrollInstance.setPosition(c):this.vScrollInstance.setPosition(this.vScrollInstance.max)),e},_setgroupstate:function(a,b,c,d){if(null==a||void 0==a)return!1;var e=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var f=this.expandedgroups[a.uniqueid];if(void 0==f&&(f={expanded:!1},e=!0),f.expanded!=b&&(e=!0),e){if(this.expandedgroups[a.uniqueid]={expanded:b,group:a},this._setsubgroupsvisibility(this,a,!b,d),c){var g=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(g!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return(void 0==this.suspendgroupevents||0==this.suspendgroupevents)&&(b?this._raiseEvent(4,{group:a.group,parentgroup:a.parentItem?a.parentItem.group:null,level:a.level,visibleindex:a.visibleindex}):this._raiseEvent(5,{group:a.group,parentgroup:a.parentItem?a.parentItem.group:null,level:a.level,visibleindex:a.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(a,b,c){for(var d=0;d<b.subItems.length;d++)a._setrowvisibility(b.subItems[d].visibleindex,c,!1)},_setsubgroupsvisibility:function(a,b,c,d){if(null!=b.parentItem){if(this.hiddens[b.parentItem.visibleindex])return}else if(null==b.parentItem&&this.hiddens[b.visibleindex])return;for(subGroup in b.subGroups){var e=b.subGroups[subGroup];c||a._setrowvisibility(e.visibleindex,c,!1);var f=!c;d?this.expandedgroups[e.uniqueid]={expanded:f,group:e}:f=void 0==a.expandedgroups[e.uniqueid]?!1:a.expandedgroups[e.uniqueid].expanded,e.subGroups&&(e.subGroups.length>0?a._setsubgroupsvisibility(a,e,!f||c,d):e.subItems.length>0&&a._setgroupitemsvisibility(a,e,!f||c)),c&&a._setrowvisibility(e.visibleindex,c,!1)}b.subItems&&b.subItems.length>0&&a._setgroupitemsvisibility(a,b,c)},_handlecolumnsdragdrop:function(){var b=this,c=-1,d=!1;if(b.groupable){var e="mousemove.grouping"+this.element.id,f="mousedown.grouping"+this.element.id,g="mouseup.grouping"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(e){if(!b.showgroupsheader)return!0;if(null!=b.dragcolumn){var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=parseInt(k.left),m=parseInt(k.top);(void 0==b.dragmousedownoffset||null==b.dragmousedownoffset)&&(b.dragmousedownoffset={left:0,top:0});var n=parseInt(f)-parseInt(b.dragmousedownoffset.left),o=parseInt(g)-parseInt(b.dragmousedownoffset.top);if(b.dragcolumn.css({left:n+"px",top:o+"px"}),d=!1,f>=l&&f<=l+b.host.width()&&g>=m&&g<=m+b.host.height()&&(d=!0),c=-1,d){b.dragcolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.dragcolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var p=b.groupsheader.coord(),q=p.top+b.groupsheader.height(),r=a.data(b.dragcolumn[0],"datarecord");if(r)var s=b.groups.indexOf(r.toString());else var s=-1;var t=-1==s||b.groups.length>1&&s>-1;null!=b.dropline&&(g>=p.top&&q>=g?t&&(c=b._handlegroupdroplines(f)):b.dropline.fadeOut("slow"))}else null!=b.dropline&&b.dropline.fadeOut("slow"),b.dragcolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.dragcolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(h)return e.preventDefault(),e.stopPropagation(),!1}}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(!b.showgroupsheader)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top)),m=b.groupsheader.height();if(b.showtoolbar&&(l+=b.toolbarheight),b.dragstarted=!1,b.dragmousedown=null,null!=b.dragcolumn){var n=a.data(b.dragcolumn[0],"datarecord");if(b.dragcolumn.remove(),b.dragcolumn=null,null!=n){if(!b.getcolumn(n).groupable)return void(null!=b.dropline&&(b.dropline.remove(),b.dropline=null));if(d)if(-1!=c){var o=c.index,p=b.groups[o],q=b._getGroupIndexByDataField(n);q!=o&&(void 0!=q&&q>=0&&b.groups.splice(q,1),"before"==c.position?b.rtl?b._insertaftergroup(p,n):b._insertbeforegroup(p,n):b.rtl?b._insertbeforegroup(p,n):b._insertaftergroup(p,n))}else if(0==b.groups.length)g>l&&l+m>=g&&b.addgroup(n);else if(g>l+m){var q=b._getGroupIndexByDataField(n);b.removegroupat(q)}null!=b.dropline&&(b.dropline.remove(),b.dropline=null)}}})}},_getGroupIndexByDataField:function(a){for(var b=0;b<this.groups.length;b++)if(this.groups[b]==a)return b;return-1},_isColumnInGroups:function(a){for(var b=0;b<this.groups.length;b++)if(this.groups[b]==a)return!0;return!1},_handlegroupdroplines:function(b){var c=this,d=-1;return a.each(c.groupheadersbounds,function(a){if(b<=this.left+this.width/2){var e=this.left-3;return a>0&&(e=this.left-1-c.groupindentwidth/6),c.dropline.css("left",e),c.dropline.css("top",this.top),c.dropline.height(this.height),c.dropline.fadeIn("slow"),d={index:a,position:"before"},c.rtl&&(d={index:c.groupheadersbounds.length-1-a,position:"before"}),!1}b>=this.left+this.width/2&&(c.dropline.css("left",1+this.left+this.width),c.dropline.css("top",this.top),c.dropline.height(this.height),c.dropline.fadeIn("slow"),d={index:a,position:"after"},c.rtl&&(d={index:c.groupheadersbounds.length-1-a,position:"after"}))}),d},_handlegroupstocolumnsdragdrop:function(b,c){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var d,e=this,f="mousedown",g="mousemove",h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,f=a.jqx.mobile.getTouchEventName("touchstart"),g=a.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,f,function(b){if(!e.showgroupsheader)return!0;var c=b.pageX,d=b.pageY;if(e.__drag=!0,e.dragmousedown={left:c,top:d},h){var f=e.getTouches(b),g=f[0];c=g.pageX,d=g.pageY,e.dragmousedown={left:c,top:d},b.preventDefault&&b.preventDefault()}var i=a(b.target).coord();e.dragmousedownoffset={left:parseInt(c)-parseInt(i.left),top:parseInt(d-i.top)}}),this.addHandler(c,g,function(f){if(!e.showgroupsheader)return!0;if(e.dragmousedown){if(d={left:f.pageX,top:f.pageY},h){var g=e.getTouches(f),i=g[0];d={left:i.pageX,top:i.pageY}}if(!e.dragstarted&&null==e.dragcolumn){var j=Math.abs(d.left-e.dragmousedown.left),k=Math.abs(d.top-e.dragmousedown.top);(j>3||k>3)&&(e._createdragcolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.dragcolumn[0],"datarecord",b),f.preventDefault&&f.preventDefault())}}})},_createdragcolumn:function(b,c,d){var e=this,f=c;e.dragcolumn=a("<div></div>");var g=b.clone();e.dragcolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.dragcolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.dragcolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.dragcolumn.css("float","left"),e.dragcolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.dragcolumn.append(g),e.dragcolumn.height(b.height()),e.dragcolumn.width(g.width()),e.dragcolumn.append(e.dragcolumnicon),a(document.body).append(e.dragcolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.dragcolumn.css("left",f.left+e.dragmousedown.left),e.dragcolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.dropline=a('<div style="display: none; position: absolute;"></div>'),e.dropline.width(2),e.dropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.dropline))},iscolumngroupable:function(a){return this._getcolumnproperty(a,"groupable")},_handlecolumnstogroupsdragdrop:function(b,c){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,g,function(d){if(!e.showgroupsheader)return!0;if(e.__drag=!0,e._isColumnInGroups(b.displayfield))return"col-resize"!=c.css("cursor")?!0:!0;if(0==b.groupable)return!0;var g=d.pageX,h=d.pageY;if(f){var i=e.getTouches(d),j=i[0];g=j.pageX,h=j.pageY}e.dragmousedown={left:g,top:h},f&&d.preventDefault&&d.preventDefault();var k=a(d.target).coord();e.dragmousedownoffset={left:parseInt(g)-parseInt(k.left),top:parseInt(h-k.top)}}),this.addHandler(c,d,function(g){if(!e.showgroupsheader)return!0;if(e._isColumnInGroups(b.displayfield))return"col-resize"!=c.css("cursor")?!0:!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];h=k.pageX,i=k.pageY}if(d={left:h,top:i},!e.dragstarted&&null==e.dragcolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createdragcolumn(c,d,!0),a.data(e.dragcolumn[0],"datarecord",b.displayfield),g.preventDefault&&g.preventDefault())}}})},_rendergroupcolumn:function(b,c){var d=a('<div style="float: left; position: relative;"></div>');if(this.rtl&&d.css("float","right"),null!=this.groupcolumnrenderer&&(d[0].innerHTML=this.groupcolumnrenderer(b),d.addClass(this.toThemeProperty("jqx-grid-group-column")),d.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==d[0].innerHTML&&(d[0].innerHTML='<a style="float: left;" href="#">'+b+"</a>"),this.rtl&&(d[0].innerHTML='<a style="float: right;" href="#">'+b+"</a>");var e=this.rtl?"left":"right",f='<div style="float: '+e+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(f='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){var f='<div style="float: '+e+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';a.jqx.browser.msie&&a.jqx.browser.version<8&&(f='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}d[0].innerHTML+=f}else""==d[0].innerHTML&&(d[0].innerHTML='<a href="#">'+b+"</a>");if(this.sortable){var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}g.css("display","none"),h.css("display","none"),a.jqx.browser.msie&&a.jqx.browser.version<8&&(g.css("float","left"),h.css("float","left")),d.append(g),d.append(h),a.data(document.body,"groupsortelements"+c,{sortasc:g,sortdesc:h})}return d.addClass(this.toThemeProperty("jqx-fill-state-normal")),d.addClass(this.toThemeProperty("jqx-grid-group-column")),d},_rendergroup:function(b,c,d,e,f,g,h){var i=c,j=c.cells[d.level];this.rtl&&(j=c.cells[c.cells.length-1-d.level]);var k=this._findgroupstate(d.uniqueid);if(d.bounddata.subGroups.length>0||d.bounddata.subItems.length>0){var l=this.rtl?"-rtl":"",m=this.toThemeProperty("jqx-icon-arrow-right");l&&(m=this.toThemeProperty("jqx-icon-arrow-left")),k?j.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+l)+" "+this.toThemeProperty("jqx-icon-arrow-down"):j.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+l)+" "+m}var n=this._getColumnText(this.groups[d.level]).label,o=this.groupindentwidth,p=this.rowdetails&&this.showrowdetailscolumn?(1+b)*o:b*o,q=h-p,r=d.level+1;this.rtl&&(r=0);for(var s=i.cells[r],t=2;void 0!=s&&"none"==s.style.display&&t<i.cells.length-1;)s=i.cells[r+t-1],t++;var u=a(s);if(s){if(s.style.width=parseInt(q)+"px",-1!=s.className.indexOf("jqx-grid-cell-filter")&&u.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=s.className.indexOf("jqx-grid-cell-sort")&&u.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=s.className.indexOf("jqx-grid-cell-pinned")&&u.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var v={group:d.group,level:d.level,parent:d.bounddata.parentItem,subGroups:d.bounddata.subGroups,subItems:d.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[d.level]).column},w=this.groupsrenderer(n+": "+d.group,d.group,k,v);if(w)s.innerHTML=w;else{var x=d.bounddata.subItems.length>0?d.bounddata.subItems.length:d.bounddata.subGroups.length;s.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+n+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+d.group+" ("+x+")</span></div>"}}else{var y=this._getcolumnbydatafield(this.groups[d.level]),z=d.group;if(null==y)throw new Error("jqxGrid: Unable to find '"+this.groups[d.level]+"' group in the Grid's columns collection.");y.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(z)?z=a.jqx.dataFormat.formatdate(z,y.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(z)&&(z=a.jqx.dataFormat.formatnumber(z,y.cellsformat,this.gridlocalization)));var x=d.bounddata.subItems.length>0?d.bounddata.subItems.length:d.bounddata.subGroups.length;s.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+n+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+z+" ("+x+")</span></div>"}if(this.rtl){y||(y=this._getcolumnbydatafield(this.groups[d.level]));var A="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,B="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,p=this.rowdetails&&this.showrowdetailscolumn?(2+d.level)*o:(1+d.level)*o;s.style.width=h+parseInt(A)-p-B+"px",u.addClass(this.toThemeProperty("jqx-rtl"));var C=a(c.cells[c.cells.length-1]).css("z-index");u.css("z-index",C);var D=u.find("div"),q=D.width();D.css("left","100%");var E=null!=this.columns.records[c.cells.length-2-d.level]?this.columns.records[c.cells.length-2-d.level].pinned:!1;if(this.table.width()<h&&(h=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(h+=this.vScrollBar.outerWidth())),y.pinned||E)this.rowdetails&&this.showrowdetailscolumn&&(h+=30),D.css("margin-left",-q),s.style.width=h+A-p-B+"px";else{var A="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;s.style.width=h+A-p-B+"px";var q=D.width();D.css("margin-left",-q)}}}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_initpager:function(){var b=this.that,c=this.gridlocalization.pagergotopagestring,d=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),e=(this.pagerheight-17)/2;if(this.pagerdiv=this.pagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var f=this.pagerrenderer();null!=f&&this.pagerdiv.append(a(f)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",e),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||a('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||a('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=a('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var g=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(g);var h=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(h),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var i=this.rtl?"right":"left";this.pagerbuttons.css("float",i),this.pagerlastbutton.css("float",i),this.pagerfirstbutton.css("float",i),this.pagerrightbutton.css("float",i),this.pagerleftbutton.css("float",i),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var j=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");j.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(j);var k=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");k.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(k),this.rtl||this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var l=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:l,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:16,theme:this.theme});for(var m=0,n=0;n<l.length;n++)this.pagesize>=l[n]&&(m=n);this.pagershowrows[0].innerHTML=d,this.pagergoto[0].innerHTML=c,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:m}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var b=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(a){if(a.args){b.vScrollInstance&&b.vScrollInstance.setPosition(0),null!=b.editcell&&b.endcelledit&&b.endcelledit(b.editcell.row,b.editcell.column,!0,!1);var c=a.args.index,d=b.dataview.pagenum*b.dataview.pagesize,e=l[c],f=b.pagesize;b.pagesize=parseInt(e),isNaN(b.pagesize)&&(b.pagesize=10),e>=100?b.pagershowrowscombo.jqxDropDownList({width:"auto"}):b.pagershowrowscombo.jqxDropDownList({width:44}),b.dataview.pagesize=b.pagesize;var g=Math.floor(d/b.dataview.pagesize);b.prerenderrequired=!0,b._requiresupdate=!0,b._raiseEvent(10,{pagenum:g,oldpagesize:f,pagesize:b.dataview.pagesize}),b.gotopage(g),b.autoheight&&b._updatesizeonwindowresize&&(b._updatesize(!0),setTimeout(function(){b._updatesize(!0)},500))}});var o=this.pagergotoinput.find("input");o.addClass(this.toThemeProperty("jqx-grid-pager-input")),o.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),this.addHandler(o,"keydown",function(a){if(a.keyCode>=65&&a.keyCode<=90)return!1;if("13"==a.keyCode){var c=o.val();return c=parseInt(c),isNaN(c)||b.gotopage(c-1),!1}}),this.addHandler(o,"change",function(){var a=o.val();a=parseInt(a),isNaN(a)||b.gotopage(a-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){k.addClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){j.addClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){k.addClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){j.addClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+this.element.id,function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected")),j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){b.pagerrightbutton.jqxButton("disabled")||(b.rtl?b.gotoprevpage():b.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){b.pagerleftbutton.jqxButton("disabled")||(b.rtl?b.gotonextpage():b.gotoprevpage())});var p=this;if("simple"===this.pagermode){var q=this.pagerfirstbutton,r=this.pagerlastbutton;this.addHandler(r,"mouseenter",function(){h.addClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(q,"mouseenter",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(r,"mouseleave",function(){h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(q,"mouseleave",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(r,"mousedown",function(){h.addClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(q,"mousedown",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(r,"mouseup",function(){h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(q,"mouseup",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+name+this.element.id,function(){k.removeClass(p.toThemeProperty("jqx-icon-arrow-right-selected")),j.removeClass(p.toThemeProperty("jqx-icon-arrow-left-selected")),h&&(h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(q,"click",function(){if(!q.jqxButton("disabled"))if(p.rtl){var a=p.dataview.totalrecords,b=Math.ceil(a/p.pagesize);p.gotopage(b-1)}else p.gotopage(0)}),this.addHandler(r,"click",function(){if(!r.jqxButton("disabled"))if(p.rtl)p.gotopage(0);else{
var a=p.dataview.totalrecords,b=Math.ceil(a/p.pagesize);p.gotopage(b-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var b=this.pagergotoinput.find("input");b.removeClass(),b.addClass(this.toThemeProperty("jqx-grid-pager-input")),b.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var c=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(c);var d=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),"simple"==this.pagermode){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var e=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");e.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(e);var f=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");f.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(f),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var g=function(a,b){a.removeHandler(b,"mouseenter"),a.removeHandler(b,"mouseleave"),a.removeHandler(b,"mousedown"),a.removeHandler(b,"mouseup")};g(this,this.pagerrightbutton),g(this,this.pagerleftbutton);var h=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){c.addClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){c.removeClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){c.addClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){c.removeClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(a){if((null==a||void 0==a)&&(a=0),-1==a&&(a=0),!(0>a)){var b=this.dataview.totalrecords;this.summaryrows&&(b+=this.summaryrows.length);var c=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:a,pagesize:this.dataview.pagesize});var d=Math.ceil(b/this.pagesize);if(a>=d&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),a>0&&(a=d-1),0>a&&(a=0)),(this.dataview.pagenum!=a||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(a,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=a,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var e=a*this.dataview.pagesize,f=e+this.dataview.pagesize;if(null!=e&&null!=f)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var g=this.host.height()-this._gettableheight();height=g+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);var b=Math.ceil(a/this.pagesize);this.gotopage(b-1)}},gotonextpage:function(){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);var b=Math.ceil(a/this.pagesize);this.dataview.pagenum<b-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var b=this.dataview.pagenum*this.pagesize,c=(this.dataview.pagenum+1)*this.pagesize;c>=this.dataview.totalrecords&&(c=this.dataview.totalrecords);var d=this.dataview.totalrecords;this.summaryrows&&(d+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(c=d)),b++;var e=Math.ceil(d/this.dataview.pagesize);if(e>=1&&e--,e++,"simple"!==this.pagermode){var f=this.pagergotoinput.find("input");f.val(this.dataview.pagenum+1)}else{var g="",h=this.pagerbuttonscount;0!=h&&h||(h=5);var i=0;for(this.rtl&&(i=h-1);this.rtl&&i>=0||!this.rtl&&h>i;){var j=1+i,k=this.dataview.pagenum/h,l=Math.floor(k);j+=l*h;var m=this.toTP("jqx-grid-pager-number");if(m+=" "+this.toTP("jqx-rc-all"),j>e)break;if(this.rtl||0==i&&j>h&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+j)+"'>...</a>"),this.dataview.pagenum===j-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(i===h-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),e>=1+j&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+j)+"'>...</a>")}this.dataview.pagenum===j-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+j+"'>"+j+"</a>"}else if(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+j+"'>"+j+"</a>",i===h-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),e>=1+j&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+j)+"'>...</a>")}if(this.rtl){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),0==i&&j>h&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+j)+"'>...</a>")}this.rtl?i--:i++}var n=this.pagerbuttons.find("a");this.removeHandler(n,"click"),this.removeHandler(n,"mouseenter"),this.removeHandler(n,"mouseleave"),this.pagerbuttons[0].innerHTML=g;var o=this,p=function(){o.addHandler(n,"click",function(b){var c=a(b.target).attr("data-page");return o.gotopage(parseInt(c)-1),!1}),o.addHandler(n,"mouseenter",function(b){a(b.target).addClass(o.toTP("jqx-fill-state-hover"))}),o.addHandler(n,"mouseleave",function(b){a(b.target).removeClass(o.toTP("jqx-fill-state-hover"))})},n=this.pagerbuttons.find("a");p(n)}this.pagergotoinput.attr("title","1 - "+e),0==c&&b>c&&(b=0),this.rtl?this.pagerdetails[0].innerHTML=d+this.gridlocalization.pagerrangestring+c+"-"+b:this.pagerdetails[0].innerHTML=b+"-"+c+this.gridlocalization.pagerrangestring+d,b>c&&this.gotoprevpage()}},_updatepagedview:function(a,b,c){var d=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var e=this.dataview.rows.length,f=0;e>f;f++){var g=this.dataview.rows[f].visibleindex,h={index:g,height:this.heights[g],hidden:this.hiddens[g],details:this.details[g]};if(void 0==this.heights[g]&&(this.heights[g]=this.rowsheight,h.height=this.rowsheight),void 0==this.hiddens[g]&&(this.hiddens[g]=!1,h.hidden=!1),void 0==this.details[g]&&(this.details[g]=null),h.height!=d.rowsheight&&(b-=d.rowsheight,b+=h.height),h.hidden)b-=h.height;else{c+=h.height;var i=0;this.rowdetails&&h.details&&h.details.rowdetails&&!h.details.rowdetailshidden&&(i=h.details.rowdetailsheight,c+=i,b+=i)}}return this._pageviews[0]={top:0,height:c},b}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_handledblclick:function(b,c){if(null!=b.target&&!c.disabled&&!a(b.target).ischildof(this.columnsheader)){var d;if(b.which?d=3==b.which:b.button&&(d=2==b.button),!d){var e;if(b.which?e=2==b.which:b.button&&(e=1==b.button),!e){var f=this.showheader?this.columnsheader.height()+2:0,g=this._groupsheader()?this.groupsheader.height():0,h=this.showtoolbar?this.toolbarheight:0;g+=h;var i=this.host.offset(),j=b.pageX-i.left,k=b.pageY-f-i.top-g,l=this._hittestrow(j,k);if(l){var m=l.row,n=l.index,o=b.target.className,p=this.table[0].rows[n];if(null!=p){c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-g};for(var q=this.hScrollInstance,r=q.value,s=0,t=(this.groupable?this.groups.length:0,0);t<p.cells.length;t++){var u=parseInt(a(this.columnsrow[0].cells[t]).css("left")),v=u-r;c.columns.records[t].pinned&&(v=u);var w=this._getcolumnat(t);if(null==w||!w.hidden){var x=v+a(this.columnsrow[0].cells[t]).width();if(x>=j&&j>=v){s=t;break}}}if(null!=m){var w=this._getcolumnat(s);-1==o.indexOf("jqx-grid-group-expand")&&-1==o.indexOf("jqx-grid-group-collapse")&&-1!=m.boundindex&&c.begincelledit(c.getboundindex(m),w.datafield,w.defaulteditorvalue)}}}}}}},_getpreveditablecolumn:function(a){for(var b=this;a>0;){a--;var c=b.getcolumnat(a);if(!c)return null;if(c.editable&&!c.hidden)return c}return null},_getnexteditablecolumn:function(a){for(var b=this;a<this.columns.records.length;){a++;var c=b.getcolumnat(a);if(!c)return null;if(c.editable&&!c.hidden)return c}return null},_handleeditkeydown:function(b,c){if(c.handlekeyboardnavigation){var d=c.handlekeyboardnavigation(b);if(1==d)return!0}var e=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(c.showfilterrow&&c.filterable&&this.filterrow&&a(b.target).ischildof(this.filterrow))return!0;if(c.pageable&&a(b.target).ischildof(this.pager))return!0;if(this.showtoolbar&&a(b.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&a(b.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&a(b.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode)return 13===e?this.endrowedit(this.editcell.row,!1):27===e&&this.endrowedit(this.editcell.row,!0),9===e?!1:!0;if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(e>=33&&40>=e&&"multiplecellsadvanced"==c.selectionmode){var f="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),g=c._selection(f),h=f.val().length;g.length>0&&"datetimeinput"!=this.editcell.columntype&&(c._cancelkeydown=!0),g.start>0&&37==e&&(c._cancelkeydown=!0),g.start<h&&39==e&&"datetimeinput"!=this.editcell.columntype&&(c._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==e&&g.start+g.length<h&&(c._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==e||39==e&&"multiplecellsadvanced"==c.selectionmode)&&(c._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(c._cancelkeydown=!0);if(32==e&&"checkbox"==c.editcell.columntype){var i=c.getcolumn(c.editcell.datafield);if(i.editable){var j=!c.getcellvalue(c.editcell.row,c.editcell.column);if(i.cellbeginedit){var k=i.cellbeginedit(c.editcell.row,i.datafield,i.columntype,!j);if(0==k)return!1}var l=c.getrowdata(c.editcell.row);return c.setcellvalue(c.editcell.row,c.editcell.column,j,!0),c._raiseEvent(18,{rowindex:c.editcell.row,row:l,datafield:c.editcell.column,oldvalue:!j,value:j,columntype:"checkbox"}),!1}}if(9==e){var m=this.editcell.row,n=this.editcell.column,o=n,p=c._getcolumnindex(n),q=!1,r=c.getrowvisibleindex(m);if(this.editchar="",0!=this.editcell.validated){if(b.shiftKey){var i=c._getpreveditablecolumn(p);i&&(n=i.datafield,q=!0,-1!=c.selectionmode.indexOf("cell")&&(c.selectprevcell(m,o),setTimeout(function(){c.ensurecellvisible(r,n)},10)))}else{var i=c._getnexteditablecolumn(p);i&&(n=i.datafield,q=!0,-1!=c.selectionmode.indexOf("cell")&&(c.selectnextcell(m,o),c._oldselectedcell=c.selectedcell,setTimeout(function(){c.ensurecellvisible(r,n)},10)))}if(!q)return null!=this.editcell&&(c.endcelledit(m,n,!1),this._renderrows(this.virtualsizeinfo)),!0;c.begincelledit(m,n),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==e){var s=this.selectedcell;if(s)var t=this.getrowvisibleindex(s.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode){var u=c.getselectedcell();if(null!=u&&c.selectcell&&null==this.editcell&&u.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=u.datafield){var r=this.getrowvisibleindex(u.rowindex),v=this.dataview.loadedrecords[r+1];if(v&&(!this.pageable||this.pageable&&r+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(v),u.datafield);var u=this.getselectedcell();this.ensurecellvisible(v.visibleindex,u.datafield)}}else if(null!=s){var w=this.dataview.loadedrecords[t+1];if(w)if(!this.pageable||this.pageable&&t+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(w),u.datafield);else if(this.pageable&&t+1>=this.pagesize){this.clearselection(!1);var w=this.dataview.loadedrecords[t];this.selectcell(this.getboundindex(w),u.datafield)}}}return!1}if(27==e)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var x=!1;if(113==e&&(x=!0),!b.ctrlKey&&!b.altKey){if(e>=48&&57>=e&&(this.editchar=String.fromCharCode(e),x=!0),e>=65&&90>=e){this.editchar=String.fromCharCode(e);var y=!1;b.shiftKey?y=b.shiftKey:b.modifiers&&(y=!!(4&b.modifiers)),y||(this.editchar=this.editchar.toLowerCase()),x=!0}else e>=96&&105>=e&&(this.editchar=e-96,this.editchar=this.editchar.toString(),x=!0);var z=a(".jqx-grid").length;x=x&&(1==z||z>1&&c.focused);var A=a.data(document.body,"jqxgrid.edit");if(void 0!==A&&""!==A&&(13===e||x)&&A!=c.element.id)return!0}if((13==e||x)&&c.getselectedrowindex){var m=c.getselectedrowindex();switch(c.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(m>=0){for(var n="",B=0;B<c.columns.records.length;B++){var i=c.getcolumnat(B);if(i.editable){n=i.datafield;break}}c.begincelledit(m,n)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var u=c.getselectedcell();if(null!=u){var i=c._getcolumnbydatafield(u.datafield);"checkbox"!=i.columntype&&c.begincelledit(u.rowindex,u.datafield)}break;case"multiplecellsadvanced":var u=c.getselectedcell();if(null!=u)if(13==e){if(c.selectcell&&u.rowindex+1<c.dataview.totalrecords){var r=this.getrowvisibleindex(u.rowindex),v=this.dataview.loadedrecords[r+1];if(v){this.clearselection(!1),this.selectcell(this.getboundindex(v),u.datafield);var u=this.getselectedcell();this.ensurecellvisible(v.visibleindex,u.datafield)}}}else"selectedrow"!==c.editmode&&c.begincelledit(u.rowindex,u.datafield)}return!1}if(46==e){var C=c.getselectedcells();if(-1==c.selectionmode.indexOf("cell")&&c._getcellsforcopypaste&&(C=c._getcellsforcopypaste()),null!=C&&C.length>0){for(var D=0;D<C.length;D++){var u=C[D];if(u.datafield){var i=c.getcolumn(u.datafield),E=c.getcellvalue(u.rowindex,u.datafield);if(""!==E&&i.editable&&c.enablekeyboarddelete){var F=null;if("checkbox"==i.columntype&&(i.threestatecheckbox||(F=!1)),i.cellbeginedit){var k=i.cellbeginedit(u.rowindex,i.datafield,i.columntype,F);if(0==k)return!1}var l=c.getrowdata(u.rowindex);if(c._raiseEvent(17,{rowindex:u.rowindex,row:l,datafield:u.datafield,value:E}),D==C.length-1?(c.setcellvalue(u.rowindex,u.datafield,F,!0),i.displayfield!=i.datafield&&c.setcellvalue(u.rowindex,i.displayfield,F,!0)):(c.setcellvalue(u.rowindex,u.datafield,F,!1),i.displayfield!=i.datafield&&c.setcellvalue(u.rowindex,i.displayfield,F,!0)),i.cellendedit){i.cellendedit(u.rowindex,i.datafield,i.columntype,F)}c._raiseEvent(18,{rowindex:u.rowindex,row:l,datafield:u.datafield,oldvalue:E,value:F})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==e){var u=c.getselectedcell();if(null!=u){var i=c.getcolumn(u.datafield);if("checkbox"==i.columntype&&i.editable){var j=!c.getcellvalue(u.rowindex,u.datafield);if(i.cellbeginedit){var k=i.cellbeginedit(u.rowindex,i.datafield,i.columntype,!j);if(0==k)return!1}var l=c.getrowdata(u.rowindex);return c._raiseEvent(17,{rowindex:u.rowindex,row:l,datafield:u.datafield,value:!j,columntype:"checkbox"}),c.setcellvalue(u.rowindex,u.datafield,j,!0),c._raiseEvent(18,{rowindex:u.rowindex,row:l,datafield:u.datafield,oldvalue:!j,value:j,columntype:"checkbox"}),!1}}}}return!0},begincelledit:function(b,c,d,e,f){var g=this.getcolumn(c);if(this._cellscache=new Array,null!=c&&"number"!=g.columntype&&"button"!=g.columntype){if(this.groupable){if(this.groups.indexOf(c)>=0)return;if(this.groups.indexOf(g.displayfield)>=0)return}if(void 0==this.editrow){if(this.editcell){if(this.editcell.row==b&&this.editcell.column==c)return!0;if("selectedrow"===this.editmode&&this.editcell.row==b)return;var h=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0==h)return}var i="checkbox"==g.columntype||"button"==g.columntype;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),g.editable){if(g.cellbeginedit){var j=this.getcell(b,c),k=g.cellbeginedit(b,c,g.columntype,null!=j?j.value:null);if(0==k)return}var l=this.getrowvisibleindex(b);if(this.editcell=this.getcell(b,c),this.editcell&&(this.editcell.visiblerowindex=l,!this.editcell.editing)){if(i||(this.editcell.editing=!0),this.editcell.columntype=g.columntype,this.editcell.defaultvalue=d,void 0!=g.defaultvalue&&(this.editcell.defaultvalue=g.defaultvalue),this.editcell.init=!0,"checkbox"!=g.columntype&&"selectedrow"!=this.editmode){var m=this.getrowdata(b);this._raiseEvent(17,{rowindex:b,row:m,datafield:g.datafield,value:this.editcell.value,columntype:g.columntype})}if(a.data(document.body,"jqxgrid.edit",this.element.id),!i){var n=this.getrowvisibleindex(b);e!==!1&&this.ensurecellvisible(n,g.datafield),f!==!1&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,f!==!1&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var a=document.body,b=document.documentElement;return b=b.clientHeight?b:a,b.scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var a=document.body,b=document.documentElement;return b=b.clientHeight?b:a,b.scrollLeft},endcelledit:function(b,c,d,e,f){if((void 0==b||void 0==c)&&(this.editcell&&(b=this.editcell.row,c=this.editcell.column),void 0==d&&(d=!0)),this.editcell){var g=this.getcolumn(c),h=this;if("selectedrow"===h.editmode)return void this.endrowedit(b,d);var i=function(){if(0!=f){if(h.isTouchDevice())return;if(!h.isNestedGrid){var a=h.getScrollTop(),b=h.getScrollLeft();try{h.element.focus(),h.content.focus(),a!=h.getScrollTop()&&window.scrollTo(b,a),setTimeout(function(){h.element.focus(),h.content.focus(),a!=h.getScrollTop()&&window.scrollTo(b,a)},10)}catch(c){}}}};if("checkbox"==g.columntype||"button"==g.columntype)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var j=this._geteditorvalue(g),k=function(a){if(a._hidecelleditor(),g.cellendedit&&g.cellendedit(b,c,g.columntype,a.editcell.value,j),a.editchar=null,g.displayfield!=g.datafield){var d=a.getcellvalue(a.editcell.row,g.displayfield),f=a.editcell.value;oldvalue={value:f,label:d}}else oldvalue=a.editcell.value;var h=a.getrowdata(b);a._raiseEvent(18,{rowindex:b,row:h,datafield:c,displayfield:g.displayfield,oldvalue:j,value:j,columntype:g.columntype}),a.editcell.editor=null,a.editcell.editing=!1,a.editcell=null,(e||void 0==e)&&a._renderrows(a.virtualsizeinfo),i(),a.enablebrowserselection||(a.host.addClass("jqx-disableselect"),a.content.addClass("jqx-disableselect"))};if(d)return k(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),g.cellvaluechanging){var l=g.cellvaluechanging(b,c,g.columntype,this.editcell.value,j);void 0!=l&&(j=l)}if(g.validation){var m=this.getcell(b,c);try{var n=g.validation(m,j),o=this.gridlocalization.validationstring;void 0!=n.message&&(o=n.message);var p="boolean"==typeof n?n:n.result;if(!p)return(void 0==n.showmessage||1==n.showmessage)&&this._showvalidationpopup(b,c,o),this.editcell.validated=!1,!1}catch(q){return this._showvalidationpopup(b,c,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(g.displayfield!=g.datafield){var r=this.getcellvalue(this.editcell.row,g.displayfield),s=this.editcell.value;oldvalue={value:s,label:r}}else oldvalue=this.editcell.value;var t=this.getrowdata(b);if(g.cellendedit){var u=g.cellendedit(b,c,g.columntype,this.editcell.value,j);if(0==u)return this._raiseEvent(18,{rowindex:b,row:t,datafield:c,displayfield:g.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:g.columntype}),k(this),!1}return this._raiseEvent(18,{rowindex:b,row:t,datafield:c,displayfield:g.displayfield,oldvalue:oldvalue,value:j,columntype:g.columntype}),this._hidecelleditor(!1),void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(b,c,j,e),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),a.jqx.browser.msie||i(),a.data(document.body,"jqxgrid.edit",""),!0}},beginrowedit:function(b){var c=this;c._oldselectedrow=b,this._cellscache=new Array;var d=!1;if("selectedrow"!=this.editmode&&(d=!0),d){var e=this.editmode;this.editmode="selectedrow"}a.each(this.columns.records,function(a,d){if(c.editable&&this.editable){var e=c.getcell(b,this.datafield);c.begincelledit(b,this.datafield,null,!1,!1);var f=c.getrowdata(b);c._raiseEvent(17,{rowindex:b,row:f,datafield:this.datafield,value:e.value,columntype:this.columntype})}}),c.editcell&&(c.editcell.init=!0),this._renderrows(this.virtualsizeinfo),d&&(this.editmode=e)},endrowedit:function(b,c){var d=this;if(!this.editcell)return!1;if(void 0==this.editcell.editor)return!1;var e=!1;if("selectedrow"!=this.editmode&&(e=!0),e){var f=this.editmode;this.editmode="selectedrow"}var g=!1,h={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var i=0;i<this.columns.records.length;i++){var j=this.columns.records[i];if(j.editable&&!j.hidden&&"checkbox"!=j.columntype){var k=this._geteditorvalue(j),l=function(a){a._hidecelleditor();var c=a.getcellvalue(a.editcell.row,j.displayfield);if(j.cellendedit&&j.cellendedit(b,o,j.columntype,c,k),a.editchar=null,j.displayfield!=j.datafield){var d=a.getcellvalue(a.editcell.row,j.displayfield),e=c;m={value:e,label:d}}else m=c;var f=a.getrowdata(b);a._raiseEvent(18,{rowindex:b,row:f,datafield:o,displayfield:j.displayfield,oldvalue:c,value:c,columntype:j.columntype}),a.editcell.editing=!1};if(c)l(this);else{if(j.cellvaluechanging){var m=this.getcellvalue(this.editcell.row,j.displayfield),n=j.cellvaluechanging(b,o,j.columntype,m,k);void 0!=n&&(k=n)}var o=j.datafield;if(j.validation){var p=this.getcell(b,j.datafield);try{var q=j.validation(p,k),r=this.gridlocalization.validationstring;void 0!=q.message&&(r=q.message);var s="boolean"==typeof q?q:q.result;if(!s){(void 0==q.showmessage||1==q.showmessage)&&this._showvalidationpopup(b,o,r),g=!0,this.editcell[j.datafield].validated=!1;continue}}catch(t){this._showvalidationpopup(b,o,this.gridlocalization.validationstring),this.editcell[j.datafield].validated=!1,g=!0;continue}}if(j.displayfield!=j.datafield){var u=this.getcellvalue(this.editcell.row,j.displayfield),v=this.editcell.value;m={value:v,label:u}}else m=this.getcellvalue(this.editcell.row,j.displayfield);h[j.datafield]={newvalue:k,oldvalue:m}}}}var w={},x={};if(!g){this._hidecelleditor(!1);for(var i=0;i<this.columns.records.length;i++){var j=this.columns.records[i],o=j.datafield;if(!j.hidden&&j.editable){var y=this.getrowdata(b);if("checkbox"!=j.columntype){if(h[j.datafield]){var k=h[j.datafield].newvalue,m=h[j.datafield].oldvalue;if(j.cellendedit){var z=j.cellendedit(b,o,j.columntype,m,k);if(0==z){this._raiseEvent(18,{rowindex:b,row:y,datafield:o,displayfield:j.displayfield,oldvalue:m,value:m,columntype:j.columntype}),l(this);continue}}this.source.updaterow||this._raiseEvent(18,{rowindex:b,row:y,datafield:j.datafield,displayfield:j.displayfield,oldvalue:m,value:k,columntype:j.columntype}),w[j.datafield]=k,x[j.datafield]=m}}else{var k=this.getcellvalue(b,j.displayfield);this._raiseEvent(18,{rowindex:b,row:y,datafield:j.datafield,displayfield:j.displayfield,oldvalue:k,value:k,columntype:j.columntype})}}}var A=this.getrowid(b),y=this.getrowdata(b);if(a.each(w,function(a,b){if(b&&void 0!=b.label){var c=d.getcolumn(a);y[c.displayfield]=b.label,y[c.datafield]=b.value}else y[a]=b}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),a.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow){var B=!1,d=this,s=function(c){var e=d.source.updaterow;d.source.updaterow=null,0==c?(a.each(x,function(a,b){if(b&&void 0!=b.label){var c=d.getcolumn(a);y[c.displayfield]=b.label,y[c.datafield]=b.value}else y[a]=b}),d.updaterow(A,y)):d.updaterow(A,y);for(var f=0;f<d.columns.records.length;f++){var g=d.columns.records[f];g.datafield;d._raiseEvent(18,{rowindex:b,datafield:g.datafield,row:y,displayfield:g.displayfield,oldvalue:x[g.datafield],value:y[g.displayfield],columntype:g.columntype})}d.source.updaterow=e};try{B=this.source.updaterow(A,y,s),void 0==B&&(B=!0)}catch(t){return void(B=!1)}}else this.updaterow(A,y),this._renderrows(this.virtualsizeinfo)}return e&&(this.editmode=f),g},_selection:function(a){if("selectionStart"in a[0]){var b=a[0],c=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:c,text:b.value}}var d=document.selection.createRange();if(null==d)return{start:0,end:b.value.length,length:0};var e=a[0].createTextRange(),f=e.duplicate();e.moveToBookmark(d.getBookmark()),f.setEndPoint("EndToStart",e);var c=d.text.length;return{start:f.text.length,end:f.text.length+d.text.length,length:c,text:d.text}},_setSelection:function(a,b,c){if("selectionStart"in c[0])c[0].focus(),c[0].setSelectionRange(a,b);else{var d=c[0].createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",a),d.select()}},findRecordIndex:function(a,b,c){var c=c;if(b)for(var d=c.length,e=0;d>e;e++){var f=c[e],g=f.label;if(a==g)return e}return-1},_destroyeditors:function(){var b=this;this.columns.records&&(a.each(this.columns.records,function(c,d){var e=a.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var f=b.editors["dropdownlist_"+e];f&&(f.jqxDropDownList("destroy"),b.editors["dropdownlist_"+e]=null);break;case"combobox":var g=b.editors["combobox_"+e];g&&(g.jqxComboBox("destroy"),b.editors["combobox_"+e]=null);break;case"datetimeinput":var h=b.editors["datetimeinput_"+this.datafield];h&&(h.jqxDateTimeInput("destroy"),b.editors["datetimeinput_"+e]=null);break;case"numberinput":var i=b.editors["numberinput_"+e];i&&(i.jqxNumberInput("destroy"),b.editors["numberinput_"+e]=null);break;case"custom":case"template":if(b.destroyeditor&&b.editors["templateeditor_"+e]&&(b.destroyeditor(b.editors["templateeditor_"+e]),b.editors["templateeditor_"+e]=null),b.destroyeditor)for(var j=b.getrows.length(),k=0;j>k;k++)b.editors["customeditor_"+e+"_"+k]&&(b.destroyeditor(b.editors["customeditor_"+e+"_"+k],k),b.editors["customeditor_"+e+"_"+k]=null);break;case"textbox":default:var l=b.editors["textboxeditor_"+e];l&&(b.removeHandler(l,"keydown"),b.editors["textbox_"+e]=null)}}),b.editors=new Array)},_showcelleditor:function(b,c,d,e,f){if(void 0!=d&&null!=this.editcell&&("checkbox"!=c.columntype||!c.editable)){void 0==f&&(f=!0),"selectedrow"==this.editmode&&(this.editchar="",f=!1);var g=c.datafield,h=a(d),i=this,j=this.editcell.editor,k=this.getcellvalue(b,g),l=this.getcelltext(b,g),m=this.hScrollInstance,n=m.value,o=parseInt(n);this.columns.records.indexOf(c);if(this.editcell.element=d,0==this.editcell.validated){var p="";this.validationpopup&&(p=this.validationpopup.text()),this._showvalidationpopup(b,g,p)}var q=function(a){i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling()||f&&(i.isTouchDevice()||(a.focus(),0!=i.gridcontent[0].scrollTop&&(i.scrolltop(Math.abs(i.gridcontent[0].scrollTop)),i.gridcontent[0].scrollTop=0),0!=i.gridcontent[0].scrollLeft&&(i.gridcontent[0].scrollLeft=0)))};switch(c.columntype){case"dropdownlist":if(this.host.jqxDropDownList){d.innerHTML="";var r=a.trim(c.datafield).split(" ").join(""),s=a.trim(c.displayfield).split(" ").join("");-1!=r.indexOf(".")&&(r=r.replace(".","")),-1!=s.indexOf(".")&&(s=s.replace(".",""));var t=this.editors["dropdownlist_"+r];if(j=void 0==t?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):t,j.css("top",a(d).parent().position().top),this.oldhscroll?j.css("left",-o+parseInt(a(d).position().left)):j.css("left",parseInt(a(d).position().left)),c.pinned&&j.css("left",o+parseInt(a(d).position().left)),void 0==t){j.prependTo(this.table),j[0].id="dropdownlisteditor"+this.element.id+r;var u=this.source._source?!0:!1,v=null;if(u){var w={localdata:this.source.records,datatype:this.source.datatype,async:!1};v=new a.jqx.dataAdapter(w,{autoBind:!1,async:!1,uniqueDataFields:[s],autoSort:!0,autoSortField:s})}else v=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[s],async:!1,autoSort:!0,autoSortField:s});var x=c.createeditor?!1:!0;j.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:v,rtl:this.rtl,autoDropDownHeight:x,theme:this.theme,width:h.width()-2,height:h.height()-2,displayMember:s,valueMember:g}),this.editors["dropdownlist_"+r]=j,c.createeditor&&c.createeditor(b,k,j)}c._requirewidthupdate&&j.jqxDropDownList({width:h.width()-2
});var y=j.jqxDropDownList("listBox").visibleItems;c.createeditor||(y.length<8?j.jqxDropDownList("autoDropDownHeight",!0):j.jqxDropDownList("autoDropDownHeight",!1));var k=this.getcellvalue(b,s),z=this.findRecordIndex(k,s,y);if(e&&(""!=k?j.jqxDropDownList("selectIndex",z,!0):j.jqxDropDownList("selectIndex",-1)),!this.editcell)return;void 0!=this.editcell.defaultvalue&&j.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),f&&j.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){d.innerHTML="";var r=a.trim(c.datafield).split(" ").join(""),s=a.trim(c.displayfield).split(" ").join("");-1!=r.indexOf(".")&&(r=r.replace(".","")),-1!=s.indexOf(".")&&(s=s.replace(".",""));var A=this.editors["combobox_"+r];if(j=void 0==A?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):A,j.css("top",a(d).parent().position().top),this.oldhscroll?j.css("left",-o+parseInt(a(d).position().left)):j.css("left",parseInt(a(d).position().left)),c.pinned&&j.css("left",o+parseInt(a(d).position().left)),void 0==A){j.prependTo(this.table),j[0].id="comboboxeditor"+this.element.id+r;var u=this.source._source?!0:!1,v=null;if(u){var w={localdata:this.source.records,datatype:this.source.datatype,async:!1};v=new a.jqx.dataAdapter(w,{autoBind:!1,async:!1,uniqueDataFields:[s],autoSort:!0,autoSortField:s})}else v=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[s],async:!1,autoSort:!0,autoSortField:s});var x=c.createeditor?!1:!0;j.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:v,rtl:this.rtl,autoDropDownHeight:x,theme:this.theme,width:h.width()-2,height:h.height()-2,displayMember:s,valueMember:g}),j.removeAttr("tabindex"),j.find("div").removeAttr("tabindex"),this.editors["combobox_"+r]=j,c.createeditor&&c.createeditor(b,k,j)}c._requirewidthupdate&&j.jqxComboBox({width:h.width()-2});var y=j.jqxComboBox("listBox").visibleItems;c.createeditor||(y.length<8?j.jqxComboBox("autoDropDownHeight",!0):j.jqxComboBox("autoDropDownHeight",!1));var k=this.getcellvalue(b,s),z=this.findRecordIndex(k,s,y);if(e&&(""!=k?(j.jqxComboBox("selectIndex",z,!0),j.jqxComboBox("val",k)):(j.jqxComboBox("selectIndex",-1),j.jqxComboBox("val",k))),!this.editcell)return;void 0!=this.editcell.defaultvalue&&j.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&j.jqxComboBox("input").val(this.editchar),f&&setTimeout(function(){if(q(j.jqxComboBox("input")),j.jqxComboBox("_setSelection",0,0),i.editchar)j.jqxComboBox("_setSelection",1,1),i.editchar=null;else{var a=j.jqxComboBox("input").val();j.jqxComboBox("_setSelection",0,a.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){d.innerHTML="";var r=a.trim(c.datafield).split(" ").join("");-1!=r.indexOf(".")&&(r=r.replace(".",""));var B=this.editors["datetimeinput_"+r];if(j=void 0==B?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):B,j.show(),j.css("top",a(d).parent().position().top),this.oldhscroll?j.css("left",-o+parseInt(a(d).position().left)):j.css("left",parseInt(a(d).position().left)),c.pinned&&j.css("left",o+parseInt(a(d).position().left)),void 0==B){j.prependTo(this.table),j[0].id="datetimeeditor"+this.element.id+r;var C={calendar:this.gridlocalization};j.jqxDateTimeInput({enableBrowserBoundsDetection:!0,localization:C,_editor:!0,theme:this.theme,rtl:this.rtl,width:h.width(),height:h.height(),formatString:c.cellsformat}),this.editors["datetimeinput_"+r]=j,c.createeditor&&c.createeditor(b,k,j)}if(c._requirewidthupdate&&j.jqxDateTimeInput({width:h.width()-2}),e){if(""!=k&&null!=k){var D=new Date(k);"Invalid Date"==D&&this.source.getvaluebytype&&(D=this.source.getvaluebytype(k,{name:c.datafield,type:"date"})),j.jqxDateTimeInput("setDate",D)}else j.jqxDateTimeInput("setDate",null);void 0!=this.editcell.defaultvalue&&j.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}f&&setTimeout(function(){q(j.jqxDateTimeInput("dateTimeInput"))},10)}break;case"numberinput":if(this.host.jqxNumberInput){d.innerHTML="";var r=a.trim(c.datafield).split(" ").join("");-1!=r.indexOf(".")&&(r=r.replace(".",""));var E=this.editors["numberinput_"+r];if(j=void 0==E?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):E,j.show(),j.css("top",a(d).parent().position().top),this.oldhscroll?j.css("left",-o+parseInt(a(d).position().left)):j.css("left",parseInt(a(d).position().left)),c.pinned&&j.css("left",o+parseInt(a(d).position().left)),void 0==E){j.prependTo(this.table),j[0].id="numbereditor"+this.element.id+r;var F="",G="left",H=2;c.cellsformat?-1!=c.cellsformat.indexOf("c")?(F=this.gridlocalization.currencysymbol,G=this.gridlocalization.currencysymbolposition,G="before"==G?"left":"right",c.cellsformat.length>1&&(H=parseInt(c.cellsformat.substring(1),10))):-1!=c.cellsformat.indexOf("p")&&(F=this.gridlocalization.percentsymbol,G="right",c.cellsformat.length>1&&(H=parseInt(c.cellsformat.substring(1),10))):H=0,j.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:H,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:h.width()-1,height:h.height()-1,spinButtons:!0,symbol:F,symbolPosition:G}),this.editors["numberinput_"+r]=j,c.createeditor&&c.createeditor(b,k,j)}if(c._requirewidthupdate&&j.jqxNumberInput({width:h.width()-2}),e){if(""!=k&&null!=k){var I=k;j.jqxNumberInput("setDecimal",I)}else j.jqxNumberInput("setDecimal",0);if(void 0!=this.editcell.defaultvalue&&j.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var J=parseInt(this.editchar);isNaN(J)||j.jqxNumberInput("setDecimal",J)}f&&setTimeout(function(){if(q(j.jqxNumberInput("numberInput")),j.jqxNumberInput("_setSelectionStart",0),i.editchar)c.cellsformat.length>0?j.jqxNumberInput("_setSelectionStart",2):j.jqxNumberInput("_setSelectionStart",1),i.editchar=null;else{var a=j.jqxNumberInput("spinButtons");if(a){var b=j.jqxNumberInput("numberInput").val();i._setSelection(j.jqxNumberInput("numberInput")[0],b.length,b.length)}else{var b=j.jqxNumberInput("numberInput").val();i._setSelection(j.jqxNumberInput("numberInput")[0],0,b.length)}}},10)}}break;case"custom":d.innerHTML="";var r=a.trim(c.datafield).split(" ").join("");-1!=r.indexOf(".")&&(r=r.replace(".",""));var K=this.editors["customeditor_"+r+"_"+b];if(j=void 0==K?a("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):K,j.show(),j.css("top",a(d).parent().position().top),this.oldhscroll?j.css("left",-o+parseInt(a(d).position().left)):j.css("left",parseInt(a(d).position().left)),c.pinned&&j.css("left",o+parseInt(a(d).position().left)),void 0==K){j.prependTo(this.table),j[0].id="customeditor"+this.element.id+r+"_"+b,this.editors["customeditor_"+r+"_"+b]=j;var L=h.width()-1,M=h.height()-1;j.width(L),j.height(M),c.createeditor&&c.createeditor(b,k,j,l,L,M,this.editchar)}c._requirewidthupdate&&j.width(h.width()-2);break;case"template":d.innerHTML="";var r=a.trim(c.datafield).split(" ").join("");-1!=r.indexOf(".")&&(r=r.replace(".",""));var N=this.editors["templateeditor_"+r];if(j=void 0==N?a("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):N,j.show(),j.css("top",a(d).parent().position().top),this.oldhscroll?j.css("left",-o+parseInt(a(d).position().left)):j.css("left",parseInt(a(d).position().left)),c.pinned&&j.css("left",o+parseInt(a(d).position().left)),void 0==N){j.prependTo(this.table),j[0].id="templateeditor"+this.element.id+r,this.editors["templateeditor_"+r]=j;var L=h.width()-1,M=h.height()-1;j.width(L),j.height(M),c.createeditor&&c.createeditor(b,k,j,l,L,M,this.editchar)}c._requirewidthupdate&&j.width(h.width()-2);break;case"textbox":default:d.innerHTML="",j=this.editors["textboxeditor_"+c.datafield]||a("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"),j[0].id="textboxeditor"+this.element.id+c.datafield,j.appendTo(h),this.rtl&&j.css("direction","rtl"),(e||""==j[0].className)&&(j.addClass(this.toThemeProperty("jqx-input")),j.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?j.val(this.editchar):(""!=c.cellsformat&&(k=this.getcelltext(b,g)),void 0==k&&(k=""),j.val(k)),void 0!=this.editcell.defaultvalue&&j.val(this.editcell.defaultvalue),j.width(h.width()+1),j.height(h.height()+1),c.createeditor&&c.createeditor(b,k,j),""!=c.cellsformat&&(-1!=c.cellsformat.indexOf("p")||-1!=c.cellsformat.indexOf("c")||-1!=c.cellsformat.indexOf("n")||-1!=c.cellsformat.indexOf("f"))&&(this.editors["textboxeditor_"+c.datafield]||j.keydown(function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0,d=String.fromCharCode(b),e=parseInt(d);if(isNaN(e))return!0;if(i._selection(j).length>0)return!0;var f="",g=j.val();if(c.cellsformat.length>1){var h=parseInt(c.cellsformat.substring(1));isNaN(h)&&(h=0)}else var h=0;if(h>0&&-1!=g.indexOf(i.gridlocalization.decimalseparator)&&i._selection(j).start>g.indexOf(i.gridlocalization.decimalseparator))return!0;for(var k=0;k<g.length-h;k++){var l=g.substring(k,k+1);null!=l.match(/^[0-9]+$/)&&(f+=l)}return f.length>=11?!1:void 0}))),this.editors["textboxeditor_"+c.datafield]=j,e&&f&&setTimeout(function(){q(j),i.editchar?(i._setSelection(j[0],1,1),i.editchar=null):i._setSelection(j[0],0,j.val().length)},25)}j&&(j[0].style.zIndex=1+d.style.zIndex,a.jqx.browser.msie&&a.jqx.browser.version<8&&(j[0].style.zIndex=1+this.columns.records.length+d.style.zIndex),j.css("display","block"),this.editcell.editor=j,this.editcell[g]?this.editcell[g].editor=j:(this.editcell[g]={},this.editcell[g].editor=j)),e&&c.initeditor&&c.initeditor(b,k,j,l,this.editchar),i.isTouchDevice()||setTimeout(function(){i.content&&(i.content[0].scrollTop=0,i.content[0].scrollLeft=0),i.gridcontent&&(i.gridcontent[0].scrollLeft=0,i.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(a,b,c){try{if("selectionStart"in a)a.setSelectionRange(b,c);else{var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){var a=this;for(var b in this.editcells)a.editcell=a.editcells[b],a._hidecelleditor()}},_hidecelleditor:function(a){if(this.editcell){if("selectedrow"===this.editmode){for(var b=0;b<this.columns.records.length;b++){var c=this.columns.records[b];if(this.editcell[c.datafield]&&this.editcell[c.datafield].editor){this.editcell[c.datafield].editor.hide();var d=this.editcell[c.datafield].editor;switch(c.columntype){case"dropdownlist":d.jqxDropDownList({closeDelay:0}),d.jqxDropDownList("hideListBox"),d.jqxDropDownList({closeDelay:300});break;case"combobox":d.jqxComboBox({closeDelay:0}),d.jqxComboBox("hideListBox"),d.jqxComboBox({closeDelay:300});break;case"datetimeinput":d.jqxDateTimeInput("isOpened")&&(d.jqxDateTimeInput({closeDelay:0}),d.jqxDateTimeInput("hideCalendar"),d.jqxDateTimeInput({closeDelay:300}))}}}return void(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()))}if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var e=this.editcell.editor;e.jqxDateTimeInput("isOpened")&&(e.jqxDateTimeInput({closeDelay:0}),e.jqxDateTimeInput("hideCalendar"),e.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=a&&this.element.focus()}}},_geteditorvalue:function(b){var c=new String;if(!this.editcell)return null;var d=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[b.datafield])var d=this.editcell[b.datafield].editor;if(d){switch(b.columntype){case"textbox":default:if(c=d.val(),""!=b.cellsformat){var e="string",f=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(f){var g="";a.each(f,function(){return this.name==b.displayfield?(this.type&&(g=this.type),!1):void 0}),g&&(e=g)}var h="number"===e||"float"===e||"int"===e||"integer"===e,i="date"===e||"time"===e;if(h||"string"===e&&(-1!=b.cellsformat.indexOf("p")||-1!=b.cellsformat.indexOf("c")||-1!=b.cellsformat.indexOf("n")||-1!=b.cellsformat.indexOf("f"))){if(""===c&&b.nullable)return"";c.indexOf(this.gridlocalization.currencysymbol)>-1&&(c=c.replace(this.gridlocalization.currencysymbol,""));var j=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d};c=j(c,this.gridlocalization.thousandsseparator,""),c=c.replace(this.gridlocalization.decimalseparator,"."),c.indexOf(this.gridlocalization.percentsymbol)>-1&&(c=c.replace(this.gridlocalization.percentsymbol,""));for(var k="",l=0;l<c.length;l++){var m=c.substring(l,l+1);"-"===m&&(k+="-"),"."===m&&(k+="."),null!=m.match(/^[0-9]+$/)&&(k+=m)}c=k,c=c.replace(/ /g,""),c=new Number(c),isNaN(c)&&(c="")}if(i||"string"===e&&(-1!=b.cellsformat.indexOf("H")||-1!=b.cellsformat.indexOf("m")||-1!=b.cellsformat.indexOf("M")||-1!=b.cellsformat.indexOf("y")||-1!=b.cellsformat.indexOf("h")||-1!=b.cellsformat.indexOf("d"))){if(""===c&&b.nullable)return"";var n=c;c=new Date(c),("Invalid Date"==c||null==c)&&(a.jqx.dataFormat&&(c=a.jqx.dataFormat.tryparsedate(n,this.gridlocalization)),("Invalid Date"==c||null==c)&&(c=""))}}b.displayfield!=b.datafield&&(c={label:c,value:c});break;case"checkbox":d.jqxCheckBox&&(c=d.jqxCheckBox("checked"));break;case"datetimeinput":if(d.jqxDateTimeInput){if(d.jqxDateTimeInput({isEditing:!1}),d.jqxDateTimeInput("_validateValue"),c=d.jqxDateTimeInput("getDate"),null==c)return null;c=new Date(c.toString()),b.displayfield!=b.datafield&&(c={label:c,value:c})}break;case"dropdownlist":if(d.jqxDropDownList){var o=d.jqxDropDownList("selectedIndex"),p=d.jqxDropDownList("listBox").getVisibleItem(o);c=b.displayfield!=b.datafield?p?{label:p.label,value:p.value}:"":p?p.label:"",null==c&&(c="")}break;case"combobox":if(d.jqxComboBox){if(c=d.jqxComboBox("val"),b.displayfield!=b.datafield){var p=d.jqxComboBox("getSelectedItem");null!=p&&(c={label:p.label,value:p.value})}null==c&&(c="")}break;case"numberinput":if(d.jqxNumberInput){this.touchdevice&&d.jqxNumberInput("_doTouchHandling");var q=d.jqxNumberInput("getDecimal");c=new Number(q),c=parseFloat(c),isNaN(c)&&(c=0),b.displayfield!=b.datafield&&(c={label:c,value:c})}}b.geteditorvalue&&(c="selectedrow"==this.editmode?b.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,b.datafield),d):b.geteditorvalue(this.editcell.row,this.editcell.value,d))}return c},hidevalidationpopups:function(){this.popups&&(a.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(b,c,d){if(void 0==d)var d=this.gridlocalization.validationstring;var e=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),f=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");e.html(d),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),e.addClass(this.toThemeProperty("jqx-grid-validation")),e.addClass(this.toThemeProperty("jqx-rc-all")),e.prependTo(this.table),f.prependTo(this.table);var g=this.hScrollInstance,h=g.value,i=parseInt(h),j=this.getcolumn(c).uielement,k=a(this.hittestinfo[b].visualrow);e.css("top",parseInt(k.position().top)+30+"px");var l=parseInt(e.css("top"));f.css("top",l-12),f.removeClass(),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var m=!1;l>=this._gettableheight()&&(f.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),l=parseInt(k.position().top)-this.rowsheight-5,0>l&&(l=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=!0),e.css("top",l+"px"),f.css("top",l+e.outerHeight()-9));var n=-i+parseInt(a(j).position().left);f.css("left",i+n+30);var o=e.width();if(o+n>this.host.width()-20){var p=o+n-this.host.width()+40;n-=p}m?e.css("left",i+parseInt(a(j).position().left)-e.outerWidth()):e.css("left",i+n),e.show(),f.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:e,validationrow:f}},_showvalidationpopup:function(b,c,d){var e=this.editcell,f=this.editcell.editor;if("selectedrow"==this.editmode){var e=this.editcell[c];e&&e.editor&&(f=e.editor,e.element=f)}if(f&&!(this.validationpopup&&a.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===c&&void 0===d&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(d);else{var g=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),h=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");g.html(d),h.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),g.addClass(this.toThemeProperty("jqx-grid-validation")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.prependTo(this.table),h.prependTo(this.table),this.validationpopup=g,this.validationpopuparrow=h}var i=this.hScrollInstance,j=i.value,k=parseInt(j);this.validationpopup.css("top",parseInt(a(e.element).parent().position().top)+(this.rowsheight+5)+"px");var l=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",l-12),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var m=this._gettableheight(),n=!1;l>=m&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),l=parseInt(a(e.element).parent().position().top)-this.rowsheight-5,0>l&&(l=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),n=!0),this.validationpopup.css("top",l+"px"),this.validationpopuparrow.css("top",l+this.validationpopup.outerHeight()-9));var o=-k+parseInt(a(e.element).position().left);this.validationpopuparrow.css("left",k+o+30);var p=this.validationpopup.width();if(p+o>this.host.width()-20){var q=p+o-this.host.width()+40;o-=q}n?this.validationpopup.css("left",k+parseInt(a(e.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",k+o),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_calculateaggregate:function(b,c,d,e){var f=b.aggregates;if(f||(f=c),f){for(var g=new Array,h=0;h<f.length;h++)"count"!=f[h]&&(g[g.length]=b.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==e&&(e=this.getrows()),this.virtualmode){var e=new Array;a.each(this.source._source.records,function(){e.push(this)})}if(void 0==d||1==d){var i=this.source.getAggregatedData([{name:b.datafield,aggregates:f,formatStrings:g}],this.gridlocalization,e);return i}var i=this.source.getAggregatedData([{name:b.datafield,aggregates:f}],this.gridlocalization,e);return i}}return null},getcolumnaggregateddata:function(a,b,c,d){var e=this.getcolumn(a),f=void 0==c||0==c?!1:c;if(null==b)return"";var g=e.aggregates;e.aggregates=null;var h=this._calculateaggregate(e,b,f,d),i={};return h&&(i=h[a]),e.aggregates=g,i},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(b,c,d){var e=this;if(c)if(d.children().remove(),d.html(""),b.aggregatesrenderer){if(c){var f=b.aggregatesrenderer(c[b.datafield],b,d,this.getcolumnaggregateddata(b.datafield,c[b.datafield]));d.html(f)}}else a.each(c,function(){var b=this;for(g in b){var c=a('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),f=g;f=e._getaggregatename(f),c.html(f+":"+b[g]),e.rtl&&c.addClass(e.toThemeProperty("jqx-rtl")),d.append(c)}});else if(d.children().remove(),d.html(""),b.aggregatesrenderer){var g={};b.aggregates&&(g=this.getcolumnaggregateddata(b.datafield,b.aggregates));var f=b.aggregatesrenderer({},b,d,null);d.html(f)}},_getaggregatetype:function(a){switch(a){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return a}var b=a;for(var c in a){b=c;break}return b},_getaggregatename:function(a){var b=a;switch(a){case"min":b="Min";break;case"max":b="Max";break;case"count":b="Count";break;case"avg":b="Avg";break;case"product":b="Product";break;case"var":b="Var";break;case"stdevp":b="StDevP";break;case"stdev":b="StDev";break;case"varp":b="VarP";case"sum":b="Sum"}if(a===b&&"string"!=typeof b)for(var c in a){b=c;break}return b},_updatecolumnsaggregates:function(){var b=this.getrows(),c=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var d=0;c>d;d++){var e=a(this.statusbar[0].cells[d]),f=this.columns.records[d],g=this._calculateaggregate(f,null,!0,b);this._updatecolumnaggregates(f,g,e)}},_updateaggregates:function(){var b=a('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");this.rtl&&(e+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),c=-1),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var f=d+10,g=new Array;this.statusbar[0].cells=g;for(var h=0;d>h;h++){var i=this.columns.records[h],j=this._calculateaggregate(i),k=i.width;k<i.minwidth&&(k=i.minwidth),k>i.maxwidth&&(k=i.maxwidth);var l=e;i.cellsalign&&(l+=" "+this.toThemeProperty("jqx-"+i.cellsalign+"-align"));var m=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+l+'"></div>');b.append(m),m.css("left",c),this.rtl?m.css("z-index",f++):m.css("z-index",f--),m.width(k),m[0].left=c,i.hidden&&i.hideable?m.css("display","none"):c+=k,g[g.length]=m[0],this._updatecolumnaggregates(i,j,m)}a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseFloat(c)+2),b.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(b),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(e),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()}})}(jqxBaseFramework),function(a){var b=function(){function c(a,b,c,f,g,h,i){return this.hierarchy=g,this.exportFormat=h,this.filename=i,a.beginFile(i),d(a),e(a),a.endFile(i),a.getFile()}function d(b){var c=!0;a.each(n,function(){return this.hidden?(c=!1,!1):void 0}),b.beginHeader(c);var d=0;for(var e in n){n[e].columnsDataFields&&(e=n[e].columnsDataFields[d].displayfield);var f=g(e,n[e]);b.appendHeaderCell(n[e],e,f,c,d),d++}b.endHeader(c)}function e(a){if(a.beginBody(),this.hierarchy){var b=function(c){for(var d=0;d<c.length;d+=1)void 0!==c[d]&&(a.beginRow(c[d].level),f(a,c[d],d,!0),c[d].records&&(a.beginRows(c[d].level),b(c[d].records),a.endRows(c[d].level)),a.endRow(c[d].level))};return b(m),void a.endBody()}for(var c=0;c<m.length;c+=1)void 0!==m[c]&&f(a,m[c],c);a.endBody()}function f(b,c,d,e){var f;1!=e&&b.beginRow();var g=0;for(var h in n){if(n[h].columnsDataFields&&(h=n[h].columnsDataFields[g].displayfield),f=i(d,h)){if(void 0!=f.level&&f.index-1>c.level&&f.index-1<f.maxLevel){g++;continue}void 0!=f.maxLevel&&f.index-1==f.maxLevel&&(f=a.extend({},f),f.merge=f.maxLevel-c.level-1)}if(void 0!=c.level&&void 0!=c.label&&("xml"===this.exportFormat||"json"===this.exportFormat)){var j={};j.text="group",b.appendBodyCell(c.label,j,f,c,g,"group");break}c.hasOwnProperty(h)?b.appendBodyCell(c[h],n[h],f,c,g):b.appendBodyCell("",n[h],f,c,g),g++}1!=e&&b.endRow()}function g(a,b){if(b.style)return o[b.style];var c=h();return c.length>0?c[0].style:null}function h(){return q||(q=new Array,a.each(o,function(a,b){q[q.length]={name:a,style:b}})),q}function i(a,b){var c=n[b];if(c){if(c.customCellStyles){var d=c.customCellStyles[a];if(d)return o[d]}if(c.cellStyle){if(c.cellAltStyle){var e=a%2;return 0==e?o[c.cellStyle]:o[c.cellAltStyle]}return o[c.cellStyle]}var f=h();if(f.length>0){var e=a%(f.length-1),g=f[e+1].style;return g}}return null}function j(a,b,c){var d=document.createElement("input");return d.name=b,d.value=a,d.type="hidden",c.appendChild(d),d}function k(a,b,c){var d=document.createElement("textarea");return d.name=b,d.value=a,c.appendChild(d),d}function l(a,b,c,d,e){var f=document.createElement("form");return j(a,"filename",f),j(b,"format",f),k(c,"content",f),(void 0==d||""==d)&&(d=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"http://jqwidgets.com/export_server/save-file.php":"http://jquerygrid.net/export_server/save-file.php"),f.action=d,f.method="post",e&&(f.acceptCharset=e),document.body.appendChild(f),f}var m,n,o,p,q,r={};return p=function(a,d,e,f,g,h){return this instanceof b?(m=a,n=d,o=e,this.exportTo=function(a,b,d,e){a=a.toString().toLowerCase();var f=r[a];if("undefined"==typeof f)throw"You can't export to "+a+" format.";return c(f,m,n,o,b,d,e)},this.exportToFile=function(a,b,c,d,e){var f=this.exportTo(a,e,a,b),g=l(b,a,f,c,d);g.submit(),document.body.removeChild(g)},void(this.exportToLocalFile=function(a,b,c,d){var e=this.exportTo(a,c,d);document.location.href="data:application/octet-stream;filename="+b+","+encodeURIComponent(e)})):new b(a,d,e,g,h)},p.extend=function(b,c){if(!(c instanceof a.jqx.dataAdapter.DataExportModuleBase))throw"The module "+b+" is not instance of DataExportModuleBase.";r[b]=c},p}();a.jqx.dataAdapter.ArrayExporter=b}(jqxBaseFramework),function(a){var b=function(){this.formatData=function(b,c,d,e){if("date"===c){var f="";if("string"==typeof b&&(f=a.jqx.dataFormat.tryparsedate(b),b=f),""===b||null===b)return"";if(f=a.jqx.dataFormat.formatdate(b,d,e),"NaN"==f.toString()||null==f)return"";b=f}else if("number"===c||"float"===c||"int"===c||"integer"==c){if(""===b||null===b)return"";if(!isNaN(new Number(b))){var g=a.jqx.dataFormat.formatnumber(b,d,e);if("NaN"==g.toString())return"";b=g}}else b=b;return null===b?"":b},this.getFormat=function(a){var b=a?a.formatString:"",c=a?a.localization:"",d="string";return d=a?a.type:"string",("number"==d||"float"==d)&&(b||(b="f2")),("int"==d||"integer"==d)&&(b||(b="n0")),"date"==d&&(b||(b="d")),{type:d,formatString:b,localization:c}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}};a.jqx.dataAdapter.DataExportModuleBase=b}(jqxBaseFramework),function(a){var b=function(a){function b(a,b){if(b){var c=g.getFormat(b);a=g.formatData(a,c.type,c.formatString,c.localization)}return a='"'+a+'"'}function c(c,e){c=b(c,e),d+=c+a}var d,e,f=0,g=this;this.beginFile=function(){d=""},this.beginHeader=function(){},this.appendHeaderCell=function(a,b,d,f,g){if(d&&void 0!=d.level){if(g<d.maxLevel)return;if(g===d.maxLevel){f&&c(a.text);for(var h=0;h<d.maxLevel;h++)c("");return}}e=f,f&&c(a.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){f=0},this.beginRow=function(){(f>0||0==f&&e)&&(d+="\n"),f++},this.appendBodyCell=function(a,b,d,e,f){if(d&&void 0!=d.maxLevel&&f===d.maxLevel){c(a,b);for(var g=0;g<d.maxLevel-e.level-1;g++)c("",b)}else c(a,b)},this.endRow=function(){d=d.substring(0,d.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return d}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase;var c=function(){};c.prototype=new b(",");var d=function(){};d.prototype=new b("	"),a.jqx.dataAdapter.ArrayExporter.extend("csv",new c),a.jqx.dataAdapter.ArrayExporter.extend("tsv",new d)}(jqxBaseFramework),function(a){var b=function(){function a(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(d&&"font-size"==c&&(a[c]="100%"),b+=c+":"+a[c]+";");return b}var b,c,d=!1,e=0;this.setPDF=function(){d=!0},this.beginFile=function(a){b=d||void 0==a?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n	<head>\n		<title></title>\n		<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n	</head>\n	<body>\n		<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){b+=d?"\n	<thead><tr>":"\n			<thead>"},this.appendHeaderCell=function(e,f,g,h){if(c=h,h)if(d)b+='\n				<th style="'+a(g)+'">'+e.text+"</th>";else{if(g.disabled)return;b+=g.merge?e.width?"\n				<th colspan="+(1+g.merge)+' style="width: '+e.width+"px; "+a(g)+'">'+e.text+"</th>":"\n				<th colspan="+(1+g.merge)+' style="'+a(g)+'">'+e.text+"</th>":e.width?'\n				<th style="width: '+e.width+"px; "+a(g)+'">'+e.text+"</th>":'\n				<th style="'+a(g)+'">'+e.text+"</th>"}},this.endHeader=function(){b+=d?"\n	</tr></thead>":"\n			</thead>"},this.beginBody=function(){b+=d?"\n	<tbody>":"\n			<tbody>",e=0},this.beginRow=function(){b+=d?"\n	<tr>":"\n				<tr>",e++},this.appendBodyCell=function(f,g,h){var i=this.getFormat(g);""===f&&(f="&nbsp;"),b+=d?1!=e||c?'\n					<td style="'+a(h)+'">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":'\n					<td style="'+a(h)+' border-top-width: 1px;">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":h.merge?1!=e||c?"\n					<td colspan="+(1+h.merge)+' style="'+a(h)+'">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":"\n					<td colspan="+(1+h.merge)+' style="'+a(h)+' border-top-width: 1px;">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":1!=e||c?'\n					<td style="'+a(h)+'">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":'\n					<td style="'+a(h)+' border-top-width: 1px;">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>"},this.endRow=function(){b+=d?"\n	</tr>":"\n				</tr>"},this.endBody=function(){b+=d?"\n	</tbody>":"\n			</tbody>"},this.endFile=function(a){b+=d||void 0==a?"\n</table>":"\n		</table>\n	</body>\n</html>\n"},this.getFile=function(){return b}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase;var c=function(){};c.prototype=new b;var d=function(){};d.prototype=new b;var e=new d;e.setPDF(),a.jqx.dataAdapter.ArrayExporter.extend("html",new c),a.jqx.dataAdapter.ArrayExporter.extend("pdf",e)}(jqxBaseFramework),function(a){var b=function(){function a(a,b,c,d){var e="String",g=this.getFormat(b);null!=a&&"AG"==a.toString().substring(0,2)?(a=a.toString().substring(2),e="String"):("date"==g.type&&(a=this.formatData(a,g.type,g.formatString,g.localization),(null===a||""===a)&&(a="",e="String")),
"string"==g.type&&(null===a||void 0===a?a="":(a.toString().indexOf("&")>=0&&(a=a.toString().replace(/&/g,"&amp;")),a.toString().indexOf(">")>=0&&(a=a.toString().replace(/>/g,"&gt;")),a.toString().indexOf("<")>=0&&(a=a.toString().replace(/</g,"&lt;")),a.toString().indexOf('"')>=0&&(a=a.toString().replace(/"/g,"&quot;")),a.toString().indexOf("'")>=0&&(a=a.toString().replace(/'/g,"&apos;")))),("number"==c.dataType||"float"==c.dataType||"int"==c.dataType||"integer"==c.dataType)&&(e="Number",a=parseFloat(a),(null===a||isNaN(a)||""===a)&&(a="",e="String"),a&&"String"!=e&&""!=a&&b&&b.formatString&&b.formatString.indexOf("p")>=0&&(a/=100),c.currencysymbol=b.localization.currencysymbol));var i=f(c);h+=c.merge?'\n				<Cell ss:MergeAcross="'+c.merge+'" ss:StyleID="'+i+'"><Data ss:Type="'+e+'">'+a+"</Data></Cell>":'\n				<Cell ss:StyleID="'+i+'"><Data ss:Type="'+e+'">'+a+"</Data></Cell>"}function b(){return l+=1,"xls-style-"+l}function c(a){for(var b in k)if(d(a,k[b])&&d(k[b],a))return b;return void 0}function d(a,b){var c=!0;for(var d in a)a[d]!==b[d]&&(c=!1);return c}function e(a,b){m.startStyle(a),m.buildAlignment(b),m.buildBorder(b),m.buildFont(b),m.buildInterior(b),m.buildFormat(b),m.closeStyle(),g+=m.toString()}function f(a){if(!a)return"";var d=c(a);return"undefined"==typeof d&&(d=b(),k[d]=a,e(d,a)),d}var g,h,i,j,k,l,m={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(a){this.style+='\n		<Style ss:ID="'+a+'" ss:Name="'+a+'">'},buildAlignment:function(a){if(a["text-align"]){var b=this.stylesMap.alignment[a["text-align"]];b||(b="Left");var c='\n			<Alignment ss:Vertical="Bottom" ss:Horizontal="'+b+'"/>';this.style+=c}},buildBorder:function(a){if(a["border-color"]){var b="\n			<Borders>",c='\n				<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>',d='\n				<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>',e='\n				<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>',f='\n				<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>';b+=c,b+=d,b+=e,b+=f,b+="\n			</Borders>",this.style+=b}},buildFont:function(a){var b=this.stylesMap.font,c="\n			<Font ";for(var d in b)"undefined"!=typeof a[d]&&("font-style"===d&&"italic"===a[d].toString().toLowerCase()?c+='ss:Italic="1" ':"font-weight"===d&&"bold"===a[d].toString().toLowerCase()?c+='ss:Bold="1" ':"color"===d&&(c+="ss:"+b[d]+'="'+a[d]+'" '));c+="/>",this.style+=c},buildInterior:function(a){var b=this.stylesMap.interior,c="\n			<Interior ",d=!1;for(var e in b)"undefined"!=typeof a[e]&&(c+="ss:"+b[e]+'="'+a[e]+'" ',d=!0);d&&(c+='ss:Pattern="Solid"'),c+="/>",this.style+=c},buildFormat:function(a){if("number"==a.dataType||"float"==a.dataType||"int"==a.dataType||"integer"==a.dataType){var b=a.formatString;""==b||-1!=b.indexOf("n")||-1!=b.indexOf("N")?this.style+='\n			<NumberFormat ss:Format="0"/>':"f"==b||"F"==b||"D"==b||-1!=b.indexOf("d")?this.style+='\n			<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=b.indexOf("p")||-1!=b.indexOf("P")?this.style+='\n			<NumberFormat ss:Format="Percent"/>':(-1!=b.indexOf("c")||-1!=b.indexOf("C"))&&(8364==parseInt(a.currencysymbol.charCodeAt(0))?this.style+='\n			<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n			<NumberFormat ss:Format="Currency"/>')}else"date"==a.dataType&&(this.style+='\n			<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n		</Style>"},toString:function(){var a=this.style;return this.style="",a}};this.beginFile=function(){k={},l=0,g='<?xml version="1.0"?>\n	<?mso-application progid="Excel.Sheet"?> \n	<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n	xmlns:o="urn:schemas-microsoft-com:office:office" \n	xmlns:x="urn:schemas-microsoft-com:office:excel" \n	xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n	xmlns:html="http://www.w3.org/TR/REC-html40"> \n	<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n	<Version>12.00</Version> \n	</DocumentProperties> \n	<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n	<WindowHeight>8130</WindowHeight> \n	<WindowWidth>15135</WindowWidth> \n	<WindowTopX>120</WindowTopX> \n	<WindowTopY>45</WindowTopY> \n	<ProtectStructure>False</ProtectStructure> \n	<ProtectWindows>False</ProtectWindows> \n	</ExcelWorkbook> \n	<Styles>'},this.beginHeader=function(){h='\n	<Worksheet ss:Name="Sheet1">\n		<Table>',i=[],j=[]},this.appendHeaderCell=function(a,b,c){var d=void 0!=a.width?a.width:10*a.text.length;h+='\n			<Column ss:Width="'+d+'"/>',i.push(a),j.push(c)},this.endHeader=function(b){if(b){this.beginRow();for(var c=0;c<i.length;c+=1)j[c].disabled||a.call(this,i[c].text,null,j[c]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(a){if(void 0!=a){h+="\n			";for(var b=0;a>b;b++)h+="	";return void(h+="<Row>")}h+="\n			<Row>"},this.beginRows=function(a){h+="\n				<Rows>"},this.appendBodyCell=function(b,c,d,e){a.call(this,b,c,d,e)},this.endRow=function(a){if(void 0!=a){h+="\n			";for(var b=0;a>b;b++)h+="	";return void(h+="</Row>")}h+="\n			</Row>"},this.endRows=function(a){if(void 0!=a){h+="\n			";for(var b=0;a>b;b++)h+="	";return void(h+="</Rows>")}},this.endBody=function(){h+="\n		</Table>"},this.endFile=function(){h+="\n	</Worksheet>\n</Workbook>",g+="\n	</Styles>"},this.getFile=function(){return g+h}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase,a.jqx.dataAdapter.ArrayExporter.extend("xls",new b)}(jqxBaseFramework),function(a){var b=function(){var a,b,c;this.beginFile=function(){a='<?xml version="1.0" encoding="UTF-8" ?>',a+="\n<table>"},this.beginHeader=function(){b=[]},this.appendHeaderCell=function(a,c){b.push(c)},this.endHeader=function(){},this.beginBody=function(a,b){},this.beginRow=function(b){if(void 0!=b&&this.hierarchy){a+="\n	";for(var d=0;b>d;d++)a+="		";return a+="<row>",void(c=0)}a+="\n	<row>",c=0},this.beginRows=function(b){if(void 0!=b){a+="\n		";for(var d=0;b>d;d++)a+="		";return a+="<rows>",void(c=0)}a+="\n		<rows>"},this.appendBodyCell=function(d,e,f,g,h,i){var j=this.getFormat(e);if(d=this.formatData(d,j.type,j.formatString,j.localization),"string"==j.type&&(d.toString().indexOf("&")>=0&&(d=d.toString().replace(/&/g,"&amp;")),d.toString().indexOf(">")>=0&&(d=d.toString().replace(/>/g,"&gt;")),d.toString().indexOf("<")>=0&&(d=d.toString().replace(/</g,"&lt;")),d.toString().indexOf('"')>=0&&(d=d.toString().replace(/"/g,"&quot;")),d.toString().indexOf("'")>=0&&(d=d.toString().replace(/'/g,"&apos;"))),void 0!=g.level)if(this.hierarchy){a+="\n		";for(var k=0;k<g.level;k++)a+="		";a+=void 0===i?"<"+b[c]+">"+d+"</"+b[c]+">":"<"+i+">"+d+"</"+i+">"}else a+=void 0!=i?"\n		<"+i+">"+d+"</"+i+">":"\n		<"+b[c]+">"+d+"</"+b[c]+">";else a+="\n		<"+b[c]+">"+d+"</"+b[c]+">";c++},this.endRow=function(b){if(void 0!=b&&this.hierarchy){a+="\n	";for(var d=0;b>d;d++)a+="		";return a+="</row>",void(c=0)}a+="\n	</row>",c=0},this.endRows=function(b){if(void 0!=b){a+="\n		";for(var d=0;b>d;d++)a+="		";return a+="</rows>",void(c=0)}a+="\n		</rows>"},this.endBody=function(){},this.endFile=function(){a+="\n</table>"},this.getFile=function(){return a}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase,a.jqx.dataAdapter.ArrayExporter.extend("xml",new b)}(jqxBaseFramework),function(a){function b(a){return'"'+a.replace(k,function(a){var b=l[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function c(a){return 10>a?"0"+a:a}function d(a){var b;return b=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+'Z"':"null"}function e(a){var b,c=a.length,d=[];for(b=0;c>b;b++)d.push(i(b,a)||"null");return"["+d.join(",")+"]"}function f(a){var c,d,e=[];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d=i(c,a),d&&e.push(b(c)+":"+d));return"{"+e.join(",")+"}"}function g(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return d(a);case"[object Array]":return e(a)}return f(a)}function h(a,c){switch(c){case"string":return b(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function i(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|float|int|integer|string|boolean)/.test(d)||!c&&"object"===d?h(c,d):g(c)}function j(a){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(a):i("",{"":a})}var k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m=function(){var a=this;this.prepareData=function(b,c){if(c){var d=a.getFormat(c);b=a.formatData(b,d.type,d.formatString,d.localization)}return b};var b,c,d,e=[],f=0;this.beginFile=function(){c=[]},this.beginHeader=function(){},this.appendHeaderCell=function(a){},this.endHeader=function(){},this.beginBody=function(a,b){},this.beginRow=function(){hierarchy?e[f]={}:d={}},this.beginRows=function(){e[f].rows=[],f++,e[f]={}},this.endRows=function(){f--},this.appendBodyCell=function(a,b){var c=this.prepareData(a,b);hierarchy?e[f][b.text]=c:d[b.text]=c},this.endRow=function(){hierarchy?0==f?c.push(e[f]):e[f-1].rows.push(e[f]):c.push(d)},this.endBody=function(){},this.endFile=function(){b=j(c)},this.getFile=function(){return b}};m.prototype=new a.jqx.dataAdapter.DataExportModuleBase,a.jqx.dataAdapter.ArrayExporter.extend("json",new m)}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{exportdata:function(b,c,d,e,f,g,h){if(!a.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";void 0==d&&(d=!0);var i=this;if(void 0==e){var e=this.getrows();if(0==e.length)throw"No data to export."}this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var j=void 0!=f?f:!1,k={},l={},m=this.host.find(".jqx-grid-cell:first"),n=this.host.find(".jqx-grid-cell-alt:first");m.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),m.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),m.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),m.removeClass(this.toThemeProperty("jqx-fill-state-hover")),n.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),n.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var o="cell",p=1,q="column",r=1,s=[],t=0;t<this.columns.records.length;t++){var u=this.columns.records[t];if(""!=u.cellclassname)if(u.customCellStyles=new Array,"string"==typeof u.cellclassname)for(var v=0;v<e.length;v++)u.customCellStyles[v]=u.cellclassname;else for(var v=0;v<e.length;v++){var w=this.getrowboundindex(v),x=u.cellclassname(w,u.displayfield,e[v][u.displayfield],e[v]);x&&(u.customCellStyles[v]=x)}}var y=new Array;if(a.each(this.columns.records,function(c){var f=a(i.table[0].rows[0].cells[c]);if(i.table[0].rows.length>1)var g=a(i.table[0].rows[1].cells[c]);var h=this,m=function(a){if(a.removeClass(i.toThemeProperty("jqx-grid-cell-selected")),a.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(i.toThemeProperty("jqx-grid-cell-hover")),a.removeClass(i.toThemeProperty("jqx-fill-state-hover")),h.customCellStyles)for(var b in h.customCellStyles)a.removeClass(h.customCellStyles[b])};if(m(f),g&&m(g),null==this.displayfield)return!0;i.showaggregates&&i.getcolumnaggregateddata&&s.push(i.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,e));var n=i._getexportcolumntype(this);!this.exportable||this.hidden&&!j||(k[this.displayfield]={},k[this.displayfield].text=this.text,k[this.displayfield].width=parseInt(this.width),isNaN(k[this.displayfield].width)&&(k[this.displayfield].width=60),k[this.displayfield].formatString=this.cellsformat,k[this.displayfield].localization=i.gridlocalization,k[this.displayfield].type=n,k[this.displayfield].cellsAlign=this.cellsalign,k[this.displayfield].hidden=!d,k[this.displayfield].displayfield=this.displayfield,y.push(k[this.displayfield])),o="cell"+p;var t=a(this.element);if(void 0==this.element&&(t=a(this.uielement)),q="column"+r,"html"==b||"xls"==b||"pdf"==b){var u=function(a,c,d,e,f,g,h,i,m){l[a]={},l[a]["font-size"]=c.css("font-size"),l[a]["font-weight"]=c.css("font-weight"),l[a]["font-style"]=c.css("font-style"),l[a]["background-color"]=g._getexportcolor(c.css("background-color")),l[a].color=g._getexportcolor(c.css("color")),l[a]["border-color"]=g._getexportcolor(c.css("border-top-color")),d?l[a]["text-align"]=f.align:(l[a]["text-align"]=f.cellsalign,l[a].formatString=f.cellsformat,l[a].dataType=n),("html"==b||"pdf"==b)&&(l[a]["border-top-width"]=c.css("border-top-width"),l[a]["border-left-width"]=c.css("border-left-width"),l[a]["border-right-width"]=c.css("border-right-width"),l[a]["border-bottom-width"]=c.css("border-bottom-width"),l[a]["border-top-style"]=c.css("border-top-style"),l[a]["border-left-style"]=c.css("border-left-style"),l[a]["border-right-style"]=c.css("border-right-style"),l[a]["border-bottom-style"]=c.css("border-bottom-style"),d?(0==h&&(l[a]["border-left-width"]=c.css("border-right-width")),l[a]["border-top-width"]=c.css("border-right-width"),l[a]["border-bottom-width"]=c.css("border-bottom-width")):0==h&&(l[a]["border-left-width"]=c.css("border-right-width")),l[a].height=c.css("height")),!f.exportable||f.hidden&&!j||(1==i?(k[f.displayfield].customCellStyles||(k[f.displayfield].customCellStyles=new Array),k[f.displayfield].customCellStyles[m]=a):d?k[f.displayfield].style=a:e?k[f.displayfield].cellAltStyle=a:k[f.displayfield].cellStyle=a)};if(u(q,t,!0,!1,this,i,c),r++,u(o,f,!1,!1,this,i,c),i.altrows&&(o="cellalt"+p,u(o,g,!1,!0,this,i,c)),this.customCellStyles){for(var v in h.customCellStyles)f.removeClass(h.customCellStyles[v]);for(var v in h.customCellStyles)f.addClass(h.customCellStyles[v]),u(o+h.customCellStyles[v],f,!1,!1,this,i,c,!0,v),f.removeClass(h.customCellStyles[v])}p++}}),a.each(this.columns.records,function(a){k[this.displayfield]&&(k[this.displayfield].columnsDataFields=y)}),this.showaggregates){var z=[],A="xls"==b?"AG":"",B=this.groupable?this.groups.length:0;this.rowdetails&&B++,s.length>0&&(a.each(this.columns.records,function(a){if(this.aggregates)for(var b=0;b<this.aggregates.length;b++)if(z[b]||(z[b]={}),z[b]){var c=i._getaggregatename(this.aggregates[b]),d=i._getaggregatetype(this.aggregates[b]),e=s[a-B];e&&(z[b][this.displayfield]=A+c+": "+e[d])}}),a.each(this.columns.records,function(a){for(var b=0;b<z.length;b++)void 0==z[b][this.displayfield]&&(z[b][this.displayfield]=A)})),a.each(z,function(){e.push(this)})}var C=this,D=a.jqx.dataAdapter.ArrayExporter(e,k,l);if(void 0==c){this._renderrows(this.virtualsizeinfo);var E=D.exportTo(b);return this.showaggregates&&a.each(z,function(){e.pop(this)}),setTimeout(function(){C.exporting=!1},50),E}D.exportToLocalFile(b,c,g,h),this.showaggregates&&a.each(z,function(){e.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){C.exporting=!1},50)},_getexportcolor:function(a){var b=a;if("transparent"==a&&(b="#FFFFFF"),b&&b.toString()||(b="#FFFFFF"),-1!=b.toString().indexOf("rgb")){var c=b.split(",");if(-1!=b.toString().indexOf("rgba")){var d=parseInt(c[0].substring(5)),e=parseInt(c[1]),f=parseInt(c[2]),g=parseInt(c[3].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return 0==d&&0==e&&0==f&&0==g?"#ffffff":"#"+i}var d=parseInt(c[0].substring(4)),e=parseInt(c[1]),f=parseInt(c[2].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return"#"+i}if(-1!=b.toString().indexOf("#")&&4==b.toString().length){var j=b.toString().substring(1,4);b+=j}return b},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},_getexportcolumntype:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){return this.name==b.displayfield?(this.type&&(f=this.type),!1):void 0}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g){if(-1!=b.cellsformat.indexOf("c"))return"number";if(-1!=b.cellsformat.indexOf("n"))return"number";if(-1!=b.cellsformat.indexOf("p"))return"number";if(-1!=b.cellsformat.indexOf("d"))return"date";if(-1!=b.cellsformat.indexOf("y"))return"date";if(-1!=b.cellsformat.indexOf("M"))return"date";if(-1!=b.cellsformat.indexOf("m"))return"date";if(-1!=b.cellsformat.indexOf("t"))return"date";if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}}return d}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{savestate:function(b){var c=this.getstate();return void 0===b||a.isEmptyObject(b)||(-1==b.indexOf("sort")&&(delete c.sortcolumn,delete c.sortdirection),-1==b.indexOf("pager")&&(delete c.pagenum,delete c.pagesizeoptions,delete c.pagesize),-1==b.indexOf("selection")&&(delete c.selectedcells,delete c.selectedrowindexes,delete c.selectedrowindex),-1==b.indexOf("grouping")&&delete c.groups,-1==b.indexOf("filter")&&delete c.filters,a.each(this.columns.records,function(a){var d=c.columns[this.datafield];-1==b.indexOf("hidden_columns")&&delete d.hidden,-1==b.indexOf("reorder")&&delete d.index,-1==b.indexOf("columns_width")&&delete d.width,-1==b.indexOf("columns_text")&&delete d.text,-1==b.indexOf("alignment")&&(delete d.align,delete d.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(c)),this._savedstate=c,c},loadstate:function(b,c){var d="";if(void 0!=b&&void 0!=b.width)d=b;else if(window.localStorage){var e=window.localStorage["jqxGrid"+this.element.id];if(e)var d=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var d=this._savedstate;if(null!=d&&""!==d){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var f=d;if(void 0!==f.width&&(this.width=f.width),void 0!==f.height&&(this.height=f.height),this.pageable&&(void 0!=f.pagesize&&(this.pagesize=f.pagesize,this.dataview.pagesize=f.pagesize),void 0!=f.pagenum&&(this.dataview.pagenum=f.pagenum),void 0!=f.pagesizeoptions&&(this.pagesizeoptions=f.pagesizeoptions),this.pagesizeoptions)){for(var g=0,h=0;h<this.pagesizeoptions.length;h++)this.pagesize>=this.pagesizeoptions[h]&&(g=h);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:g})}if(this.sortable)if(this._loading&&(this._loading=!1),f.sortdirection){if(f.sortdirection.ascending||f.sortdirection.descending){this.dataview.sortfield=f.sortcolumn;var i=f.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=i,this.source.sortcolumn=f.sortcolumn,this.source.sortdirection=i,this.sortby(f.sortcolumn,i)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&f.groups&&(this.dataview.groups=f.groups,this.groups=f.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(f),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==c?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(b){this.loadingstate=!0;var c="";if(void 0!=b&&void 0!=b.width)c=b;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])var c=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var c=this._savedstate;if(null!=c&&""!=c){var d=this._loading;this._loading=!1;var e=c,f=this,g=!1,h=[];h.length=0;if(a.each(this.columns.records,function(a){var b=e.columns[this.datafield];if(void 0!=b){if(this.text!=b.text&&(g=!0),this.hidden!=b.hidden&&(g=!0),void 0!==b.width&&(this.width=b.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==b.hidden&&(this.hidden=b.hidden),void 0!==b.pinned&&(this.pinned=b.pinned),void 0!==b.groupable&&(this.groupable=b.groupable),void 0!==b.resizable&&(this.resizable=b.resizable),this.draggable=b.draggable,void 0!==b.text&&(this.text=b.text),void 0!==b.align&&(this.align=b.align),void 0!==b.cellsalign&&(this.cellsalign=b.cellsalign),f._columns)for(var c=0;c<f._columns.length;c++)f._columns[c].datafield==this.datafield&&(void 0!==b.hidden&&(f._columns[c].hidden=b.hidden),void 0!==b.width&&(f._columns[c].width=b.width));void 0!==b.index&&(h[this.datafield]=b.index,h.length++)}}),h.length>0){if(this.setcolumnindex){var i=this.rowdetails?1:0;i+=this.groupable?this.groups.length:0;for(var j=new Array,k=0;k<this.columns.records.length;k++)j.push(this.columns.records[k]);for(var l=0,m=new Array,k=0;k<j.length;k++){var n=j[k],o=h[n.datafield];if(this.groupable&&n.grouped)l++;else if(0==k&&this.rowdetails)l++;else if(k!==o||this.groupable||this.rowdetails){var p=l+o;m.push({column:n,key:p})}}m.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),m.reverse(),a.each(m,function(a,b){var c=this.key;f.setcolumnindex(this.column.datafield,c,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==e.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var q="",r=new a.jqx.filter,k=0;k<e.filters.filterscount;k++){var s=e.filters["filtercondition"+k],t=e.filters["filterdatafield"+k],n=this.getcolumn(t);if(t!=q&&(r=new a.jqx.filter),q=t,n&&n.filterable){var u=e.filters["filtervalue"+k],v=e.filters["filteroperator"+k],w=e.filters["filtertype"+k];if("datefilter"==w)var x=r.createfilter(w,u,s,null,n.cellsformat,this.gridlocalization);else var x=r.createfilter(w,u,s);if(r.addfilter(v,x),this.showfilterrow){var y=n._filterwidget,z=n._filterwidget.parent();if(null!=y)switch(n.filtertype){case"number":if(z.find("input").val(u),this.host.jqxDropDownList){var A=r.getoperatorsbyfiltertype("numericfilter");y.find(".filter").jqxDropDownList("selectIndex",A.indexOf(s))}break;case"date":if(this.host.jqxDateTimeInput){var B=e.filters["filtervalue"+(k+1)],w=e.filters["filtertype"+k],x=r.createfilter(w,B,"LESS_THAN_OR_EQUAL");r.addfilter(v,x);var C=new Date(u),D=new Date(B);isNaN(C)&&(C=a.jqx.dataFormat.tryparsedate(u)),isNaN(D)&&(D=a.jqx.dataFormat.tryparsedate(u)),a(z.children()[0]).jqxDateTimeInput("setRange",C,D),k++}else y.val(u);break;case"textbox":case"default":y.val(u),f["_oldWriteText"+y[0].id]=u;break;case"list":if(this.host.jqxDropDownList){var E=a(z.children()[0]).jqxDropDownList("getItems"),o=-1;a.each(E,function(a){return this.value==u?(o=a,!1):void 0}),a(z.children()[0]).jqxDropDownList("selectIndex",o)}else y.val(u);break;case"checkedlist":this.host.jqxDropDownList||y.val(u);break;case"bool":case"boolean":this.host.jqxCheckBox?a(z.children()[0]).jqxCheckBox({checked:u}):y.val(u)}}this.addfilter(t,r)}}e.filters&&e.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&a.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&f.host.jqxDropDownList){var b=this,c=b._filterwidget,d=(c.jqxDropDownList("getItems"),c.jqxDropDownList("listBox"));if(d.checkAll(!1),b.filter){d.uncheckAll(!1);for(var e=b.filter.getfilters(),g=0;g<d.items.length;g++){var h=d.items[g].label;a.each(e,function(){return"NOT_EQUAL"==this.condition?!0:void(h==this.value&&d.checkIndex(g,!1,!1))})}d._updateCheckedItems();var i=d.getCheckedItems().length;d.items.length!=i&&i>0&&d.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==e.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(e.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(e.pagenum))}if(e.selectedrowindexes&&e.selectedrowindexes&&e.selectedrowindexes.length>0&&(this.selectedrowindexes=e.selectedrowindexes,this.selectedrowindex=e.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),e.selectedcells&&this._applycellselection&&a.each(e.selectedcells,function(){f._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==e.groups)return this._refreshdataview(),this.render(),this._loading=d,void(this.loadingstate=!1);if(g){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=d,this.loadingstate=!1,this.updating())return!1}else this._loading=d,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=d,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var b=this.getdatainformation(),c={};if(c.width=this.width,c.height=this.height,c.pagenum=b.paginginformation.pagenum,c.pagesize=b.paginginformation.pagesize,c.pagesizeoptions=this.pagesizeoptions,c.sortcolumn=b.sortinformation.sortcolumn,c.sortdirection=b.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var d=this.getselectedcells(),e=new Array;a.each(d,function(){e.push({datafield:this.datafield,rowindex:this.rowindex})}),c.selectedcells=e}else{var f=this.getselectedrowindexes();c.selectedrowindexes=f,c.selectedrowindex=this.selectedrowindex}var g={},h=0;if(this.dataview.filters)for(var i=0;i<this.dataview.filters.length;i++){var j=this.dataview.filters[i].datafield,k=this.dataview.filters[i].filter,l=k.getfilters();g[j+"operator"]=k.operator;for(var m=0;m<l.length;m++){if(l[m].datafield=j,"datefilter"==l[m].type)if(l[m].value&&l[m].value.toLocaleString){var n=this.getcolumn(l[m].datafield);if(n.cellsformat){var o=this.source.formatDate(l[m].value,n.cellsformat,this.gridlocalization);o?g["filtervalue"+h]=o:g["filtervalue"+h]=l[m].value.toLocaleString()}else g["filtervalue"+h]=l[m].value.toLocaleString()}else g["filtervalue"+h]=l[m].value;else g["filtervalue"+h]=l[m].value;g["filtercondition"+h]=l[m].condition,g["filteroperator"+h]=l[m].operator,g["filterdatafield"+h]=j,g["filtertype"+h]=l[m].type,h++}}g.filterscount=h,c.filters=g,c.groups=this.groups,c.columns={};var p=0;return this.columns.records&&a.each(this.columns.records,function(a,b){if(!this.datafield)return!0;var d={};d.width=this.width,d.hidden=this.hidden,d.pinned=this.pinned,d.groupable=this.groupable,d.resizable=this.resizable,d.draggable=this.draggable,d.text=this.text,d.align=this.align,d.cellsalign=this.cellsalign,d.index=p++,c.columns[this.datafield]=d}),c},_stringify:function(a){if(window.JSON&&"function"==typeof window.JSON.stringify){var b=this,c="";try{c=window.JSON.stringify(a)}catch(d){return b._str("",{"":a})}return c}var c=this._str("",{"":a});return c},_quote:function(a){var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(a){for(var b,c=a.length,d=[],b=0;c>b;b++)d.push(this._str(b,a)||"null");return"["+d.join(",")+"]"},_stringifyObject:function(a){var b,c,d=[],e=this;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c=e._str(b,a),c&&d.push(e._quote(b)+":"+c));return"{"+d.join(",")+"}"},_stringifyReference:function(a){switch(Object.prototype.toString.call(a)){case"[object Array]":return this._stringifyArray(a)}return this._stringifyObject(a)},_stringifyPrimitive:function(a,b){switch(b){case"string":return this._quote(a);case"number":return isFinite(a)?a:"null";case"boolean":return a}return"null"},_str:function(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|string|boolean)/.test(d)||!c&&"object"===d?this._stringifyPrimitive(c,d):this._stringifyReference(c)}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{getcolumnindex:function(a){var b=this.getcolumn(a),c=this.columns.records.indexOf(b);return c},setcolumnindex:function(b,c,d){var e=this.getcolumn(b);if(!(e.pinned||e.hidden||e.checkboxcolumn||e.grouped)){var f=this.columns.records.indexOf(e);this.columns.records.splice(f,1),this.columns.records.splice(c,0,e);var g=0,h=this.headerZIndex;this.columnsrow.children().detach();var i=this.toThemeProperty("jqx-grid-cell");i+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(a(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var j=this,k=null;if(void 0!=j.filterrow)var k=a(j.filterrow.children()[0]);this.columnsrow[0].cells=[];var l=!1;if(a.each(this.columns.records,function(b,c){var d=this.uielement;j.columnsrow.append(d),j.rtl?d.css("z-index",h++):d.css("z-index",h--);var e=this.width;if(d.css("left",g),j.columnsrow[0].cells[j.columnsrow[0].cells.length]=d[0],j.filterrow){var f=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+i+'"></div>');k.append(f),f.css("left",g),f.css("z-index",h+1),f.width(this.width),f[0].left=g,f.append(this._filterwidget),j.filterrow[0].cells[j.filterrow[0].cells.length]=f[0]}this.hidden&&(l=!0),this.hidden&&this.hideable||(g+=e)}),this.groupable){var m=this.groups.length;m>0&&f-m>=0&&(f-=m,c-=m)}this.rowdetails&&f-1>=0&&(f--,c--),"checkbox"==this.selectionmode&&f-1>=0&&(f--,c--);var e=this._columns[f];this._columns.splice(f,1),this._columns.splice(c,0,e),this._raiseEvent(24,{columntext:e.text,datafield:e.datafield,oldindex:f,newindex:c}),0!=d&&(l||"checkbox"==e.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var b=0;return a.each(this.columns.records,function(){this.pinned&&b++,this.grouped&&b++}),"checkbox"==this.selectionmode&&b++,b},_handlecolumnsreorder:function(){var b=this,c=-1,d=!1;if(b.columnsreorder){var e="mousemove.reorder"+this.element.id,f="mousedown.reorder"+this.element.id,g="mouseup.reorder"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(a){if(b.resizing)return!0;if(null!=b.reordercolumn){var e=parseInt(a.pageX),f=parseInt(a.pageY);if(h){var g=b.getTouches(a),i=g[0];void 0!=i&&(e=parseInt(i.pageX),f=parseInt(i.pageY))}var j=b.host.coord(),k=parseInt(j.left),l=parseInt(j.top);(void 0==b.dragmousedownoffset||null==b.dragmousedownoffset)&&(b.dragmousedownoffset={
left:0,top:0});var m=parseInt(e)-parseInt(b.dragmousedownoffset.left),n=parseInt(f)-parseInt(b.dragmousedownoffset.top);if(b.reordercolumn.css({left:m+"px",top:n+"px"}),d=!1,e>=k&&e<=k+b.host.width()&&f>=l&&f<=l+b.host.height()&&(d=!0),c=-1,d){b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var o=b.columnsheader.coord(),p=o.top+b.columnsheader.height();null!=b.columnsdropline&&(f>=o.top&&p>=f?c=b._handlereordercolumnsdroplines(e):b.columnsdropline.fadeOut("slow"))}else null!=b.columnsdropline&&b.columnsdropline.fadeOut("slow"),b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(h)return a.preventDefault(),a.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){if(b.resizing)return!0;b.columnsbounds=new Array;var d=b.host.coord().left,e=b.host.coord().top;b.showtoolbar&&(e+=b.toolbarheight),b.groupable&&b.showgroupsheader&&(e+=b.groupsheaderheight);var f=0;a.each(b.columns.records,function(c){var g=this;if(g.hidden)return b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:0,height:2+b.rowsheight},!0;0==f&&(d=b.rtl?"hidden"!=b.hScrollBar.css("visibility")?parseInt(b.host.coord().left)-b.hScrollInstance.max+b.hScrollInstance.value:parseInt(b.host.coord().left)+b.hScrollInstance.value:parseInt(b.host.coord().left)-b.hScrollInstance.value),f++;var h=2+b.columnsheight;b.columnshierarchy&&(e=a(g.uielement).coord().top,h=a(g.uielement).height()),b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:g.width,height:h},d+=g.width})}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(b.resizing)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top));b.groupsheader.height();if(b.showtoolbar&&(l+=b.toolbarheight),b.columndragstarted=!1,b.dragmousedown=null,null!=b.reordercolumn){var m=a.data(b.reordercolumn[0],"reorderrecord"),n=b.columns.records.indexOf(b.getcolumn(m));b.reordercolumn.remove(),b.reordercolumn=null;var o=0;if(o+=b._pinnedColumnsLength(),null!=m){if(d&&-1!=c){var p=c.index;if(p>=o){var q=b.columns.records[p];if(void 0!=q){var r=b.columns.records.indexOf(b.getcolumn(q.datafield));if(null==q.datafield)var r=b.columns.records.indexOf(b.getcolumnbytext(q.text));if(b.columngroups){var s=q;if(r>n&&"before"==c.position&&(s=b.columns.records[r-1]),s.columngroup!=b.getcolumn(m).columngroup)return void(null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null))}r>n?"before"==c.position?b.setcolumnindex(m,r-1):b.setcolumnindex(m,r):n>r&&b.setcolumnindex(m,r),b.autosavestate&&b.savestate&&b.savestate()}}}null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null)}}})}},getcolumnbytext:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.text==b?(c=this,!1):void 0}),c},_handlereordercolumnsdroplines:function(b){var c=this,d=-1,e=c._pinnedColumnsLength(),f=parseInt(c.host.coord().left),g=f+c.host.width(),h="hidden"!=c.vScrollBar.css("visibility")?19:0;return c.rtl||(h=0),a.each(c.columnsbounds,function(a){if(a>=e){if(0==this.width)return!0;if(b<=this.left+this.width/2)return b>g?(c.columnsdropline.fadeOut(),!1):(c.columnsdropline.css("left",h+parseInt(this.left)+"px"),c.columnsdropline.css("top",parseInt(this.top)+"px"),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"before"},!1);if(b>=this.left+this.width/2){if(this.left+this.width>g)return c.columnsdropline.fadeOut(),!1;c.columnsdropline.css("left",h+1+this.left+this.width),c.columnsdropline.css("top",this.top),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"after"}}}}),d},_createreordercolumn:function(b,c,d){var e=this,f=c;e.reordercolumn&&e.reordercolumn.remove(),e.columnsdropline&&e.columnsdropline.remove(),e.reordercolumn=a("<div></div>");var g=b.clone();e.reordercolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.reordercolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumn.css("float","left"),e.reordercolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.reordercolumn.append(g),e.reordercolumn.height(b.height()),e.reordercolumn.width(g.width()),e.reordercolumn.append(e.reordercolumnicon),a(document.body).append(e.reordercolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.reordercolumn.css("left",f.left+e.dragmousedown.left),e.reordercolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.columnsdropline=a('<div style="z-index: 9999; display: none; position: absolute;"></div>'),e.columnsdropline.width(2),e.columnsdropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.columnsdropline))},_handlecolumnsdragreorder:function(b,c){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,g,function(c){if(0==b.draggable)return!0;if(e.resizing)return!0;e.__drag=!0;var d=c.pageX,g=c.pageY;if(f){var h=e.getTouches(c),i=h[0];d=i.pageX,g=i.pageY}e.dragmousedown={left:d,top:g};var j=a(c.target).coord();return e.dragmousedownoffset={left:parseInt(d)-parseInt(j.left),top:parseInt(g-j.top)},!0}),this.addHandler(c,d,function(g){if(!b.draggable)return!0;if(void 0==b.datafield)return!0;if(b.pinned)return!0;if(e.resizing)return!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];void 0!=k&&(h=k.pageX,i=k.pageY)}if(d={left:h,top:i},!e.columndragstarted&&null==e.reordercolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createreordercolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.reordercolumn[0],"reorderrecord",b.datafield))}}})}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxListMenu","",{});var b=0,c=0;a.extend(a.jqx._jqxListMenu.prototype,{defineInstance:function(){var b={filterCallback:function(b,c){var d=a.jqx.string.containsIgnoreCase(a.trim(b),c);return d},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};a.extend(!0,this,b)},destroy:function(){this.host.remove()},createInstance:function(){a.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(a){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(a,b){this.width=a,this.height=b,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(b){var b,c,d=this.host.find(".jqx-listmenu-auto-separator"),e=this.host.find('[data-role="listmenu"]');for(d.remove(),c=0;c<e.length;c+=1)b=a(e[c]),(b.data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(b)},_renderSublists:function(){var b,c,d,e,f,g=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(g[0]);g.length;){d=g.pop(),b=this._getChildrenByTagName(d,"li","LI"),e=b.length;for(var h=0;e>h;h+=1)c=b[h],a(c).attr("role","treeitem"),f=this._getChildList(c),this._refreshLi(c,h,e),f&&(g.push(f),this._refreshList(f,c,!0))}},_refreshList:function(b,c,d){b=a(b),"listmenu"===b.data("role")&&(b.is(".jqx-listmenu")||(this._renderList(b),this._handleListId(b),this._addListClasses(b)),c&&this._expandHierarchy(b[0],c),d&&this._handleSublist(b[0]))},_renderList:function(b){b=a(b),b.is(".jqx-listmenu")||(b.detach(),b.appendTo(this.host))},_handleListId:function(a){a[0].id||(a[0].id="jqx-listmenu-"+c,c+=1)},_renderListAutoSeparators:function(b){for(var c,d,e=b.children("li"),f={},g=0;g<e.length;g+=1)if(d=a(e[g]),!d.data("role")){if(a.trim(d.text())[0]!==c){c=a.trim(d.text())[0];var h=a('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+c+"</li>");h.insertBefore(d),h[0].items=new Array,f=h[0]}f.items&&(f.items[f.items.length]=d[0])}},_addListClasses:function(a){a.addClass("jqx-listmenu")},_expandHierarchy:function(a,b){if(b&&a){var c=b.id,d=a.id;this._childrenMap[c]=d,this._parentMap[d]=c}},_handleSublist:function(a){this._currentPage&&a===this._currentPage[0]?a.style.display="block":a.style.display="none"},_getChildrenByTagName:function(a,b,c){var d=[],e={};for(e[b]=e[c]=!0,a=a.firstChild;a;)e[a.nodeName]&&d.push(a),a=a.nextSibling;return d},_renderFilterBar:function(){this._filterBar||(this._filterBar=a("<div/>"),this._filterInput=a('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var b=!1;a.jqx.browser.msie&&a.jqx.browser.version<8&&(b=!0),b||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=a("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=a("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){if(!this._backButton&&(this._backButton=a('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl)){var b=a.jqx.browser.msie&&a.jqx.browser.version<8;b?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15))}this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var b=this.isTouchDevice()&&!this.touchMode,c=a.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,b?c:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var b=this,c=this.isTouchDevice()&&!this.touchMode,d=a.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,c?d:"click",function(){b.back()}),this.addHandler(this._filterInput,"keyup change",function(){b._filter(a(this).val())})},_getChildList:function(a){if(a){var b,c=this._childrenMap[a.id];if(a.className.indexOf("jqx-listmenu-item")>=0&&c)return document.getElementById(c);var d=this._getChildrenByTagName(a,"ul","UL")[0],e=this._getChildrenByTagName(a,"ol","OL")[0];return b=d||e}},_refreshLi:function(a,b,c){if(a.parentNode&&"listmenu"===a.parentNode.getAttribute("data-role")){if(""==a.id);this._handleLiId(a),this._renderLi(a),this._removeLiEventHandlers(a),this._addLiEventHandlers(a),this._addLiClasses(a,b,c)}},_handleLiId:function(a){a.id||(a.id="jqx-listmenu-item-"+b,b+=1)},_renderLi:function(b){if(!(/(separator|header)/.test(a(b).data("role"))||a(b).children(".jqx-listmenu-arrow-right").length>0)&&(a(b).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var c=a("<span/>"),d=a(b).find("ul"),e=a(b).find("ol");(this.alwaysShowNavigationArrows||d.length>0&&/(listmenu)/.test(d.data("role"))||e.length>0&&/(listmenu)/.test(e.data("role")))&&(c.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),c.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),c.prependTo(b)):(c.addClass(this.toThemeProperty("jqx-icon-arrow-right")),c.appendTo(b)))}},_removeLiEventHandlers:function(b){var c=this.isTouchDevice(),d=a.jqx.mobile.getTouchEventName("touchstart"),e=a.jqx.mobile.getTouchEventName("touchend"),f=(a.jqx.mobile.getTouchEventName("touchmove"),(c?d:"mousedown")+".listmenu"),g=(c?e:"mouseup")+".listmenu";this.removeHandler(a(b),f),this.removeHandler(a(document),g+"."+b.id)},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(b=!0),b},_addLiEventHandlers:function(b){b=a(b);var c=this,d=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),e=b.children(".jqx-listmenu-arrow-right"),f=a.jqx.mobile.isTouchDevice(),g=a.jqx.mobile.getTouchEventName("touchstart"),h=a.jqx.mobile.getTouchEventName("touchend"),i=(a.jqx.mobile.getTouchEventName("touchmove"),(f?g:"mousedown")+".listmenu"),j=(f?h:"mouseup")+".listmenu",k=null,l="";/(separator|readonly)/.test(b.data("role"))||this.readOnly||(this.addHandler(b,"dragstart",function(){return!1}),this.addHandler(b,i,function(g){c.disabled||(k=g.target,l=a.jqx.position(g),0==b.find('div[data-role="content"]').length&&(f||(b.addClass(c.toThemeProperty("jqx-fill-state-pressed")),e.addClass(d))))}),this.addHandler(b,j,function(d){c.disabled||k!=d.target&&f||(f?a.jqx.position(d).top===l.top&&c.next(b):a.jqx.position(d).top===l.top&&c.next(b))}),this.addHandler(a(document),j+"."+b[0].id,function(){c.disabled||(b.removeClass(c.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(d))}))},_addLiClasses:function(b,c,d){b=a(b),"separator"===b.data("role")?this._handleSeparatorStyle(b):"header"===b.data("role")?this._handleHeaderStyle(b):(this.readOnly||"readonly"===b.data("role")?b.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):b.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(b)),0!==c||this.showHeader||this.showFilter||b.addClass(this.toThemeProperty("jqx-rc-t")),c===d-1&&b.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(a){a.addClass(this.toThemeProperty("jqx-listmenu-separator")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a[0].style.listStyle="none"},_handleHeaderStyle:function(a){a.css("display","none")},_handleItemStyle:function(a){a.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),a.addClass(this.toThemeProperty("jqx-fill-state-normal")),a.addClass(this.toThemeProperty("jqx-item"))},back:function(){var b,c=this._currentPage;c&&(b=this._parentMap[c[0].id]),this._back=!0,a("#"+b).length>0&&a.jqx.aria(a("#"+b),"aria-expanded",!1),this._changePage(c,a("#"+b).parent(),this.animationDuration,!0),this._back=!1},next:function(b){var c=b.attr("id"),d=this._childrenMap[c],e=a("#"+d),f=a("#"+c).parent();a.jqx.aria(b,"aria-expanded",!0),this._changePage(f,e,this.animationDuration)},changePage:function(b){if("string"==typeof b&&(b=a(b)),!b[0]||"listmenu"!==b.attr("data-role")||b.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=b[0]&&this._changePage(this._currentPage,b,this.animationDuration)},_changePage:function(b,c,d,e){if(!this._lock){var f="_"+this.animationType+"Change"+(e?"Back":"");c[0]&&(this.showFilter&&(c.find('div[data-role="content"]').length>0?(a.each(c.find("li"),function(){"separator"===a(this).data("role")&&a(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[f](b,c,this.animationDuration,function(){this._lock=!1,this._changeHeader(c),this._currentPage=c}))}},_changeHeader:function(b){var c=a(b).find('li[data-role="header"]').first();if(c[0]){var d=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){d._headerLabel.html(c.html()),d._headerLabel.fadeIn(d.headerAnimationDuration/2)})}},_slideChange:function(b,c,d,e){var f=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var g=this.rtl;this._initSlide(b,c),g?(b.animate({"margin-left":b.width()+parseInt(b.css("margin-right"),10)||0},d,"easeInOutSine"),c.animate({"margin-left":0},d,"easeInOutSine",function(){f._slideEnd(b,c),e.call(f,a(this))})):(b.animate({"margin-left":-b.width()-parseInt(b.css("margin-right"),10)||0},d,"easeInOutSine"),c.animate({"margin-left":0},d,"easeInOutSine",function(){f._slideEnd(b,c),e.call(f,a(this))}))},_initSlide:function(a,b){var c=this.rtl;a.width(a.width()),b.css({marginTop:-a.outerHeight(!0),marginLeft:c?-a.width()-(parseInt(a.css("margin-right"),10)||0):a.width()+(parseInt(a.css("margin-right"),10)||0),display:"block",height:"auto",width:a.width()})},_slideEnd:function(a,b){this.host.css("height","auto"),a.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),b.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(b,c,d,e){var f=this;this._initSlideBack(b,c),b.animate({"margin-left":this.rtl?-b.width()-parseInt(b.css("margin-right"),10)||0:b.width()+parseInt(b.css("margin-right"),10)||0},d),c.animate({"margin-left":0},d,function(){f._slideEnd(b,c),e.call(f,a(this))})},_initSlideBack:function(a,b){a.css({marginTop:-b.outerHeight(!0),width:a.width()}),b.css({width:a.width(),marginLeft:this.rtl?a.width()+parseInt(a.css("margin-right"),10)||0:-a.width()-parseInt(a.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(a,b,c,d){this._fadeChange(a,b,c,d)},_fadeChange:function(b,c,d,e){var f=this;b.fadeOut(d/2,function(){c.fadeIn(d/2,function(){e.call(f,a(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(b){for(var c=this.host.find(".jqx-listmenu-item"),d=0;d<c.length;d+=1){var e=a.trim(a(c[d]).text());this.filterCallback(e,b)?c[d].style.display="block":c[d].style.display="none"}for(var c=this.host.find(".jqx-listmenu-separator"),d=0;d<c.length;d+=1){var f=!1;a.each(c[d].items,function(){return"none"!=a(this).css("display")?(f=!0,!1):void 0}),f?c[d].style.display="block":c[d].style.display="none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(a,b,c,d){if("disabled"==b&&(d?a.disable():a.enable()),"backLabel"===b)return void a._backButton.html(d);if("placeHolder"===b)a._filterInput.attr("placeholder",d);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(b))return void a._render()}})}(jqxBaseFramework);try{!function(a,b){b.jqwidgets=b.jqwidgets||{},b.jqwidgets.knockout=function(c){var d={},e=c.name;d.init=function(d,f,g,h){var i=b.utils.unwrapObservable(f()),j=b.toJS(i);if(c.reset&&c.reset(),void 0==a.data(d)[e]){var k=[];a(d)[e](),widget=a.data(d)[e].instance,a.each(c,function(a,d){if(widget.hasOwnProperty(a)&&j.hasOwnProperty(a)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var e=!1;c.serialize&&c.serialize(widget,a)&&(b.toJSON(j[a])!=b.toJSON(c.serialize(widget,a))&&c.setProperty(widget,a,widget[a],j[a]),e=!0),e||b.toJSON(j[a])!=b.toJSON(widget[a])&&c.setProperty(widget,a,widget[a],j[a])}catch(f){c.setProperty(widget,a,widget[a],j[a])}k[a]=a,widget.koupdatingFromObservable=!1}});var l={};a.each(j,function(a,b){void 0==k[a]&&(l[a]=j[a])}),widget.host[e](l)}widget=a.data(d)[e].instance,widget.koupdatingFromObservable=!1,widget.koupdating=!1,c.events&&a.each(c.events,function(){var g=this;a(d).on(g+"."+d.id,function(h){if(widget=a.data(d)[e].instance,!widget.koupdatingFromObservable){var j=widget;j.koupdating=!0;var k=f(),l=c.getProperty(widget,h,g,i);void 0!=l&&(k.hasOwnProperty(l.name)&&a.isFunction(k[l.name])?b.isObservable(k[l.name])&&k[l.name].push?f(l.value):k[l.name](l.value):k[l.name]&&f(l.value)),j.koupdating=!1}})})},d.update=function(d,f,g,h,i){var j=b.utils.unwrapObservable(f()),k=b.toJS(j);widget=a.data(d)[e].instance,widget.koupdating||a.each(c,function(a,d){if(widget.hasOwnProperty(a)&&k.hasOwnProperty(a)&&!widget.koupdating){widget.koupdatingFromObservable=!0;var e=!1;c.serialize&&c.serialize(widget,a)&&(b.toJSON(k[a])!=b.toJSON(c.serialize(widget,a))&&c.setProperty(widget,a,widget[a],k[a]),e=!0),e||b.toJSON(k[a])!=b.toJSON(widget[a])&&c.setProperty(widget,a,widget[a],k[a]),widget.koupdatingFromObservable=!1}})},b.bindingHandlers[c.name]=d};new b.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxGauge({disabled:d}),"min"==b&&a.host.jqxGauge({min:d}),"max"==b&&a.host.jqxGauge({max:d}),"value"==b&&a.host.jqxGauge({value:d})}}),new b.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxLinearGauge({disabled:d}),"min"==b&&a.host.jqxLinearGauge({min:d}),"max"==b&&a.host.jqxLinearGauge({max:d}),"value"==b&&a.host.jqxLinearGauge({value:d})}}),new b.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(a,b,c){return"change"==c?{name:"value",value:b.args.value}:void 0},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxSlider({disabled:d}),"min"==b&&a.host.jqxSlider({min:parseFloat(d)}),"max"==b&&a.host.jqxSlider({max:parseFloat(d)}),"value"==b&&a.host.jqxSlider({value:parseFloat(d)})}}),new b.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){return"valueChanged"==c?{name:"value",value:parseInt(b.currentValue)}:void 0},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxScrollBar({disabled:d}),"min"==b&&a.host.jqxScrollBar({min:parseFloat(d)}),"max"==b&&a.host.jqxScrollBar({max:parseFloat(d)}),"value"==b&&a.host.jqxScrollBar({value:parseFloat(d)})}}),new b.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){return"valueChanged"==c?{name:"value",value:parseInt(b.currentValue)}:void 0},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxProgressBar({disabled:d}),"value"==b&&a.host.jqxProgressBar({value:parseFloat(d)})}}),new b.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxButton({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(a,b,c){return"change"==c?{name:"checked",value:b.args.checked}:void 0},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxCheckBox({disabled:d}),"checked"==b&&c!=d&&a.host.jqxCheckBox({checked:d})}}),new b.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(a,b,c){return"change"==c?{name:"checked",value:b.args.checked}:void 0},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxRadioButton({disabled:d}),"checked"==b&&c!=d&&a.host.jqxRadioButton({checked:d})}}),new b.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){return"valueChanged"==c?{name:"value",value:b.args.date}:void 0},setProperty:function(a,b,c,d){"value"==b&&a.setDate(d),"disabled"==b&&a.host.jqxDateTimeInput({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){return"valueChanged"==c?{name:"value",value:b.args.date}:void 0},setProperty:function(a,b,c,d){"value"==b&&a.setDate(d),"disabled"==b&&a.host.jqxCalendar({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(a,b,c){return"valueChanged"==c?{name:"value",value:a.val()}:void 0},setProperty:function(a,b,c,d){"value"==b&&a.host.jqxNumberInput("val",d),"disabled"==b&&a.host.jqxNumberInput({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(a,b,c){return"valueChanged"==c?{name:"value",value:a.val()}:void 0},setProperty:function(a,b,c,d){"value"==b&&a.host.jqxMaskedInput("val",d),"disabled"==b&&a.host.jqxMaskedInput({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(a,b,c){return"change"==c?(this.selectedIndex=a.selectedIndex,{name:"selectedIndex",value:a.selectedIndex}):void 0},setProperty:function(a,b,c,d){if("source"==b&&(a.source=d,a.refresh()),"disabled"==b&&(a.disabled=d,a._renderItems()),"selectedIndex"==b){var e=a.disabled;a.disabled=!1,a.selectIndex(d),a.disabled=e,e&&a._renderItems()}}}),new b.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(a,b,c){return"change"==c?{name:"selectedIndex",value:a.selectedIndex}:void 0},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxDropDownList({source:d}),"disabled"==b&&a.host.jqxDropDownList({disabled:d}),"selectedIndex"==b&&a.host.jqxDropDownList({selectedIndex:d})}}),new b.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(a,b,c){return"change"==c?{name:"selectedIndex",value:a.selectedIndex}:void 0},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxComboBox({source:d}),"disabled"==b&&a.host.jqxComboBox({disabled:d}),"selectedIndex"==b&&a.host.jqxComboBox({selectedIndex:d})}}),new b.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(a,b,c){return"change"==c?{name:"value",value:a.host.val()}:void 0},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxInput({source:d}),"disabled"==b&&a.host.jqxInput({disabled:d}),"value"==b&&a.host.jqxInput({value:d})}}),new b.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxTree({source:d}),"disabled"==b&&a.host.jqxTree({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxTabs({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b?a.host.jqxWindow({disabled:d}):"content"==b?a.host.jqxWindow("setContent",d):"title"==b&&a.host.jqxWindow({
title:d})}}),new b.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&d!=this.disabled&&(this.disabled=d,a.host.jqxNavigationBar({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxMenu({source:d}),"disabled"==b&&a.host.jqxMenu({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxChart({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxChart({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxDataTable({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxDataTable({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxTreeGrid({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxTreeGrid({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(a,b){return"source"==b&&a.source&&a.source._source?a.source.records:!1},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(c,d,e,f){if("cellvaluechanged"==e){var g=c.host.jqxGrid("getrowid",d.args.rowindex),h=c.host.jqxGrid("getrowdata",g),i=f.source;if(void 0!=i){var j={},k={},l=!1,m=!1;return a.each(i()[g],function(a,c){j[a]=c,k[a]="",b.isObservable(c)&&!b.isComputed(c)&&(l=!0,c(h[a])),b.isObservable(c)&&b.isComputed(c)&&(m=!0)}),l?(j=h,i.replace(i()[g],j)):(j=h,i.replace(i()[g],k),i.replace(i()[g],j)),m&&c.host.jqxGrid("updaterow",g,b.toJS(i)[g]),{name:"source",value:i}}}},setProperty:function(c,d,e,f){if("selectedRowIndex"==d&&c.host.jqxGrid("selectrow",f),"source"==d)if(null==this.source||null==f){if(this.source!=f){this.source=f;var g={localdata:f,datatype:"local"},h=new a.jqx.dataAdapter(g);c.host.jqxGrid({source:h})}}else{var g={localdata:f,datatype:"local"},h=new a.jqx.dataAdapter(g);if(h.dataBind(),!e.records||!h.records)return;var i=Math.max(e.records.length,h.records.length),j=Math.abs(e.records.length-h.records.length);if(0==j&&i>10)return void c.host.jqxGrid({source:h});j>1&&c.host.jqxGrid("beginupdate");for(var k=new Array,l=0;i>l;l++){var m=h.records[l];if(void 0==m){var n=c.host.jqxGrid("getrowid",l);k.push(n)}else{var o=void 0!=e.records[l];if(o){if(b.toJSON(m)!=b.toJSON(e.records[l])){if(void 0!=e.records[l].uid&&(m.uid=e.records[l].uid,b.toJSON(m)==b.toJSON(e.records[l])))continue;var n=c.host.jqxGrid("getrowid",l);c.host.jqxGrid("updaterow",n,m)}}else c.host.jqxGrid("addrow",null,m)}}k.length>0&&c.host.jqxGrid("deleterow",k),j>1&&c.host.jqxGrid("endupdate")}"disabled"==d&&c.host.jqxGrid({disabled:f})}}),new b.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"pointer"==b&&a.host.jqxBulletChart({pointer:d}),"target"==b&&a.host.jqxBulletChart({target:d}),"disabled"==b&&a.host.jqxBulletChart({disabled:d})}})}(jqxBaseFramework,ko)}catch(error){var er=error}!function(a){var b=0;a.jqx.jqxWidget("jqxScrollView","",{}),a.extend(a.jqx._jqxScrollView.prototype,{defineInstance:function(){var b={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove")}};a.extend(!0,this,b)},createInstance:function(){b+=1,this._instanceId=b,this._isTouchDevice=a.jqx.mobile.isTouchDevice();var c=this;a.jqx.utilities.resize(this.host,function(){c.refresh()})},resize:function(a,b){this.width=a,this.height=b,this.refresh()},refresh:function(){if(this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),this.moveThreshold.toString().indexOf("%")>=0&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var a=this;this.slideShowTimer=setInterval(function(){a.currentPage>=a._pages.length-1?a._changePage(0,!0,a.animationDuration):a._changePage(a.currentPage+1,!0,a.animationDuration)},this.slideDuration)}else void 0!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(a){return this._isTouchDevice?this._eventsMap[a]:a},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(a(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(b,c){if(this._isTouchDevice){var d=a.jqx.position(b);if("pageX"==c)return d.left;if("pageY"==c)return d.top;if(b.originalEvent.touches)return b.originalEvent.touches[0][c]}return b[c]},_draggedRight:function(){if(this.currentPage>0){var b=this.currentPage-1,c=a(this._pages[b]),d=c.offset().left+c.outerWidth(),e=d-this.host.offset().left;if(e>=this.host.width()*this.moveThreshold)return this.changePage(b),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var b=this.currentPage+1,c=a(this._pages[b]),d=this.host.width()-(c.offset().left-this.host.offset().left);if(d>=this.host.width()*this.moveThreshold)return this.changePage(b),!0}return!1},_dropTarget:function(){var a;a=this._movedLeft?this._draggedLeft():this._draggedRight(),a||this.changePage(this.currentPage,!1)},_scrollEnabled:function(a){return this._mouseDown?(this._movePermited||Math.abs(this._getCoordinate(a,"pageX")-this._startX)>=15&&(this._movePermited=!0),this._movePermited):!1},_setMoveDirection:function(a){this._lastOffset>a?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(a){var b=-(this._innerWrapper.width()-this.host.width());return a>0?a=0:b>a&&(a=b),a},_addEventListeners:function(){var b=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(a){b._mouseDown=!0,b._startX=b._getCoordinate(a,"pageX"),b._startOffset=b._lastOffset=parseInt(b._innerWrapper.css("margin-left"),10)}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(a){if(b._scrollEnabled(a)){var c=b._startOffset+b._getCoordinate(a,"pageX")-b._startX;return b.bounceEnabled||(c=b._getBounceOffset(c)),b._innerWrapper.css("margin-left",c),b._setMoveDirection(c),b._lastOffset=c,a.preventDefault(),!1}return!0}),this.addHandler(a(document),this._getEvent("mouseup")+this._eventNamespace(),function(a){b._movePermited&&b._dropTarget(),b._movePermited=!1,b._mouseDown=!1});try{if((""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var c=function(a){b._movePermited&&b._dropTarget(),b._movePermited=!1,b._mouseDown=!1};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c)}}catch(d){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=a("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(a){a.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(a)},_refreshPages:function(){var b=this,c=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){b._refreshPage(a(this)),c+=a(this).outerWidth(!0)}),this._innerWrapper.width(c)},_performPageLayout:function(a){a.css("float","left"),a.width(this.host.width()),a.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var b=this;this._buttonsContainer.children().each(function(){b.removeHandler(a(this))})},_addButtonsEventListeners:function(){var b=this;this._buttonsContainer.children().each(function(c){b.addHandler(a(this),"click",function(){b.changePage(c)})})},_performButtonsLayout:function(){var a=(this.host.width()-this._buttonsContainer.width())/2,b=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:a+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*b+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){this._buttonsContainer&&this._buttonsContainer.remove();var b;this._buttons=[],this._buttonsContainer=a("<span/>");for(var c=0;c<this._pages.length;c+=1)b=a('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(b),this._buttons[c]=b;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_swapButtons:function(a,b){this._buttons[a].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[b].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[b].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(b,c,d){if(!this.disabled){var e=a(this._pages[b]),f=(this.host.width()-e.width())/2,g=e.offset().left-this._innerWrapper.offset().left-f,h=this.currentPage,i=this;"undefined"==typeof d&&(d=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,b),this.currentPage=b,this._innerWrapper.animate({marginLeft:-g},d,function(){c&&i._raiseEvent(0,{currentPage:b,oldPage:h})})}},propertyChangedHandler:function(a,b,c,d){if("currentPage"===b)a.currentPage=c,a.changePage(d);else if(/(buttonsOffset|width|height)/.test(b))a.refresh();else{if("showButtons"===b)return void(d?a._buttonsContainer.css("display","block"):a._buttonsContainer.css("display","none"));"slideShow"==b&&a.refresh()}},changePage:function(a){if(a>=this._pages.length||0>a)throw new Error("Invalid index!");this._changePage(a,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){this.currentPage-1>=0&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),function(a){var b=0;a.jqx.jqxWidget("jqxTouch","",{}),a.extend(a.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){b+=1,this._instanceId=b,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var a=this;this._rotateHandler||(this._rotateHandler=function(){a._checkOrientation()})},_getEvent:function(a){return this._isTouchDevice&&(a=this._eventsMap[a]),a+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(a(document),this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var a=this;this.addHandler(this.host,this._getEvent("mouseup"),function(b){a._resetSwipe(),a._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(b){a._initSwipe(b),a._initTap(b)}),this.addHandler(this.host,this._getEvent("mousemove"),function(b){return a._maxSwipeVerticalDistance=Math.max(a._maxSwipeVerticalDistance,Math.abs(a._startY-a._getCoordinates(b).y)),a._maxSwipeHorizontalDistance=Math.max(a._maxSwipeHorizontalDistance,Math.abs(a._startX-a._getCoordinates(b).x)),a._mouseMoved=!0,a._handleSwipeEvents(b)}),this._rotationListeners()},_handleSwipeEvents:function(a){var b=!0;return this._mouseDown&&!this._tapHoldFired&&(b=this._handleVerticalSwipeEvents(a),b=this._handleHorizontalSwipeEvents(a)),this._lastPosition=this._getCoordinates(a),b},_handleVerticalSwipeEvents:function(a){var b,c;return b=this._getCoordinates(a).y,c=b-this._startY,this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance?this._swiped(a,c,2):!0},_handleHorizontalSwipeEvents:function(a){var b,c;return b=this._getCoordinates(a).x,c=b-this._startX,this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance?this._swiped(a,c):!0},_swiped:function(a,b,c){return c=c||0,Math.abs(b)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(b,c)),Math.abs(b)<=this.swipeMax?(a.stopImmediatePropagation(),!1):!0},_getSwipeEvent:function(a,b){var c;return c=0>a?{eventId:3+b,data:{target:this.host}}:{eventId:4+b,data:{target:this.host}}},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(a){var b=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){b._mouseMoved||(b._raiseEvent(1,{target:this.host}),b._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(a){var b=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(a).x,this._startY=this._getCoordinates(a).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){b._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var a=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){a._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var a="vertical";(window.orientation!==this._previousOrientation||this._previousWidth!==screen.width)&&((90===window.orientation||screen.width>screen.height)&&(a="horizontal"),this._raiseEvent(7,{orientation:a})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_getCoordinates:function(b){var c=a.jqx.position(b);return c.x=c.left,c.y=c.top,c},propertyChangedHandler:function(a,b,c,d){"orientationChangeEnabled"===b&&this.refresh()},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxInput","",{}),a.extend(a.jqx._jqxInput.prototype,{defineInstance:function(){var b=this,c={disabled:!1,filter:b._filter,sort:b._sort,highlight:b._highlight,dropDownWidth:null,renderer:b._renderer,opened:!1,$popup:a("<ul></ul>"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close"],popupZIndex:2e4,items:8,item:'<li><a href:"#"></a></li>',minLength:1,maxLength:null};a.extend(!0,this,c)},createInstance:function(a){this.render()},render:function(){if("textarea"==this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"==this.element.nodeName.toLowerCase()){this.baseHost=this.element;var b=this.host.find("input"),c=!1;if(a.each(b,function(){var d=this.type;return null==d||"text"==d||"textarea"==d?(b=a(this),c=!0,!1):void 0}),!c)throw new Error("jqxInput: Missing Text Input in the Input Group");if(b.length>0){this.baseHost=a(this.element),this.host=b,this.element=b[0],this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var d=this.baseHost.children(),e=this;a.each(d,function(b){a(this).addClass(e.toThemeProperty("jqx-input-group-addon")),a(this).removeClass(e.toThemeProperty("jqx-rc-all")),0==b&&a(this).addClass(e.toThemeProperty("jqx-rc-l")),b==d.length-1&&a(this).addClass(e.toThemeProperty("jqx-rc-r")),this!=e.element&&a(this).addClass(e.toThemeProperty("jqx-fill-state-normal"))})}}this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),a.jqx.aria(this,"aria-autocomplete","both"),a.jqx.aria(this,"aria-disabled",this.disabled),a.jqx.aria(this,"aria-readonly",!1),a.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&a.jqx.aria(this,"aria-haspopup",!0),""!=this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var b=this,c=function(c){var d=new Array;return d=a.map(c,function(a){if(void 0==a)return null;if("string"==typeof a||a instanceof String)return{label:a,value:a};if("string"!=typeof a&&a instanceof String==0){var c="",d="";return""!=b.displayMember&&void 0!=b.displayMember&&a[b.displayMember]&&(c=a[b.displayMember]),""!=b.valueMember&&void 0!=b.valueMember&&(d=a[b.valueMember]),""==c&&(c=a.label),""==d&&(d=a.value),{label:c,value:d}}return a})};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(a){b.source=c(b.adapter.records)});else{var d={};this.adapter._options.data?a.extend(b.adapter._options.data,d):(this.source._source.data&&a.extend(d,this.source._source.data),this.adapter._options.data=d),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(a){b.source=c(b.adapter.records)})}return void this.source.dataBind()}a.isFunction(this.source)||(this.source=c(this.source))},_refreshClasses:function(b){var c=b?"addClass":"removeClass";this.host[c](this.toThemeProperty("jqx-widget-content")),this.host[c](this.toThemeProperty("jqx-input")),this.host[c](this.toThemeProperty("jqx-widget")),this.$popup[c](this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.$popup[c](this.toThemeProperty("jqx-noshadow")),this.$popup[c](this.toThemeProperty("jqx-input-popup")),this.$popup[c](this.toThemeProperty("jqx-menu")),this.$popup[c](this.toThemeProperty("jqx-menu-vertical")),this.$popup[c](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[c](this.toThemeProperty("jqx-widget")),this.$popup[c](this.toThemeProperty("jqx-widget-content")),this.roundedCorners&&(this.host[c](this.toThemeProperty("jqx-rc-all")),this.$popup[c](this.toThemeProperty("jqx-rc-all"))),this.disabled?this.host[c](this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},selectAll:function(){var a=this.host;setTimeout(function(){if("selectionStart"in a[0])a[0].focus(),a[0].setSelectionRange(0,a[0].value.length);else{var b=a[0].createTextRange();b.collapse(!0),b.moveEnd("character",a[0].value.length),b.moveStart("character",0),b.select()}},10)},selectLast:function(){var a=this.host;this.selectStart(a[0].value.length)},selectFirst:function(){this.host;this.selectStart(0)},selectStart:function(a){var b=this.host;setTimeout(function(){if("selectionStart"in b[0])b[0].focus(),b[0].setSelectionRange(a,a);else{var c=b[0].createTextRange();c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select()}},10)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},resize:function(a,b){this.width=a,this.height=b,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var b=this,c=0,d=this.baseHost.height()-2;a.jqx.browser.msie&&a.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),a.each(this.baseHost.children(),function(){a(this).css("height","100%"),a.jqx.browser.msie&&a.jqx.browser.version<8&&a(this).css("height",d+"px"),this!==b.element&&(c+=a(this).outerWidth()+2)}),this.host.css("width",this.baseHost.width()-c-4+"px"),a.jqx.browser.msie&&a.jqx.browser.version<9&&(this.host.css("min-height",d+"px"),this.host.css("line-height",d+"px"))}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled),this.maxLength&&this.host.attr("maxlength",this.maxLength),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var a=this;""==this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){a.element.value==a.placeHolder&&(a.element.value="")}),this.host.blur(function(){(""==a.element.value||a.element.value==a.placeHolder)&&(a.element.value=a.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.host.remove(),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(b,c,d,e){return"placeHolder"==c?void b._refreshPlaceHolder():"opened"==c?void(e?b.open():b.close()):("source"==c&&(b._oldsource=e,b._updateSource()),("displayMember"==c||"valueMember"==c)&&(b.source=b._oldsource,b._updateSource()),"disabled"==c&&a.jqx.aria(b,"aria-disabled",b.disabled),"value"==c&&(b.element.value=e),void b.refresh())},select:function(a,b){var c=this.$popup.find(".jqx-fill-state-pressed").attr("data-value"),d=this.$popup.find(".jqx-fill-state-pressed").attr("data-name");return this.element.value=this.renderer(d,this.element.value),this.selectedItem={label:d,value:c},this.host.attr("data-value",c),this.host.attr("data-label",d),this._raiseEvent("0",{item:{label:d,value:c},label:d,value:c}),this.close()},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a&&!a.label&&!a.value?""!=this.displayMember&&""!=this.valueMember&&this.selectedItem?this.selectedItem:this.element.value:a&&a.label?(this.selectedItem={label:a.label,value:a.value},this.host.attr("data-value",a.value),this.host.attr("data-label",a.label),this.value=a,this.element.value=a.label,this.element.value):(this.value=a,this.element.value=a,this.host.attr("data-value",a),this.host.attr("data-label",a),this.element.value)},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_renderer:function(a){return a},open:function(){if(!a.jqx.isHidden(this.host)){var b=a.extend({},this.host.coord(!0),{height:this.host[0].offsetHeight});if(0==this.$popup.parent().length){var c=this.element.id+"_popup";this.$popup[0].id=c,a.jqx.aria(this,"aria-owns",c)}this.$popup.appendTo(a(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:b.top+b.height,left:b.left}).show();var d=0,e=this.$popup.children();return a.each(e,function(){d+=a(this).outerHeight(!0)-1}),this.$popup.height(d),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.hide(),this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!1),this},suggest:function(b){var c;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.load,this)):this.source,c?this.load(c):this)},load:function(b){var c=this;return b=a.grep(b,function(a){return c.filter(a)}),b=this.sort(b),b.length?this._render(b.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(b){var c=this.query,d=b;switch(null!=b.label?d=b.label:this.displayMember&&(d=b[this.displayMember]),this.searchMode){case"none":break;case"containsignorecase":default:return a.jqx.string.containsIgnoreCase(d,c);case"contains":return a.jqx.string.contains(d,c);case"equals":return a.jqx.string.equals(d,c);case"equalsignorecase":return a.jqx.string.equalsIgnoreCase(d,c);case"startswith":return a.jqx.string.startsWith(d,c);case"startswithignorecase":return a.jqx.string.startsWithIgnoreCase(d,c);case"endswith":return a.jqx.string.endsWith(d,c);case"endswithignorecase":return a.jqx.string.endsWithIgnoreCase(d,c)}},_sort:function(a){for(var b,c=[],d=[],e=[],f=0;f<a.length;f++){var b=a[f],g=b;b.label?g=b.label:this.displayMember&&(g=b[this.displayMember]),0===g.toLowerCase().indexOf(this.query.toLowerCase())?c.push(b):g.indexOf(this.query)>=0?d.push(b):g.toLowerCase().indexOf(this.query.toLowerCase())>=0&&e.push(b)}return c.concat(d,e)},_highlight:function(a){var b=this.query;b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var c=new RegExp("("+b+")","ig");return a.replace(c,function(a,b){return"<b>"+b+"</b>"})},_render:function(b){var c=this;return b=a(b).map(function(b,d){var e=d;b=void 0!=d.value?void 0!=d.label?a(c.item).attr({"data-name":d.label,"data-value":d.value}):a(c.item).attr({"data-name":d.value,"data-value":d.value}):void 0!=d.label?a(c.item).attr({"data-value":d.label,"data-name":d.label}):void 0!=c.displayMember&&""!=c.displayMember?a(c.item).attr({"data-name":d[c.displayMember],"data-value":d[c.valueMember]}):a(c.item).attr({"data-value":d,"data-name":d}),d.label?e=d.label:c.displayMember&&(e=d[c.displayMember]),b.find("a").html(c.highlight(e));var f="";return c.rtl&&(f=" "+c.toThemeProperty("jqx-rtl")),b[0].className=c.toThemeProperty("jqx-item")+" "+c.toThemeProperty("jqx-menu-item")+" "+c.toThemeProperty("jqx-rc-all")+f,b[0]}),b.first().addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(b),this.dropDownWidth?this.$popup.width(this.dropDownWidth):this.$popup.width(this.host.outerWidth()-6),this},next:function(b){var c=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),d=c.next();d.length||(d=a(this.$popup.find("li")[0])),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(a){var b=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c=b.prev();c.length||(c=this.$popup.find("li").last()),c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){this.addHandler(this.host,"focus",a.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",a.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",a.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",a.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",a.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",a.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",a.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",a.proxy(this.mouseenter,this))},removeHandlers:function(){this.removeHandler(this.host,"focus",a.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",a.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",a.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",a.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",a.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",a.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",a.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",a.proxy(this.mouseenter,this))},move:function(a){if(this.opened){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(a,this);break;case 27:if(!this.opened)return;this.close();break;default:var b=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){b.suggest()},300)}a.stopPropagation(),a.preventDefault()},clear:function(){this.host.val("")},onBlur:function(a){var b=this;setTimeout(function(){b.close()},150),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),this.value=this.host.val()},onFocus:function(a){var b=this;b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(a,this)},mouseenter:function(b){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a(b.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))}})}(jqxBaseFramework),function(a){a.jqx.response=function(){this.defineInstance()},a.jqx.response.prototype={defineInstance:function(){this._handlers=new Array,this.refresh();var b=this;this.addHandler(a(document),"scroll.jqxresponse",function(){b.scroll=b.getScroll()})},refresh:function(){this.os=this.getOS(),this.browser=this.getBrowser(),this.device=this.getDevice(),this.viewPort=this.getViewPort(),this.document=this.getDocument(),this.scroll=this.getScroll(),this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort(),this.document=this.getDocument()},addHandler:function(a,b,c,d){switch(b){case"mousemove":if(window.addEventListener&&!d)return a[0].addEventListener("mousemove",c,!1),!1}a.on?a.on(b,c):a.bind(b,c)},removeHandler:function(a,b,c){return void 0==b?void(a.off?a.off():a.unbind()):void(void 0==c?a.off?a.off(b):a.unbind(b):a.off?a.off(b,c):a.unbind(b,c))},destroy:function(){this.removeHandler(a(window),"resize.jqxresponse"),this.removeHandler(a(document),"scroll.jqxresponse");for(var b=0;b<this._handlers.length;b++){var c=this._handlers[b];this.removeHandler(a(c),"mousedown.response"+c[0].id),this.removeHandler(a(c),"touchstart.response"+c[0].id),this.removeHandler(a(c),"mousemove.response"+c[0].id),
this.removeHandler(a(c),"touchmove.response"+c[0].id),this.removeHandler(a(c),"mouseup.response"+c[0].id),this.removeHandler(a(c),"touchend.response"+c[0].id)}},resize:function(b){var c=this;this.removeHandler(a(window),"resize.jqxresponse"),this.addHandler(a(window),"resize.jqxresponse",function(d){if(b)if(a.isArray(b))for(var e=0;e<b.length;e++)b[e]();else b();c.refreshSize()}),null==b&&this.removeHandler(a(window),"resize.jqxresponse")},pointerDown:function(b,c){if(b&&c){var d=a.jqx.mobile.isTouchDevice(),e=!0;if(d){var f=a.jqx.mobile.getTouchEventName("touchstart")+".response"+b[0].id;null!=c?this.addHandler(a(b),f,function(b){var d=a.jqx.position(b),f=c(b,d,"touch");return e=!1,setTimeout(function(){e=!0},500),f}):this.removeHandler(a(b),f)}null!=c?this.addHandler(a(b),"mousedown.response"+b[0].id,function(b){var d=a.jqx.position(b);return e?c(b,d,"mouse"):void 0}):this.removeHandler(a(b),"mousedown.response"+b[0].id),this._handlers.push(b)}},pointerUp:function(b,c){if(b){var d=a.jqx.mobile.isTouchDevice(),e=!0;if(d){var f=a.jqx.mobile.getTouchEventName("touchend")+".response"+b[0].id;null!=c?this.addHandler(a(b),f,function(b){var d=a.jqx.position(b),f=c(b,d,"touch");return e=!1,setTimeout(function(){e=!0},500),f}):this.removeHandler(a(b),f)}null!=c?this.addHandler(a(b),"mouseup.response"+b[0].id,function(b){var d=a.jqx.position(b);return e?c(b,d,"mouse"):void 0}):this.removeHandler(a(b),"mouseup.response"+b[0].id),this._handlers.push(b)}},pointerMove:function(b,c){if(b){var d=a.jqx.mobile.isTouchDevice();if(d){var e=a.jqx.mobile.getTouchEventName("touchmove")+".response"+b[0].id;null!=c?this.addHandler(a(b),e,function(b){var d=a.jqx.mobile.getTouches(b);if(1==d.length){var e=a.jqx.position(b);return c(b,e,"touch")}}):this.removeHandler(a(b),e)}else null!=c?this.addHandler(a(b),"mousemove.response"+b[0].id,function(b){var d=a.jqx.position(b);return c(b,d,"mouse")}):this.removeHandler(a(b),"mousemove.response"+b[0].id);this._handlers.push(b)}},isHidden:function(b){return a.jqx.isHidden(a(b))},inViewPort:function(a){var b=this.viewPort;if(a.getBoundingClientRect){var c=a.getBoundingClientRect?a.getBoundingClientRect():{};return c&&c.bottom>=0&&c.top<=b.height&&c.right>=0&&c.left<=b.width}return!1},getScroll:function(){var a={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};return void 0==a.left&&(a.left=0),void 0==a.top&&(a.top=0),a},getDocument:function(){return{width:a(document).width(),height:a(document).height()}},getViewPort:function(){return{width:a(window).width(),height:a(window).height()}},getTouch:function(){var b="ontouchstart",c=b in window;if(c)return!0;var b="MSPointerDown",c=b in window;return c?!0:a.jqx.mobile.isWindowsPhone()?!0:!1},getDevice:function(){var a=this.os.name,b=window.location.search.match(/deviceType=(Tablet|Phone)/),c=window.deviceType,d="";return b&&b[1]?d=b[1]:"iPhone"===c?d="Phone":"iPad"===c?d="Tablet":"Android"!=a&&"iOS"!=a&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(a)?d="Desktop":"iOS"==a&&navigator.userAgent.toLowerCase().indexOf("ipad")>=0?d="Tablet":"RIMTablet"==a?d="Tablet":"Android"==a?(d=this.os.version&&this.os.version.substring(0,1).indexOf("3")>=0?"Tablet":this.os.version&&this.os.version.substring(0,1).indexOf("4")>=0&&-1==navigator.userAgent.search(/mobile/i)?"Tablet":"Phone",navigator.userAgent.toLowerCase().indexOf("kindle fire")>=0&&(d="Tablet")):d="Phone",/Windows/.test(a)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?d="Phone":navigator.userAgent.indexOf("Touch")>=0&&(d="Tablet",this.getTouch()||(d="Desktop"))),{type:d,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var a=!1,b=document.createElement("canvas");return b&&b.getContext&&b.getContext("2d")&&(a=!0),a},vml:function(){if(void 0==this._vmlSupport){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;b.style.behavior="url(#default#VML)",this._vmlSupport=b?"object"==typeof b.adj:!0,a.parentNode.removeChild(a)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var b=navigator.userAgent.toLowerCase(),c="",d=null;if(browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(b)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(b)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(b)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(b)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(b)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(b)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(b)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(b)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(b)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(b)},msie11:{name:"Internet Explorer 11",eval:b.indexOf("rv:11.0")>=0&&b.indexOf(".net4.0c")>=0},winphone:{name:"Internet Explorer Mobile",eval:b.indexOf("windows phone 8.1")>=0},other:{name:"Other",eval:b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)}},a.each(browserNames,function(a,b){if(this.eval)if("Other"==this.name)d||(d=this.eval,c=this.name);else if("Internet Explorer 11"==this.name)d||(d=["","msie",11],c="Internet Explorer");else if("Internet Explorer Mobile"==this.name)d||(d=["","msie",11],c="Internet Explorer");else{if("Chrome"==c&&"Safari"==this.name)return!0;d=this.eval,c=this.name}}),d){var e={name:c,accessName:d[1]||"",version:d[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};e[d[1]]=d[1]}else e={name:"Other",browser:"other",version:""};return e},getOS:function(){var b=null,c="",d=navigator.userAgent,e="Other",f={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}},g="",h=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var i in h){var j=h[i];if(j.r.test(d)){g=j.s;break}}var k="";switch(/Windows/.test(g)&&(k=/Windows (.*)/.exec(g)[1],g="Windows"),/BB10/.test(g)&&(k="10",g="BlackBerry"),e){case"Mac OS X":k=/Mac OS X (10[\.\_\d]+)/.exec(d)[1];break;case"Android":k=/Android ([\.\_\d]+)/.exec(d)[1];break;case"iOS":k=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer),k=k[1]+"."+k[2]+"."+(0|k[3])}return""!=k&&(c=k),a.each(f,function(a,f){return b=d.match(this.regex)||d.toLowerCase().match(this.regex),b?(this.name.match(/Windows|Linux|MacOS/)||(c=!b[1]||"HTC_"!=b[1]&&"Silk/"!=b[1]?b[b.length-1]:"2.3"),e={name:this.name,version:c,platform:navigator.platform},!1):void 0}),e&&"Other"==e.name&&(e.name=g),e&&""!=e.name&&""!=g&&(e.name=g),e&&""==e.version&&""!=k&&(e.version=k),e}}}(jqxBaseFramework),function(a){function b(a,b,c,d,e,f,g,h){this.label=a,this.value=b,this.parent=c,this.children=d,this.area=e||null,this.color=f,this.data=g,this.record=h}a.jqx.jqxWidget("jqxTreeMap","",{});var c={};c["default"]=function(){function a(b,c,d,e){this.height=e,this.width=d,this.xoffset=b,this.yoffset=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(a){var b=[],c=this.xoffset,d=this.yoffset,e=j(a)/this.height,f=j(a)/this.width;if(this.width>=this.height)for(var g=0;g<a.length;g+=1)b.push([c,d,c+e,d+a[g]/e]),d+=a[g]/e;else for(var g=0;g<a.length;g+=1)b.push([c,d,c+a[g]/f,d+f]),c+=a[g]/f;return b},this.cutArea=function(b){var c;if(this.width>=this.height){var d=b/this.height,e=this.width-d;c=new a(this.xoffset+d,this.yoffset,e,this.height)}else{var f=b/this.width,g=this.height-f;c=new a(this.xoffset,this.yoffset+f,this.width,g)}return c}}function b(a,b){for(var c=[],d=j(a),e=b/d,f=0;f<a.length;f+=1)c[f]=a[f]*e;return c}function c(a,b,e,f,g){f="undefined"==typeof f?0:f,g="undefined"==typeof g?0:g;var h,j=[],l=[];if(i(a[0])){for(var m=0;m<a.length;m+=1)j[m]=k(a[m]);h=d(j,b,e,f,g);for(var m=0;m<a.length;m+=1)l.push(c(a[m],h[m][2]-h[m][0],h[m][3]-h[m][1],h[m][0],h[m][1]))}else l=d(a,b,e,f,g);return l}function d(c,d,g,h,i){h="undefined"==typeof h?0:h,i="undefined"==typeof i?0:i;var j=f(b(c,d*g),[],new a(h,i,d,g),[]);return e(j)}function e(a){for(var b=[],c=0;c<a.length;c+=1)for(var d=0;d<a[c].length;d+=1)b.push(a[c][d]);return b}function f(a,b,c,d){var e,h,i;return 0===a.length?void d.push(c.getCoordinates(b)):(e=c.shortestEdge(),h=a[0],g(b,h,e)?(b.push(h),f(a.slice(1),b,c,d)):(i=c.cutArea(j(b),d),d.push(c.getCoordinates(b)),f(a,[],i,d)),d)}function g(a,b,c){var d;if(0===a.length)return!0;d=a.slice(),d.push(b);var e=h(a,c),f=h(d,c);return e>=f}function h(a,b){var c=Math.min.apply(Math,a),d=Math.max.apply(Math,a),e=j(a);return Math.max(Math.pow(b,2)*d/Math.pow(e,2),Math.pow(e,2)/(Math.pow(b,2)*c))}function i(a){return a&&a.constructor===Array}function j(a){for(var b=0,c=0;c<a.length;c+=1)b+=a[c];return b}function k(a){var b=0;if(i(a[0]))for(var c=0;c<a.length;c+=1)b+=k(a[c]);else b=j(a);return b}return c}();var d={HORIZONTAL:0,VERTICAL:1,BOTH:2};a.extend(a.jqx._jqxTreeMap.prototype,{defineInstance:function(){this.width=600,this.height=600,this.renderCallbacks={},this.legendScaleCallback=function(a){return a},this.hoverEnabled=!1,this.selectionEnabled=!0,this.singleSelection=!0,this.showLegend=!0,this.legendLabel="Legend",this.headerHeight=25,this.colorRange=100,this.layout="default",this.source=[],this.displayMember=null,this.valueMember=null,this.colorMode="parent",this.baseColor="#C2EEFF",this.legendPosition={x:0,y:0},this.colorRanges=[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],this._root=[]},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new b(void 0,0,null,[],this.host);var d=function(a,b){for(var d,e={},f=null,g=0;g<a.length;g+=1)if(a[g].items){f=!0;break}var h=new Array;if(f){var i=function(a,b){for(var c=0;c<a.length;c+=1){if(a[c].parent=b,a[c].data||(a[c].data=a[c].value),null==a[c].value&&(a[c].value=0),isNaN(parseFloat(a[c].value))){for(var d=a[c].value.toString(),e="",f=0;f<d.length;f++){var g=d.substring(f,f+1);(null!=g.match(/^[0-9]+$/)||"."==g)&&(e+=g)}a[c].value=new Number(e)}else a[c].value=parseFloat(a[c].value);h.push(a[c]),a[c].items&&i(a[c].items,a[c].label)}};i(a,null),a=h}for(var g=0;g<a.length;g+=1)d=a[g],d.value&&null!=d.parent&&(e[d.parent]||(e[d.parent]=0),e[d.parent]+=d.value);for(var g=0;g<a.length;g+=1)d=a[g],void 0!==e[d.label]&&(d.value=e[d.label]);b._buildTree(a,b._root),b._dataList=b._buildList(),b._setStyles();var j=c["default"];"simple"===b.layout&&(j=c.simple),b._render(b._root,j),b._renderLegend()};return a.jqx.dataAdapter&&null!=this.source&&this.source._source?void this.dataBind(this.source,d):void d(this.source,this)},dataBind:function(b,c){this.records=new Array;var d=b._source?!0:!1,e=new a.jqx.dataAdapter(b,{autoBind:!1});d&&(e=b,b=b._source);var f=function(a){void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async)},g=function(a,b){a.records=e.records;for(var d=new Array,f=0;f<a.records.length;f++){var g=a.records[f];a.displayMember&&(g.label=g[a.displayMember]),a.valueMember&&(g.value=g[a.valueMember]),g.record=g,d.push(g)}a._trigger("bindingComplete"),c(d,a)};f(this);var h=this;switch(b.datatype){case"local":case"array":default:null!=b.localdata&&(e.unbindBindingUpdate(this.element.id),e.dataBind(),g(this),e.bindBindingUpdate(this.element.id,function(a){g(h,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return e.unbindBindingUpdate(this.element.id),e.dataBind(),g(this),void e.bindBindingUpdate(this.element.id,function(){g(h)});var i={};e._options.data?a.extend(e._options.data,i):(b.data&&a.extend(i,b.data),e._options.data=i);var j=function(){g(h)};e.unbindDownloadComplete(h.element.id),e.bindDownloadComplete(h.element.id,j),e.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(a){a||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});var b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0);var c=this;a.jqx.utilities.resize(this.host,function(){c.resizeTimer&&clearTimeout(c.resizeTimer),c.resizeTimer=setTimeout(function(){c.performLayout()},50)})},resize:function(a,b){this.width=a,this.height=b,this.performLayout()},performLayout:function(){var a=c["default"];this.clearSelection(),this._layout(this._root,a)},_getValues:function(a){for(var b=[],c=0;c<a.length;c+=1)b.push(a[c].value);return b},_isColor:function(a){if(!a)return!1;var b=this._colorEvaluator;return b._isRgb(a)||b._isHex(a)?!0:!1},_colorEvaluator:{_toRgb:function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},_toHex:function(a){var b=a.r.toString(16),c=a.g.toString(16),d=a.b.toString(16);return b=1===b.length?"0"+b:b,c=1===c.length?"0"+c:c,d=1===d.length?"0"+d:d,"#"+b+c+d},_isRgb:function(a){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(a)},_isHex:function(a){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(a)},getColorByValue:function(a,b,c){var d,e,f,g,h,b,i=this._colorEvaluator;i._isRgb(c)&&(c=i._toHex(c)),c=i._toRgb(c),f=b.length,d=-(1/0);for(var j=0;f>j;j+=1)d<b[j].value&&(d=b[j].value);return e=a/d,g=Math.round(e*this.colorRange),h=i._toHex({r:Math.max(c.r-g,0),g:Math.max(c.g-g,0),b:Math.max(c.b-g,0)})},parent:function(a){var b=a.parent.color,c=this._colorEvaluator;return a.parent?(b||(b=this.baseColor),b=c.getColorByValue.call(this,a.value,a.parent.children,b),a.color=b,b):"#fff"},autoColors:function(a){var b=this.baseColor,c=this._colorEvaluator;return b=c.getColorByValue.call(this,a.value,this._dataList,b),a.color=b,b},rangeColors:function(a){for(var b,c=a.value,d=0;d<this.colorRanges.length;d+=1)if(b=this.colorRanges[d],b.min<c&&b.max>=c)return b.color;return"#fff"}},_getColor:function(a){var b=a.color,c=this.colorMode;if(this._isColor(b))return b;if("function"==typeof this._colorEvaluator[c])return this._colorEvaluator[c].call(this,a);throw"Invalid colorMode"},_renderRect:function(b,c){var d=a("<div/>"),e=b[2]-b[0],f=b[3]-b[1],g=this._getColor(c);d.css({position:"absolute",left:b[0]-1,top:b[1]-1,width:e,height:f,backgroundColor:g}),d.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var h=this._colorEvaluator,i={data:c.data,label:c.label,value:c.value,parent:c.parent,record:c.record,color:g,rgb:h._toRgb(g)};if(c.parent==this._root&&(i.parent=null),"function"==typeof this.renderCallbacks["*"]){var j=this.renderCallbacks["*"](d,i);if(void 0!==j)return d}if("function"==typeof this.renderCallbacks[c.label])this.renderCallbacks[c.label](d,i);else{var e=d.width()-2;d.html('<span style="max-width:'+e+'px;" class="jqx-treemap-label">'+c.label+"</span>")}return d},_centerLabel:function(a,b){var c=a[0].firstChild;c.style.position="absolute",(b===d.HORIZONTAL||b===d.BOTH)&&(c.style.left=(a[0].offsetWidth-c.offsetWidth)/2+"px"),(b===d.VERTICAL||b===d.BOTH)&&(c.style.top=(a[0].offsetHeight-c.offsetHeight)/2+"px")},_trigger:function(b,c){var d=a.Event(b);return d.args=c,this.host.trigger(d)},_addHandlers:function(b,c){var d=this;b.bind("mouseenter",function(a){d.hoverEnabled&&(d.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),b.addClass(d.toThemeProperty("jqx-treemap-rectangle-hover"))),d._trigger("mouseenterSector",c)}),b.bind("mouseleave",function(a){d.hoverEnabled&&b.removeClass("jqx-treemap-rectangle-hover"),d._trigger("mouseleaveSector",c)}),b.bind("click",function(c){if(d.selectionEnabled){var e=a.data(this,"jqx-treemap-selected")||!1;d.singleSelection&&d.host.find(".jqx-treemap-rectangle-hover").each(function(b,c){a.data(c,"jqx-treemap-selected",!1),a(c).removeClass("jqx-treemap-rectangle-hover")}),e?(b.removeClass("jqx-treemap-rectangle-hover"),e=!1):(b.addClass(d.toThemeProperty("jqx-treemap-rectangle-hover")),e=!0),a.data(this,"jqx-treemap-selected",e),c.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),a.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(a,b){a.children.length&&a.children.length>0?(this._centerLabel(b,d.HORIZONTAL),b.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(b,d.BOTH)},_render:function(a,b){if(a.children.length){var c=0;a.value&&(c=this.headerHeight);for(var d,e,f=this._getValues(a.children),g=(a.area.offset(),b(f,a.area.width(),a.area.height()-c,0,c)),h=0;h<a.children.length;h+=1)d=a.children[h],e=this._renderRect(g[h],d),d.area=e,a.area.append(e),this._addHandlers(e,{label:d.label,value:d.value,color:d.color,sector:d.area,data:d.data}),this._layoutArea(d,e),this._render(d,b)}},_layout:function(b,c){if(b.children.length){var d=0;b.value&&(d=this.headerHeight);for(var e=this._getValues(b.children),f=(b.area.offset(),c(e,b.area.width(),b.area.height()-d,0,d)),g=0;g<b.children.length;g+=1){var h=b.children[g];this._layoutRect(f[g],h),this._layoutArea(h,h.area),this._layout(h,c)}this.showLegend&&(a(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(a,b){var c=b.area,d=a[2]-a[0],e=a[3]-a[1];c.css({left:a[0]-1,top:a[1]-1,width:d,height:e});var f=this._colorEvaluator,g=this._getColor(b),h={data:b.data,label:b.label,value:b.value,parent:b.parent,record:b.record,color:g,rgb:f._toRgb(g)};if(b.parent==this._root&&(h.parent=null),"function"==typeof this.renderCallbacks["*"]){var i=this.renderCallbacks["*"](c,h);if(void 0!==i)return c}if("function"==typeof this.renderCallbacks[b.label])this.renderCallbacks[b.label](c,h);else{var d=c.width()-2;c.find(".jqx-treemap-label:first").css("max-width",d)}},_getBoundValues:function(){var a,b=this._root,c=[],d={},e={};for(d.value=b.value||1/0,e.value=b.value||-(1/0),c.push(b);c.length;){a=c.pop(),d.value>a.value&&(d=a),e.value<a.value&&(e=a);for(var f=0;f<a.children.length;f+=1)c.push(a.children[f])}return[d,e]},_getAutocolorRanges:function(){for(var a,b=this._getBoundValues(),c=5,d=b[1].value,e=b[0].value,f=(d-e)/c,g=[],h=e;d>h;h+=f)a=Math.round(h),g.push({min:a,max:h+f,color:this._colorEvaluator.getColorByValue.call(this,a,this._dataList,this.baseColor)});return g},_renderLegend:function(){if(/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend){var a=this.colorRanges;"autoColors"===this.colorMode&&(a=this._getAutocolorRanges());var b=this._renderColorLegend(a);this._renderLegendLabel(b)}},_renderLegendLabel:function(b){var c=a('<tr><td colspan="'+b.find("td").length/2+'"/></tr>'),d=a('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');d.text(this.legendLabel),c.children().append(d),b.prepend(c)},_renderColorLegend:function(b){var c,d,e=a('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),f=function(a){return a};"function"==typeof this.legendScaleCallback&&(f=this.legendScaleCallback);var g=a('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');e.append(g),g.append("<tr/>"),e.append("<div/>"),this.host.append(e),c=a(e.find("tr")[0]),d=a(e.find("div")[0]),d.addClass(this.toThemeProperty("jqx-treemap-legend-values"));var h=function(a,b){try{if(a.min<b.min)return-1;if(a.min>b.min)return 1}catch(c){}return 0};b.sort(h);for(var i=Math.round(e.width()/b.length),j=-2,k=0,l=0;l<b.length;l+=1){var m=a('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');if(m.css("backgroundColor",b[l].color),c.append(m),0===l){var n=a('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');n.text(f(b[l].min)),d.append(n),g.css("margin-left",n.width()/2),j+=n.width()/2,k=j}var n=a('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');j+=i,n.text(f(b[l].max)),d.append(n),l==b.length-1&&(k+=n.width()/2,e.css("padding-right",k+5),j-=2),j-=n.width()/2,n.css("left",j),j+=n.width()/2}return e.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),e},_buildTree:function(a,c){var d,e,f=null,g=[];for(g.push(c);g.length;){f=g.pop();for(var h=0;h<a.length;h+=1)if(e=a[h],e.parent===f.label||!e.parent&&!f.label){var i=f;d=new b(e.label,parseFloat(e.value,10),i,[],null,e.color,e.data,e.record),f.children.push(d),g.push(d)}}return c},_buildList:function(){var a,b=[],c=[];for(c.push(this._root);c.length;){a=c.pop(),a!==this._root&&b.push(a);for(var d=0;d<a.children.length;d+=1)c.push(a.children[d])}return b},propertyChangedHandler:function(a,b,c){"renderCallbacks"!==b&&(/hoverEnabled|selectionEnabled/.test(b)?c||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===b?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxPasswordInput","",{}),a.extend(a.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var b={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};a.extend(!0,this,b)},createInstance:function(a){this.render()},render:function(){var b=this,c=a.jqx.browser.browser,d=a.jqx.browser.version;this._browserCheck="msie"!=c||"7.0"!=d&&"8.0"!=d,this.widgetID=b.element.id;var e=b.host,f="Invalid input type. Please set the type attribute of the input element to password.";if("password"!=e.attr("type"))throw f;b._hidden=!0,b._setTheme(),b._setAttributes(),b._showPassword(),b._showStrength()},refresh:function(b){var c=this;1!=b&&(c.removeHandler(c.host,"focus.passwordinput"+c.widgetID),c.removeHandler(c.host,"blur.passwordinput"+c.widgetID),c.removeHandler(c.host,"click.passwordinput"+c.widgetID),c.removeHandler(a(window),"resize.passwordinput"+c.widgetID),c.removeHandler(c.host,"keyup.passwordinput"+c.widgetID),c.removeHandler(c.icon,"mousedown.passwordinput"+c.iconID),c.removeHandler(c.icon,"mouseup.passwordinput"+c.iconID),c.removeHandler(a(document),"mousedown.passwordinput"+c.iconID),c._setAttributes(),c._setTheme(),c._showPassword(),c._showStrength())},val:function(b){return a.isEmptyObject(b)&&""!=b?this.element.value:void(this.element.value=b)},propertyChangedHandler:function(a,b,c,d){var e=this.host;return"disabled"==b?void(1==a.disabled?(a.host.attr("disabled","disabled"),a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))):(a.host.removeAttr("disabled"),a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")))):void("placeHolder"==b?this._browserCheck&&("placeholder"in this.element?e.attr("placeholder",this.placeHolder):""==e.val()?(e.attr("type","text"),e.val(this.placeHolder)):e.val()==c&&e.val(this.placeHolder)):this.refresh())},resize:function(a,b){this.width=a,this.height=b,this.host.width(this.width),this.host.height(this.height)},_setAttributes:function(){var a=this,b=a.host;b.width(a.width),b.height(a.height),a.maxLength&&b.attr("maxlength",a.maxLength),a.minLength&&b.attr("minLength",a.minLength),a.placeHolder&&a._browserCheck&&("placeholder"in a.element?b.attr("placeholder",a.placeHolder):""==b.val()&&(b.attr("type","text"),b.val(a.placeHolder))),1==a.disabled?(b.attr("disabled","disabled"),b.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(b.removeAttr("disabled"),b.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))),a.addHandler(b,"click.passwordinput"+a.widgetID,function(){a.showPasswordIcon&&a.icon&&(a.icon.show(),a._positionIcon())}),a.interval=null,a.addHandler(b,"keydown.passwordinput"+a.widgetID,function(){if(a.showPasswordIcon&&a.icon){a.interval&&clearInterval(a.interval);var b=0;a.interval=setInterval(function(){"none"!=a.icon[0].style.display?(a._positionIcon(),b++,b>5&&clearInterval(a.interval)):clearInterval(a.interval)},100)}}),a.addHandler(b,"focus.passwordinput"+a.widgetID,function(){if(a._focused=!0,a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")),!a.placeHolder||!a._browserCheck||"placeholder"in a.element||b.val()!=a.placeHolder||(b.val(""),1==a._hidden&&b.attr("type","password")),a.val().length>0&&1==a.showStrength){var c=b.jqxTooltip("content");c&&b.jqxTooltip("open")}a.showPasswordIcon&&a.icon&&(a.icon.show(),a._positionIcon())}),a.addHandler(b,"blur.passwordinput"+a.widgetID,function(){a._focused=!1,a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),!a.placeHolder||!a._browserCheck||"placeholder"in a.element||""!=b.val()||(b.val(a.placeHolder),b.attr("type","text")),1==a.showPasswordIcon&&a._browserCheck&&(0==a.rtl?a.host.removeClass(a.toThemeProperty("jqx-passwordinput-password-icon-ltr")):a.host.removeClass(a.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),1==a.showStrength&&b.jqxTooltip("close"),a.showPasswordIcon&&a.icon&&a.icon.hide()})},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var a=this.host,b=this;a.addClass(b.toThemeProperty("jqx-widget")),a.addClass(b.toThemeProperty("jqx-widget-content")),a.addClass(b.toThemeProperty("jqx-input")),a.addClass(b.toThemeProperty("jqx-rc-all")),1==b.rtl?(a.addClass(b.toThemeProperty("jqx-rtl")),a.css("direction","rtl")):(a.removeClass(b.toThemeProperty("jqx-rtl")),a.css("direction","ltr"))},_showPassword:function(){if(1==this.showPasswordIcon&&this._browserCheck){var b=this;this.iconID=this.widgetID+"-password-icon",a("<span tabindex='-1' hasfocus='false' style='position: absolute; display: none;' id='"+b.iconID+"'></span>").insertAfter(b.host);var c=a("#"+b.iconID);b.icon=c,c.addClass(b.toThemeProperty("jqx-passwordinput-password-icon")),c.attr("title",b.localization.showPasswordString),b._positionIcon();var d=function(){b.host.attr("type","password"),b._hidden=!0,c.attr("title",b.localization.showPasswordString)},e=function(){0==b._hidden?d():1==b._hidden&&(b.host.attr("type","text"),b._hidden=!1)};b.addHandler(b.icon,"mousedown.passwordinput"+b.iconID,function(a){return e(),!1}),b.addHandler(b.icon,"mouseup.passwordinput"+b.iconID,function(a){return d(),!1}),b.addHandler(a(document),"mousedown.passwordinput"+b.iconID,function(a){b._focused&&d()})}},_positionIcon:function(){var a=this.host.offset(),b=this.host.outerWidth(),c=this.host.outerHeight();1==this.rtl?this.icon.offset({top:parseInt(a.top+c/2-5),left:a.left+2}):this.icon.offset({top:parseInt(a.top+c/2-5),left:a.left+b-18})},_showStrength:function(){var b=this;if(1==b.showStrength){if(void 0==b.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var c,d=b.widgetID+"Strength",e=d+"Value",f=d+"Indicator";if(b.strengthTypeRenderer){var g=b.host.val();"placeholder"in b.element||!b._browserCheck||g!=b.placeHolder||(g=""),b._countCharacters();var h=b.localization.tooShort,i=b.strengthTypeRenderer(g,{letters:b.letters,numbers:b.numbers,specialKeys:b.specials},h);c=i}else c="<div style='width: 220px;' id='"+d+"'><div><span style='font-weight: bold;'>"+b.localization.passwordStrengthString+": </span><span id='"+e+"'></span></div><div id='"+f+"'></div></div>";b.host.jqxTooltip({theme:b.theme,position:b.showStrengthPosition,content:c,trigger:"none",autoHide:!1,rtl:b.rtl}),b.strengthTypeRenderer||(a("#"+e).html(b.localization.tooShort),a("#"+f).addClass("jqx-passwordinput-password-strength-inicator").css("background-color",b.strengthColors.tooShort),0==b.rtl?a("#"+f).css("float","left"):a("#"+f).css("float","right")),b._checkStrength()}},_checkStrength:function(){var b=this,c=this.host;b.addHandler(a(window),"resize.passwordinput"+b.widgetID,function(){b.icon&&b.icon.hide()}),b.addHandler(this.host,"keyup.passwordinput"+b.widgetID,function(){var d=b.host.val(),e=d.length;if(b._countCharacters(),e>0&&1==b.showStrength){var f=!c.jqxTooltip("opened");f&&c.jqxTooltip("open")}var g,h=b.letters+b.numbers+2*b.specials+b.letters*b.numbers/2+e;if(g=8>e?b.localization.tooShort:20>h?b.localization.weak:30>h?b.localization.fair:40>h?b.localization.good:b.localization.strong,b.strengthTypeRenderer){var i=b.strengthTypeRenderer(d,{letters:b.letters,numbers:b.numbers,specialKeys:b.specials},g);b.host.jqxTooltip({content:i})}else{if(b.passwordStrength){var i=b.passwordStrength(d,{letters:b.letters,numbers:b.numbers,specialKeys:b.specials},g);a.each(b.localization,function(){var a=this;return i==a?(g=i,!1):void 0})}a("#"+b.widgetID+"StrengthValue").html(g);var j=a("#"+b.widgetID+"StrengthIndicator");switch(g){case b.localization.tooShort:j.css({width:"20%","background-color":b.strengthColors.tooShort});break;case b.localization.weak:j.css({width:"40%","background-color":b.strengthColors.weak});break;case b.localization.fair:j.css({width:"60%","background-color":b.strengthColors.fair});break;case b.localization.good:j.css({width:"80%","background-color":b.strengthColors.good});break;case b.localization.strong:j.css({width:"100%","background-color":b.strengthColors.strong})}}})},_countCharacters:function(){var a=this;a.letters=0,a.numbers=0,a.specials=0;for(var b="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=",c=a.host.val(),d=c.length,e=0;d>e;e++){var f=c.charAt(e),g=c.charCodeAt(e);g>64&&91>g||g>96&&123>g||g>127&&155>g||g>159&&166>g?a.letters+=1:0!=isNaN(f)?-1==b.indexOf(f)||(a.specials+=1):a.numbers+=1}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxRangeSelector","",{}),a.extend(a.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var b={width:400,height:100,
min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};a.extend(!0,this,b)},createInstance:function(b){var c=this;if(this._isTouchDevice=a.jqx.mobile.isTouchDevice(),!a.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var d=a.jqx.isHidden(this.host);this.render();var e=this.host.width(),f=this.host.height();a.jqx.utilities.resize(this.host,function(){var a=c.host.width(),b=c.host.height();c.range=c.getRange(),d?(c.refresh(),d=!1):(e!=a||f!=b)&&c.refresh(),e=c.host.width(),f=c.host.height()})},render:function(){(this.host.children().length>1||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(a){1!=a&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){this._removeHandlers(),this.host.remove()},setRange:function(a,b){if(a>b)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var c=this._getValue();if(c.from!=a||c.to!=b){var d="number"==this._dataType?"numeric":"date",e="The set values are in the wrong format. Please set "+d+" values.";if("string"==typeof a||a instanceof Date){if("number"==this._dataType)throw new Error(e)}else if("date"==this._dataType)throw new Error(e);a=this._validateInput(a),b=this._validateInput(b),a>this._max&&(a=this._max),a<this._min&&(a=this._min),b>this._max&&(b=this._max),b<this._min&&(b=this._min);var f=b-a;f>this._range._max?b=a+this._range._max:f<this._range._min&&(b=a+this._range._min);var g=this._valuesArray.indexOf(a),h=this._valuesArray.indexOf(b),i=this._ticksArray[g],j=this._ticksArray[h],k=Math.abs(j-i);this.slider[0].style.width=k+"px";var l=this.rtl?j:i;if(this.slider[0].style.left=l,this._moveSlider(l),"date"==this._dataType)var a=new Date(a),b=new Date(b);this._raiseEvent("0",{from:a,to:b})}},val:function(a){return 0==arguments.length?this.getRange():void(void 0!=a.from&&this.setRange(a.from,a.to))},getRange:function(){var a=this._getValue();return a},propertyChangedHandler:function(b,c,d,e){switch(c){case"showMinorTicks":1==e?a("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):a("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var f=a("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==e?f.css("visibility","visible"):f.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_scale:function(){var a=this.host.width(),b=this._max-this._min;this._unitPerPixel=parseFloat((b/a).toFixed(4)),this._pixelPerUnit=a/b,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=b/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(a/(b/this.majorTicksInterval))),this._unitsCount=b/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(a/(b/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=a("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var b=new String;a("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var c=this.rangeSelector.height();b="number"==this._dataType?this._addNumericTicks(c):this._addDateTicks(c);var d=0;this.showLabels&&(d+=a("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(d+=a("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",d),a("#labelPlaceholder").remove(),a("#"+this._id+"TicksContainer").append(b),this._ticksArray.sort(function(a,b){return a-b});for(var e=1;e<this._ticksArray.length;e++)this._ticksArray[e]=this._roundNumber(this._ticksArray[e]);if(this._valuesArray.sort(function(a,b){return a-b}),"number"==this._dataType)for(var e=1;e<this._valuesArray.length;e++)this._valuesArray[e]=this._roundNumber(this._valuesArray[e],"marker",!0);for(var e=1;e<this._ticksArray.length;e++)this._ticksArray[e-1]==this._ticksArray[e]&&(this._ticksArray.splice(e,1),this._valuesArray.splice(e,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(b){for(var c=this,d=new String,e=0,f=this._min,g=this._max,h=0;h<this._majorTicksCount;h++){var i=this._id+"LabelTick"+(h+1);h==this._majorTicksCount-1&&(e=this.host.width());var j=c.showMajorTicks?"visible":"hidden";d+="<div id='"+i+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+j+"; left: "+e+"px;'></div>",this._ticksArray.push(e),this._majorTicksArray.push(e);var k=this._id+"Label"+(h+1),l=f;this._valuesArray.push(parseFloat(l.toFixed(4))),c.rtl&&(l=g),l=this._formatOutput(l,this.labelsFormat,this.minorTicksInterval>=1?0:2,"label"),a("#labelPlaceholder").html(l);var m=a("#labelPlaceholder").width(),n=c.showLabels?"visible":"hidden";c.labelsOnTicks&&(d+="<div id='"+k+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+n+"; left: "+(e-m/2)+"px; top: "+b+"px;'>"+l+"</div>");var o=e;f+=this.majorTicksInterval,g-=this.majorTicksInterval;var e=(f-c._min)/c._unitPerPixel;if(e=parseInt(e),!this.labelsOnTicks&&h<this._majorTicksCount-1){var p=Math.abs(o-e);d+="<div id='"+k+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+n+"; left: "+(o+p/2-m/2)+"px; top: "+b+"px;'>"+l+"</div>"}}for(var e=0,q=this.showMinorTicks?"visible":"hidden",f=this._min,h=0;h<this._unitsCount;h++){var i=this._id+"MinorTick"+(h+1);h==this._unitsCount-1&&(e=this.host.width()),d+="<div id='"+i+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+q+"; left: "+e+"px;'></div>";var r=f;-1===this._valuesArray.indexOf(parseFloat(r.toFixed(4)))&&(this._valuesArray.push(parseFloat(r.toFixed(4))),this._ticksArray.push(e)),f+=this.minorTicksInterval;var e=(f-c._min)/c._unitPerPixel;e=parseInt(e)}return d},_getMillisecondsByInterval:function(a){var b={};return"year"==a||a.years?(b.divisor=a.years?a.years:1,31536e6*b.divisor):"month"==a||a.months?(b.divisor=a.months?a.months:1,2592e6*b.divisor):"week"==a||a.weeks?(b.divisor=a.weeks?a.weeks:1,6048e5*b.divisor):"day"==a||a.days?(b.divisor=a.days?a.days:1,864e5*b.divisor):"hour"==a||a.hours?(b.divisor=a.hours?a.hours:1,36e5*b.divisor):"minute"==a||a.minutes?(b.divisor=a.minutes?a.minutes:1,60*b.divisor*1e3):"second"==a||a.seconds?(b.divisor=a.seconds?a.seconds:1,1e3*b.divisor):"millisecond"==a||a.milliseconds?(b.divisor=a.milliseconds?a.milliseconds:1,1*b.divisor):b},_addDateTicks:function(b){var c=this,d=new String,e=function(a){var b="majorTicksInterval"==a?c.majorTicksInterval:c.minorTicksInterval,d=new Object;return"year"==b||b.years?(d.period="year",d.interval=864e5,d.divisor=b.years?b.years:1,d.value=31536e6*d.divisor):"month"==b||b.months?(d.period="month",d.interval=864e5,d.divisor=b.months?b.months:1,d.value=2592e6*d.divisor):"week"==b||b.weeks?(d.period="week",d.interval=864e5,d.divisor=b.weeks?b.weeks:1,d.value=6048e5*d.divisor):"day"==b||b.days?(d.period="day",d.interval=36e5,d.divisor=b.days?b.days:1,d.value=864e5*d.divisor):"hour"==b||b.hours?(d.period="hour",d.interval=6e4,d.divisor=b.hours?b.hours:1,d.value=36e5*d.divisor):"minute"==b||b.minutes?(d.period="minute",d.interval=6e4,d.divisor=b.minutes?b.minutes:1,d.value=60*d.divisor*1e3):"second"==b||b.seconds?(d.period="second",d.interval=1e3,d.divisor=b.seconds?b.seconds:1,d.value=1e3*d.divisor):("millisecond"==b||b.milliseconds)&&(d.period="millisecond",d.interval=1,d.divisor=b.milliseconds?b.milliseconds:1,d.value=1*d.divisor),d},f=function(a,b){var c=new Date(a),d=c.getDate(),e="year"==b&&0==c.getMonth()&&1==d,f="month"==b&&1==d,g="week"==b&&0==c.getDay(),h="day"==b&&0==c.getHours(),i="hour"==b&&0==c.getMinutes(),j="minute"==b&&0==c.getSeconds(),k="minute"==b&&0==c.getMilliseconds(),l="millisecond"==b;return e||f||g||h||i||j||k||l?!0:!1},g=function(e,f,g){var h=(e-c._min)/c._unitPerPixel;c.rtl&&(e="majorTicksInterval"==f?c._dateMajorTicks[c._dateMajorTicks.length-g]:c._dateMinorTicks[c._dateMinorTicks.length-g]),h=parseInt(h);var i=e;if(-1===c._valuesArray.indexOf(i)&&(c._ticksArray.push(h),c._valuesArray.push(i),"majorTicksInterval"==f&&c._majorTicksArray.push(h)),"majorTicksInterval"==f){var j=c._id+"LabelTick"+g,k=c.showMajorTicks?"visible":"hidden";d+="<div id='"+j+"' class='"+c.toThemeProperty("jqx-rangeselector-ticks")+" "+c.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+k+"; left: "+h+"px;'></div>";var l=i;l=c._formatOutput(l,c.labelsFormat,c.labelPrecision,"label"),a("#labelPlaceholder").html(l);var m=a("#labelPlaceholder").width(),n=c._id+"Label"+g,o=c.showLabels?"visible":"hidden";if(c.labelsOnTicks)c.labelsOnTicks&&(d+="<div id='"+n+"' class='"+c.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+o+"; left: "+(h-m/2)+"px; top: "+b+"px;'>"+l+"</div>");else{var p=c._getMillisecondsByInterval(c.majorTicksInterval)/c._unitPerPixel,q=p/2;d+="<div id='"+n+"' class='"+c.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+o+"; left: "+(q+h-m/2)+"px; top: "+b+"px;'>"+l+"</div>"}}else{var k=c.showMinorTicks?"visible":"hidden",r=c._id+"MinorTick"+g;d+="<div id='"+r+"' class='"+c.toThemeProperty("jqx-rangeselector-ticks")+" "+c.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+c.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+k+"; left: "+h+"px;'></div>"}},h=function(a,b,d){for(var e=0,h=1,i=new Date(c._min).getHours(),j=864e5==b.interval?!0:!1,k=new Array,l=c._min;l<=c._max;l+=b.interval){if(1==j){var m=new Date(l).getHours();if(i!=m){var n;1==m?n=1:23==m&&(n=-1),l-=36e5*n,i=new Date(l).getHours()}}var o=f(l,b.period);1==o&&(e%b.divisor==0&&(d?k.push(l):g(l,a,h,b.interval),h++),e++)}return k};return c._dateMajorTicks=h("majorTicksInterval",e("majorTicksInterval"),!0),c._dateMinorTicks=h("minorTicksInterval",e("minorTicksInterval"),!0),h("majorTicksInterval",e("majorTicksInterval")),h("minorTicksInterval",e("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(a("#labelPlaceholder").height()+b),d},_addGroupLabels:function(b){var c=this,d=new Date(this._min),e=new Date(this._max);if(e.getFullYear()-d.getFullYear()>0)var f="year",g=864e5;else if(e.getMonth()-d.getMonth()>0)var f="month",g=864e5;else{if(!(e.getDate()-d.getDate()>0))return;var f="day",g=36e5}for(var h=function(b){var d,e=new Date(b),g=e.getFullYear(),h=e.getMonth(),i=e.getDate(),j=!0;"year"==f&&0==h&&1==i?d=g:"month"==f&&1==i?(d=a.jqx.dataFormat.formatdate(e,"MMMM"),0==h&&(d=g+" "+d)):"day"==f&&0==e.getHours()?d=a.jqx.dataFormat.formatdate(e,"dddd"):j=!1;var k;k=1==j&&c.groupLabelsFormatFunction?c.groupLabelsFormatFunction(d,e):d;var l={check:j,value:k};return l},i=new String,j=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),k=1,l=this._min;l<this._max;l+=g){var m=h(l);if(1==m.check){var n=(l-this._min)/this._unitPerPixel;i+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+n+"px; top: "+b+"px;'><div class='"+j+"'></div><div id='"+this._id+"GroupLabel"+k+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+m.value+"</div></div>",k++}}a("#"+this._id+"TicksContainer").append(i)},_updateCursor:function(a,b){var c=this.element.style.cursor,d=this.slider.offset().left,e=parseInt(this.slider[0].style.width),f=d+e;a>d-5&&d+5>a||a>f-5&&f+5>a?(""==c||"auto"==c)&&(this.element.style.cursor="e-resize"):"e-resize"==c&&(this.element.style.cursor="auto")},_handleMouseMove:function(b){var c=this,d=c.slider,e=b.pageX,f=b.pageY;if(c._isTouchDevice){var g=a.jqx.position(b);e=g.left,f=g.top}var h=c._hostOffset.left,i=c._hostWidth;if(c.resizable&&!c.dragging&&"none"==c.resizeDirection&&e>=h&&h+i>=e&&f>=c._hostOffset.top&&f<=c._hostOffset.top+c._hostHeight&&this._updateCursor(e,f),!c.isMouseDown)return!0;if(c._isTouchDevice&&(f<c._hostOffset.top||f>c._hostOffset.top+c._hostHeight))return!0;var j=c._findNearestTick(c._sliderLeftOffset+e-c._mouseDownX),k=parseInt(j);if(0>k)return!0;0>k&&(k=0);var l=parseInt(d[0].style.width),m=function(a){var b=parseInt(c._maxWidth),d=parseInt(c._minWidth);if(d>a||a>b)return!1;var e=parseInt(c.rightMarker[0].style.left),f=parseInt(c.leftMarker[0].style.left);return f>e?!1:!0};if(1==c.resizable&&!c.dragging){var n=k*c._unitPerPixel+c._min;if("left"==c.resizeDirection||c.isLeftMarkerCaptured){var o=c.isLeftMarkerCaptured?c.leftMarker.outerWidth():0;h-o>e&&(e=h-o),e>h+i+o&&(e=h+i+o+1);var p=d[0].style.left,q=k-parseInt(p),r=parseInt(l-q);if(!m(r))if(e>c._mouseDownX){if(e=c.sliderRight-c._minWidth-h,r=c._minWidth,l==r)return!0;var j=c._findNearestTick(e);if(k=j,0>k)return!0;var n=(parseInt(p)*c._unitPerPixel+c._min,k*c._unitPerPixel+c._min)}else{if(!(0!=c._maxWidth&&e<c._mouseDownX&&r>c._maxWidth))return!0;if(e=c.sliderRight-c._maxWidth-h,r=c._maxWidth,l==r)return!0;var j=c._findNearestTick(e);if(k=j,0>k)return!0;var n=(parseInt(p)*c._unitPerPixel+c._min,k*c._unitPerPixel+c._min)}c.slider[0].style.left=k+"px",p!=d[0].style.left&&(c.slider[0].style.width=r+"px");var s=c._findNearestTick(k),t=c._valuesArray[c._ticksArray.indexOf(s)];void 0!=t?(c.leftMarkerValue[0].innerHTML=c._formatOutput(t,c.markersFormat,0,"left"),k!=s&&(c.slider[0].style.left=s+"px")):c.leftMarkerValue[0].innerHTML=c._formatOutput(n,c.markersFormat,0,"left"),c.oldX=e,c.moved=!0}else if("right"==c.resizeDirection||c.isRightMarkerCaptured){var o=c.isRightMarkerCaptured?c.rightMarker.outerWidth():0,u=!1,v=!1;h-o>e&&(e=h-o,v=!0),e>h+i+o&&(e=h+i+o,u=!0);var w=c._sliderInitialWidth,x=c._findNearestTick(w+c._sliderLeftOffset),y=c._findNearestTick(w+e-c._mouseDownX+c._sliderLeftOffset);if(0>y)return!0;var q=x-y,r=w-q;0>=r&&(q=w,r=0);var z=parseInt(c.element.style.width);c.element.style.width.indexOf("%")>=0&&(z=c.host.width()),(u||c._sliderLeftOffset+r>=z)&&(r=z-c._sliderLeftOffset,boundDetected=!0),r>parseInt(this._maxWidth)&&(r=parseInt(this._maxWidth)),r<parseInt(this._minWidth)&&(r=parseInt(this._minWidth)),c.slider[0].style.width=r+"px";var n=(c._sliderLeftOffset+r)*c._unitPerPixel+c._min,A=c._findNearestTick(c._sliderLeftOffset+r),B=c._valuesArray[c._ticksArray.indexOf(A)];void 0!=B?(c._sliderLeftOffset+r!=A&&(c.slider[0].style.width=A-c._sliderLeftOffset+"px"),c.rightMarkerValue[0].innerHTML=c._formatOutput(B,c.markersFormat,0,"right")):c.rightMarkerValue[0].innerHTML=c._formatOutput(n,c.markersFormat,0,"right"),c.oldX=e}c._layoutShutter(),c._layoutMarkers(),c.moved=!0}1==c.dragging&&(c._moveSlider(k,!0),c.oldX=e)},_moveSlider:function(a,b){var c=this;c.moved=!0;var d=parseInt(this.slider[0].style.width),e=parseInt(a+d),f=this._hostWidth,g=a;if(0>g&&(g=0,a=g),g+d>f&&(g=f-d,a=g),g>=0&&f>=g+d){this.slider[0].style.left=g+"px";var h=this._findNearestTick(g),i=-1!=this._majorTicksArray.indexOf(h),j=this._valuesArray[this._ticksArray.indexOf(h)];if(void 0!=j){if(this.leftMarkerValue[0].innerHTML=this._formatOutput(j,this.markersFormat,0,"left"),a!=h&&i&&b){this.slider[0].style.left=h+"px";var e=parseInt(h+d)}}else this.leftMarkerValue[0].innerHTML=this._formatOutput(g*this._unitPerPixel+this._min,this.markersFormat,0,"left");var k=this._findNearestTick(e),l=this._valuesArray[this._ticksArray.indexOf(k)];if(void 0!=l){var m=-1!=this._majorTicksArray.indexOf(k);if(this.rightMarkerValue[0].innerHTML=this._formatOutput(l,this.markersFormat,0,"right"),e!=k&&m&&i&&b){var n=k-h;this.slider[0].style.width=n+"px"}}else this.rightMarkerValue[0].innerHTML=this._formatOutput((g+d)*this._unitPerPixel+this._min,this.markersFormat,0,"right")}this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var b=this,c=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");a("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+c+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+c+"'></div>"),this.slider=a("#"+this._id+"Slider"),this.shutterLeft=a("#"+this._id+"ShutterLeft"),this.shutterRight=a("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height();var d=this._hostOffset,e=this._initRange(),f=e.left,g=e.right-f,h=g/this._unitPerPixel;this.slider[0].style.width=Math.round(h)+"px";var i=d.left+parseInt((f-this._min)/this._unitPerPixel);if(this.slider.offset({left:i}),this._layoutShutter(),this._initMarkers(),0==this.disabled){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(a(window),"jqxReady.rangeselector",function(){return b._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var j,k,l="mousedown.rangeselector"+this.element.id;this._isTouchDevice&&(l=a.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,l,function(c){b.isMouseDown=!0,b._hostOffset=b.rangeSelector.offset(),b._hostWidth=b.rangeSelector.width(),b._hostHeight=b.rangeSelector.height(),b._sliderLeftOffset=parseInt(b.slider[0].style.left);var d=c.pageX,e=c.pageY;if(b._isTouchDevice){var f=a.jqx.position(c);d=f.left,e=f.top}b._initialSliderOffset=d-b.slider.offset().left;var g=b.slider.width();b._sliderInitialWidth=g,j=b.slider.offset().left,k=b._sliderInitialWidth,b.initialOffset=j;var h=parseInt(j+k);if(b.oldX=d,b._mouseDownX=d,b.resizeDirection="none",b.sliderRight=h,d>j-5&&j+5>d&&b._heightCheck(e))b.isSliderCaptured=!1,b.dragging=!1,b.resizeDirection="left";else if(d>h-5&&h+5>d&&b._heightCheck(e))b.isSliderCaptured=!1,b.dragging=!1,b.resizeDirection="right";else if(d>=j+5&&h+5>=d&&b._heightCheck(e))b.isSliderCaptured=!0,b.dragging=!0;else if(b.isSliderCaptured=!1,b.dragging=!1,b.moveOnClick){if(b.isLeftMarkerCaptured||b.isRightMarkerCaptured)return!1;var i=b._sliderLeftOffset+b._initialSliderOffset,l=b._findNearestTick(i);i=l,0>i&&(i=0);var m=parseInt(b.slider[0].style.width);e>=b.slider.offset().top&&(d>h?b._moveSlider(i-m,!0):b._moveSlider(i,!0))}}),this.addHandler(b.leftMarker,l,function(c){if(b.leftMarkerAndArrow.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.oldLeftX=c.pageX,b._isTouchDevice){var d=a.jqx.position(c);oldLeftX=d.left}b._mouseDownX=b.oldLeftX,b.isLeftMarkerCaptured=!0}),this.addHandler(b.rightMarker,l,function(c){if(b.rightMarkerAndArrow.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.oldRightX=c.pageX,b._isTouchDevice){var d=a.jqx.position(c);oldRightX=d.left}b._mouseDownX=b.oldRightX,b.isRightMarkerCaptured=!0}),this.addHandler(a(document),"selectstart.rangeselector"+this._id,function(a){return 1==b.isSliderCaptured||1==b.isLeftMarkerCaptured||1==b.isRightMarkerCaptured||1==b.dragging?(a.preventDefault(),!1):void 0});var m="mousemove.rangeselector"+this.element.id;this._isTouchDevice&&(m=a.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(a(document),m,function(a){b._handleMouseMove(a)});var n=function(a){try{var c=b.moved;if(b.moved=!1,b.isMouseDown=!1,b.dragging=!1,b.resizeDirection="none",1==b.isLeftMarkerCaptured&&(b.leftMarkerAndArrow.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b.isLeftMarkerCaptured=!1),1==b.isRightMarkerCaptured&&(b.rightMarkerAndArrow.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b.isRightMarkerCaptured=!1),c){var d=b._getValue();b._raiseEvent("0",{from:d.from,to:d.to})}}catch(e){}};this.addHandler(a(document),"mouseup.rangeselector"+this._id,function(a){n(a)});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var o=function(a){n(a)},p=null;window.parent&&document.referrer&&(p=document.referrer),p&&-1!=p.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",o,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",o))}}catch(q){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(b.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var b=a("#"+this._id+"TicksContainer"),c=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");b.append("<div id='"+this._id+"LeftMarker' class='"+c+"'></div><div id='"+this._id+"RightMarker' class='"+c+"'></div>");var d=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");d+="bottom"==this.markersPosition?" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),b.append("<div id='"+this._id+"LeftMarkerArrow' class='"+d+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),b.append("<div id='"+this._id+"RightMarkerArrow' class='"+d+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),a("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),a("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var e=a("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow"),f=a("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),g=a("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(1==this.showMarkers?e.css("visibility","visible"):e.css("visibility","hidden"),0==this.disabled&&1==this.resizable){var h=this;this.addHandler(f,"mouseenter.rangeselector"+this._id,function(a){h.element.style.cursor="pointer",f.addClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(f,"mouseleave.rangeselector"+this._id,function(a){h.element.style.cursor="auto",f.removeClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(g,"mouseenter.rangeselector"+this._id,function(a){h.element.style.cursor="pointer",g.addClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(g,"mouseleave.rangeselector"+this._id,function(a){h.element.style.cursor="auto",g.removeClass(h.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=f,this.rightMarkerAndArrow=g,this.leftMarkerArrow=a("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=a("#"+this._id+"RightMarkerArrow"),this.leftMarker=a("#"+this._id+"LeftMarker"),this.rightMarker=a("#"+this._id+"RightMarker"),this.leftMarkerValue=a("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=a("#"+this._id+"RightMarkerValue");var i=this._initRange();this._updateMarkersValues(i.left,i.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){if(1==this.showMarkers){this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight());var a=(this._hostOffset.top,parseInt(this.slider[0].style.left)+this._hostOffset.left),b=-5;"bottom"==this.markersPosition&&(b=parseInt(this.element.style.height)+4+this._rightMarkerHeight);var c=b-this._leftMarkerHeight,d=b-this._rightMarkerHeight;"bottom"==this.markersPosition&&(b=parseInt(this.element.style.height)-6);var e=this.leftMarker[0].offsetWidth,f=1+a-e-this._hostOffset.left;this.leftMarker[0].style.left=f+"px",this.leftMarker[0].style.top=c+"px",this.leftMarkerArrow[0].style.left=2+f+e+"px",this.leftMarkerArrow[0].style.top=6+b+"px";var g=a+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=g+"px",this.rightMarker[0].style.top=d+"px",this.rightMarkerArrow[0].style.left=7+g+"px",this.rightMarkerArrow[0].style.top=6+b+"px"}},_updateMarkersValues:function(a,b){var c=a,d=b;this.leftMarkerValue[0].innerHTML=this._formatOutput(c,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(d,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var b=this.element.id,c=a("#"+b+"LeftMarker, #"+b+"LeftMarkerArrow"),d=a("#"+b+"RightMarker, #"+b+"RightMarkerArrow"),e="mousemove.rangeselector"+b,f="mousedown.rangeselector"+b;this._isTouchDevice&&(e=a.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+b,f=a.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+b),this.removeHandler(a(document),e),this.removeHandler(a(document),"mouseup.rangeselector"+b),this.removeHandler(this.host,f),this.removeHandler(this.host,"click.rangeselector"+b),this.removeHandler(this.host,"dragstart.rangeselector"+b),this.removeHandler(c,"mouseenter.rangeselector"+b),this.removeHandler(c,"mouseleave.rangeselector"+b),this.removeHandler(d,"mouseenter.rangeselector"+b),this.removeHandler(d,"mouseleave.rangeselector"+b),this.removeHandler(a("#"+b+"LeftMarker"),f),this.removeHandler(a("#"+b+"RightMarker"),f),this.removeHandler(a("#"+b+"LeftMarkerValue, #"+b+"RightMarkerValue"),"selectstart.rangeselector"+b)},_heightCheck:function(a){var b=this.slider,c=b.offset().top;return a>=c&&a<=c+b.height()?!0:!1},_checkProperties:function(){this._range._from<this._min?this._range._from=this._min:this._range._from>this._min&&this._range._from>this._max&&(this._range._from=this._min),this._range._to>this._max?this._range._to=this._max:this._range._to<this._min&&this._range._to<this._max&&(this._range._to=this._max);var a=this._max-this._min;this._range._min>a&&(this._range._min=a),this._range._max>a&&(this._range._max=a);var b=this._range._to-this._range._from;b<this._range._min?this._range._to=this._range._from+this._range._min:b>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(a){for(var b=0,c=Math.abs(a-this._ticksArray[0]),d=1;d<this._ticksArray.length;d++){var e=Math.abs(a-this._ticksArray[d]);c>e&&(c=e,b=d)}return this._ticksArray[b]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(void 0!=this.range.from?this.range.from:0),this._range._to=this._validateInput(void 0!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(void 0!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(void 0!=this.range.max?this.range.max:1/0)},_validateInput:function(a){var b;return"number"==typeof a?b=a:"string"==typeof a?b=Date.parse(a):a instanceof Date&&(b=a.getTime()),b},_minMaxDate:function(a){if("number"!=typeof a){var b;switch(a){case"millisecond":b=1;break;case"second":b=1e3;break;case"minute":b=6e4;break;case"hour":b=36e5;break;case"day":b=864e5;break;case"week":b=6048e5;break;default:b=a.milliseconds?a.milliseconds:0+a.seconds?1e3*a.seconds:0+a.minutes?6e4*a.minutes:0+a.hours?36e5*a.hours:0+a.days?864e5*a.days:0+a.weeks?6048e5*a.weeks:0}return b}return a},_formatOutput:function(b,c,d,e,f){var g;if(this.values||(this.values=new Array),this.values[e]=b,"label"==e&&this.labelsFormatFunction)g="date"==this._dataType?this._roundDate(b):this._roundNumber(b,"label"),g=this.labelsFormatFunction(g);else if("label"!=e&&this.markersFormatFunction)"date"==this._dataType&&(g=this._roundDate(b)),g=this.markersFormatFunction(b,e);else if(c)"number"==this._dataType?g=a.jqx.dataFormat.formatnumber(b,c):(g=this._roundDate(b),g=a.jqx.dataFormat.formatdate(g,c));else{if("date"==this._dataType){var h;null==this.labelsFormat&&null==this.markersFormat?h="both labelsFormat and markersFormat":null==this.labelsFormat?h="labelsFormat":null==this.markersFormat&&(h="markersFormat");var i="When the data format is date, "+h+" should be set.";throw new Error(i)}g=b.toFixed(d)}return g},_getValue:function(a){var b=this.slider,c=b.width(),d=new Object,e=b.offset().left-this.rangeSelector.offset().left,f=e*this._unitPerPixel+this._min;if(d.from=this._roundNumber(f,"marker"),d.to=this._roundNumber(f+c*this._unitPerPixel,"marker"),!a&&1==this.snapToTicks){var g=this._findNearestTick((d.from-this._min)/this._unitPerPixel);d.from=this._valuesArray[this._ticksArray.indexOf(g)];var h=this._findNearestTick((d.to-this._min)/this._unitPerPixel);d.to=this._valuesArray[this._ticksArray.indexOf(h)]}return"date"==this._dataType&&(d.from=new Date(d.from),d.to=new Date(d.to)),d},_roundNumber:function(a,b,c){var d;return"marker"==b?(1==c&&(a=parseFloat(a)),d=parseFloat(a)):d="label"==b?parseFloat(a):parseFloat(a),d},_roundDate:function(a){"number"==typeof a&&(a=new Date(a));var b=this._max-this._min;if(b>12096e5){var c=a.getDate(),d=a.getHours();d>12&&(a.setDate(c+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0))}else b>1728e5&&(a.setHours(a.getHours()+Math.round(a.getMinutes()/60)),a.setMinutes(0),a.setSeconds(0));return a},_layoutShutter:function(){var b=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=b+"px",this.shutterLeft[0].style.left="0px",a.jqx.browser.msie&&a.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)");var c=1+b+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=c+"px";var d=parseInt(this.element.style.width);if(this.element.style.width.indexOf("%")>=0)var d=parseInt(this.host.width());var e=d-1-b-parseInt(this.slider[0].style.width);0>e&&(e=0),this.shutterRight[0].style.width=1+e+"px",2+d>c+1+e&&(this.shutterRight[0].style.width=2+e+"px"),0==e&&(this.shutterRight[0].style.width="0px");
},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var a=this._range._from,b=this._range._to,c={left:a,right:b};return c}})}(jqxBaseFramework),function(a){function b(b,c){return this.owner=b,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesrenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}else if(this[a.toLowerCase()]){var c=this[a.toLowerCase()];this[a.toLowerCase()]=b,this.owner._columnPropertyChanged(this,a.toLowerCase(),b,c)}},this._initfields=function(c){if(null!=c){var d=this;if(a.jqx.hasProperty(c,"dataField")&&(this.datafield=a.jqx.get(c,"dataField")),a.jqx.hasProperty(c,"displayField")?this.displayfield=a.jqx.get(c,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"validation")&&(this.validation=a.jqx.get(c,"validation")),a.jqx.hasProperty(c,"text")?this.text=a.jqx.get(c,"text"):this.text=this.displayfield,a.jqx.hasProperty(c,"sortable")&&(this.sortable=a.jqx.get(c,"sortable")),a.jqx.hasProperty(c,"hidden")&&(this.hidden=a.jqx.get(c,"hidden")),a.jqx.hasProperty(c,"groupable")&&(this.groupable=a.jqx.get(c,"groupable")),a.jqx.hasProperty(c,"renderer")&&(this.renderer=a.jqx.get(c,"renderer")),a.jqx.hasProperty(c,"align")&&(this.align=a.jqx.get(c,"align")),a.jqx.hasProperty(c,"cellsAlign")&&(this.cellsalign=a.jqx.get(c,"cellsAlign")),a.jqx.hasProperty(c,"cellsFormat")&&(this.cellsformat=a.jqx.get(c,"cellsFormat")),a.jqx.hasProperty(c,"width")&&(this.width=a.jqx.get(c,"width")),a.jqx.hasProperty(c,"minWidth")&&(this.minwidth=a.jqx.get(c,"minWidth")),a.jqx.hasProperty(c,"maxWidth")&&(this.maxwidth=a.jqx.get(c,"maxWidth")),a.jqx.hasProperty(c,"cellsRenderer")&&(this.cellsrenderer=a.jqx.get(c,"cellsRenderer")),a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"pinned")&&(this.pinned=a.jqx.get(c,"pinned")),a.jqx.hasProperty(c,"filterable")&&(this.filterable=a.jqx.get(c,"filterable")),a.jqx.hasProperty(c,"filter")&&(this.filter=a.jqx.get(c,"filter")),a.jqx.hasProperty(c,"resizable")&&(this.resizable=a.jqx.get(c,"resizable")),a.jqx.hasProperty(c,"draggable")&&(this.draggable=a.jqx.get(c,"draggable")),a.jqx.hasProperty(c,"editable")&&(this.editable=a.jqx.get(c,"editable")),a.jqx.hasProperty(c,"initEditor")&&(this.initeditor=a.jqx.get(c,"initEditor")),a.jqx.hasProperty(c,"createEditor")&&(this.createeditor=a.jqx.get(c,"createEditor")),a.jqx.hasProperty(c,"destroyEditor")&&(this.destroyeditor=a.jqx.get(c,"destroyEditor")),a.jqx.hasProperty(c,"getEditorValue")&&(this.geteditorvalue=a.jqx.get(c,"getEditorValue")),a.jqx.hasProperty(c,"className")&&(this.classname=a.jqx.get(c,"className")),a.jqx.hasProperty(c,"cellClassName")&&(this.cellclassname=a.jqx.get(c,"cellClassName")),a.jqx.hasProperty(c,"aggregates")&&(this.aggregates=a.jqx.get(c,"aggregates")),a.jqx.hasProperty(c,"aggregatesRenderer")&&(this.aggregatesrenderer=a.jqx.get(c,"aggregatesRenderer")),a.jqx.hasProperty(c,"rendered")&&(this.rendered=a.jqx.get(c,"rendered")),a.jqx.hasProperty(c,"exportable")&&(this.exportable=a.jqx.get(c,"exportable")),a.jqx.hasProperty(c,"nullable")&&(this.nullable=a.jqx.get(c,"nullable")),a.jqx.hasProperty(c,"columnGroup")&&(this.columngroup=a.jqx.get(c,"columnGroup")),!c instanceof String&&"string"!=typeof c)for(var e in c)if(!d.hasOwnProperty(e)&&!d.hasOwnProperty(e.toLowerCase()))throw b.host.remove(),new Error("jqxDataTable: Invalid property name - "+e+".")}},this._initfields(c),this}a.jqx.jqxWidget("jqxDataTable","",{}),a.extend(a.jqx._jqxDataTable.prototype,{defineInstance:function(){var b={altrows:!1,aggregatesheight:34,autoshowloadelement:!0,autorowheight:!0,columnsheight:30,columns:[],columngroups:null,columnsresize:!1,columnsreorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enablehover:!0,enablebrowserselection:!1,filterheight:30,filterable:!1,filtermode:"default",groupsrenderer:null,groups:new Array,headerZIndex:359,height:null,handlekeyboardnavigation:null,indentwidth:25,initrowdetails:!1,loadingerrormessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerheight:28,pagesize:10,pagesizeoptions:["5","10","20"],pageable:!1,pagerposition:"bottom",pagermode:"default",pagerbuttonscount:5,pagerrenderer:null,ready:null,rendertoolbar:null,rowdetails:!1,renderstatusbar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusbarheight:34,serverProcessing:!1,selectionmode:"multiplerows",scrollbarsize:a.jqx.utilities.scrollBarSize,touchscrollbarsize:a.jqx.utilities.touchScrollBarSize,showaggregates:!1,showheader:!0,maxHeight:999999,maxWidth:999999,autobind:!0,autokoupdates:!0,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarheight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};a.extend(!0,this,b),this.that=this},createInstance:function(b){var c=this;if(15!=a.jqx.utilities.scrollBarSize&&(c.scrollbarsize=a.jqx.utilities.scrollBarSize),"table"==c.element.nodeName.toLowerCase()){var d=c.host.find("tbody tr"),e=c.host.find("th"),f=new Array;0===e.length&&(e=d[0],d.splice(0,1)),c.localizestrings&&(c.localizestrings(),null!=c.localization&&c.localizestrings(c.localization,!1));for(var g=[],h=0;h<d.length;h++){for(var i=d[h],j={},k=0;k<e.length;k++){var l=a.trim(a(e[k]).text());if(0===h){var m={name:l};if(c.columns[k]&&c.columns[k].cellsFormat){var n=c.columns[k].cellsFormat.toLowerCase();(-1!=n.indexOf("p")||-1!=n.indexOf("c")||-1!=n.indexOf("n")||-1!=n.indexOf("f"))&&(m.type="number"),(-1!=n.indexOf("d")||-1!=n.indexOf("m")||-1!=n.indexOf("y")||-1!=n.indexOf("h")||-1!=n.indexOf("m")||-1!=n.indexOf("s")||-1!=n.indexOf("t"))&&(m.type="date")}f.push(m)}var o=a(i).find("td:eq("+k+")"),p=f[k].type;if(p){var q=c.getvaluebytype(a.trim(o.text()),f[k]);j[l]=q}else j[l]=a.trim(o.text())}g[g.length]=j}c.host.wrap("<div></div>");var r=c.host.parent(),s=c.host.data();s.jqxDataTable.host=r,s.jqxDataTable.element=r[0],c.host.parent()[0].id=c.element.id;try{c.host.parent()[0].style=c.element.style}catch(t){}if(c.element=r[0],c.host=r,c.host.data(s),null==c.source||null==c.source._source){var u={dataFields:f,localdata:g,datatype:"array"},v=new a.jqx.dataAdapter(u);c.source=v}}c.source&&!c.source.dataBind&&(c.source=new a.jqx.dataAdapter(c.source));var w=c.source._source.datafields;w&&w.length>0&&(c._camelCase=void 0!==c.source._source.dataFields,c.selectionmode=c.selectionmode.toLowerCase()),null==c.host.attr("tabindex")&&c.host.attr("tabindex","0"),c.host.attr("role","grid"),c.host.attr("align","left"),c.host.addClass(c.toTP("jqx-grid")),c.host.addClass(c.toTP("jqx-reset")),c.host.addClass(c.toTP("jqx-rc-all")),c.host.addClass(c.toTP("jqx-widget")),c.host.addClass(c.toTP("jqx-widget-content")),c._testmodules()||(c.render(!0),a.jqx.utilities.resize(c.host,function(){var b=a(window).width(),d=a(window).height(),e=c.host.width(),f=c.host.height();(c._lastHostWidth!=e||c._lastHostHeight!=f)&&c._updatesize(c._lastHostWidth!=e,c._lastHostHeight!=f),c._lastWidth=b,c._lastHeight=d,c._lastHostWidth=e,c._lastHostHeight=f}))},getvaluebytype:function(b,c){var d=b;if(null==b)return b;if(","==this.gridlocalization.decimalseparator&&b.indexOf(this.gridlocalization.decimalseparator)>=0&&(b=b.replace(this.gridlocalization.decimalseparator,".")),b.indexOf(this.gridlocalization.currencysymbol)>=0&&(b=b.replace(this.gridlocalization.currencysymbol,"")),b.indexOf(this.gridlocalization.percentagesymbol)>=0&&(b=b.replace(this.gridlocalization.percentagesymbol,"")),a.isArray(b)&&"array"!=c.type){for(var e=0;e<b.length;e++)b[e]=this.getvaluebytype(b[e],c);return b}if("date"==c.type)if("NaN"==b)b="";else{var f=new Date(b);if("string"==typeof b&&c.format){var g=a.jqx.dataFormat.parsedate(b,c.format);null!=g&&(f=g)}b=("NaN"==f.toString()||"Invalid Date"==f.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):f,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var b=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),b.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(b),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var c=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(c=!0),c?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var d=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(d=!0),d?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget")),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_testmodules:function(){var b="",c=this,d=function(){""!=b.length&&(b+=",")};if(this.host.jqxScrollBar||(d(),b+=" jqxscrollbar.js"),this.host.jqxButton||(d(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(d(),b+=" jqxdata.js"),""!=b||this.editable||this.filterable||this.pageable){var e=[],f=function(a){switch(a){case"checkbox":c.host.jqxCheckBox||e.checkbox||(e.checkbox=!0,d(),b+=" jqxcheckbox.js");break;case"dropdownlist":c.host.jqxDropDownList||e.dropdownlist?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.dropdownlist=!0,b+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};if((this.filterable&&"simple"!=this.filtermode||"advanced"==this.pagermode&&this.pageable)&&f("dropdownlist"),""!=b)throw new Error("jqxDataTable: Missing references to the following module(s): "+b)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var a=this;setTimeout(function(){a.wrapper.focus(),a.host.focus()},25),this.focused=!0}catch(b){}},hiddenParent:function(){return a.jqx.isHidden(this.host)},_updatesize:function(b,c){if(!this._loading){var d=this,e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),void 0!=d._resizeTimer&&(clearTimeout(d._resizeTimer),d._resizeTimer=null);var g=300,h=function(){d._resizeTimer&&clearTimeout(d._resizeTimer),d.resizingGrid=!0,a.jqx.isHidden(d.host)||(d._updatecolumnwidths(),d.refresh(),d._oldWidth=e,d._oldHeight=f,d.resizingGrid=!1)};h(),d._resizeTimer=setTimeout(function(){var a=d.host.width(),b=d.host.height();(d._oldWidth!=a||d._oldHeight!=b)&&h()},g)}},resize:function(a,b){void 0!=a&&(this.width=a),void 0!=b&&(this.height=b),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();return this.touchDevice=b,1==this.touchmode?(b=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=b):0==this.touchmode&&(b=!1),b&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b,c){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingerrormessage);if(null!=b){for(var d in b)d.toLowerCase()!==d&&(b[d.toLowerCase()]=b[d]);b.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=b.pagergotopagestring),b.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=b.pagershowrowsstring),b.pagerrangestring&&(this.gridlocalization.pagerrangestring=b.pagerrangestring),b.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=b.pagernextbuttonstring),b.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=b.pagerpreviousbuttonstring),b.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=b.pagerfirstbuttonstring),b.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=b.pagerlastbuttonstring),b.toppagerstring&&(this.gridlocalization.toppagerstring=b.toppagerstring),b.firstDay&&(this.gridlocalization.firstDay=b.firstDay),b.days&&(this.gridlocalization.days=b.days),b.months&&(this.gridlocalization.months=b.months),b.AM&&(this.gridlocalization.AM=b.AM),b.PM&&(this.gridlocalization.PM=b.PM),b.patterns&&(this.gridlocalization.patterns=b.patterns),b.percentsymbol&&(this.gridlocalization.percentsymbol=b.percentsymbol),b.currencysymbol&&(this.gridlocalization.currencysymbol=b.currencysymbol),b.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=b.currencysymbolposition),b.decimalseparator&&(this.gridlocalization.decimalseparator=b.decimalseparator),b.thousandsseparator&&(this.gridlocalization.thousandsseparator=b.thousandsseparator),b.filterapplystring&&(this.gridlocalization.filterapplystring=b.filterapplystring),b.filteraddnew&&(this.gridlocalization.filteraddnew=b.filteraddnew),b.filtercancelstring&&(this.gridlocalization.filtercancelstring=b.filtercancelstring),b.filterclearstring&&(this.gridlocalization.filterclearstring=b.filterclearstring),b.filterstring&&(this.gridlocalization.filterstring=b.filterstring),b.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=b.filterstringcomparisonoperators),b.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=b.filternumericcomparisonoperators),b.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=b.filterdatecomparisonoperators),b.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=b.filterbooleancomparisonoperators),b.emptydatastring&&(this.gridlocalization.emptydatastring=b.emptydatastring),b.filterselectstring&&(this.gridlocalization.filterselectstring=b.filterselectstring),b.todaystring&&(this.gridlocalization.todaystring=b.todaystring),b.clearstring&&(this.gridlocalization.clearstring=b.clearstring),b.validationstring&&(this.gridlocalization.validationstring=b.validationstring),b.loadtext&&(this.gridlocalization.loadtext=b.loadtext),b.filtersearchstring&&(this.gridlocalization.filtersearchstring=b.filtersearchstring),b.loadingerrormessage&&(this.gridlocalization.loadingerrormessage=b.loadingerrormessage,this.loadingerrormessage=b.loadingerrormessage),c!==!1&&(this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingerrormessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(a){var b=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(b=!0);var c=parseInt(this.scrollbarsize),d=this.table?this.table.height():0,e=0,f="inherit",g=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(a)var h=a;else var h=this.host.height();h-=this.columngroups?this.showheader?this.columnsheader.height():0:this.showheader?this.columnsheight:0,this.filterable&&(h-=this.filter.height()),this.pageable&&(h-=this.pagerheight,"both"===this.pagerposition&&(h-=this.pagerheight)),this.showtoolbar&&(h-=this.toolbarheight),this.showstatusbar&&(h-=this.statusbarheight),this.showaggregates&&(h-=this.aggregatesheight);var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),!i&&d>h&&(this.source.records.length>0||this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=f,e=4+parseInt(c),this.vScrollBar.jqxScrollBar({max:d-h})):this.vScrollBar[0].style.visibility="hidden",g!=this.vScrollBar[0].style.visibility&&this._updatecolumnwidths();var j=this.table?this.table.width():0;j>3&&(j-=3);var k=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),l=k+this.host.width()-e;if(j>l&&!b){if(this.hScrollBar[0].style.visibility=f,this.hScrollBar.jqxScrollBar({max:j-l}),e=4+parseInt(c),!i){if(d>h-e+4&&(this.source.records.length>0||this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:k+j-l});var m="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=f,this._updatecolumnwidths(),m&&this.hScrollBar.jqxScrollBar({max:j-l+e+k})}this.vScrollBar.jqxScrollBar({max:d-h+e})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+b+"</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid")),c.addClass(this.toTP("jqx-grid-column-header")),c.addClass(this.toTP("jqx-widget-header")),a(document.body).append(c);var d=c.outerWidth()+20;return c.remove(),d},_arrangeAutoHeight:function(a){if(a||(a=0),"auto"===this.height||null===this.height||this.autoheight){var b=this.table.height(),c=0;if(c+=this.columngroups?this.showheader?this.columnsheader.height():-1:this.showheader?this.columnsheight:-1,c+=this.showstatusbar?this.statusbarheight:0,c+=this.showaggregates?this.aggregatesheight:0,c+=this.showtoolbar?this.toolbarheight:0,c+=this.pageable?this.pagerheight:0,"both"===this.pagerposition&&(c+=this.pageable?this.pagerheight:0),c+=b,this.filterable){var d=this.filter.find(".filterrow"),e=this.filter.find(".filterrow-hidden"),f=1;e.length>0&&(f=0),c+=this.filterheight-1+this.filterheight*d.length*f}return c+a>this.maxHeight?this.host.height(this.maxHeight):this.host.height(c+a),!0}return!1},_arrangeAutoWidth:function(a){if(a||(a=0),"auto"===this.width||null===this.width||this.autowidth){for(var b=0,c=0;c<this.columns.records.length;c++){var d=this.columns.records[c].width;this.columns.records[c].hidden||("auto"==d?(d=this._measureElementWidth(this.columns.records[c].text),b+=d):b+=d)}return width=b,width+a>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+a),!0}return!1},_measureTopAndHeight:function(){var a=this.host.height(),b=0;if(this.showtoolbar&&(b+=this.toolbarheight,a-=parseInt(this.toolbarheight)),this.filterable){var c=this.filter.find(".filterrow"),d=this.filter.find(".filterrow-hidden"),e=1;d.length>0&&(e=0),b+=this.filterheight,a-=parseInt(this.filterheight);var f=1==e?c.length:0;b+=this.filterheight*f,a-=this.filterheight*f}return this.pageable&&"bottom"!=this.pagerposition&&(b+=parseInt(this.pagerheight)+1,a>this.pagerheight&&"both"===this.pagerposition&&(a-=parseInt(this.pagerheight))),{top:b,height:a}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var a=this.host.width(),b=this.host.height(),c=b;this.pageable?"bottom"===this.pagerposition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerposition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerposition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var d=0;if(this.showtoolbar?(this.toolbar.width(a),this.toolbar.height(this.toolbarheight-1),this.toolbar.css("top",0),d+=this.toolbarheight,b-=parseInt(this.toolbarheight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(a),this.filter.css("top",d);var e=this.filter.find(".filterrow"),f=this.filter.find(".filterrow-hidden"),g=1;f.length>0&&(g=0),this.filter.height(this.filterheight-1+this.filterheight*e.length*g),d+=this.filterheight,b-=parseInt(this.filterheight);var h=1==g?e.length:0;d+=this.filterheight*h,b-=this.filterheight*h}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(a,this.table.width()):a),this.statusbar.height(this.statusbarheight-1)):this.statusbar[0].style.height="0px",this.showaggregates?this.aggregates.height(this.aggregatesheight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerposition)this.toppager[0].style.width=a+"px",this.toppager[0].style.height=parseInt(this.pagerheight)+"px",this.toppager[0].style.top=parseInt(d)+"px",d+=parseInt(this.pagerheight)+1,b>this.pagerheight&&(b-=parseInt(this.pagerheight));else{this.toppager[0].style.width!=a+"px"&&(this.toppager[0].style.width=parseInt(a)+"px"),this.toppager[0].style.height!=this.pagerheight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerheight)+"px"),this.toppager[0].style.top!=d+"px"&&(this.toppager[0].style.top=d+"px");var i="bottom"!=this.pagerposition?this.pagerheight:0,j=d+i+"px";this.content[0].style.top!=j&&(this.content[0].style.top=d+this.pagerheight+"px")}this._updateScrollbars(c);var k=parseInt(this.scrollbarsize),l=4,m=2,n=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(n=k+l),"hidden"!=this.hScrollBar[0].style.visibility&&(m=k+l+2),this.showaggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(a,this.table.width())+4:a):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var o=this._arrangeAutoHeight(m-2),p=this._arrangeAutoWidth(n+1);if(o||p){var a=this.host.width();this.toppager[0].style.width=parseInt(a)+"px",this.toolbar[0].style.width=parseInt(a)+"px",this.statusbar[0].style.width=parseInt(a)+"px",this.filter[0].style.width=parseInt(a)+"px"}if(o){var q=this._measureTopAndHeight();d=q.top,b=q.height}}var r=0;this.pageable&&(r=this.pagerheight,"top"!=this.pagerposition&&(m+=this.pagerheight)),this.showaggregates&&(m+=this.aggregatesheight,r+=this.aggregatesheight),this.showstatusbar&&(m+=this.statusbarheight,r+=this.statusbarheight),this.hScrollBar[0].style.height!=k+"px"&&(this.hScrollBar[0].style.height=parseInt(k)+"px"),(this.hScrollBar[0].style.top!=d+b-l-k-r+"px"||"0px"!=this.hScrollBar[0].style.left)&&(this.hScrollBar[0].style.top=d+b-l-k-r-1+"px",this.hScrollBar[0].style.left="0px");var s=this.hScrollBar[0].style.width,t=!1,u=!1;0==n?s!=a-2+"px"&&(this.hScrollBar[0].style.width=a-2+"px",t=!0):s!=a-k-l+"px"&&(this.hScrollBar[0].style.width=a-k-l+"px",t=!0),this.vScrollBar[0].style.width!=k+"px"&&(this.vScrollBar[0].style.width=k+"px",u=!0),this.vScrollBar[0].style.height!=parseInt(b)-m+"px"&&(this.vScrollBar[0].style.height=parseInt(b)-m+"px",u=!0),(this.vScrollBar[0].style.left!=parseInt(a)-parseInt(k)-l+"px"||this.vScrollBar[0].style.top!=d+"px")&&(this.vScrollBar[0].style.top=d+"px",this.vScrollBar[0].style.left=parseInt(a)-parseInt(k)-l+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:d}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:k+2}));var v=this.vScrollInstance;v.disabled=this.disabled;var w=this.hScrollInstance;w.disabled=this.disabled,t&&w.refresh(),u&&v.refresh();var x=function(a){"hidden"!=a.vScrollBar[0].style.visibility&&"hidden"!=a.hScrollBar[0].style.visibility?(a.bottomRight[0].style.visibility="inherit",a.bottomRight[0].style.left=1+parseInt(a.vScrollBar.css("left"))+"px",a.bottomRight[0].style.top=parseInt(a.hScrollBar.css("top"))+"px",a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight[0].style.width=parseInt(k)+3+"px",a.bottomRight[0].style.height=parseInt(k)+4+"px",a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(k)+4+a.aggregatesheight),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.aggregatesheight}))):a.bottomRight[0].style.visibility="hidden"};if(x(this),this.content[0].style.width!=a-n+"px"&&(this.content[0].style.width=a-n+"px"),this.content[0].style.height!=b-m+3+"px"&&(this.content[0].style.height=b-m+3+"px"),this.content[0].style.top!=d+"px"&&(this.content[0].style.top=parseInt(d)+"px"),this.rtl&&(this.content.css("left",n),this.table)){var y=this.table.width();a-n>y&&this.content.css("left",a-y+2)}this.showaggregates&&(this.aggregates.css("top",d+b-this.aggregatesheight-(this.pageable?this.pagerheight:0)-(this.showstatusbar?this.statusbarheight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:d+b-l-k-r+this.aggregatesheight+"px"}),this.aggregates.css("top",1+d+b-k-5-this.aggregatesheight-(this.pageable?this.pagerheight:0)-(this.showstatusbar?this.statusbarheight+1:0))),x(this)),this.showstatusbar&&(this.statusbar.css("top",d+b-this.statusbarheight-(this.pageable?this.pagerheight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=a+"px",this.pager[0].style.height=this.pagerheight+"px",this.pager[0].style.top=parseInt(d)+parseInt(b)-parseInt(this.pagerheight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,a!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),b!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=a}},scrollOffset:function(a,b){if(0==arguments.length||null!=a&&"object"==typeof a&&!a.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=a&&"object"==typeof a)var b=a.left,c=a.top,a=c;null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginupdate:function(){this._updating=!0,this._datachanged=!1},endupdate:function(a){this._updating=!1,a!==!1&&(this._rendercolumnheaders(),
this.refresh())},updating:function(){return this._updating},databind:function(b,c,d){if(this.loadingstate!==!0){"block"==this.host.css("display")&&(this.autoshowloadelement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")));var e=this;null==b&&(b={}),(void 0==b.sortcomparer||null==b.sortcomparer)&&(b.sortcomparer=null),(void 0==b.filter||null==b.filter)&&(b.filter=null),(void 0==b.sort||null==b.sort)&&(b.sort=null),(void 0==b.data||null==b.data)&&(b.data=null);var f=null;if(null!=b&&(f=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!e.initializedcall){if(b._source&&this.sortable&&(void 0!=b._source.sortcolumn&&(this.sortcolumn=b._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=b._source.sortcolumn,b._source.sortcolumn=null),void 0!=b._source.sortdirection)){this.dataview.sortfielddirection=b._source.sortdirection;var g=b._source.sortdirection;if("a"==g||"asc"==g||"ascending"==g||1==g)var h=!0;else var h=!1;null!=g?this.sortdirection={ascending:h,descending:!h}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&b._source&&(void 0!=b._source.pagenum&&(this.dataview.pagenum=b._source.pagenum),void 0!=b._source.pagesize?(this.pagesize=b._source.pagesize,this.dataview.pagesize=b._source.pagesize):(this.dataview.pagesize=b._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(b.sortcolumn&&(this.dataview.sortfield=b.sortcolumn),b.sortdirection&&(this.dataview.sortfielddirection=b.sortdirection))}this._loading=!0,this.dataview.update=function(b){e._loading=!1,e.rowsByKey=new Array;var f=e.source._source.datafields;if(e.groups&&e.groups.length>0){var g=Object.prototype.toString,h=e.groups[0];if(Object.prototype.toString="function"==typeof h?h:function(){return this[h]},!e.source.records.sort){var i=new Array,j=0;a.each(data,function(){i[startindex+j++]=this}),data=i}e.source.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return-1;if(null!==b&&null===c)return 1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(c>b)return-1;if(b>c)return 1}catch(d){}return 0}),Object.prototype.toString=g}for(var k=0;k<e.source.records.length;k++){var l=e.source.records[k];if(e.rowsByKey[l.uid]=l,l.records&&l.records.length>0){var m=function(a){for(var b=0;b<a.length;b++)a[b]&&(e.rowsByKey[a[b].uid]=a[b],a[b].records&&a[b].records.length>0&&m(a[b].records))};m(l.records)}if(0===k){var n=!1;if(f)for(var o=0;o<f.length;o++)if(f[o]&&!f[o].type){n=!0,f[o].type="string";var p=l[f[o].name];if(void 0==p)continue;(p===!0||p===!1)&&(f[o].type="boolean"),(null!=p&&p.toString().indexOf(e.gridlocalization.currencysymbol)>-1||p.toString().indexOf(e.gridlocalization.percentsymbol)>-1)&&(p=new Number(e._toNumber(p.toString())),isNaN(p)||(f[o].type="number")),(a.jqx.dataFormat.isNumber(p)||!isNaN(parseFloat(p))&&isFinite(p))&&(f[o].type="number"),a.jqx.dataFormat.isDate(p)&&(f[o].type="date")}if(n)for(var o=0;o<f.length;o++){var q=e.source.getvaluebytype(l[f[o].name],f[o]);if(null!=q&&"number"==f[o].type){var r=q;r=new Number(e._toNumber(r.toString())),isNaN(r)||(q=r)}l[f[o].name]=q}}}if("pager"===c||"filter"===c||"sort"===c?e.refresh():e._render(),e.autoshowloadelement&&!e._loading&&(a(e.dataloadelement).css("visibility","hidden"),a(e.dataloadelement).css("display","none")),e.pageable&&(e.disabled||e.pagernexttop&&(e.pagerfirsttop.jqxButton({disabled:!1}),e.pagerfirstbottom.jqxButton({disabled:!1}),e.pagerlasttop.jqxButton({disabled:!1}),e.pagerlastbottom.jqxButton({disabled:!1}),e.pagernexttop.jqxButton({disabled:!1}),e.pagerprevioustop.jqxButton({disabled:!1}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagermode&&(e.pagershowrowscombotop.jqxDropDownList({disabled:!1}),e.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),e.pagernextbottom.jqxButton({disabled:!1}),e.pagerpreviousbottom.jqxButton({disabled:!1}))),e._updateTouchScrolling(),e._raiseEvent("bindingComplete"),d&&d(),!e.initializedcall&&(e.initializedcall=!0,e.isInitialized=!0,e.ready&&e.ready(),(null!=e.width&&-1!=e.width.toString().indexOf("%")||null!=e.height&&-1!=e.height.toString().indexOf("%"))&&e._updatesize(!0),"hidden"==e.host.css("visibility"))){a.jqx.browser.msie&&a.jqx.browser.version<8;"visible"==e.vScrollBar.css("visibility")&&e.vScrollBar.css("visibility","inherit"),"visible"==e.hScrollBar.css("visibility")&&e.hScrollBar.css("visibility","inherit"),e._intervalTimer=setInterval(function(){"visible"==e.host.css("visibility")&&(e._updatesize(!0),clearInterval(e._intervalTimer))},100)}},this.dataview.databind(b)}},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=b;args=c,args.owner=this;var e=new a.Event(d);e.owner=this,e.args=args;var f=this.host.trigger(e);return c=e.args,f},ensureColumnVisible:function(a){for(var b=0,c=0,d=0;d<this.columns.records.length;d++){if(this.columns.records[d].datafield==a){b+=this.columns.records[d].width,c=this.columns.records[d].width;break}b+=this.columns.records[d].width}if("hidden"!=this.hScrollBar.css("visibility")){var e=this.hScrollBar.jqxScrollBar("value"),f=e+this.host.width();e>b-c?this.hScrollBar.jqxScrollBar("setPosition",b-c):b>f&&this.hScrollBar.jqxScrollBar("setPosition",e+b-f)}},ensurerowvisiblebykey:function(b){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var c=this._getuirow(b);if(c){var d=this.vScrollBar.jqxScrollBar("value"),e=this.host.height(),f=0;f+=this.columngroups?this.showheader?this.columnsheader.height():0:this.showheader?this.columnsheight:0,this.filterable&&(f+=this.filter.height()),this.pageable&&"top"===this.pagerposition&&(f+=this.pagerheight),this.showtoolbar&&(f+=this.toolbarheight),e-=f,this.pageable&&"top"!==this.pagerposition&&(e-=this.pagerheight),this.showstatusbar&&(e-=this.statusbarheightt),this.showaggregates&&(e-=this.aggregatesheight),"hidden"!=this.hScrollBar.css("visibility")&&(e-=20);var g=this.host.coord().top+f,h=d,i=e+h,j=c.coord().top+d-g;j=Math.round(j);var k=j+c.outerHeight();if(k=Math.round(k),0===Math.round(c.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var l=a(this._table.children()[1]).children().length-1,m=this._getuikey(l),n=this._getuirow(m);if(n&&n[0]===c[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(h>j){var o=j-c.height();return 0>o&&(o=0),this.vScrollBar.jqxScrollBar("setPosition",o)}return k>i?this.vScrollBar.jqxScrollBar("setPosition",4+k-e):void 0}},ensureRowVisible:function(a){var b=this._getkey(a);this.ensurerowvisiblebykey(b)},getColumn:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.datafield==b||this.displayfield==b?(c=this,!1):void 0}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;b=b.toLowerCase();var d=this.getColumn(a);if(null!=d){d[b];d[b]=c;var e=this.getColumn(a);switch(null!=e&&(e[b]=c),b){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==b?(this._rendercolumnheaders(),this.refresh()):"hidden"==b||"pinned"==b||"resizable"==b||"renderer"==b?(this._rendercolumnheaders(),this.refresh()):"width"==b||"maxwidth"==b||"minwidth"==b?(d._width=null,d._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();var c=this.getColumn(a);return c[b]},setColumnProperty:function(a,b,c){this._setcolumnproperty(a,b,c)},hideColumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showColumn:function(a){this._setcolumnproperty(a,"hidden",!1)},updateBoundData:function(a,b){this.databind(this.source,a,b)},refresh:function(b){if(1!=b){if(a.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._renderhorizontalscroll(),this._showicons(),this.showaggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_updateTouchScrolling:function(){var b=this.that;if(b.isTouchDevice()){var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.gridcontent&&(b.removeHandler(b.gridcontent,c+".touchScroll"),b.removeHandler(b.gridcontent,e+".touchScroll"),b.removeHandler(b.gridcontent,d+".touchScroll"),b.removeHandler(b.gridcontent,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b.gridcontent[0],Math.max(b.vScrollInstance.max,b.hScrollInstance.max),function(a,c){if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}b.scrolled=new Date,b.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var b=0;b<this.columns.records.length;b++){var c=this.columns.records[b];if(a(c.filtericon).hide(),a(c.sortasc).hide(),a(c.sortdesc).hide(),"simple"!==this.filtermode)for(var d=0;d<this.dataview.filters.length;d++){var e=this.dataview.filters[d];if(e.datafield===c.displayfield){a(c.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===c.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?a(c.sortasc).show():a(c.sortdesc).show()),"left"!=c.align&&"center"!=c.align&&!this.rtl||this.rtl&&"right"!=c.align&&"center"!=c.align){var f=a.jqx.isHidden(a(c.filtericon))?0:16;f+=a.jqx.isHidden(a(c.sortasc))?0:16,f+=a.jqx.isHidden(a(c.sortdesc))?0:16;var g=a(a(a(c.element).children()[0]).children()[0]);this.rtl?f>0?g.css("margin-left",4+f+"px"):g.css("margin-left","4px"):f>0?g.css("margin-right",4+f+"px"):g.css("margin-right","4px")}}},render:function(b){var c="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=c,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var d=this.host.find("#verticalScrollBar"+this.element.id),e=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=d.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=e.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var f=this.source.datafields;if(null==f&&this.source._source&&(f=this.source._source.datafields),f)for(var g=0;g<this.columns.length;g++){var h=this.columns[g];if(h&&h.cellsformat&&h.cellsformat.length>2)for(var i=0;i<f.length;i++)if(f[i].name==h.datafield&&!f[i].format){f[i].format=h.cellsformat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showaggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var j=this,k=function(){j.content&&(j.content[0].scrollTop=0,j.content[0].scrollLeft=0),j.gridcontent&&(j.gridcontent[0].scrollLeft=0,j.gridcontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(a){return k(),!1}),b!==!0&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new a.jqx.collection(this.element):this._initializeColumns(),this.host.height(this.height),this.host.width(this.width),a.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var b=this.columnsheight;b=this._preparecolumngroups(),this.columnsheader.height(b),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=a('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderstatusbar&&this.renderstatusbar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showaggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var b=this.gridlocalization.pagergotopagestring,c=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),d=(this.pagerheight-17)/2;if(this.pagerdiv=this.pagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerrenderer){this.pagerdiv.children().remove(),this.toppager.children().remove();var e=this.pagerrenderer();null!=e&&this.pagerdiv.append(a(e)),this.pager.append(this.pagerdiv);var e=this.pagerrenderer();null!=e&&this.toppagerdiv.append(a(e)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",d),this.toppagerdiv.css("top",d);var f=function(d,e){var f=this,g=a('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),h=a('<div style="float: right; margin-right: 7px;"></div>'),i=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),j=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),k=a('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),l=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),m=a('<div style="margin-right: 7px; float: right;"></div>'),n=a('<div style="margin-right: 7px; float: right;"></div>'),o=a('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');g.attr("disabled",f.disabled);var p=a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(p[0].id="gridpagerlist"+e+f.element.id,f.removeHandler(i,"mousedown"),f.removeHandler(i,"mouseup"),f.removeHandler(i,"click"),f.removeHandler(j,"mousedown"),f.removeHandler(j,"mouseup"),f.removeHandler(j,"click"),f.removeHandler(k,"mousedown"),f.removeHandler(k,"mouseup"),f.removeHandler(k,"click"),f.removeHandler(l,"mousedown"),f.removeHandler(l,"mouseup"),f.removeHandler(l,"click"),f.rtl?(i.attr("title",f.gridlocalization.pagerpreviousbuttonstring),j.attr("title",f.gridlocalization.pagernextbuttonstring)):(j.attr("title",f.gridlocalization.pagerpreviousbuttonstring),i.attr("title",f.gridlocalization.pagernextbuttonstring)),a.jqx.browser.msie&&a.jqx.browser.version<8&&o.css("padding-top","3px"),this["pagerfirst"+e]=k,this["pagerlast"+e]=l,this["pagernext"+e]=i,this["pagerprevious"+e]=j,this["pagergotoinput"+e]=g,this["pagerdetails"+e]=m,this["pagershowrows"+e]=n,this["pagergotolabel"+e]=h,this["pagershowrowscombo"+e]=p,this["pagerbuttons"+e]=o,"default"==f.pagermode){f.rtl?(l.attr("title",f.gridlocalization.pagerfirstbuttonstring),k.attr("title",f.gridlocalization.pagerlastbuttonstring)):(k.attr("title",f.gridlocalization.pagerfirstbuttonstring),l.attr("title",f.gridlocalization.pagerlastbuttonstring));var q=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");q.addClass(f.toThemeProperty("jqx-icon-arrow-first")),k.wrapInner(q);var r=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(f.toThemeProperty("jqx-icon-arrow-last")),l.wrapInner(r),f.rtl?(d.append(l),d.append(i),d.append(o),d.append(j),d.append(k)):(d.append(k),d.append(j),d.append(o),d.append(i),d.append(l)),l.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme}),k.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme});var s=f.rtl?"right":"left";o.css("float",s),l.css("float",s),k.css("float",s),i.css("float",s),j.css("float",s),m.css("float",f.rtl?"left":"right"),f.rtl?(m.css("margin-left","7px"),m.css("margin-right","0px")):(m.css("margin-left","0px"),m.css("margin-right","7px"))}else f.rtl||(d.append(i),d.append(j));i.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme}),j.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme});var t=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");t.addClass(f.toThemeProperty("jqx-icon-arrow-left")),j.wrapInner(t);var u=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(u.addClass(f.toThemeProperty("jqx-icon-arrow-right")),i.wrapInner(u),f.rtl||d.append(m),"default"!=f.pagermode){f.rtl?(d.append(h),d.append(g),d.append(n),d.append(p),d.append(m),d.append(i),d.append(j)):(d.append(p),d.append(n),d.append(g),d.append(h));var v=f.pagesizeoptions;p.jqxDropDownList({_checkForHiddenParent:!1,rtl:f.rtl,disabled:f.disabled,source:v,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:f.theme});for(var w=0,x=0;x<v.length;x++)this.pagesize>=v[x]&&(w=x);h[0].innerHTML=b,p.jqxDropDownList({selectedIndex:w});var y=g.find("input");y.addClass(f.toThemeProperty("jqx-input")),y.addClass(f.toThemeProperty("jqx-widget-content")),this.rtl&&y.css("direction","rtl");var f=this;this.removeHandler(p,"select"),this.addHandler(p,"select",function(a){if(a.args){f.vScrollInstance&&f.vScrollInstance.setPosition(0);var b=a.args.index;f.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(b),f.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(b),f.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),f.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var c=f.dataview.pagenum*f.dataview.pagesize,d=v[b],e=f.pagesize;f.pagesize=parseInt(d),isNaN(f.pagesize)&&(f.pagesize=10),d>=100?(f.pagershowrowscombotop.jqxDropDownList({width:55}),f.pagershowrowscombobottom.jqxDropDownList({width:55})):(f.pagershowrowscombotop.jqxDropDownList({width:44}),f.pagershowrowscombobottom.jqxDropDownList({width:44})),f.dataview.pagesize=f.pagesize;var g=Math.floor(c/f.dataview.pagesize);if(g!==f.dataview.pagenum||parseInt(d)!==parseInt(e)){f._raiseEvent("pageSizeChanged",{pagenum:g,oldpagesize:e,pagesize:f.dataview.pagesize});var h=f.goToPage(g);h||(f.serverProcessing?f.updateBoundData("pager"):f.refresh())}}});var g=g.find("input");g.addClass(f.toThemeProperty("jqx-grid-pager-input")),g.addClass(f.toThemeProperty("jqx-rc-all")),this.removeHandler(g,"keydown"),this.removeHandler(g,"change"),f.addHandler(g,"keydown",function(a){if(a.keyCode>=65&&a.keyCode<=90)return!1;if("13"==a.keyCode){var b=g.val();return b=parseInt(b),isNaN(b)||f.goToPage(b-1),!1}}),f.addHandler(g,"change",function(){var a=g.val();a=parseInt(a),isNaN(a)||f.goToPage(a-1)})}n[0].innerHTML=c,f.addHandler(i,"mouseenter",function(){u.addClass(f.toThemeProperty("jqx-icon-arrow-right-hover"))}),f.addHandler(j,"mouseenter",function(){t.addClass(f.toThemeProperty("jqx-icon-arrow-left-hover"))}),f.addHandler(i,"mouseleave",function(){u.removeClass(f.toThemeProperty("jqx-icon-arrow-right-hover"))}),f.addHandler(j,"mouseleave",function(){t.removeClass(f.toThemeProperty("jqx-icon-arrow-left-hover"))}),f.addHandler(i,"mousedown",function(){u.addClass(f.toThemeProperty("jqx-icon-arrow-right-selected"))}),f.addHandler(i,"mouseup",function(){u.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected"))}),f.addHandler(j,"mousedown",function(){t.addClass(f.toThemeProperty("jqx-icon-arrow-left-selected"))}),f.addHandler(j,"mouseup",function(){t.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===f.pagermode&&(f.addHandler(l,"mouseenter",function(){r.addClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),f.addHandler(k,"mouseenter",function(){q.addClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),f.addHandler(l,"mouseleave",function(){r.removeClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),f.addHandler(k,"mouseleave",function(){q.removeClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),f.addHandler(l,"mousedown",function(){r.addClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),f.addHandler(k,"mousedown",function(){q.addClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),f.addHandler(l,"mouseup",function(){r.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),f.addHandler(k,"mouseup",function(){q.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))})),f.addHandler(a(document),"mouseup.pagerbuttons"+e+this.element.id,function(){u.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected")),t.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected")),r&&(r.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected")),q.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected")))}),f.addHandler(i,"click",function(){i.jqxButton("disabled")||(f.rtl?f.goToPrevPage():f.goToNextPage())}),f.addHandler(j,"click",function(){j.jqxButton("disabled")||(f.rtl?f.goToNextPage():f.goToPrevPage())}),"default"===this.pagermode&&(f.addHandler(k,"click",function(){if(!k.jqxButton("disabled"))if(f.rtl){var a=f.dataview.totalrecords,b=Math.ceil(a/f.pagesize);f.goToPage(b-1)}else f.goToPage(0)}),f.addHandler(l,"click",function(){if(!l.jqxButton("disabled"))if(f.rtl)f.goToPage(0);else{var a=f.dataview.totalrecords,b=Math.ceil(a/f.pagesize);f.goToPage(b-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),f.call(this,this.pagerdiv,"bottom"),f.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(b,c){if(this._loading)return!1;if(void 0!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;var d=this.endroweditbykey(this.editKey);if(!d)return!1}if((null==b||void 0==b)&&(b=0),-1==b&&(b=0),0>b)return!1;var e=this.dataview.totalrecords,f=this.dataview.pagenum,g=Math.ceil(e/this.pagesize);return b>=g&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),b>0&&(b=g-1)),this.dataview.pagenum!=b?(this.pageable&&(this.dataview.pagenum=b,this._raiseEvent("pageChanged",{pagenum:b,oldpagenum:f,pagesize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",c):(this.refresh(),c&&a.isFunction(c)&&c()),!0):!1},goToPrevPage:function(a){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,a);if("default"!=this.pagermode&&"advanced"!=this.pagermode){var b=this.dataview.totalrecords,c=Math.ceil(b/this.pagesize);return this.goToPage(c-1,a)}return!1},goToNextPage:function(a){var b=this.dataview.totalrecords;this.summaryrows&&(b+=this.summaryrows.length);var c=Math.ceil(b/this.pagesize);return this.dataview.pagenum<c-1?this.goToPage(this.dataview.pagenum+1,a):"default"!=this.pagermode&&"advanced"!=this.pagermode?this.goToPage(0,a):!1},updatepagerdetails:function(){if(this.pageable){var b=this;if(!this.serverProcessing)if(this.source.hierarchy){var c=b._names(),d=0,e=function(f,g){for(var h=0;h<g.length;h++)0==b.dataview.filters.length&&(g[h]._visible=!0),g[h]._visible!==!1&&d++,g[h].records&&(g[h][c.expanded]||g[h][c.leaf])&&g[h]._visible!==!1&&(e(f+1,g[h].records),this.treeGrid&&a(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=f&&d--)};e(0,this.dataview.rows),this.dataview.totalrecords=d}else this.dataview.totalrecords=this.dataview.rows.length;var f=this.dataview.pagenum*this.pagesize,g=(this.dataview.pagenum+1)*this.pagesize;g>=this.dataview.totalrecords&&(g=this.dataview.totalrecords);var h=this.dataview.totalrecords;f++;var i=Math.ceil(h/this.dataview.pagesize);if(i>=1&&i--,i++,"default"!=this.pagermode){if(this.pagergotoinputbottom){var j=this.pagergotoinputbottom.find("input");j.val(this.dataview.pagenum+1),j.attr("title","1 - "+i),j=this.pagergotoinputtop.find("input"),j.val(this.dataview.pagenum+1),j.attr("title","1 - "+i)}}else{var k="",l=this.pagerbuttonscount;0!=l&&l||(l=5);var m=0;for(this.rtl&&(m=l-1);this.rtl&&m>=0||!this.rtl&&l>m;){var n=1+m,o=this.dataview.pagenum/l,p=Math.floor(o);n+=p*l;var q=this.toTP("jqx-grid-pager-number");if(q+=" "+this.toTP("jqx-rc-all"),n>i&&!this.rtl)break;if(this.rtl&&n>i)m--;else{if(this.rtl||0==m&&n>l&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>"),this.dataview.pagenum===n-1&&(q+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(m===l-1){var q=this.toTP("jqx-grid-pager-number");q+=" "+this.toTP("jqx-rc-all"),i>=1+n&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")}this.dataview.pagenum===n-1&&(q+=" "+this.toTP("jqx-fill-state-pressed")),k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>"}else if(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>",m===l-1){var q=this.toTP("jqx-grid-pager-number");q+=" "+this.toTP("jqx-rc-all"),i>=1+n&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")}if(this.rtl){var q=this.toTP("jqx-grid-pager-number");q+=" "+this.toTP("jqx-rc-all"),0==m&&n>l&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>")}this.rtl?m--:m++}}if(!this.pagerbuttonsbottom)return;var r=this.pagerbuttonsbottom.find("a");this.removeHandler(r,"click"),this.removeHandler(r,"mouseenter"),this.removeHandler(r,"mouseleave");var r=this.pagerbuttonstop.find("a");this.removeHandler(r,"click"),this.removeHandler(r,"mouseenter"),this.removeHandler(r,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=k,this.pagerbuttonstop[0].innerHTML=k,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var s=function(){r.click(function(c){if(!b.disabled){var d=a(c.target).attr("data-page");b.goToPage(parseInt(d)-1)}}),r.mouseenter(function(c){b.disabled||a(c.target).addClass(b.toTP("jqx-fill-state-hover"))}),r.mouseleave(function(c){b.disabled||a(c.target).removeClass(b.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerposition||"bottom"===this.pagerposition){var r=this.pagerbuttonsbottom.find("a");s(r)}if("both"===this.pagerposition||"top"===this.pagerposition){var r=this.pagerbuttonstop.find("a");s(r)}}if(0==g&&f>g&&(f=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=h+this.gridlocalization.pagerrangestring+g+"-"+f,
this.pagerdetailstop[0].innerHTML=h+this.gridlocalization.pagerrangestring+g+"-"+f):(this.pagerdetailsbottom[0].innerHTML=f+"-"+g+this.gridlocalization.pagerrangestring+h,this.pagerdetailstop[0].innerHTML=f+"-"+g+this.gridlocalization.pagerrangestring+h)),"default"==this.pagermode){var t=this.pagerbuttonsbottom.width()+a(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",t),this.toppagerdiv.css("min-width",t)}f>g&&this.goToPrevPage()}},_preparecolumngroups:function(){var a=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var b=this,c=0;c<this.columngroups.length;c++)this.columngroups[c].parent=null,this.columngroups[c].groups=null;for(var c=0;c<this.columns.records.length;c++)this.columns.records[c].parent=null,this.columns.records[c].groups=null;for(var d=function(a){for(var c=0;c<b.columngroups.length;c++){var d=b.columngroups[c];if(d.name===a)return d}return null},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c];if(e.groups||(e.groups=null),e.parentGroup&&(e.parentgroup=e.parentGroup),e.parentgroup){var f=d(e.parentgroup);f&&(e.parent=f,f.groups||(f.groups=new Array),-1===f.groups.indexOf(e)&&f.groups.push(e))}}for(var c=0;c<this.columns.records.length;c++){var e=this.columns.records[c];if(e.columngroup){var f=d(e.columngroup);f&&(f.groups||(f.groups=new Array),e.parent=f,-1===f.groups.indexOf(e)&&f.groups.push(e))}}for(var g=0,c=0;c<this.columns.records.length;c++){var e=this.columns.records[c],h=e;for(e.level=0;h.parent;)h=h.parent,e.level++;var h=e,i=e.level;for(g=Math.max(g,e.level);h.parent;)h=h.parent,h&&(h.level=--i)}for(var j=function(a){var b=new Array;if(a.columngroup&&b.push(a),!a.groups)return new Array;for(var c=0;c<a.groups.length;c++)if(a.groups[c].columngroup)b.push(a.groups[c]);else if(a.groups[c].groups)for(var d=j(a.groups[c]),e=0;e<d.length;e++)b.push(d[e]);return b},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c],k=j(e);e.columns=k;for(var l=new Array,m=0,n=0;n<k.length;n++)l.push(this.columns.records.indexOf(k[n])),k[n].pinned&&m++;if(0!=m)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");l.sort(function(a,b){return a=parseInt(a),b=parseInt(b),b>a?-1:a>b?1:0});for(var o=1;o<l.length;o++)if(l[o]!=l[o-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+g,a=this.columngroupslevel*this.columnsheight}return a},wheel:function(a,b){if(b.autoheight&&"hidden"==b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;0>a?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;a>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(a(window),"jqxReady"),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var b="mousedown";this.isTouchDevice()&&(b=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,b),this.removeHandler(this.table,"selectstart."+this.element.id),a.jqx.browser.msie&&a.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var b=this;this._mousewheelfunc=this._mousewheelfunc||function(a){return b.wheel(a,b),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(a){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(c){return b.enablebrowserselection?!0:b.filterable&&a(c.target).ischildof(b.filterrow)?!0:b.rowdetails&&a(c.target).parents("[data-role=details]").length>0?!0:void 0==b.editKey?!1:void 0}),this.addHandler(a(window),"jqxReady",function(){b._updatecolumnwidths(),b.refresh()}),this.editable&&this.addHandler(a(document),"mousedown.gridedit"+this.element.id,function(c){if(b.editable&&b.editSettings.saveOnBlur&&null!=b.editKey&&!b.vScrollInstance.isScrolling()&&!b.vScrollInstance.isScrolling()){var d=b.host.coord(),e=b.host.width(),f=b.host.height(),g=!1,h=!1,i=!1;if((c.pageY<d.top||c.pageY>d.top+f)&&(g=!0,h=!0),(c.pageX<d.left||c.pageX>d.left+e)&&(g=!0,i=!0),g){var j=function(b){var d=a(b.children()[0]).data();if(d&&!d.jqxWidget&&(d=b.data()),d||(d=b.data()),d.jqxWidget&&d.jqxWidget.container&&"block"==d.jqxWidget.container[0].style.display){var e=d.jqxWidget,f=e.container.coord().top,i=e.container.coord().top+e.container.height();return h&&(c.pageY<f||c.pageY>i)?(g=!0,e.close(),!0):!1}},k=b._editors;if(k)for(var l=0;l<k.length;l++){var m=k[l].editor,n=j(m),o=m.attr("aria-owns");if(o){if(o==document.activeElement.id)return!0;if(a(document.activeElement).ischildof(a("#"+o)))return!0}else if(o=m.children().attr("aria-owns")){if(o==document.activeElement.id)return!0;if(a(document.activeElement).ischildof(a("#"+o)))return!0}if(n===!1)return}}g&&b.endroweditbykey(b.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(a){a.preventDefault&&a.preventDefault()}),this.vScrollInstance.valueChanged=function(a){b._timer&&clearTimeout(b._timer),b._timer=setTimeout(function(){b.table&&(b.table[0].style.top=0-b.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(a){b._timer&&clearTimeout(b._timer),b._timer=setTimeout(function(){b.table&&b._renderhorizontalscroll()},5)};var c="mousedown";this.isTouchDevice()&&(c=a.jqx.mobile.getTouchEventName("touchend"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(c="mousedown"));var d=function(a,c){for(var d=null,e=b._table.coord(),f=e.top,g=e.left,h=b._table[0].rows,i=0;i<h.length;i++)for(var j=h[i],k=j.cells,l=0;l<k.length;l++){var m=k[l],n=m.offsetLeft+g,o=m.offsetTop+f,p=m.offsetWidth,q=m.offsetHeight;if(0!==p&&0!==q){if(!(c>=o&&o+q>c))break;if(a>=n&&n+p>a){d=m;break}}}return d},e=function(){if(b.hoveredRow){var a=b.hoveredRow[0].cells,c=function(a){for(var c=0;c<a.length;c++){var d=a[c],e=d.className;e=e.replace(" "+b.toTP("jqx-fill-state-hover"),""),e=e.replace(" "+b.toTP("jqx-grid-cell-hover"),""),d.className=e}};if(c(a),b._pinnedTable&&a.length>0){var d=b._pinnedTable[0].rows[b.hoveredRow[0].rowIndex].cells;c(d)}}b.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(a){e(),b.wrapper&&(b.wrapper.parent().removeAttr("tabindex",0),b.wrapper.removeAttr("tabindex",1),b.content.removeAttr("tabindex",2))});var f=function(a){if(!b.enablehover)return!0;if(b.hoveredRow=a,!a)return!0;var c=a[0].cells,d=b.rowdetails&&!b.treeGrid,e=d&&!b.treeGrid?1:0,f=0;e>0&&b.rtl&&(e=0,f=1);for(var g=e;g<c.length-f;g++){var h=c[g];h.className+=" "+b.toTP("jqx-fill-state-hover")+" "+b.toTP("jqx-grid-cell-hover")}if(b._pinnedTable&&b._pinnedTable[0].rows.length)for(var i=b._pinnedTable[0].rows[b.hoveredRow[0].rowIndex].cells,g=e;g<i.length-f;g++){var h=i[g];h.className+=" "+b.toTP("jqx-fill-state-hover")+" "+b.toTP("jqx-grid-cell-hover")}};b.isTouchDevice()&&(b.enablehover=!1),this.addHandler(this.table,"mousemove",function(c){var g=c.pageX,h=c.pageY;if(b.disabled)return!0;if(!b.enablehover)return!0;if(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling())return!0;if(td=d(g,h),!td)return!0;var i=a(td).parent();return e(),b.rowdetails&&b.treeGrid&&"row-details"==i.attr("data-role")?!0:b.renderedRecords&&0===b.renderedRecords.length?!0:null!=b.editKey&&b.editKey===i.attr("data-key")?!0:(f(i),!0)}),this.addHandler(this.host,"keydown",function(a){return b._handleKey(a)}),a.jqx.browser.msie&&a.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(a){b.table.trigger("mousedown",a)}),this.addHandler(this.table,c,function(c){var e=(c.target,null);if(b.disabled)return!0;var g=(b.table.coord(),c.pageX),h=c.pageY;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&arguments&&2==arguments.length&&(g=arguments[1].pageX,h=arguments[1].pageY),b.isTouchDevice()){var i=a.jqx.position(c);if(g=i.left,h=i.top,isNaN(g)||isNaN(h)){var i=a.jqx.position(c.originalEvent);g=i.left,h=i.top}}e=d(g,h);var j=a(e).parent(),k=j.attr("data-key");if(b.rowdetails&&b.treeGrid&&"row-details"==j.attr("data-role"))return!0;var l=function(){b.enablebrowserselection||c.preventDefault&&c.preventDefault();var d=a(document).scrollTop();b.host.focus(),a(document).scrollTop(d)};if(void 0!==k){b.clickedTD=e;var m=a(b.clickedTD).index(),n=b.columns.records[m];if(k==b.editKey){if(!b.editSettings.editSingleCell)return!0;if(b.clickedTD==e)return!0;if(null!=b.editKey&&b.editSettings.saveOnSelectionChange){var o=b.endroweditbykey(b.editKey);if(!o)return!0}}else if(null!=b.editKey&&b.editSettings.saveOnSelectionChange){var o=b.endroweditbykey(b.editKey);if(!o)return!0}var p=b.rowinfo[k];if(p&&p.group)return!0;var q=!1;if(p){var r=b.getrowdisplayindex(p.row),s=b.getrowindex(p.row);b._raiseEvent("rowClick",{index:r,boundIndex:s,key:k,row:p.row,originalEvent:c,dataField:n.datafield});var t=(new Date).getTime(),u=300;b.clickTime||(b.clickTime=new Date),b._lastSelectedKey==k&&t-b.clickTime.getTime()<u&&(b._raiseEvent("rowDoubleClick",{index:r,boundIndex:s,key:k,row:p.row,originalEvent:c,dataField:n.datafield}),q=!0,c.preventDefault&&c.preventDefault())}if(b.clickTime=new Date,e.className.indexOf("jqx-grid-group")>=0)p.expanded?b.hidedetailsbykey(k):b.showdetailsbykey(k);else if(c.target&&c.target.className.indexOf("jqx-grid-group")>=0&&b.treeGrid)p.expanded?b.treeGrid.collapseRow(k):b.treeGrid.expandRow(k),f(b._getuirow(k)),c.stopPropagation&&c.stopPropagation();else{if(!(c.target&&c.target.className.indexOf("checkbox")>=0&&b.treeGrid)){var m=a(e).index(),n=b.columns.records[m];if(c.stopPropagation&&c.stopPropagation(),b.editable&&null==b.editKey&&b._lastSelectedKey==k&&b.editSettings.editOnDoubleClick&&q){var o=b.beginroweditbykey(k,n);return!0}if(b.isTouchDevice()&&b.scrolled&&new Date-b.scrolled<500)return b.enablebrowserselection||c.preventDefault&&c.preventDefault(),!1;if("singlerow"===b.selectionmode&&"custom"!==b.selectionmode)return b.selectrowbykey(k,"mouse",!1),b._lastSelectedKey=k,b._updateSelection(),c.preventDefault&&c.preventDefault(),l(),!0;if("custom"!==b.selectionmode&&(c.ctrlKey||b.clearSelection(!1),c.shiftKey&&b._lastSelectedKey)){var p=b.rowinfo[b._lastSelectedKey];b._doSelection(b._lastSelectedKey,!0,!1);var v=a(b._table.children()[1]).children("[data-key="+b._lastSelectedKey+"]"),w=v.index(),x=j.index();return b._selectRange(x,w),b.selectrowbykey(k,"mouse",!1),b._updateSelection(),c.preventDefault&&c.preventDefault(),l(),!0}return b._lastSelectedKey=k,b.clickTime=new Date,"custom"===b.selectionmode?!0:(p&&(p.selected?b.unselectrowbykey(k,"mouse",!1):b.selectrowbykey(k,"mouse",!1),l()),b._updateSelection(),b.enablebrowserselection||c.preventDefault&&c.preventDefault(),!0)}p.checked?b.treeGrid.uncheckRow(k):b.treeGrid.checkRow(k),f(b._getuirow(k)),c.stopPropagation&&c.stopPropagation()}}})},_updateSelection:function(){var b=this,c=a(b._table.children()[1]).children(),d=b._pinnedTable?a(b._pinnedTable.children()[1]).children():null,e=b.rowdetails&&!b.treeGrid,f=e?1:0,g=0;f>0&&b.rtl&&(f=0,g=1);for(var h=0;h<c.length;h++){var i=c[h].cells;if(d)var j=d[h].cells;var k=null;if(c[h].getAttribute&&(k=c[h].getAttribute("data-key")),b.rowinfo[k]&&"none"!==b.selectionmode)if(b.rowinfo[k].selected)for(var l=f;l<i.length-g;l++){var m=i[l];a(m).addClass(b.toTP("jqx-grid-cell-selected")+" "+b.toTP("jqx-fill-state-pressed")),j&&a(j[l]).addClass(b.toTP("jqx-grid-cell-selected")+" "+b.toTP("jqx-fill-state-pressed"))}else for(var l=f;l<i.length-g;l++){var m=i[l];if(j)var n=j[l];var o=m.className;o=o.replace(" jqx-fill-state-pressed",""),o=o.replace(" jqx-fill-state-pressed-"+b.theme,""),o=o.replace(" jqx-grid-cell-selected",""),o=o.replace(" jqx-grid-cell-selected-"+b.theme,""),m.className=o,n&&(n.className=o)}}},_selectRange:function(b,c){var d=a(a(this._table.children()[1]).children()[c]),e=this;if(b>c)for(var f=c,g=d;b>f;){var g=g.next(),h=g.attr("data-key");e._doSelection(h,!0,!1),f++}else if(c>b)for(var f=c,g=d;f>b;){var g=g.prev(),h=g.attr("data-key");this._doSelection(h,!0,!1),f--}},_getuikey:function(b,c){var d=null,e=a(this._table.children()[1]).children();if(d=a(e[b]).attr("data-key"),a(e[b]).attr("data-role")){var f=a(e[b]);if("next"==c){for(;f;)if(f=f.next()){var g=f.attr("data-role");if(!g)return d=f.attr("data-key")}}else if("prev"==c)for(;f;)if(f=f.prev()){var g=f.attr("data-role");if(!g)return d=f.attr("data-key")}return null}return d},getRows:function(){return this.source.records},getView:function(){var b=this._names(),c=new Array,d=function(c,e){if(e)for(var f=0;f<e.length;f++)if(e[f]&&e[f]._visible!==!1){var g=a.extend({},e[f]);c.push(g),e[f][b.expanded]&&(g.records=new Array,d(g.records,e[f].records))}};return d(c,this.dataViewRecords),c},getKeys:function(){for(var a=new Array,b=this.source.records,c=0;c<b.length;c++)a.push(b[c].uid);return a},getKey:function(a){var b=this.getRows();return b?b[a].uid:-1},_getkey:function(b){if(this._loading)throw new Error("jqxDataTable: "+this.loadingerrormessage);var c=null,d=function(){var c=a(this._table.children()[1]).children(),d=null,e=0;if(this.pageable&&(e-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var f=0,g=0;g<c.length;g++){var h=a(c[g]),i=h.children()[0].getAttribute("colspan");if(!(i>0)){if(f===e+b)return d=h.attr("data-key");f++}}return d}if(this.rowdetails)for(var f=0,g=0;g<c.length;g++){if(f===b+e)return d=a(c[g]).attr("data-key");g%2==1&&f++}else d=a(c[e+b]).attr("data-key");return d};if(c=d.call(this),null==c&&this.pageable){var e=Math.floor(b/this.dataview.pagesize);if(this.dataview.pagenum!=e){var f=this.getRows()[b];if(f&&null!=f.uid)return f.uid;if(isNaN(e))return null;this.goToPage(e),c=d.call(this)}}return c},_getuirow:function(b){try{var c=a(this._table.children()[1]).children("[data-key="+b+"]");if(c.length>0)return c}catch(d){for(var e=a(this._table.children()[1]).children(),f=0;f<e.length;f++){var g=e[f],h=g.getAttribute("data-key");if(b==h)return a(g)}return null}return null},_getpinneduirow:function(b){if(!this._pinnedTable)return null;try{var c=a(this._pinnedTable.children()[1]).children("[data-key="+b+"]");if(c.length>0)return c}catch(d){for(var e=a(this._pinnedTable.children()[1]).children(),f=0;f<e.length;f++){var g=e[f],h=g.getAttribute("data-key");if(b==h)return a(g)}return null}return null},_names:function(){var a={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return a;var b=this.source._source.hierarchy.reservedNames;return b?b:a},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;var d=this.renderedRecords;void 0!=c&&(d=d.slice(c));var e=0;if(this.rowdetails&&!this.treeGrid&&e++,e<this.columns.records.length)var f=this.columns.records[e].datafield;else new Array;var g=new Array;return a.each(d,function(c){var d=this[f];d||(d="");var e=a.jqx.string.startsWithIgnoreCase(d.toString(),b);e&&g.push(this.uid)}),g},_handleKey:function(b){if(this._loading)return!0;if(a(b.target).ischildof(this.filter))return!0;if(a(b.target).ischildof(this.toolbar))return!0;if(a(b.target).ischildof(this.statusbar))return!0;var c=this._names(),d=this,e=b.charCode?b.charCode:b.keyCode?b.keyCode:0,f=this._lastSelectedKey,g=(this.rowinfo[f],this._getuirow(f)),h=b.shiftKey&&"singlerow"!=this.selectionmode,i=b.ctrlKey;if(g){if(this.handlekeyboardnavigation){var j=this.handlekeyboardnavigation(e);if(j)return!0}if(this.editable&&void 0==this.editKey&&113===e&&this.editSettings.editOnF2&&this.beginroweditbykey(g.attr("data-key")),void 0==this.editKey&&!i&&!h&&this.incrementalSearch&&!(e>=33&&40>=e)){var k=-1;this._searchString||(this._searchString=""),(8==e||46==e)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var l=String.fromCharCode(e),m=!isNaN(parseInt(l)),n=!1;if(e>=65&&97>=e||m||8==e||32==e||46==e){b.shiftKey||(l=l.toLocaleLowerCase()),8!=e&&32!=e&&46!=e&&(this._searchString.length>0&&this._searchString.substr(0,1)==l||(this._searchString+=l)),32==e&&(this._searchString+=" "),this._searchTime=new Date;var f=this.getselection();if(f.length>=1){for(var o=f[0].uid,p=-1,q=0;q<this.renderedRecords.length;q++)if(this.renderedRecords[q].uid==o){p=q;break}var r=this._getMatches(this._searchString,p);if(0==r.length||r.length>0&&r[0]==o)var r=this._getMatches(this._searchString)}else var r=this._getMatches(this._searchString);if(r.length>0){var f=this.getselection();if(f.length>=1){var s=r.indexOf(f[0].uid);if(-1==s)this.clearSelection(!1),this.selectrowbykey(r[0]);else{var t=s+1;t>=r.length&&(t=0),this.clearSelection(!1),this.selectrowbykey(r[t])}}else this.clearSelection(!1),this.selectrowbykey(r[0]);this._lastSearchString=this._searchString}}if(void 0!=this._searchTimer&&clearTimeout(this._searchTimer),(27==e||13==e)&&(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){d._searchString="",d._lastSearchString=""},500),k>=0)return;if(n)return!1}if(void 0!=this.editKey){if(27===e&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===e&&this.editSettings.saveOnEnter){if(b.target&&"div"!=b.target.nodeName.toLowerCase()&&"input"!=b.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var u=this.columns.records.indexOf(this.editColumn);if(9==e&&u<this.columns.records.length-1&&!b.shiftKey){for(var v=this.editKey,w=null,q=u+1;q<this.columns.records.length;q++)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){w=this.columns.records[q];break}w&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(v,w))}else if(9==e&&b.shiftKey&&u>0){for(var v=this.editKey,x=null,q=u-1;q>=0;q--)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){x=this.columns.records[q];break}x&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(v,x))}if(9==e){var y=this.rowinfo[this.editKey],p=this.getrowindex(y),g=this._getuirow(this.editKey);if(b.shiftKey||w){if(!x&&b.shiftKey){for(var z=null,q=this.columns.records.length-1;q>=0;q--)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){z=this.columns.records[q];break}if(z){for(;g;)if(g=g.prev()){var A=g.attr("data-role");if(!A){var B=g.attr("data-key");break}}if(B){this.clearSelection(!1),this._lastSelectedKey=B;var y=this.rowsByKey[B],p=this.getrowindex(y),C=this.getrowdisplayindex(y);this._raiseEvent("rowSelect",{key:B,index:C,boundIndex:p,row:this.rowsByKey[B]}),this.endroweditbykey(this.editKey,!1),this._doSelection(B,!0,!0),this.beginroweditbykey(B,z)}}}}else{for(var z=null,q=0;q<this.columns.records.length;q++)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){z=this.columns.records[q];break}if(z){for(;g;)if(g=g.next()){var A=g.attr("data-role");if(!A){var B=g.attr("data-key");break}}if(B){this.clearSelection(!1),this._lastSelectedKey=B;var y=this.rowsByKey[B],p=this.getrowindex(y),C=this.getrowdisplayindex(y);this._raiseEvent("rowSelect",{key:B,index:C,boundIndex:p,row:this.rowsByKey[B]});var D=this.endroweditbykey(this.editKey,!1);D?(this._doSelection(B,!0,!0),this.beginroweditbykey(B,z)):this.beginroweditbykey(this.editKey,z)}}}return!1}}return!0}if(b.ctrlKey){var E=String.fromCharCode(e).toLowerCase();if("c"==E||"x"==E){var f=this.getselection();if(f.length>=1){for(var F="",G=0;G<this.renderedRecords.length;G++)for(var H=this.renderedRecords[G],q=0;q<f.length;q++){var y=f[q];if(y.uid===H.uid){for(var I=0;I<this.columns.records.length;I++){var J=this.getCellTextByKey(y.uid,this.columns.records[I].displayfield);F+=J,I<this.columns.records.length-1&&(F+="	")}F+="\r\n";break}}if(""!=F&&(F=F.substring(0,F.length-1)),window.clipboardData)window.clipboardData.setData("Text",F);else{var K=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');K.val(F),a("body").append(K),K.select(),setTimeout(function(){document.designMode="off",K.select(),K.remove()},100)}}}}if(32===e&&this.treeGrid&&this.treeGrid.checkboxes){var f=this.getselection();if(f.length>1){for(var q=0;q<f.length;q++){var L=f[q].uid;this.rowinfo[L].checked?this.treeGrid.uncheckRow(L,!1):this.treeGrid.checkRow(L,!1)}return this._renderrows(),!1}var o=g.attr("data-key");if(o)return this.rowinfo[o].checked?this.treeGrid.uncheckRow(o):this.treeGrid.checkRow(o),!1}var M=g.index(),N=function(b){var c=null,e=a(d._table.children()[1]).children().length-1,f=a(a(d._table.children()[1]).children()[e]),g=f.attr("data-role");if(g){for(;f;)if(f=f.prev()){var g=f.attr("data-role");if(!g){c=f.attr("data-key");break}}}else c=f.attr("data-key");return"all"==b?{row:f,key:c}:c},O=function(b){var c=null,e=a(a(d._table.children()[1]).children()[0]),f=e.attr("data-role");if(f){for(;e;)if(e=e.next()){var f=e.attr("data-role");if(!f){c=e.attr("data-key");break}}}else c=e.attr("data-key");return"all"==b?{row:e,key:c}:c},o=null,P=function(){if(i||h||d.clearSelection(!1),33==e||37==e){var a=M;o=d._getuikey(a,"prev"),o||(o=O())}else if(34==e||39==e){var a=M;o=d._getuikey(a,"next"),o||(o=N())}else 38==e?o=N():40==e&&(o=O());d._lastSelectedKey=o;var b=d.rowsByKey[o],a=d.getrowindex(b),c=d.getrowdisplayindex(b);d._raiseEvent("rowSelect",{key:o,index:c,boundIndex:a,row:d.rowsByKey[o]}),d._doSelection(o,!0,!0),d.host.focus()},Q=function(){d.clearSelection(!1);var a=O();h||i?d._selectRange(g.index(),0):d._lastSelectedKey=a,d.selectrowbykey(a,"keyboard")},R=function(){d.clearSelection(!1);var a=N("all"),b=a.key;h||i?d._selectRange(g.index(),a.row.index()):d._lastSelectedKey=b,d.selectrowbykey(b,"keyboard")};if(this.treeGrid&&this.rtl&&(37==e?e=39:39==e&&(e=37)),36==e||i&&38==e)return Q(),!1;if(35==e||i&&40==e)return R(),!1;if(33==e||37==e){var o=g.attr("data-key");if(this.rowdetails&&37==e&&!this.treeGrid)return this.hidedetailsbykey(o),!1;if(this.treeGrid&&37==e){if(this.rowinfo[o].row&&!this.rowinfo[o].row[c.parent]&&!this.rowinfo[o][c.leaf]&&!this.rowinfo[o].expanded)return!1;if(this.rowinfo[o].expanded&&!this.rowinfo[o][c.leaf])return this.treeGrid.collapseRow(o),!1;if(this.rowinfo[o].row&&this.rowinfo[o].row[c.parent]&&(o=this.rowinfo[o].row[c.parent].uid),this.rowinfo[o][c.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(P):this.goToPrevPage(P),!1;if(this.treeGrid&&this.pageable&&33==e)return this.goToPrevPage(P),!1}else if(34==e||39==e){var o=g.attr("data-key");if(this.rowdetails&&39==e&&!this.treeGrid)return this.showdetailsbykey(o),!1;if(this.treeGrid&&39==e){if(this.rowinfo[o][c.leaf])return!1;if(!this.rowinfo[o].expanded)return this.treeGrid.expandRow(o),!1;if(this.rowinfo[o].row&&this.rowinfo[o].row.records&&this.rowinfo[o].row.records.length>0)if(this.dataview.filters.length>0){for(var S=this.rowinfo[o].row.records,q=0;q<S.length;q++)if(S[q]._visible){o=S[q].uid;break}}else o=this.rowinfo[o].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(P):this.goToNextPage(P),!1;if(this.treeGrid&&this.pageable&&34==e)return this.goToNextPage(P),!1}else if(38==e){for(;g;)if(g=g.prev()){var A=g.attr("data-role");if(!A){o=g.attr("data-key");break}}if(this.pageable&&null==o)return this.goToPrevPage(P),!1}else if(40==e){for(;g;)if(g=g.next()){var A=g.attr("data-role");if(!A){o=g.attr("data-key");break}}if(this.pageable&&null==o)return this.goToNextPage(P),!1}if(null!=o){if(i||h||this.clearSelection(!1),this.rowinfo[o]&&this.rowinfo[o].selected&&(i||h)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=o;var y=this.rowsByKey[o],p=this.getrowindex(y);d._updateSelection();var C=this.getrowdisplayindex(y);return this._raiseEvent("rowUnselect",{key:o,index:C,boundIndex:p,row:y}),!1}this._lastSelectedKey=o;var y=this.rowsByKey[o],p=this.getrowindex(y);this._doSelection(o,!0,!1),d._updateSelection();var C=this.getrowdisplayindex(y);if(this._raiseEvent("rowSelect",{key:o,index:C,boundIndex:p,row:y}),this.treeGrid)if(37==e){var g=this._getuirow(o),T=null;if(g){var A=g.attr("data-role");A||(T=g.attr("data-key"))}if(this.pageable&&null==T&&this.dataview.pagenum>0)for(;null==this._getuirow(o)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==e){var g=this._getuirow(o),T=null;if(g){var A=g.attr("data-role");A||(T=g.attr("data-key"))}this.pageable&&null==T&&this.goToNextPage()}return!1}}},_selection:function(a){if("selectionStart"in a[0]){var b=a[0],c=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:c,text:b.value}}var d=document.selection.createRange();if(null==d)return{start:0,end:b.value.length,length:0};var e=a[0].createTextRange(),f=e.duplicate();e.moveToBookmark(d.getBookmark()),f.setEndPoint("EndToStart",e);var c=d.text.length;return{start:f.text.length,end:f.text.length+d.text.length,length:c,text:d.text}},_doSelection:function(a,b,c){if(null==a)return void this.clearSelection();"singlerow"===this.selectionmode&&this.clearSelection(!1);var d=this.rowinfo[a];if(d)d.selected=b,this.ensurerowvisiblebykey(a);else{this.ensurerowvisiblebykey(a);var d=this.rowinfo[a];d?d.selected=b:this.rowinfo[a]={selected:b}}"none"!=this.selectionmode&&c!==!1&&this._renderrows()},clearSelection:function(a){if(this.rowinfo){var b=this.getRows();for(var c in this.rowinfo){var d=this.rowinfo[c];if(d.selected){d.selected=!1;var e=b.indexOf(d.row),f=this.getrowdisplayindex(d.row);this._raiseEvent("rowUnselect",{key:c,index:f,boundIndex:e,row:d.row})}}}a!==!1&&this._renderrows()},exportData:function(c){if(!a.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var d=this.exportSettings.columnsHeader;void 0==d&&(d=!0);var e=this.exportSettings.hiddenColumns;void 0==e&&(e=!1);var f=this.exportSettings.serverURL,g=this.exportSettings.characterSet,h=this.exportSettings.collapsedRecords;void 0==h&&(h=!1);var i=this.exportSettings.fileName;void 0===i&&(i=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var j=this,k=this.getRows();if(1==this.exportSettings.recordsInView&&(k=this.getView()),this.groups&&this.groups.length>0){var l=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",k),m=function(b,c){for(var d=0;d<b.length;d++){var e=a.extend({},b[d]);if(c.push(e),e.records&&e.records.length>0)for(var f=m(e.records,new Array),g=0;g<f.length;g++)f[g].leaf?c.push(f[g]):c.push(f[g])}return c},n=m.call(this,l,new Array);k=n}if(0==k.length)throw"No data to export.";this.exporting=!0,this.altrows&&this._renderrows();for(var o=new Array,p=0;p<this.columns.records.length;p++)(e||!this.columns.records[p].hidden)&&o.push(a.extend({},this.columns.records[p]));if(this.groups&&this.groups.length>0&&o.length>0)for(var q=this._names(),p=0;p<k.length;p++)k[p][q.leaf]||(j.rtl?k[p][o[o.length-1].displayfield]=k[p].label:k[p][o[0].displayfield]=k[p].label);var r=0;if(this.treeGrid){var s=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(s=this.getView());var q=this._names(),t=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[q.expanded]||!c[q.expanded]&&h;r=Math.max(r,1+c[q.level]),c.records&&c.records.length>0&&d&&t(a[b].records)}};if(t(s),"xml"!=c&&"json"!=c){for(var u=o.length,p=0;r>p;p++){var v=new b(this,this);v.width=this.indentwidth,v.datafield="Level"+p,v.displayfield="Level"+p,v.align="center",v.cellsalign="center",v.text="",this.rtl?o.splice(u,0,v):o.splice(p,0,v)}var w=new Array,x=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?!0:!1,y=function(b){for(var d=0;d<b.length;d++){for(var e=a.extend({},b[d]),f=0;f<e[q.level];f++)e["Level"+f]="";var g=e[q.expanded]||!e[q.expanded]&&h;("xls"==c||"html"==c)&&e.records&&e.records.length>0?e["Level"+e[q.level]]=g?"-":"+":e["Level"+e[q.level]]="",e[q.leaf]&&(e["Level"+e[q.level]]="");for(var f=e[q.level]+1;r>f;f++)e["Level"+f]="";if(x&&!e[q.leaf]&&(j.rtl?e[o[o.length-r-1].displayfield]=e.label:e[o[r].displayfield]=e.label),e.aggregate)for(var i="xls"==c?"AG":"",f=r;f<o.length;f++){var k=f;j.rtl&&(k=o.length-f-1),void 0!=e[o[k].displayfield]&&(e[o[k].displayfield]=i+e[o[k].displayfield])}w.push(e),g&&!e[q.leaf]&&y(e.records)}};y(s),k=w}else k=s}var z=void 0!=e?e:!1,A={},B={},C=this.host.find(".jqx-grid-cell:first"),D=this.host.find(".jqx-grid-cell-alt:first"),E=this.toThemeProperty;C.removeClass(E("jqx-grid-cell-selected")),C.removeClass(E("jqx-fill-state-pressed")),D.removeClass(E("jqx-grid-cell-selected")),D.removeClass(E("jqx-fill-state-pressed")),C.removeClass(E("jqx-grid-cell-hover")),C.removeClass(E("jqx-fill-state-hover")),D.removeClass(E("jqx-grid-cell-hover")),D.removeClass(E("jqx-fill-state-hover"));for(var F="cell",G=1,H="column",I=1,J=[],K=0;K<o.length;K++){var v=o[K];if(""!=v.cellclassname)if(v.customCellStyles=new Array,"string"==typeof v.cellclassname)v.customCellStyles.push(v.cellclassname);else for(var p=0;p<k.length;p++){var L=p,M=v.cellclassname(L,v.displayfield,k[p][v.displayfield],k[p]);M&&(v.customCellStyles[p]=M)}}if(a.each(o,function(b){var e=b;j.treeGrid&&(b>=r?e=o.length-r-1:r>0&&r>b&&(e=0));var f=a(j._table[0].rows[0].cells[e]);if(j._table[0].rows.length>1){var g=a(j._table[0].rows[1].cells[e]);if(0==g.length)var g=a(j._table[0].rows[1].cells[0])}if(0==f.length)var f=a(j._table[0].rows[0].cells[0]);var h=this,i=function(a){var b=j.toThemeProperty;if(a.removeClass(b("jqx-cell")),a.removeClass(b("jqx-grid-cell-selected")),a.removeClass(b("jqx-fill-state-pressed")),a.removeClass(b("jqx-grid-cell-hover")),a.removeClass(b("jqx-fill-state-hover")),h.customCellStyles)for(var c in h.customCellStyles)a.removeClass(h.customCellStyles[c])};if(i(f),g&&i(g),null==this.displayfield)return!0;j.showaggregates&&j.getcolumnaggregateddata&&J.push(j.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,k));var l=j._getexportcolumntype(this);!this.exportable||this.hidden&&!z||(A[this.displayfield]={},A[this.displayfield].text=this.text,A[this.displayfield].width=parseInt(this.width),isNaN(A[this.displayfield].width)&&(A[this.displayfield].width=60),A[this.displayfield].formatString=this.cellsformat,A[this.displayfield].localization=j.gridlocalization,A[this.displayfield].type=l,A[this.displayfield].cellsAlign=this.cellsalign,A[this.displayfield].hidden=!d,A[this.displayfield].index=e,A[this.displayfield].maxIndex=o.length),F="cell"+G;var m=this.element;if("json"!=c&&"xml"!=c){H="column"+I;var n=function(a,b,d,e,f,g,h,i,j){B[a]={index:1+h,maxIndex:o.length},g.rtl&&(B[a].index=o.length-h),("html"==c||"xls"==c||"pdf"==c)&&(b&&(B[a]["font-size"]=b.css("font-size"),
B[a]["font-weight"]=b.css("font-weight"),B[a]["font-style"]=b.css("font-style"),B[a]["background-color"]=g._getexportcolor(b.css("background-color")),B[a].color=g._getexportcolor(b.css("color")),B[a]["border-color"]=g._getexportcolor(b.css("border-top-color"))),d?B[a]["text-align"]=f.align:(B[a]["text-align"]=f.cellsalign,B[a].formatString=f.cellsformat,B[a].dataType=l),("html"==c||"pdf"==c)&&(B[a]["border-top-width"]="0px",g.rtl?(B[a]["border-left-width"]="1px",B[a]["border-right-width"]="0px",h==o.length-r-1&&d&&(B[a]["border-right-width"]="1px")):(B[a]["border-left-width"]="0px",B[a]["border-right-width"]="1px"),B[a]["border-bottom-width"]="1px",b&&(B[a]["border-top-style"]=b.css("border-top-style"),B[a]["border-left-style"]=b.css("border-left-style"),B[a]["border-right-style"]=b.css("border-right-style"),B[a]["border-bottom-style"]=b.css("border-bottom-style")),d?(0!=h||g.rtl?h==o.length-1&&g.rtl&&(B[a]["border-right-width"]="1px"):B[a]["border-left-width"]="1px",b&&(B[a]["border-top-width"]="1px",B[a]["border-bottom-width"]=b.css("border-bottom-width"))):0!=h||g.rtl?h==o.length-1&&g.rtl&&(B[a]["border-right-width"]="1px"):B[a]["border-left-width"]="1px",b&&(B[a].height=b.css("height")),g.treeGrid&&!d&&(B[a].index-1<r?g.rtl?B[a]["border-left-width"]="0px":B[a]["border-right-width"]="0px":B[a].index-1==r&&(g.rtl?B[a]["border-right-width"]="0px":B[a]["border-left-width"]="0px")))),!f.exportable||f.hidden&&!z||(1==i?(A[f.displayfield].customCellStyles||(A[f.displayfield].customCellStyles=new Array),A[f.displayfield].customCellStyles[j]=a):d?A[f.displayfield].style=a:e?A[f.displayfield].cellAltStyle=a:A[f.displayfield].cellStyle=a)};if(n(H,m,!0,!1,this,j,b),I++,n(F,f,!1,!1,this,j,b),j.altrows&&(F="cellalt"+G,n(F,g,!1,!0,this,j,b)),this.customCellStyles){for(var p in h.customCellStyles)f.removeClass(h.customCellStyles[p]);for(var p in h.customCellStyles)f.addClass(h.customCellStyles[p]),n(F+h.customCellStyles[p],f,!1,!1,this,j,b,!0,p),f.removeClass(h.customCellStyles[p])}G++}}),"json"!=c&&"xml"!=c&&r>0&&this.treeGrid){var N=r+1;if(this.rtl&&(N=o.length-r),B["column"+N]){var O=B["column"+N];O.merge=r,O["border-left-width"]="1px";for(var p=(B["cell"+N],0);p<o.length;p++){var N=p+1;this.rtl&&(N=o.length-p),B["column"+N].level=p,B["column"+N].maxLevel=r,B["cell"+N].maxLevel=r;var v=o[p];if(v.customCellStyles)for(var P in v.customCellStyles)B["cell"+N+v.customCellStyles[P]]&&(B["cell"+N+v.customCellStyles[P]].maxLevel=r);B["cellalt"+N]&&(B["cellalt"+N].maxLevel=r)}for(var p=0;r>p;p++){var N=p+1,Q=p;this.rtl&&(N=o.length-p);var R=B["column"+N];R.disabled=!0,B["cell"+N].level=Q,B["cell"+N].maxLevel=r,B["column"+N].level=Q,B["cellalt"+N]&&(B["cellalt"+N].level=Q,B["cellalt"+N].maxLevel=r);var v=o[p];if(v.customCellStyles)for(var P in v.customCellStyles)B["cell"+N+v.customCellStyles[P]]&&(B["cell"+N+v.customCellStyles[P]].maxLevel=r,B["cell"+N+v.customCellStyles[P]].level=Q);if(("html"==c||"pdf"==c||"xls"==c)&&(R["font-size"]=O["font-size"],R["font-weight"]=O["font-weight"],R["font-style"]=O["font-style"],R["background-color"]=O["background-color"],R.color=O.color,R["border-color"]=O["border-color"],"html"==c||"pdf"==c)){R["border-top-width"]=O["border-top-width"],R["border-left-width"]=O["border-left-width"],this.rtl&&(R["border-right-width"]=O["border-right-width"],0==p&&(R["border-right-width"]="1px")),0!=p||this.rtl?0==p&&this.rtl&&(R["border-left-width"]="0px"):R["border-left-width"]="0px",this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px",R["border-bottom-width"]="0px";var R=B["cell"+N];this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px"}}}}if(this.showaggregates){var S=[],T="xls"==c?"AG":"",U=0;this.rowdetails&&!this.treeGrid&&U++,J.length>0&&(a.each(o,function(a){if(this.aggregates)for(var b=0;b<this.aggregates.length;b++)if(S[b]||(S[b]={}),S[b]){var c=j._getaggregatename(this.aggregates[b]),d=j._getaggregatetype(this.aggregates[b]),e=J[a-U];e&&(S[b][this.displayfield]=T+c+": "+e[d])}}),a.each(o,function(a){for(var b=0;b<S.length;b++)void 0==S[b][this.displayfield]&&(S[b][this.displayfield]=T)})),a.each(S,function(){k.push(this)})}var V=this,W=a.jqx.dataAdapter.ArrayExporter(k,A,B,f,this.treeGrid&&("xml"==c||"json"==c));if(void 0==i){this._renderrows();var X=W.exportTo(c);return this.showaggregates&&a.each(S,function(){k.pop(this)}),setTimeout(function(){V.exporting=!1},50),X}var Y=this.treeGrid&&("xml"==c||"json"==c);W.exportToFile(c,i,f,g,Y),this.showaggregates&&a.each(S,function(){k.pop(this)}),this._renderrows(),setTimeout(function(){V.exporting=!1},50)},_getexportcolor:function(a){var b=a;if("transparent"==a&&(b="#FFFFFF"),b&&b.toString()||(b="#FFFFFF"),-1!=b.toString().indexOf("rgb")){var c=b.split(",");if(-1!=b.toString().indexOf("rgba")){var d=parseInt(c[0].substring(5)),e=parseInt(c[1]),f=parseInt(c[2]),g=parseInt(c[3].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return 0==d&&0==e&&0==f&&0==g?"#ffffff":"#"+i}var d=parseInt(c[0].substring(4)),e=parseInt(c[1]),f=parseInt(c[2].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return"#"+i}if(-1!=b.toString().indexOf("#")&&4==b.toString().length){var j=b.toString().substring(1,4);b+=j}return b},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},_getexportcolumntype:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){return this.name==b.displayfield?(this.type&&(f=this.type),!1):void 0}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g){if(-1!=b.cellsformat.indexOf("c"))return"number";if(-1!=b.cellsformat.indexOf("n"))return"number";if(-1!=b.cellsformat.indexOf("p"))return"number";if(-1!=b.cellsformat.indexOf("d"))return"date";if(-1!=b.cellsformat.indexOf("y"))return"date";if(-1!=b.cellsformat.indexOf("M"))return"date";if(-1!=b.cellsformat.indexOf("m"))return"date";if(-1!=b.cellsformat.indexOf("t"))return"date";if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}}return d},showDetails:function(a){var b=this._getkey(a);this.showdetailsbykey(b)},hideDetails:function(a){var b=this._getkey(a);this.hidedetailsbykey(b)},setCellValueByKey:function(b,c,d){var e=this.rowsByKey[b],f=this.getrowindex(e),g=e;if(null!=g&&g[c]==d)return!1;if(null==g||null!==g[c]||""!==d){var h="";if(null!=g&&g[c]!==d){var i=this.getColumn(c),j="string",k=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(k){var l="";a.each(k,function(){return this.name==i.displayfield?(this.type&&(l=this.type),!1):void 0}),l&&(j=l)}if(h=g[c],!i.nullable||null!=d&&""!==d&&i.nullable&&void 0===d.label){if(a.jqx.dataFormat.isNumber(h)||"number"==j||"float"==j||"int"==j||"decimal"==j&&"date"!=j)d=new Number(d),d=parseFloat(d),isNaN(d)&&(d=0);else if((a.jqx.dataFormat.isDate(h)||"date"==j)&&""!=d){var m=d;m=new Date(m),"Invalid Date"!=m&&null!=m?d=m:"Invalid Date"==m&&(m=new Date,d=m)}if(g[c]===d)return}if(g[c]=d,this.treeGrid){var n=this.treeGrid.getRow(b);n&&(n[c]=d)}if(null!=d&&null!=d.label){var i=this.getColumn(c);if(g[i.displayfield]=d.label,g[c]=d.value,this.treeGrid){var n=this.treeGrid.getRow(b);n&&(n[i.displayfield]=d.label,n[c]=d.value)}}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var o=f,p=this.source._source._localdata()[o];this.source.suspendKO=!0;var q=p;if(q[c]&&q[c].subscribe)null!=d&&null!=d.label?(q[i.displayfield](d.label),q[c](d.value)):q[c](d);else{var k=this.source._source.datafields,r=null;if(k&&a.each(k,function(){return this.name==c?(r=this.map,!1):void 0}),null==r)null!=d&&null!=d.label?(q[c]=d.value,q[i.displayfield]=d.label):q[c]=d;else{var s=r.split(this.source.mapChar);if(s.length>0){for(var t=q,u=0;u<s.length-1;u++)t=t[s[u]];t[s[s.length-1]]=d}}this.source._source._localdata.replace(p,a.extend({},q))}this.source.suspendKO=!1}if(this.source.updaterow&&(void 0==sync||1==sync)){var v=!1,w=function(a){0==a&&this.setCellValue(e,c,h,!0,!1)};try{var x=b;v=this.source.updaterow(x,g,w),void 0==v&&(v=!0)}catch(y){return v=!1,void this.setCellValue(e,c,h)}}var z=this.getrowdisplayindex(e);this._raiseEvent("cellValueChanged",{value:d,oldValue:h,dataField:c,key:b,boundIndex:f,index:z,row:this.rowsByKey[b]}),this._renderrows()}},setCellValue:function(a,b,c){if(null==a||null==b)return!1;var d=parseInt(a),e=this._getkey(d);this.setCellValueByKey(e,b,c)},getCellText:function(a,b){if(null==a||null==b)return!1;var c=parseInt(a),d=this._getkey(c);return this.getCellTextByKey(d,b)},getCellTextByKey:function(b,c){if(null==b||null==c)return null;var d=this.getCellValueByKey(b,c),e=this.getColumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):(a.jqx.dataFormat.isNumber(d)||!isNaN(parseFloat(d))&&isFinite(d))&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},getCellValue:function(a,b){if(null==a||null==b)return!1;var c=parseInt(a),d=this._getkey(c);return this.getCellValueByKey(d,b)},getCellValueByKey:function(a,b){var c=this.rowsByKey[a];!c&&this.treeGrid&&(c=this.treeGrid.getRow(a));var d=(this.getrowindex(c),c);return null!=d?d[b]:null},beginRowEdit:function(a){var b=this._getkey(a);this.beginroweditbykey(b)},beginCellEdit:function(a,b){var c=this._getkey(a),d=this.getColumn(b);this.beginroweditbykey(c,d)},endCellEdit:function(a,b,c){this.endRowEdit(a,c)},endRowEdit:function(a,b){var c=this._getkey(a);this.endroweditbykey(c,b)},getrowindex:function(a){var b=this.getRows().indexOf(a);if(-1!=b)return b;if(this.groups&&this.groups.length>0)for(var c=this.getRows(),d=0;d<c.length;d++)if(a.originalRecord){if(c[d].uid==a.originalRecord.uid){b=d;break}}else if(c[d].uid==a.uid){b=d;break}return b},getrowdisplayindex:function(a){if(this.treeGrid)return-1;var b=this.getView(),c=b.indexOf(a);if(-1!=c)return c;if(void 0==a)return c;for(var d=b,e=0;e<d.length;e++)if(d[e].uid==a.uid||a.originalRecord&&d[e].uid==a.originalRecord.uid){c=e;break}return c},beginroweditbykey:function(b,c){if(null==this._lastSelectedKey&&this.selectrowbykey(b),this.editKey===b&&void 0!=this.editKey)return!1;if(this.rowinfo[b]&&this.rowinfo[b].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(b,!0),!1;var d=this.editSettings.editSingleCell;if(!c&&d&&this.columns.records&&this.columns.records.length>0){for(var e=0;e<this.columns.records.length&&(c=this.columns.records[e],!c.editable||c.hidden);e++);if(!c)return!1}if(d&&c&&!c.editable)return this.editKey=null,!1;d&&(this.editColumn=c);var f=this,g=this.rowsByKey[b];if(this.treeGrid)var g=this.treeGrid.getRow(b);var h=this.getrowindex(g),i=this._getuirow(b),j=this._getpinneduirow(b);this._editors=new Array;var k=!1;if(i)for(var l=i[0].cells,m=0,e=0;e<l.length;e++){var n=this.columns.records[e],o=l[e];if(!n.rowdetailscolumn&&!(n.checkboxcolumn||(n.pinned&&(o=j[0].cells[e]),d&&c&&n.datafield!=c.datafield||(a(o).removeClass(this.toTP("jqx-grid-cell-selected")),a(o).removeClass(this.toTP("jqx-fill-state-pressed")),a(o).removeClass(this.toTP("jqx-grid-cell-hover")),a(o).removeClass(this.toTP("jqx-fill-state-hover")),"none"==n.columntype)))){var p=a(o).outerWidth(),q=a(o).width();0===m&&(m=a(o).outerHeight()-1),a(o).css("padding","0px"),cellContent="<div style='height:"+m+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var r=this.getCellTextByKey(b,n.displayfield);o.innerHTML=cellContent;var s=a(o.firstChild);switch(n.columntype){case"textbox":case"default":var t=a("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(s);if(this.rtl&&t.css("direction","rtl"),t.addClass(this.toThemeProperty("jqx-input")),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-cell-editor")),t[0].onfocus=function(b){setTimeout(function(){if(b){var c=a(b.target).parent().parent().index();c>=0&&f.ensureColumnVisible(f.columns.records[c].datafield)}else{var c=a(document.activeElement).parent().parent().index();c>=0&&f.ensureColumnVisible(f.columns.records[c].datafield)}f.content&&(f.content[0].scrollTop=0,f.content[0].scrollLeft=0),f.gridcontent&&(f.gridcontent[0].scrollLeft=0,f.gridcontent[0].scrollTop=0)},10)},n.editable){if(!k){k=!0;var u=a.jqx.browser.msie&&a.jqx.browser.version>10;u||t.focus();var v=t;setTimeout(function(){u||v.focus();try{if("selectionStart"in v[0])v[0].setSelectionRange(0,0);else{var a=v[0].createTextRange();a.collapse(!0),a.moveEnd("character",0),a.moveStart("character",0),a.select()}}catch(b){}},10)}}else t.attr("disabled",!0),t.attr("readOnly",!0),t.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(t.width(q),t.height(m),a.jqx.browser.msie&&a.jqx.browser.version<9&&t.css("line-height",parseInt(m)+"px"),t.css("text-align",n.cellsalign),null===r&&(r=""),void 0==r&&(r=""),t.val(r),n.createeditor){var w=r,r=this.getCellValueByKey(b,n.displayfield);n.createeditor(this.treeGrid?b:h,r,t,w,q,m)}if(this._editors.push({column:n,editor:t}),""!=n.cellsformat&&(-1!=n.cellsformat.indexOf("p")||-1!=n.cellsformat.indexOf("c")||-1!=n.cellsformat.indexOf("n")||-1!=n.cellsformat.indexOf("f"))&&t.keydown(function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0,c=String.fromCharCode(b),d=parseInt(c);if(isNaN(d))return!0;if(f._selection(t).length>0)return!0;var e="",g=t.val();if(n.cellsformat.length>1){var h=parseInt(n.cellsformat.substring(1));isNaN(h)&&(h=0)}else var h=0;if(h>0&&-1!=g.indexOf(f.gridlocalization.decimalseparator)&&f._selection(t).start>g.indexOf(f.gridlocalization.decimalseparator))return!0;for(var i=0;i<g.length-h;i++){var j=g.substring(i,i+1);null!=j.match(/^[0-9]+$/)&&(e+=j)}return e.length>=11?!1:void 0}),n.initeditor){var w=r,r=this.getCellValueByKey(b,n.displayfield);n.initeditor(this.treeGrid?b:h,r,t,w,q,m)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var x=a("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(s),y=a.trim(n.datafield).split(" ").join("");-1!=y.indexOf(".")&&(y=y.replace(".",""));var z=this.editorsCache["templateeditor_"+y];if("custom"==n.columntype)var z=this.editorsCache["customeditor_"+y+"_"+b];var w=r,r=this.getCellValueByKey(b,n.displayfield);if(z){var t=z;t.width(p),t.height(m),t.appendTo(x)}else{var t=a("<div style='border: none;'></div>");t.width(p),t.height(m),z=t,null===r&&(r=""),"custom"!=n.columntype?this.editorsCache["templateeditor_"+y]=t:this.editorsCache["customeditor_"+y+"_"+b]=t,t.appendTo(x),n.createeditor&&n.createeditor(this.treeGrid?b:h,r,t,w,p,m)}n.initeditor&&n.initeditor(this.treeGrid?b:h,r,t,w,p,m),this._editors.push({column:n,editor:t})}}}this.editKey=b,this.beginupdate();var A=this.getrowdisplayindex(g);if(this._raiseEvent("rowBeginEdit",{key:b,index:A,boundIndex:h,row:this.rowsByKey[b]}),d){var g=this.rowsByKey[b],B=null,C=null;g&&(B=g[c.datafield],C=g[c.displayfield]),this._raiseEvent("cellBeginEdit",{value:B,displayValue:C,key:b,index:A,dataField:c.datafield,displayField:c.displayfield,boundIndex:h,row:this.rowsByKey[b]})}this.endupdate(!1)},_toNumber:function(a){a.indexOf||void 0==a||(a=a.toString()),a.indexOf(this.gridlocalization.currencysymbol)>-1&&(a=a.replace(this.gridlocalization.currencysymbol,""));var b=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);-1!=e;)d=d.replace(b,c),e=d.indexOf(b);return d};a=b(a,this.gridlocalization.thousandsseparator,""),a=a.replace(this.gridlocalization.decimalseparator,"."),a.indexOf(this.gridlocalization.percentsymbol)>-1&&(a=a.replace(this.gridlocalization.percentsymbol,""));for(var c="",d=0;d<a.length;d++){var e=a.substring(d,d+1);"-"===e&&(c+="-"),"."===e&&(c+="."),null!=e.match(/^[0-9]+$/)&&(c+=e)}return a=c,a=a.replace(/ /g,"")},_geteditorvalue:function(b,c,d,e){var f=new String;if(c){if(!b.geteditorvalue)switch(b.columntype){case"textbox":default:if(f=c.val(),""!=b.cellsformat){var g="string",h=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(h){var i="";a.each(h,function(){return this.name==b.displayfield?(this.type&&(i=this.type),!1):void 0}),i&&(g=i)}var j="number"===g||"float"===g||"int"===g||"integer"===g,k="date"===g||"time"===g;if(j||"string"===g&&(-1!=b.cellsformat.indexOf("p")||-1!=b.cellsformat.indexOf("c")||-1!=b.cellsformat.indexOf("n")||-1!=b.cellsformat.indexOf("f"))){if(""===f&&b.nullable)return"";f=this._toNumber(f),f=new Number(f),isNaN(f)&&(f="")}if(k||"string"===g&&(-1!=b.cellsformat.indexOf("H")||-1!=b.cellsformat.indexOf("m")||-1!=b.cellsformat.indexOf("M")||-1!=b.cellsformat.indexOf("y")||-1!=b.cellsformat.indexOf("h")||-1!=b.cellsformat.indexOf("d"))){if(""===f&&b.nullable)return"";var l=f;f=new Date(f),("Invalid Date"==f||null==f||b.cellsformat.length>1)&&(a.jqx.dataFormat&&(f=a.jqx.dataFormat.parsedate(l,b.cellsformat,this.gridlocalization)),("Invalid Date"==f||null==f)&&(f=""))}}b.displayfield!=b.datafield&&(f={label:f,value:f})}if(b.geteditorvalue){var m=this.getCellValueByKey(e,b.displayfield);f=b.geteditorvalue(this.treeGrid?e:d,m,c)}}return f},endroweditbykey:function(b,c){var d=this.rowsByKey[b],e=this.getrowindex(d),f=this;if(c!==!0){var g=f._editors,h=!0;if(g){for(var i=f.editKey,j=f._getuirow(i),k=0;k<g.length;k++){var l=g[k].editor,m=g[k].column,n=f._geteditorvalue(m,l,e,i);if(m.validation){l.removeClass(f.toThemeProperty("jqx-grid-validation-label"));var o=m.datafield;try{var p=m.validation({value:n,row:i,datafield:m.datafield,displayfield:m.displayfield,column:m},n),q=f.gridlocalization.validationstring;void 0!=p.message&&(q=p.message);var r="boolean"==typeof p?p:p.result;r||((void 0==p.showmessage||1==p.showmessage)&&f._showvalidationpopup(j,o,q,l),h=!1)}catch(s){f._showvalidationpopup(j,o,f.gridlocalization.validationstring,l),h=!1}}}if(h){f.dataview._sortHierarchyData=null,f.dataview._sortData=null;for(var k=0;k<g.length;k++){var l=g[k].editor,m=g[k].column,n=f._geteditorvalue(m,l,e,i),t=d[m.displayfield];if(n&&void 0!=n.label?(d[m.displayfield]=n.label,d[m.datafield]=n.value):d[m.displayfield]=n,f.treeGrid){var u=f.treeGrid.getRow(i);u&&(u[m.displayfield]=n)}if(f.editorsCache){var v=function(a){if(a&&a.jqxWidget){var b=a.jqxWidget.element.className;if((b.indexOf("dropdownlist")>=0||b.indexOf("datetimeinput")>=0||b.indexOf("combobox")>=0||b.indexOf("menu")>=0)&&a.jqxWidget.isOpened){var c=a.jqxWidget.isOpened();c&&a.jqxWidget.close()}}},w="customeditor_"+m.displayfield+"_"+b,x="templateeditor_"+m.displayfield;if(f.editorsCache[w]){var y=a(f.editorsCache[w]).data();v(y),f.editorsCache[w].detach()}if(f.editorsCache[x]){f.editorsCache[x].detach();var y=a(f.editorsCache[x]).data();v(y)}}n!=t&&(f.beginupdate(),f._raiseEvent("cellValueChanged",{value:n,oldValue:t,key:b,index:e,row:d}),f.endupdate(!1))}}}if(!h)return!1;f.updaterowbykey(f.editKey,d,!1)}if(f.editorsCache)for(var l in f.editorsCache){var y=a(f.editorsCache[l]).data();if(y&&y.jqxWidget){var z=y.jqxWidget.element.className;if((z.indexOf("dropdownlist")>=0||z.indexOf("datetimeinput")>=0||z.indexOf("combobox")>=0||z.indexOf("menu")>=0)&&y.jqxWidget.isOpened){var A=y.jqxWidget.isOpened();A&&y.jqxWidget.close()}a(f.editorsCache[l]).detach()}}f.beginupdate();var B=f.getrowdisplayindex(d);if(f.editSettings.editSingleCell){var d=f.rowsByKey[b],n=null,C=null;d&&(n=d[f.editColumn.datafield],C=d[f.editColumn.displayfield]),f._raiseEvent("cellEndEdit",{value:n,displayValue:C,key:b,index:B,dataField:f.editColumn.datafield,displayField:f.editColumn.displayfield,boundIndex:e,row:f.rowsByKey[b]})}return f._raiseEvent("rowEndEdit",{key:b,index:B,boundIndex:e,row:f.rowsByKey[b]}),f.endupdate(!1),f.editColumn=null,f.editKey=null,f._renderrows(),f._renderhorizontalscroll(),f.host.focus(),setTimeout(function(){f.host.focus()},10),!0},_showvalidationpopup:function(b,c,d,e){if(void 0==d)var d=this.gridlocalization.validationstring;e.addClass(this.toThemeProperty("jqx-grid-validation-label"));var f=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),g=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");f.html(d),g.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),f.addClass(this.toThemeProperty("jqx-grid-validation")),f.addClass(this.toThemeProperty("jqx-rc-all")),f.hide(),g.hide(),f.prependTo(this.table),g.prependTo(this.table);var h=this.hScrollInstance,i=h.value,j=parseInt(i),k=this.getColumn(c).uielement,l=b;f.css("top",parseInt(l.position().top)+30+"px");var m=parseInt(f.css("top"));g.css("top",m-11),g.removeClass(),g.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var n=!1;m>=this._table.height()&&(g.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),g.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=parseInt(l.position().top)-l.outerHeight()-5,0>m&&(m=0,g.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),n=!0),f.css("top",m+"px"),g.css("top",m+f.outerHeight()-9));var o=-j+parseInt(a(k).position().left);g.css("left",j+o+30);var p=f.width();if(p+o>this.host.width()-20){var q=p+o-this.host.width()+40;o-=q}n?f.css("left",j+parseInt(a(k).position().left)-f.outerWidth()):f.css("left",j+o),e.mouseenter(function(){e.hasClass("jqx-grid-validation-label")&&(f.show(),g.show())}),e.mouseleave(function(){f.hide(),g.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:f,validationrow:g}},addRow:function(b,c,d,e){if(void 0!=c){this._datachanged=!0,void 0==d&&(d="last");var f=!1,g=this.that;if(null==b){var h=this.dataview.filters&&this.dataview.filters.length>0,i=h?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;var i=h?this.source.records.length:this.dataview.totalrecords}if(a.isArray(c)){var j=new Array;a.each(c,function(a,b){var d=g.dataview.getid(g.dataview.source.id,c[a],i+a);j.push(d),g.getColumn(g.dataview.source.id)&&(c[a][g.dataview.source.id]=d)}),b=j}else b=this.dataview.getid(this.dataview.source.id,c,i),this.getColumn(this.dataview.source.id)&&(c[this.dataview.source.id]=b)}else a.isArray(c)?a.each(c,function(a,d){var e=b[a];g.getColumn(g.dataview.source.id)&&(c[a][g.dataview.source.id]=e)}):this.getColumn(this.dataview.source.id)&&(c[this.dataview.source.id]=b);var k=this.treeGrid&&this.treeGrid.virtualModeCreateRecords?!0:!1,l=function(b,c,d,f){if(b._loading)throw new Error("jqxDataTable: "+b.loadingerrormessage);var g=b.vScrollInstance.value,h=!1;return a.isArray(d)?a.each(d,function(a,d){var g=null;null!=c&&null!=c[a]&&(g=c[a]),this.uid=g,b.rowsByKey[g]=this,c==e&&(e=null),h=b.source.addRecord(this,f,e,k)}):(d.uid=c,b.rowsByKey[c]=d,c==e&&(e=null),h=b.source.addRecord(d,f,e,k)),(void 0==b._updating||0==b._updating)&&b.refresh(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.push(d),b.source.suspendKO=!1),b.vScrollInstance.setPosition(g),h};if(this.source.addrow){var m=function(a,e){(1==a||void 0==a)&&(void 0!=e&&(b=e),l(g,b,c,d))};try{f=g.treeGrid?this.source.addrow(b,c,d,e,m):this.source.addrow(b,c,d,m),void 0==f&&(f=!0)}catch(n){f=!1}if(0==f)return!1}else l(this,b,c,d);return f}return!1},deleteRow:function(a){var b=this._getkey(a);this.deleterowbykey(b)},deleterowbykey:function(b){if(void 0!=b){this._datachanged=!0;var c=!1,d=this.that,e=function(b,c){if(b._loading)throw new Error("jqxDataTable: "+b.loadingerrormessage);var d=!1,e=b.vScrollInstance.value;if(a.isArray(c))a.each(c,function(){var a=this;if(b.rowsByKey[a]){if(d=!0,b.rowinfo[a].selected&&b.unselectrowbykey(a,!1),b.treeGrid)var c=b._names(),e=b.rowsByKey[a][c.parent];if(delete b.rowsByKey[a],b.treeGrid&&b.rowinfo[a]){var f=b.rowinfo[a].row.records,g=function(a){for(var c=0;c<a.length;c++){var d=a[c].uid;delete b.rowsByKey[d],delete b.rowinfo[d],a[c].records&&g(a[c].records)}};f&&(g(f),delete b.rowinfo[a])}b.source.deleteRecord(a),e&&c&&e.records&&0==e.records.length&&(e[c.leaf]=!0,b.rowinfo[e.uid][c.leaf]=!0)}});else{var d=!1;if(b.rowsByKey[c]){if(d=!0,b.rowinfo[c].selected&&b.unselectrowbykey(c,!1),b.treeGrid)var f=b._names(),g=b.rowsByKey[c][f.parent];if(delete b.rowsByKey[c],b.treeGrid&&b.rowinfo[c]){var h=b.rowinfo[c].row.records,i=function(a){for(var c=0;c<a.length;c++){var d=a[c].uid;delete b.rowsByKey[d],delete b.rowinfo[d],a[c].records&&i(a[c].records)}};h&&i(h)}delete b.rowinfo[c],b.source.deleteRecord(c),g&&f&&g.records&&0==g.records.length&&(g[f.leaf]=!0,b.rowinfo[g.uid][f.leaf]=!0)}}return b.refresh(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.pop(rowdata),b.source.suspendKO=!1),b.vScrollInstance.setPosition(e),d};if(this.source.deleterow){var f=function(a){(1==a||void 0==a)&&e(d,b)};try{this.source.deleterow(b,f),void 0==c&&(c=!0)}catch(g){c=!1}}else c=e(d,b);return c}return!1},updateRow:function(a,b){var c=this._getkey(a);this.updaterowbykey(c,b)},updaterowbykey:function(b,c,d){if(void 0!=b&&void 0!=c){var e=this.that,f=!1,g=function(b,c,e){if(b._loading)throw new Error("jqxDataTable: "+b.loadingerrormessage);var f=!1;if(a.isArray(c))a.each(c,function(a,c){var d=b.rowsByKey[this],g=function(b,c){d?d[this]=e[a]:f=!1};g(this,d),b.treeGrid&&(d=b.treeGrid.getRow(this),g(this,d))});else{var g=b.rowsByKey[c],h=function(a){if(a)for(var c=0;c<b.columns.records.length;c++)a[b.columns.records[c].datafield]=e[b.columns.records[c].datafield],b.groups.length>0&&a.originalRecord&&(a.originalRecord[b.columns.records[c].datafield]=e[b.columns.records[c].datafield]);else f=!1};h(g),b.treeGrid&&(g=b.treeGrid.getRow(c),h(g))}var i=b.vScrollInstance.value;if((void 0==d||1==d)&&(void 0==b._updating||0==b._updating)&&b._renderrows(),b.showaggregates&&b._updatecolumnsaggregates&&b._updatecolumnsaggregates(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata){var g=b.rowsByKey[c],j=b.getrowindex(g),k=b.source._source._localdata()[j];b.source.suspendKO=!0,b.source._source._localdata.replace(k,a.extend({},g)),b.source.suspendKO=!1}return b.vScrollInstance.setPosition(i),f};if(this.source.updaterow){var h=function(a){(1==a||void 0==a)&&g(e,b,c)};try{f=this.source.updaterow(b,c,h),void 0==f&&(f=!0)}catch(i){f=!1}}else f=g(e,b,c);return f}return!1},lockRow:function(a){var b=this._getkey(a);this.lockrowbykey(b)},unlockRow:function(a){var b=this._getkey(a);this.unlockrowbykey(b)},lockrowbykey:function(a){this.rowinfo[a]?this.rowinfo[a].locked=!0:this.rowinfo[a]={locked:!0},this._renderrows()},unlockrowbykey:function(a){this.rowinfo[a]?this.rowinfo[a].locked=!1:this.rowinfo[a]={locked:!1},this._renderrows()},selectRow:function(a){var b=this._getkey(a);this.selectrowbykey(b)},unselectRow:function(a){var b=this._getkey(a);this.unselectrowbykey(b)},selectrowbykey:function(a,b,c){"keyboard"!=b&&"mouse"!=b&&(this._lastSelectedKey=a);var d=c!==!1?!0:!1;this._doSelection(a,!0,d);var e=this.rowsByKey[a],f=this.getrowindex(e),g=this.getrowdisplayindex(e);this._raiseEvent("rowSelect",{key:a,index:g,boundIndex:f,row:this.rowsByKey[a]})},unselectrowbykey:function(a,b){var c=b!==!1?!0:!1;this._doSelection(a,!1,c);var d=this.rowsByKey[a],e=this.getrowindex(d),f=this.getrowdisplayindex(d);this._raiseEvent("rowUnselect",{key:a,index:f,boundIndex:e,row:this.rowsByKey[a]})},getselection:function(){var a=new Array;if(this.rowinfo)for(var b in this.rowinfo){var c=this.rowinfo[b];c.selected&&a.push(c.row)}return a},showdetailsbykey:function(b){if(this.rowdetails){var c=this.rowinfo[b];if(c){c.expanded=!0;var d=a(this._table.children()[1]).children("[data-key="+b+"]"),e=a(this._pinnedTable.children()[1]).children("[data-key="+b+"]");if(d){var f=e.children(),g=a(f[0]);if(this.rtl)var g=a(f[f.length-1]);this.rtl?(g.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),g.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),g.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(g.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),g.addClass(this.toThemeProperty("jqx-grid-group-expand")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),g.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),d.next().show();var h=e.next();if(h.show(),a.jqx.browser.msie&&a.jqx.browser.version<8&&(d.next().children().show(),e.next().children().show()),!c.initialized){var i=c.detailsHeight,j=this.initrowdetails(b,c.row,a(a(h).children().children().children()[0]),c);c.details=a(h).children().children().children()[0],c.initialized=!0,(j===!1||c.detailsHeight!=i)&&(j===!1&&(c.expanded=!1,c.nodetails=!0,h.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var k=this.getrowindex(c.row),l=this.getrowdisplayindex(c.row);this._raiseEvent("rowExpand",{row:c.row,index:l,boundIndex:k,rowKey:b})}}}},hidedetailsbykey:function(b){if(this.rowdetails){var c=this.rowinfo[b];if(c){c.expanded=!1;var d=a(this._table.children()[1]).children("[data-key="+b+"]"),e=a(this._pinnedTable.children()[1]).children("[data-key="+b+"]");if(d){var f=e.children(),g=a(f[0]);if(this.rtl)var g=a(f[f.length-1]);this.rtl?(g.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),g.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),g.addClass(this.toThemeProperty("jqx-icon-arrow-left")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(g.addClass(this.toThemeProperty("jqx-grid-group-collapse")),g.removeClass(this.toThemeProperty("jqx-grid-group-expand")),g.addClass(this.toThemeProperty("jqx-icon-arrow-right")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),d.next().hide(),e.next().hide(),a.jqx.browser.msie&&a.jqx.browser.version<8&&(d.next().children().hide(),e.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var h=this.getrowindex(c.row),i=this.getrowdisplayindex(c.row);this._raiseEvent("rowCollapse",{row:c.row,index:i,boundIndex:h,rowKey:b})}}}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value;"hidden"===this.hScrollBar.css("visibility")&&(a.value=0,b=0);var c=parseInt(b);if(null!=this.table){var d=this.columnsrow,e=0,f=this.columns.records.length-e,g=this.columns.records,h=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(c=a.max-c),h&&!this._haspinned)this.table[0].style.left=-c+"px",d[0].style.marginLeft=-c+"px";else{if(this._haspinned||void 0==this._haspinned){for(var i=0;e+f>i;i++){var j=g[i];if(j.pinned){var k=null;if(this.showaggregates&&this.statusbar[0].cells&&(k=this.statusbar[0].cells[i]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[i]),
this.rtl){var l=d[0].cells[i];l.style.marginLeft=-parseInt(b)+"px",k&&(k.style.marginLeft=-parseInt(b)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(b)+"px")}else{var l=d[0].cells[i];l.style.marginLeft=c+"px",k&&(k.style.marginLeft=c+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=c+"px")}}}this._table[0].style.left=-c+"px",d[0].style.marginLeft=-c+"px"}else 0==this._haspinned&&(this.table[0].style.left=-c+"px",d[0].style.marginLeft=-c+"px");this.filterrow&&(this.filterrow[0].style.left=-c+"px")}if(this.showaggregates&&this.aggregates[0].cells){var m=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(m="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-c+m+"px"}}},_initializeColumns:function(){var c=this.source.datafields;null==c&&this.source._source&&(c=this.source._source.datafields);var d=c?c.length>0:!1;if(this.columns&&this.columns.records)for(var e=0;e<this.columns.records.length;e++)this._removecolumnhandlers(this.columns.records[e]);var f=this,g=new a.jqx.collection(this.element),h=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionmode){var i=new b(f,this);i.visibleindex=h++,i.width=f.indentwidth,i.checkboxcolumn=!0,i.editable=!1,i.columntype="checkbox",i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.datafield="_checkboxcolumn",g.add(i)}if(this.rowdetails&&!this.treeGrid){var i=new b(f,this);i.visibleindex=h++,i.width=f.indentwidth,i.editable=!1,i.rowdetailscolumn=!0,i.groupable=!1,i.draggable=!1,i.pinned=!0,i.filterable=!1,i.resizable=!1,i.text="",g.add(i)}var j=new Array;a.each(this.columns,function(a){if(void 0!=f.columns[a]){var c=new b(f,this);if(c.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(f._haspinned=!0),null==this.datafield)f.source&&f.source._source&&"array"==f.source._source.datatype&&(d||(f.source._source.datafields?f.source._source.datafields.push({name:a.toString()}):(f.source._source.datafields=new Array,f.source._source.datafields.push({name:a.toString()}))),this.datafield=a.toString(),this.displayfield=a.toString(),c.datafield=this.datafield,c.displayfield=this.displayfield);else{if(j[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");j[this.datafield]=!0}g.add(c)}}),this.rtl&&g.records.reverse(),this.columns=g},addFilter:function(a,b){var c=this.getColumn(a);c&&this.dataview.addFilter(a,b)},removeFilter:function(a){var b=this.getColumn(a);b&&this.dataview.removeFilter(a)},clearFilters:function(a,b){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,b!==!1&&this.resetfilter(),a!==!1&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var b=0;b<this.filterrow[0].cells.length;b++){var c=this.filterrow[0].cells[b],d=a(c).find("input:first"),e=a(c).find(".filterconditions"),f=this.columns.records[b];if(f.filterable){d.val("");var g=this.getcolumntypebydatafield(f),h=new a.jqx.filter;switch(g){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=h.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=h.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=h.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=h.getoperatorsbyfiltertype("stringfilter")}e.length>0&&("stringfilter"===filtertype?e.jqxDropDownList({selectedIndex:2}):e.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var a=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(a)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(a,b){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingerrormessage);if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(null==a&&(b=null,a=this.sortcolumn),a){var c=this;"a"==b||"asc"==b||"ascending"==b||1==b?ascending=!0:ascending=!1,null!=b?c.sortdirection={ascending:ascending,descending:!ascending}:c.sortdirection={ascending:!1,descending:!1},null!=b?c.sortcolumn=a:c.sortcolumn=null,c.source.sort&&(c.dataview.sortfield=a,null==b?c.dataview.sortfielddirection="":c.dataview.sortfielddirection=ascending?"asc":"desc",c.source.sort&&!this._loading&&c.source.sort(a,b)),c.dataview.sortBy(a,b),c._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(a){var b=this;if(!this.disabled&&a.sortable&&b.sortable){var c={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},d=null;null!=c.sortcolumn&&c.sortcolumn==a.displayfield?(d=c.sortdirection.ascending,d=1==d?!1:null):d=!0,b.sortBy(a.displayfield,d)}},_renderfilter:function(){var b=this,c=a("<div style='position: relative; margin: 4px;'><input role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");c.height(22);var d=c.find("input"),e=c.find("div:first");c.addClass(this.toThemeProperty("jqx-rc-all")),c.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-input-group")),d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-rc-l")),d.addClass(this.toThemeProperty("jqx-input-group-addon")),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-widget-content")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-rc-r")),e.addClass(this.toThemeProperty("jqx-input-group-addon")),e.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.filter.children().remove(),this.filterbutton=e;for(var f=new Array,g=0;g<b.columns.records.length;g++)b.columns.records[g].datafield&&b.columns.records[g].filterable&&f.push({label:b.columns.records[g].text,value:b.columns.records[g].displayfield});var h=f.length<10?!0:!1,i=a("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(i);var j=a("<div class='filtercolumns' style='margin: 4px; float: left;'></div>");this.filter.append(j),j.jqxDropDownList&&j.jqxDropDownList({theme:this.theme,autoDropDownHeight:h,rtl:b.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:f,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=j;var k=function(a){b.filterinput.val("");for(var c=0;c<b.dataview.filters.length;c++){var d=b.dataview.filters[c];d.datafield===a&&b.filterinput.val(d.filter.getfilterat(0).filtervalue)}};b._updateSimpleFilter=k,this.addHandler(j,"select",function(a){var b=a.args.item.value;k(b)}),"simple"===this.filtermode?(this.filtercolumnsList.hide(),i.show(),i.css("margin-top",-this.filter.height()/2)):(this.filtercolumnsList.show(),i.hide());var l=function(){if(!e.hasClass("jqx-fill-state-disabled")){var c=d.val();if(j.jqxDropDownList)var f=j.jqxDropDownList("getSelectedItem");var g=function(c,d,e){var f=new a.jqx.filter,g=b.getcolumntypebydatafield(c),h=b._getfiltertype(g);if("datefilter"==h)var i=f.createfilter(h,d,"EQUAL",null,c.cellsformat,b.gridlocalization);else if("numericfilter"==h||"booleanfilter"==h){"numericfilter"==h&&(","==b.gridlocalization.decimalseparator&&d.indexOf(b.gridlocalization.decimalseparator)>=0&&(d=d.replace(b.gridlocalization.decimalseparator,".")),d.indexOf(b.gridlocalization.currencysymbol)>=0&&(d=d.replace(b.gridlocalization.currencysymbol,"")),d.indexOf(b.gridlocalization.percentagesymbol)>=0&&(d=d.replace(b.gridlocalization.percentagesymbol,"")));var i=f.createfilter(h,d,"EQUAL",null,c.cellsformat,b.gridlocalization)}else var i=f.createfilter(h,d,"CONTAINS");return f.operator=e,f.addfilter(0,i),f};if("simple"!==b.filtermode){if(f){var h=f.value,i=b.getColumn(h),k=g(i,c,"and");c.length>0?(b.removeFilter(h),b.addFilter(h,k),b.applyFilters()):(b.removeFilter(h),b.applyFilters()),"advanced"===b.filtermode&&b._updateFilterRow&&b._updateFilterRow(!0)}}else{if(b.clearFilters(!1,!1),c.length>0)for(var l=0;l<b.columns.records.length;l++){var i=b.columns.records[l],k=g(i,c,"or");b.addFilter(i.datafield,k)}b.applyFilters()}0==b.dataview.filters.length?b.filtericon.fadeOut(200):b.filtericon.fadeIn(200)}};if(d.keydown(function(a){return 13===a.keyCode?(l(),a.preventDefault&&a.preventDefault(),!1):void 0}),e.click(function(){l()}),this.filterinput=d,this.filter.append(c),"advanced"==this.filtermode){var m=a("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");c.append(m),this.addHandler(m,"click",function(c){var d=function(c){if(b.filterrow)for(var d=0;d<b.filterrow[0].cells.length;d++){var e=b.filterrow[0].cells[d],f=a(e).find("input:first"),g=b.columns.records[d];if(g.filterable){c===!0&&f.val("");for(var h=0;h<b.dataview.filters.length;h++){var i=b.dataview.filters[h];if(i.datafield===g.displayfield){f.val(i.filter.getfilterat(0).filtervalue);break}}}}};b._updateFilterRow=d;var e=function(){b.filtercolumnsList.jqxDropDownList({disabled:!0}),b.filterinput.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filterinput.attr("disabled",!0),b.filterbutton.addClass(b.toThemeProperty("jqx-fill-state-disabled"))};return 0===b.filter.find(".filterrow").length?(b._renderadvancedfilter(),e(),d(),b._arrange()):("none"===b.filter.find(".filterrow").css("display")?(e(),b.filter.find(".filterrow").removeClass("filterrow-hidden"),d(),b.filter.find(".filterrow").show()):(b.filtercolumnsList.jqxDropDownList({disabled:!1}),b.filterinput.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filterinput.attr("disabled",!1),b.filterbutton.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),k(b.filtercolumnsList.jqxDropDownList("getSelectedItem").value),b.filter.find(".filterrow").addClass("filterrow-hidden"),b.filter.find(".filterrow").hide()),b._arrange()),!1})}var n=a("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");n.attr("title",b.gridlocalization.filterclearstring),n.addClass(b.toThemeProperty("jqx-icon-close")),c.append(n),n.hide(),b.filtericon=n,n.click(function(){b.clearFilters(),b.filtericon.fadeOut(200)})},_renderadvancedfilter:function(){var b=this,c=function(){b.clearFilters(!1,!1);for(var c=b.filtercolumnsList.jqxDropDownList("getSelectedItem").value,d=(b.filterinput.val(),0);d<b.filterrow[0].cells.length;d++){var e=b.filterrow[0].cells[d],f=a(e).find("input:first"),g=a(e).find(".filterconditions"),h=b.columns.records[d],i="";if(h.filterable){h.displayfield===c&&b.filterinput.val(f.val());var j=b.getcolumntypebydatafield(h),k=new a.jqx.filter;switch(j){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=k.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=k.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=k.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=k.getoperatorsbyfiltertype("stringfilter")}if(0==g.length)i="stringfilter"===filtertype?conditions[2]:conditions[0];else{var l=g.jqxDropDownList("getSelectedItem");i=l?conditions[l.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var m=f.val();if(m.length>0||0==m.length&&"NOT_NULL"==i||0==m.length&&"NOT_EMPTY"==i||0==m.length&&"EMPTY"==i||0==m.length&&"NULL"==i){var n=h.displayfield,o=new a.jqx.filter;"numericfilter"==filtertype&&(","==b.gridlocalization.decimalseparator&&m.indexOf(b.gridlocalization.decimalseparator)>=0&&(m=m.replace(b.gridlocalization.decimalseparator,".")),m.indexOf(b.gridlocalization.currencysymbol)>=0&&(m=m.replace(b.gridlocalization.currencysymbol,"")),m.indexOf(b.gridlocalization.percentagesymbol)>=0&&(m=m.replace(b.gridlocalization.percentagesymbol,"")));var k=o.createfilter(filtertype,m,i,null,h.cellsformat,b.gridlocalization);o.addfilter(0,k),b.addFilter(n,o)}}}b.dataview.filters.length>0?b.applyFilters():b.clearFilters(),0==b.dataview.filters.length?b.filtericon.fadeOut(200):b.filtericon.fadeIn(200)},d=function(){var d=a("<div style='position: relative;' class='filterrow'></div>").appendTo(b.filter);b.filterrow=d,d[0].cells=new Array,d.height(24),d.width(b.table.width());var e=b.filtercolumnsList.jqxDropDownList("getSelectedItem").value,f=b.filterinput.val();a.each(b.columns.records,function(){var g=this,h=a("<div></div>").appendTo(d);if(h.css("position","absolute"),h.css("left",g.uielement[0].style.left),g.pinned&&(h.css("z-index",b.tableZIndex+b.columns.records.length),h.addClass(b.toThemeProperty("jqx-widget-header"))),d[0].cells.push(h[0]),!this.filterable)return!0;var i=a("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(h);i.keydown(function(a){13===a.keyCode&&c()}),g.displayfield===e&&i.val(f),i.addClass(b.toThemeProperty("jqx-input")),i.addClass(b.toThemeProperty("jqx-rc-all")),i.addClass(b.toThemeProperty("jqx-widget")),i.addClass(b.toThemeProperty("jqx-widget-content"));var j=a("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(h);j.append(a("<div style='width: 16px; height: 16px;' class='"+b.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),i.focus(function(){b.ensureColumnVisible(g.displayfield),b.filter[0].scrollLeft=0,b.ensureColumnVisible(g.displayfield),setTimeout(function(){b.filter[0].scrollLeft=0,b.ensureColumnVisible(g.displayfield)},10)}),j.click(function(){var c=a("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");c.insertAfter(j),j.remove();var d=b.getcolumntypebydatafield(g),e=b._getfiltersbytype(d);"string"===d?index=2:index=0,c.jqxDropDownList({theme:b.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:b.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:e,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+b.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),b.addHandler(c,"close",function(a){i.focus(),setTimeout(function(){i.focus()},10)}),c.removeAttr("tabindex"),c.find("div").removeAttr("tabindex"),c.jqxDropDownList("open")}),i[0].style.width=g.width-6-22+"px"}),a("<div style='clear: both;'></div>").appendTo(d)};d();var e=a("<div class='filterrow'></div>").appendTo(b.filter),f=a("<input type='button' style='float: left; margin-top: 4px; margin-left: 4px;' value='"+b.gridlocalization.filterapplystring+"'/>").appendTo(e),g=a("<input type='button' style='float: left; margin-top: 4px;  margin-left: 4px;' value='"+b.gridlocalization.filtercancelstring+"'/>").appendTo(e);f.jqxButton({theme:b.theme}),g.jqxButton({theme:b.theme}),g.click(function(){b.filtercolumnsList.jqxDropDownList({disabled:!1}),b.filterinput.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filterinput.attr("disabled",!1),b.filterbutton.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filter.find(".filterrow").addClass("filterrow-hidden"),b.filter.find(".filterrow").hide(),b._arrange()}),f.click(function(){c()}),b._renderhorizontalscroll()},_getfiltertype:function(a){var b="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":b="numericfilter";break;case"boolean":case"bool":b="booleanfilter";break;case"date":case"time":b="datefilter";break;case"string":b="stringfilter"}return b},getcolumntypebydatafield:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){return this.name==b.displayfield?(this.type&&(f=this.type),!1):void 0}),f)return f}return d},_getfiltersbytype:function(a){var b=this,c="";switch(a){case"number":case"float":case"int":c=b.gridlocalization.filternumericcomparisonoperators;break;case"date":c=b.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":c=b.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:c=b.gridlocalization.filterstringcomparisonoperators}return c},_getcellvalue:function(a,b){var c=null;return c=b[a.datafield],null!=a.displayfield&&(c=b[a.displayfield]),null==c&&(c=""),c},_renderrows:function(){if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(this.treeGrid)return void this.treeGrid._renderrows();if(!this._loading&&!this._updating){this.rendering&&this.rendering();var b=this,c=0;this.table[0].rows=new Array;var d=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(d+=" "+this.toTP("jqx-cell-rtl"));var e=this.columns.records.length,f=a.jqx.browser.msie&&a.jqx.browser.version<8;f&&this.host.attr("hideFocus","true");var g=b.groups.length,h=new Array,i=this.source.records;if(i=this.dataview.evaluate(i),this.dataViewRecords=i,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var j=i;if(this.pageable&&this.serverProcessing&&i.length>this.dataview.pagesize)var j=i.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else var j=i.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(b.groups&&b.groups.length>0){var k=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0,l=b.source.getGroupedRecords(b.groups,"records","label",null,"data",null,"parent",j,k),m=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(b.push(d),d.records&&d.records.length>0)for(var e=m(d.records,new Array),f=0;f<e.length;f++)e[f].leaf?b.push(e[f]):b.push(e[f])}return b},h=m.call(b,l,new Array);j=h,this.rowsByKey=new Array;for(var n=0;n<j.length;n++){var o=j[n];this.rowsByKey[o.uid]=o}}var h=j;this.renderedRecords=h;var p=h.length,q=this.tableZIndex,r=0,s=0;if(f)for(var t=0;e>t;t++){var u=this.columns.records[t],v=u.width;v<u.minwidth&&(v=u.minwidth),v>u.maxwidth&&(v=u.maxwidth);var w=a('<table><tr><td role="gridcell" style="max-width: '+v+"px; width:"+v+'px;" class="'+d+'"></td></tr></table>');a(document.body).append(w);var x=w.find("td");r=1+parseInt(x.css("padding-left"))+parseInt(x.css("padding-right")),w.remove();break}for(var y=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",z="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+y+"' id='table"+this.element.id+"'><colgroup>",A="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+y+"' id='pinnedtable"+this.element.id+"'><colgroup>",B=0,C=e,t=0;e>t;t++){var u=this.columns.records[t];if(u.hidden)B++,C--;else{var v=u.width;if(v<u.minwidth&&(v=u.minwidth),v>u.maxwidth&&(v=u.maxwidth),v-=r,0>v&&(v=0),f){var D=v;if(t==B&&D++,u.rowdetailscolumn){var D=D+4;A+="<col style='max-width: "+D+"px; width: "+D+"px;'>",z+="<col style='max-width: "+D+"px; width: "+D+"px;'>"}else A+="<col style='max-width: "+D+"px; width: "+D+"px;'>",z+="<col style='max-width: "+D+"px; width: "+D+"px;'>"}else A+="<col style='max-width: "+v+"px; width: "+v+"px;'>",z+="<col style='max-width: "+v+"px; width: "+v+"px;'>";s+=v}}z+="</colgroup>",A+="</colgroup>",this._hiddencolumns=!1;var E=!1;if(this.rowdetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===p){var F='<tr role="row">',G=this.host.height();if(this.pageable&&(G-=this.pagerheight,"both"===this.pagerposition&&(G-=this.pagerheight)),G-=this.columnsheight,this.filterable){var H=this.filter.find(".filterrow"),I=this.filter.find(".filterrow-hidden"),J=1;I.length>0&&(J=0),G-=this.filterheight+this.filterheight*H.length*J}this.showstatusbar&&(G-=this.statusbarheight),this.showaggregates&&(G-=this.aggregatesheight),25>G&&(G=25),"hidden"!=this.hScrollBar[0].style.visibility&&(G-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(G=300);var w='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+G+"px; height: "+G+"px; max-width:"+s+"px; width:"+s+"px;",d=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");d+=" "+this.toTP("jqx-center-align"),w+='" class="'+d+'">',w+=this.gridlocalization.emptydatastring,w+="</td>",F+=w,z+=F,A+=F,this.table[0].style.width=s+2+"px",c=s}for(var K=this.getRows(),n=0;n<h.length;n++){var o=h[n],L=o.uid;void 0===o.uid&&(o.uid=this.dataview.generatekey());var F='<tr data-key="'+L+'" role="row" id="row'+n+this.element.id+'">',M='<tr data-key="'+L+'" role="row" id="row'+n+this.element.id+'">';if(g>0&&o.level<g)var F='<tr data-role="row-group" data-key="'+L+'" role="row" id="row'+n+this.element.id+'">',M='<tr data-role="row-group" data-key="'+L+'" role="row" id="row'+n+this.element.id+'">';for(var N=0,O=0,t=0;e>t;t++){var P=this.columns.records[t];(P.pinned||this.rtl&&this.columns.records[e-1].pinned)&&(E=!0);var v=P.width;v<P.minwidth&&(v=P.minwidth),v>P.maxwidth&&(v=P.maxwidth),v-=r,0>v&&(v=0);var d=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");P.pinned&&(d+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===P.displayfield&&(d+=" "+this.toTP("jqx-grid-cell-sort")),this.altrows&&n%2!=0&&(d+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(d+=" "+this.toTP("jqx-cell-rtl"));var Q="";if(g>0&&o.level<g)if(f)d+=" "+this.toTP("jqx-grid-cell-pinned");else{d+=" "+this.toTP("jqx-grid-cell-pinned"),Q+=' colspan="'+e+'"';for(var D=0,R=0;e>R;R++){var S=b.columns.records[R],T=S.width;T<S.minwidth&&(v=S.minwidth),T>S.maxwidth&&(v=S.maxwidth),T-=r,0>T&&(T=0),S.hidden||(D+=T)}v=D}var w='<td role="gridcell" '+Q+' style="max-width:'+v+"px; width:"+v+"px;",U='<td role="gridcell" '+Q+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+v+"px; width:"+v+"px;";t==e-1&&1==e&&(w+="border-right-color: transparent;",U+="border-right-color: transparent;");var V=!1;g>0&&o.level<g&&(V=!0),V?this.rtl&&(d+=" "+this.toTP("jqx-right-align")):"left"!=P.cellsalign&&(d+="right"===P.cellsalign?" "+this.toTP("jqx-right-align"):" "+this.toTP("jqx-center-align")),this.rowinfo[o.uid]&&(this.rowinfo[o.uid].selected&&!P.rowdetailscolumn&&this.editKey!==o.uid&&"none"!==this.selectionmode&&(d+=" "+this.toTP("jqx-grid-cell-selected"),d+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[o.uid].locked&&(d+=" "+this.toTP("jqx-grid-cell-locked"))),P.hidden?V||(w+="display: none;",U+="display: none;",this._hiddencolumns=!0):(N+=r+v,0==O&&(w+="border-left-width: 0px;",U+="border-left-width: 0px;"),O++),g>0&&f&&V&&t>=g&&(w+="font-size: 1px; border-color: transparent;  color: transparent;",U+="font-size: 1px; border-color: transparent; color: transparent;"),P.pinned&&(w+="pointer-events: auto;",U+="pointer-events: auto;"),!V&&P.rowdetailscolumn&&(this.rowinfo[o.uid]?this.rowinfo[o.uid].nodetails||(this.rowinfo[o.uid].expanded?(d+=this.rtl?" "+this.toTP("jqx-grid-group-expand-rtl"):" "+this.toTP("jqx-grid-group-expand"),d+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(d+=" "+this.toTP("jqx-grid-group-collapse-rtl"),d+=" "+this.toTP("jqx-icon-arrow-left")):(d+=" "+this.toTP("jqx-grid-group-collapse"),d+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(d+=" "+this.toTP("jqx-grid-group-collapse-rtl"),d+=" "+this.toTP("jqx-icon-arrow-left")):(d+=" "+this.toTP("jqx-grid-group-collapse"),d+=" "+this.toTP("jqx-icon-arrow-right"))),this.autorowheight||(d+=" "+this.toTP("jqx-grid-cell-nowrap "));var W=b._getcellvalue(P,o),X=P.cellsformat;if(g>0&&o.level<g&&(W=o.label,X=b.getColumn(b.groups[o.level]).cellsformat),""!=X&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(W)?W=a.jqx.dataFormat.formatdate(W,X,b.gridlocalization):(a.jqx.dataFormat.isNumber(W)||!isNaN(parseFloat(W))&&isFinite(W))&&(W=a.jqx.dataFormat.formatnumber(W,X,b.gridlocalization))),V)this.groupsrenderer&&(W=this.groupsrenderer(W,o,o.level));else{if(""!=P.cellclassname&&P.cellclassname)if("string"==typeof P.cellclassname)d+=" "+P.cellclassname;else{var Y=P.cellclassname(n,P.datafield,W,o);Y&&(d+=" "+Y)}if(""!=P.cellsrenderer&&P.cellsrenderer){var Z=K.indexOf(o);W=P.cellsrenderer(Z,P.datafield,W,o)}}if(w+='" class="'+d+'">',w+=W,w+="</td>",U+='" class="'+d+'">',U+=W,U+="</td>",P.pinned?(M+=w,F+=w):(F+=w,E&&(M+=U)),g>0&&!f&&o.level<g)break}if(0==c&&(this.table[0].style.width=N+2+"px",c=N),F+="</tr>",M+="</tr>",z+=F,A+=M,this.rowinfo[o.uid]||(this.rowinfo[o.uid]={group:V,row:o,details:null,detailsHeight:200,initialized:!1,expanded:!1}),this.serverProcessing&&(this.rowinfo[o.uid].row=o),this.rowdetails){var $=this.rowinfo[o.uid].detailsHeight;if(this.rowinfo[o.uid])if(this.rowinfo[o.uid].expanded)var _='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var _='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var _='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';var d=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");d+=" "+this.toTP("jqx-details"),d+=" "+this.toTP("jqx-reset"),_+='" class="'+d+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+$+"px; max-height: "+$+"px; height: "+$+'px;"><div data-role="details"></div></div></td></tr>',z+=_,A+=_}}if(z+="</table>",A+="</table>",E){b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(A+z)}):b.table[0].innerHTML=A+z;var aa=this.table.find("#table"+this.element.id),ba=this.table.find("#pinnedtable"+this.element.id);if(ba.css("float","left"),ba.css("pointer-events","none"),aa.css("float","left"),ba[0].style.position="absolute",aa[0].style.position="relative",aa[0].style.zIndex=q-10,ba[0].style.zIndex=q+10,this._table=aa,this._table[0].style.left="0px",this._pinnedTable=ba,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=c+"px",this._table[0].style.width=c+"px",this.rtl&&c>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-c+parseInt(this.element.style.width)+"px"),this.rowdetails)for(var n=0;p>n;n++){var o=h[n],L=o.uid;if(this.rowinfo[L].details){var ca=a(this._table.children()[1]).children("[data-key="+L+"]"),da=a(this._pinnedTable.children()[1]).children("[data-key="+L+"]");if(ca){var ea=da.next(),fa=a(a(ea).children().children());fa.children().detach(),fa.append(this.rowinfo[o.uid].details)}}}}else{b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(z)}):b.table[0].innerHTML=z;var R=this.table.find("#table"+this.element.id);this._table=R,a.jqx.browser.msie&&a.jqx.browser.version<10&&(this._table[0].style.width=c+"px"),0===p&&(this._table[0].style.width=2+c+"px")}0===p&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),this.rendered&&this.rendered()}},getcolumnindex:function(a){var b=this.getColumn(a),c=this.columns.records.indexOf(b);return c},setcolumnindex:function(b,c,d){var e=this.getColumn(b);if(!(e.pinned||e.hidden||e.checkboxcolumn||e.grouped)){var f=this.columns.records.indexOf(e);this.columns.records.splice(f,1),this.columns.records.splice(c,0,e);var g=0,h=this.headerZIndex;this.columnsrow.children().detach();var i=this.toThemeProperty("jqx-grid-cell");i+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),i+=" "+this.toThemeProperty("jqx-item"),this.filterrow&&(a(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var j=this,k=null;if(void 0!=j.filterrow)var k=a(j.filterrow.children()[0]);this.columnsrow[0].cells=[];var l=!1;if(a.each(this.columns.records,function(b,c){var d=this.uielement;j.columnsrow.append(d),j.rtl?d.css("z-index",h++):d.css("z-index",h--);var e=this.width;if(d.css("left",g),j.columnsrow[0].cells[j.columnsrow[0].cells.length]=d[0],j.filterrow){var f=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+i+'"></div>');k.append(f),f.css("left",g),f.css("z-index",h+1),f.width(this.width),f[0].left=g,f.append(this._filterwidget),j.filterrow[0].cells[j.filterrow[0].cells.length]=f[0]}this.hidden&&(l=!0),this.hidden&&this.hideable||(g+=e)}),this.groupable){var m=this.groups.length;m>0&&f-m>=0&&(f-=m,c-=m)}this.rowdetails&&f-1>=0&&(f--,c--),"checkbox"==this.selectionmode&&f-1>=0&&(f--,c--);var e=this._columns[f];this._columns.splice(f,1),this._columns.splice(c,0,e),this.resize(),this._rendercolumngroups(),this._raiseEvent("columnReordered",{dataField:e.datafield,oldIndex:f,newIndex:c})}},_pinnedColumnsLength:function(){var b=0;return a.each(this.columns.records,function(){this.pinned&&b++,this.grouped&&b++}),this.rowdetails&&b++,"checkbox"==this.selectionmode&&b++,b},_handlecolumnsreorder:function(){var b=this,c=-1,d=!1;if(b.columnsreorder){var e="mousemove.reorder"+this.element.id,f="mousedown.reorder"+this.element.id,g="mouseup.reorder"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(a){if(b.resizing)return!0;if(null!=b.reordercolumn){var e=parseInt(a.pageX),f=parseInt(a.pageY);if(h){var g=b.getTouches(a),i=g[0];void 0!=i&&(e=parseInt(i.pageX),f=parseInt(i.pageY))}var j=b.host.coord(),k=parseInt(j.left),l=parseInt(j.top);(void 0==b.dragmousedownoffset||null==b.dragmousedownoffset)&&(b.dragmousedownoffset={left:0,top:0});var m=parseInt(e)-parseInt(b.dragmousedownoffset.left),n=parseInt(f)-parseInt(b.dragmousedownoffset.top);if(b.reordercolumn.css({left:m+"px",top:n+"px"}),d=!1,e>=k&&e<=k+b.host.width()&&f>=l&&f<=l+b.host.height()&&(d=!0),c=-1,d){b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var o=b.columnsheader.coord(),p=o.top+b.columnsheader.height();null!=b.columnsdropline&&(f>=o.top&&p>=f?c=b._handlereordercolumnsdroplines(e):b.columnsdropline.fadeOut("slow"))}else null!=b.columnsdropline&&b.columnsdropline.fadeOut("slow"),b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(a.preventDefault&&(a.preventDefault(),a.stopPropagation()),h)return a.preventDefault(),a.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){if(b.resizing)return!0;
b.columnsbounds=new Array;var d=b.host.coord().left,e=b.host.coord().top;b.showtoolbar&&(e+=b.toolbarheight);var f=0;a.each(b.columns.records,function(c){var g=this;if(g.hidden)return b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:0,height:2+b.rowsheight},!0;0==f&&(d=b.rtl?parseInt(b.host.coord().left)-b.hScrollInstance.max+b.hScrollInstance.value:parseInt(b.host.coord().left)-b.hScrollInstance.value),f++;var h=2+b.columnsheight;b.columnshierarchy&&(e=a(g.uielement).coord().top,h=a(g.uielement).height()),b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:g.width,height:h},d+=g.width})}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(b.resizing)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top));if(b.showtoolbar&&(l+=b.toolbarheight),b.columndragstarted=!1,b.dragmousedown=null,null!=b.reordercolumn){var m=a.data(b.reordercolumn[0],"reorderrecord"),n=b.columns.records.indexOf(b.getColumn(m));b.reordercolumn.remove(),b.reordercolumn=null;var o=0;if(o+=b._pinnedColumnsLength(),null!=m){if(d&&-1!=c){var p=c.index;if(p>=o){var q=b.columns.records[p];if(void 0!=q){var r=b.columns.records.indexOf(b.getColumn(q.datafield));if(null==q.datafield)var r=b.columns.records.indexOf(b.getcolumnbytext(q.text));if(b.columngroups){var s=q;if(r>n&&"before"==c.position&&(s=b.columns.records[r-1]),s.columngroup!=b.getColumn(m).columngroup)return void(null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null))}r>n?"before"==c.position?b.setcolumnindex(m,r-1):b.setcolumnindex(m,r):n>r&&b.setcolumnindex(m,r)}}}null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null)}}})}},getcolumnbytext:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){return this.text==b?(c=this,!1):void 0}),c},_handlereordercolumnsdroplines:function(b){var c=this,d=-1,e=c._pinnedColumnsLength(),f=parseInt(c.host.coord().left),g=f+c.host.width(),h="hidden"!=c.vScrollBar.css("visibility")?19:0;return c.rtl||(h=0),a.each(c.columnsbounds,function(a){if(a>=e){if(0==this.width)return!0;if(b<=this.left+this.width/2)return b>g?(c.columnsdropline.fadeOut(),!1):(c.columnsdropline.css("left",h+parseInt(this.left)+"px"),c.columnsdropline.css("top",parseInt(this.top)+"px"),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"before"},!1);if(b>=this.left+this.width/2){if(this.left+this.width>g)return c.columnsdropline.fadeOut(),!1;c.columnsdropline.css("left",h+1+this.left+this.width),c.columnsdropline.css("top",this.top),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"after"}}}}),d},_createreordercolumn:function(b,c,d){var e=this,f=c;e.reordercolumn&&e.reordercolumn.remove(),e.columnsdropline&&e.columnsdropline.remove(),e.reordercolumn=a("<div></div>");var g=b.clone();e.reordercolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.reordercolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumn.css("float","left"),e.reordercolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.reordercolumn.append(g),e.reordercolumn.height(b.height()),e.reordercolumn.width(g.width()),e.reordercolumn.append(e.reordercolumnicon),a(document.body).append(e.reordercolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.reordercolumn.css("left",f.left+e.dragmousedown.left),e.reordercolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.columnsdropline=a('<div style="z-index: 9999; display: none; position: absolute;"></div>'),e.columnsdropline.width(2),e.columnsdropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.columnsdropline))},_handlecolumnsdragreorder:function(b,c){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,g,function(c){if(0==b.draggable)return!0;if(e.resizing)return!0;e.__drag=!0;var d=c.pageX,g=c.pageY;if(f){var h=e.getTouches(c),i=h[0];d=i.pageX,g=i.pageY}e.dragmousedown={left:d,top:g};var j=a(c.target).coord();return e.dragmousedownoffset={left:parseInt(d)-parseInt(j.left),top:parseInt(g-j.top)},c.preventDefault&&c.preventDefault(),!0}),this.addHandler(c,d,function(g){if(!b.draggable)return!0;if(void 0==b.datafield)return!0;if(b.pinned)return!0;if(e.resizing)return!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];void 0!=k&&(h=k.pageX,i=k.pageY)}if(d={left:h,top:i},!e.columndragstarted&&null==e.reordercolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createreordercolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.reordercolumn[0],"reorderrecord",b.datafield))}}})},_handlecolumnsresize:function(){var b=this;if(this.columnsresize){var c=!1;b.isTouchDevice()&&(c=!0);var d="mousemove.resize"+this.element.id,e="mousedown.resize"+this.element.id,f="mouseup.resize"+this.element.id;if(c)var d=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),d),this.addHandler(a(document),d,function(d){if(null!=b.resizablecolumn&&!b.disabled&&b.resizing&&null!=b.resizeline){var e=(b.resizablecolumn.columnelement,b.host.coord()),f=parseInt(b.resizestartline.coord().left),g=f-b._startcolumnwidth,h=b.resizablecolumn.column.minwidth;h="auto"==h?0:parseInt(h);var i=b.resizablecolumn.column.maxwidth;i="auto"==i?0:parseInt(i);var j=d.pageX;if(c){var k=a.jqx.mobile.getTouches(d),l=k[0];j=l.pageX}g+=h;var m=i>0?f+i:0,n=0==i?!0:b._startcolumnwidth+j-f<i?!0:!1;if(b.rtl)var n=!0;if(n)if(b.rtl){if(j>=e.left&&j<=e.left+b.host.width()&&(b.resizeline.css("left",j),c))return!1}else if(j>=e.left&&j>=g&&(0!=m&&d.pageX<m?b.resizeline.css("left",j):0==m&&b.resizeline.css("left",j),c))return!1}return c||null==b.resizablecolumn?void 0:!1}),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(c){if(null!=b.resizablecolumn&&!b.disabled){var d=b.resizablecolumn.columnelement;if(d.coord().top+d.height()+5<c.pageY)return void(b.resizablecolumn=null);if(d.coord().top-5>c.pageY)return void(b.resizablecolumn=null);b._startcolumnwidth=b.resizablecolumn.column.width,b.resizablecolumn.column._width=null,a(document.body).addClass("jqx-disableselect"),a(document.body).addClass("jqx-position-reset"),b._mouseDownResize=new Date,b.resizing=!0,b._resizecolumn=b.resizablecolumn.column,b.resizeline=b.resizeline||a('<div style="position: absolute;"></div>'),b.resizestartline=b.resizestartline||a('<div style="position: absolute;"></div>'),b.resizebackground=b.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),b.resizebackground.css("opacity",.01),b.resizebackground.css("cursor","col-resize"),b.resizeline.css("cursor","col-resize"),b.resizestartline.css("cursor","col-resize"),b.resizeline.addClass(b.toThemeProperty("jqx-grid-column-resizeline")),b.resizestartline.addClass(b.toThemeProperty("jqx-grid-column-resizestartline")),a(document.body).append(b.resizeline),a(document.body).append(b.resizestartline),a(document.body).append(b.resizebackground);var e=b.resizablecolumn.columnelement.coord();b.resizebackground.css("left",b.host.coord().left),b.resizebackground.css("top",b.host.coord().top),b.resizebackground.width(b.host.width()),b.resizebackground.height(b.host.height()),b.resizebackground.css("z-index",999999999);var f=function(a){b.rtl?a.css("left",parseInt(e.left)):a.css("left",parseInt(e.left)+b._startcolumnwidth);var c=0,d=b.showtoolbar?b.toolbarheight:0;c+=d;var f=b.showstatusbar?b.statusbarheight:0;c+=f;var g=b.showaggregates?b.aggregatesheight:0;c+=g,b.pageable&&"bottom"!=b.pagerposition&&(c+=b.pagerheight);var h=0;b.pageable&&"top"!=b.pagerposition&&(h=b.pagerheight);var i="hidden"!=b.hScrollBar.css("visibility")?b.scrollbarsize:0;a.css("top",parseInt(e.top)),a.css("z-index",9999999999),b.columngroups?a.height(b.host.height()+b.resizablecolumn.columnelement.height()-h-c-i-b.columngroupslevel*b.columnsheight):a.height(b.host.height()-h-c-i),a.show("fast")};f(b.resizeline),f(b.resizestartline),b.dragmousedown=null}});var g=function(){if(a(document.body).removeClass("jqx-disableselect"),a(document.body).removeClass("jqx-position-reset"),b.resizing){b._mouseUpResize=new Date;var c=b._mouseUpResize-b._mouseDownResize;if(200>c)return b.resizing=!1,void(null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")&&(b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove()));if(b.resizing=!1,!b.disabled){var d=b.host.width();if("hidden"!=b.vScrollBar[0].style.visibility&&(d-=20),0>d&&(d=0),null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")){var e=parseInt(b.resizeline.css("left")),f=parseInt(b.resizestartline.css("left")),g=b._startcolumnwidth+e-f;if(b.rtl)var g=b._startcolumnwidth-e+f;var h=b._resizecolumn.width;b._resizecolumn.width=g,void 0!=b._resizecolumn._percentagewidth&&(b._resizecolumn._percentagewidth=g/d*100);for(var i=0;i<b._columns.length;i++)if(b._columns[i].datafield===b._resizecolumn.datafield){b._columns[i].width=b._resizecolumn.width;break}var j=(b.hScrollBar[0].style.visibility,b._resizecolumn.displayfield);b._updatecolumnwidths(),b.refresh(),b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove(),b.resizablecolumn=null,b._raiseEvent("columnResized",{dataField:j,oldWidth:h,newWidth:g})}else b.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var h=null;if(null!=window.top&&window.top!=window.that&&window.parent&&document.referrer&&(h=document.referrer),h&&-1!=h.indexOf(document.location.host)){var i=function(a){g()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}}catch(j){}this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);return null!=d&&b.autoshowcolumnsmenubutton?!0:void g()})}},_updatecolumnwidths:function(){var b=this.host.width(),c=b;"hidden"!==this.vScrollBar.css("visibility")&&(b-=parseInt(this.scrollbarsize)+6,c=b);var d="";if(void 0!=this.columns&&void 0!=this.columns.records){var e=this,f=!1;a.each(this.columns.records,function(a,f){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var f=0;"hidden"==e.vScrollBar[0].style.visibility?0:e.scrollbarsize+5;f=parseFloat(this.width)*c/100,void 0!=this._percentagewidth&&(f=parseFloat(this._percentagewidth)*c/100),f<this.minwidth&&"auto"!=this.minwidth&&(f=this.minwidth),f>this.maxwidth&&"auto"!=this.maxwidth&&(f=this.maxwidth),b-=Math.round(f)}else"auto"==this.width||this._width?d+=this.text:b-=this.width});var g=this.columnsheader.find("#columntable"+this.element.id);if(0!=g.length){var h=0,i=g.find(".jqx-grid-column-header"),j=0;a.each(this.columns.records,function(g,k){var l=a(i[g]),m=!1,n=this.width,o=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(n=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*c/100:parseFloat(this.width)*c/100,n=Math.round(n),m=!0),"auto"==this.width||this._width||m)if(m)n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth,this.width=n),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth,this.width=n),parseInt(l[0].style.width)!=n&&(l.width(n),this.width=n);else{var p=Math.floor(b*(this.text.length/d.length));isNaN(p)&&(p=this.minwidth);var q=b*(this.text.length/d.length)-p;h+=q,h>=1&&(h-=1,p++),h>=.5&&g==e.columns.records.length-1&&p++,0>p&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),p=10+$element.width(),$element.remove()),p<this.minwidth&&(p=this.minwidth),p>this.maxwidth&&(p=this.maxwidth),this._width="auto",this.width=p,l.width(this.width)}else parseInt(l[0].style.width)!=this.width&&l.width(this.width);parseInt(l[0].style.left)!=j&&l.css("left",j),this.hidden||(j+=this.width),this._requirewidthupdate=!0,o!==this.width&&(f=!0)}),this.columnsheader.width(2+j),g.width(this.columnsheader.width()),this._resizecolumngroups(),f&&this._renderrows(),this.showaggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var b=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e="",f=this.host.width(),g=f,h=new Array,i=new Array;if(a.each(this.columns.records,function(a,c){if(!this.hidden)if("auto"==this.width||this._width)e+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)f-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)f-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var c=0;c=parseFloat(this.width)*g/100,c<this.minwidth&&"auto"!=this.minwidth&&(c=this.minwidth),c>this.maxwidth&&"auto"!=this.maxwidth&&(c=this.maxwidth),f-=c}else"string"==typeof this.width&&(this.width=parseInt(this.width)),f-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(b._haspinned&&(this.pinned=!0),h[h.length]=this):i[i.length]=this}),this.rtl){var j=0;h.reverse();for(var k=this.columns.records.length-1;k>=this.columns.records.length-h.length;k--)this.columns.replace(k,h[j++]);for(var l=0;l<i.length;l++)this.columns.replace(l,i[l])}else{for(var k=0;k<h.length;k++)this.columns.replace(k,h[k]);for(var l=0;l<i.length;l++)this.columns.replace(h.length+l,i[l])}var m=this.headerZIndex,n=b.columnsheight,o=function(a,c){var d=b.columngroupslevel*b.columnsheight;return d-=c.level*b.columnsheight},p=0;a.each(this.columns.records,function(h,i){this.height=b.columnsheight,b.columngroups&&b.columngroups.length&&(this.height=o(this.datafield,this),n=this.height);var j=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(j+=" "+b.toTP("jqx-grid-column-header-rtl")),b.enablebrowserselection||(j+=" "+b.toTP("jqx-disableselect"));var k=self.rtl?150+m+1:150+m-1,l=b.rtl?m++:m--,q=a('<div role="columnheader" style="z-index: '+l+';position: absolute; height: 100%;" class="'+j+'"><div style="height: 100%; width: 100%;"></div></div>');b.rtl&&0===h&&(q[0].style.borderLeftColor="transparent"),b.columngroups&&(q[0].style.height=n+"px",q[0].style.bottom="0px",this.pinned&&(q[0].style.zIndex=k)),this.uielement=q,this.element=q,""!=this.classname&&this.classname&&q.addClass(this.classname);var r=this.width,s=!1;if(null===this.width&&(this.width="auto"),(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(r=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*g/100:parseFloat(this.width)*g/100,r=Math.round(r),s=!0),"auto"==this.width||this._width||s)if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),q.width(r),this.width=r;else{var t=Math.floor(f*(this.text.length/e.length)),u=f*(this.text.length/e.length)-t;p+=u,p>=1&&(p-=1,t++),p>=.5&&h==b.columns.records.length-1&&t++,isNaN(t)&&(t=this.minwidth),0>t&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),t=10+$element.width(),$element.remove()),t<this.minwidth&&(t=this.minwidth),t>this.maxwidth&&(t=this.maxwidth),this._width="auto",this.width=parseInt(t),r=this.width,q.width(this.width)}else r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),q[0].style.width=parseInt(r)+"px";this.hidden&&q.css("display","none");var v=a(q.children()[0]);c[0].cells[h]=q[0];var w=!1,x=!1,y=null!=this.renderer?this.renderer(this.text,this.align,n):b._rendercolumnheader(this.text,this.align,n,b);if(null==y&&(y=b._rendercolumnheader(this.text,this.align,n,b)),null!=this.renderer&&(y=a(y)),w=!0,b.WinJS?MSApp.execUnsafeLocalFunction(function(){v.append(a(y))}):this.renderer?v.append(a(y)):y&&(v[0].innerHTML=y),null!=y){var z=a('<div class="iconscontainer" style="height: '+n+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+b.toTP("jqx-widget-header")+'" style="height: '+n+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+b.toTP("jqx-widget-header")+'" style="height: '+n+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+b.toTP("jqx-widget-header")+'" style="height: '+n+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');v.append(z);var A=z.children();this.sortasc=A[1],this.sortdesc=A[2],this.filtericon=A[0],this.iconscontainer=z,b.rtl&&(z.css("margin-left","0px"),z.css("left","0px"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left"))}c.append(q),b.columnsreorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,q);var B=this;if(b.addHandler(q,"click",function(a){return B.checkboxcolumn?!0:(b._togglesort&&(b._loading||b._togglesort(B)),void a.preventDefault())}),B.resizable&&b.columnsresize&&!x){var C=!1,D="mousemove";b.isTouchDevice()&&(C=!0,D=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(q,D,function(c){var d=parseInt(c.pageX),e=5,f=parseInt(q.coord().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(q).left),b._handlecolumnsresize){if(C){var g=a.jqx.mobile.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+B.width-e?(b.resizablecolumn={columnelement:q,column:B},q.css("cursor","col-resize")):(q.css("cursor",""),b.resizablecolumn=null),!0}var i=B.width;if(b.rtl&&(i=0),d>=f+i-e){if(f+i+e>=d)return b.resizablecolumn={columnelement:q,column:B},q.css("cursor","col-resize"),!1;q.css("cursor",""),b.resizablecolumn=null}else q.css("cursor",""),f+i-e>d&&(B._animating||B._menuvisible||q.mouseenter()),b.resizablecolumn=null}})}if(q.css("left",d),this.hidden||(d+=r),B.rendered){var E=B.rendered(a(v[0].firstChild),B.align,n);E&&null!=z&&z.hide()}}),d>0?this.columnsheader.width(2+d):this.columnsheader.width(d),this.columnsrow=c,b.columnsheader.append(c),c.width(d),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups()}},_rendercolumngroups:function(){if(this.columngroups){for(var b=0,c=0;c<this.columns.records.length;c++)this.columns.records[c].pinned&&b++;var d=this.headerZIndex-b+this.columns.records.length,e=this,f=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-grid-columngroup-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(f+=" "+e.toTP("jqx-grid-columngroup-header-rtl"));var g=this.columnsheader.find("#columntable"+this.element.id);g.find("jqx-grid-columngroup-header").remove();for(var h=0;h<this.columngroupslevel-1;h++)for(var c=0;c<this.columngroups.length;c++){var i=this.columngroups[c],j=i.level;if(j===h){var k=j*this.columnsheight,l=99999;if(i.groups){var m=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=m(d):d.hidden||(b+=d.width,l=Math.min(parseInt(d.element[0].style.left),l))}return b};i.width=m(i),i.left=l;var n=this.columnsheight,o=d--,p=a('<div role="columnheader" style="z-index: '+o+';position: absolute;" class="'+f+'"></div>'),q=a(this._rendercolumnheader(i.text,i.align,this.columnsheight,this));p.append(q),p[0].style.left=l+"px",0===l&&(p[0].style.borderLeftColor="transparent"),p[0].style.top=k+"px",p[0].style.height=n+"px",p[0].style.width=-1+i.width+"px",g.append(p),i.element=p}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var a=0;a<this.columngroups.length;a++){var b=this.columngroups[a],c=b.level,d=c*this.columnsheight,e=99999;if(b.groups){var f=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=f(d):(b+=d.width,e=Math.min(parseInt(d.element[0].style.left),e))}return b};b.width=f(b),b.left=e;var g=this.columnsheight,h=b.element;h[0].style.left=e+"px",h[0].style.top=d+"px",h[0].style.height=g+"px",h[0].style.width=-1+b.width+"px"}}},_removecolumnhandlers:function(b){var c=this,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click")}},_calculateaggregate:function(a,b,c,d){var e=a.aggregates;if(e||(e=b),e){for(var f=new Array,g=0;g<e.length;g++)"count"!=e[g]&&(f[f.length]=a.cellsformat);if(this.source&&this.source.getAggregatedData){void 0==d&&(d=this.getRows(),this.dataViewRecords&&(d=this.dataViewRecords));var h=d,i=-1;if(this.treeGrid){var j=new Array,k=function(a){for(var b=0;b<a.length;b++)void 0!=a[b]&&(-1==i&&(i=a[b].level),a[b].aggregate||j.push(a[b]),!a[b].leaf&&a[b].records&&a[b].records.length>0&&k(a[b].records))};k(d),d=j}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){for(var l=new Array,g=0;g<d.length;g++)d[g]&&d[g]._visible!==!1&&l.push(d[g]);d=l;for(var m=new Array,g=0;g<h.length;g++)h[g]&&h[g]._visible!==!1&&m.push(h[g]);h=m}if(void 0==c||1==c){var n=this.source.getAggregatedData([{name:a.datafield,aggregates:e,formatStrings:f}],this.gridlocalization,d,i);if(this.treeGrid){var o=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if((0==o||i>=o)&&n&&(void 0!=n[a.datafield].sum||void 0!=n[a.datafield].avg)){var p=this.source.getAggregatedData([{name:a.datafield,aggregates:e,formatStrings:f}],this.gridlocalization,h,i);void 0!=n[a.datafield].sum&&(n[a.datafield].sum=p[a.datafield].sum),void 0!=n[a.datafield].avg&&(n[a.datafield].avg=p[a.datafield].avg)}}return n}var n=this.source.getAggregatedData([{name:a.datafield,aggregates:e}],this.gridlocalization,d,i);if(this.treeGrid&&(void 0!=n[a.datafield].sum||void 0!=n[a.datafield].avg)){var o=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(0==o||i>=o){var p=this.source.getAggregatedData([{name:a.datafield,aggregates:e}],this.gridlocalization,h,i);void 0!=n[a.datafield].sum&&(n[a.datafield].sum=p[a.datafield].sum),void 0!=n[a.datafield].avg&&(n[a.datafield].avg=p[a.datafield].avg)}}return n}}return null},getcolumnaggregateddata:function(a,b,c,d){var e=this.getColumn(a);if(!e)return"";var f=void 0==c||0==c?!1:c;if(null==b)return"";var g=e.aggregates;e.aggregates=null;var h=this._calculateaggregate(e,b,f,d),i={};return h&&(i=h[a],e.aggregates=g),i},_updatecolumnaggregates:function(b,c,d){var e=this;if(c)if(d.children().remove(),d.html(""),b.aggregatesrenderer){if(c){var f=b.aggregatesrenderer(c[b.datafield],b,d,this.getcolumnaggregateddata(b.datafield,b.aggregates),"aggregates");d.html(f)}}else a.each(c,function(){var b=this;for(g in b){var c=a('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),f=g;f=e._getaggregatename(f),c.html(f+":"+b[g]),e.rtl&&c.addClass(e.toThemeProperty("jqx-rtl")),d.append(c)}});else if(d.children().remove(),d.html(""),b.aggregatesrenderer){var g={};b.aggregates&&(g=this.getcolumnaggregateddata(b.datafield,b.aggregates));var f=b.aggregatesrenderer({},b,d,null);d.html(f)}},_getaggregatetype:function(a){switch(a){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return a}var b=a;for(var c in a){b=c;break}return b},_getaggregatename:function(a){var b=a;switch(a){case"min":b="Min";break;case"max":b="Max";break;case"count":b="Count";break;case"avg":b="Avg";break;case"product":b="Product";break;case"var":b="Var";break;case"stdevp":b="StDevP";break;case"stdev":b="StDev";break;case"varp":b="VarP";case"sum":b="Sum"}if(a===b&&"string"!=typeof b)for(var c in a){b=c;break}return b},_updatecolumnsaggregates:function(){var b=this.getRows();this.dataViewRecords&&(b=this.dataViewRecords);var c=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var d=0;c>d;d++){var e=a(this.aggregates[0].cells[d]),f=this.columns.records[d],g=this._calculateaggregate(f,null,!0,b);this._updatecolumnaggregates(f,g,e)}},_refreshcolumnsaggregates:function(){var b=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var c=0,d=0;b>d;d++){var e=a(this.aggregates[0].cells[d]),f=this.columns.records[d];e&&(e.width(f.width),e[0].style.left=c+"px",f.hidden&&f.hideable?e.css("display","none"):c+=f.width)}},_updateaggregates:function(){var b=a('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");this.rtl&&(e+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),c=0,b.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var f=d+10,g=new Array;this.aggregates[0].cells=g;for(var h=0;d>h;h++){var i=this.columns.records[h],j=this._calculateaggregate(i),k=i.width;k<i.minwidth&&(k=i.minwidth),k>i.maxwidth&&(k=i.maxwidth);var l=e;i.cellsalign&&(l+=" "+this.toThemeProperty("jqx-"+i.cellsalign+"-align"));var m=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+l+'"></div>');b.append(m),m.css("left",c),this.rtl?(m.css("z-index",f++),0==h&&m.css("border-left-width","0px")):m.css("z-index",f--),m.width(k),m[0].style.left=c+"px",i.hidden&&i.hideable?m.css("display","none"):c+=k,g[g.length]=m[0],this._updatecolumnaggregates(i,j,m)}a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseInt(c)+2),b.height(this.aggregatesheight),this.aggregates.children().remove(),this.aggregates.append(b),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(e),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){if(this.columns&&this.columns.records)for(var b=0;b<this.columns.records.length;b++)this._removecolumnhandlers(this.columns.records[b]);if(this.removeHandler(a(document),"mouseup.pagerbuttonstop"),this.removeHandler(a(document),"mouseup.pagerbuttonsbottom"),this.filterable){if(this.filterrow)for(var b=0;b<this.filterrow[0].cells.length;b++){var c=this.filterrow[0].cells[b],d=a(c).find(".filterconditions");this.columns.records[b];d.length>0&&d.jqxDropDownList("destroy")}this.filtercolumnsList&&this.filtercolumnsList.jqxDropDownList("destroy")}this.pageable&&(this.pagershowrowscombotop&&this.pagershowrowscombotop.jqxDropDownList("destroy"),this.pagershowrowscombobottom&&this.pagershowrowscombobottom.jqxDropDownList("destroy")),this._removeHandlers(),a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&(c=c.toLowerCase(),e!==d))if("filterable"==c)b._render();else if("height"===c)b.host.height(b.height),b.host.width(b.width),b._updatesize(!1,!0);else if("width"===c)b.host.height(b.height),b.host.width(b.width),b._updatesize(!0,!1);else if("source"===c)b.updateBoundData();else if("columns"===c||"columngroups"===c)b._columns=null,b._render();else if("pagermode"===c)b.pagermode=e.toLowerCase(),b._initpager();else if("pagesizeoptions"==c){b._initpager();for(var f=!1,g=0;g<e.length;g++)if(parseInt(e[g])==b.pagesize){f=!0;break}f||a.jqx.set(b,[{pagesize:e[0]}])}else if("pagesize"==c){var h=b.dataview.pagenum*b.dataview.pagesize;b.dataview.pagesize=b.pagesize;var i=Math.floor(h/b.dataview.pagesize);if(i!==b.dataview.pagenum||parseInt(e)!==parseInt(d)){b._raiseEvent("pageSizeChanged",{pagenum:e,oldpagesize:d,pagesize:b.dataview.pagesize});var j=b.goToPage(i);j||(b.serverProcessing?b.updateBoundData("pager"):b.refresh())}}else if("pagerposition"===c)b.refresh();else if("selectionmode"===c)b.selectionmode=e.toLowerCase();else if("touchmode"==c)b._removeHandlers(),b.touchDevice=null,b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),b.refresh(),b._addHandlers();else{if("enablehover"==c)return;if("disabled"==c)e?b.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),b.pageable&&(b.pagernexttop&&(b.pagernexttop.jqxButton({disabled:e}),b.pagerprevioustop.jqxButton({disabled:e}),b.pagernextbottom.jqxButton({disabled:e}),b.pagerpreviousbottom.jqxButton({disabled:e}),b.pagerfirsttop.jqxButton({disabled:e}),b.pagerfirstbottom.jqxButton({disabled:e}),b.pagerlasttop.jqxButton({disabled:e}),b.pagerlastbottom.jqxButton({disabled:e}),b.pagershowrowscombotop.jqxDropDownList&&"advanced"==b.pagermode&&(b.pagershowrowscombotop.jqxDropDownList({disabled:!1}),b.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),b.host.find(".jqx-grid-pager-number").css("cursor",e?"default":"pointer")),b.host.find(".jqx-grid-group-collapse").css("cursor",e?"default":"pointer"),b.host.find(".jqx-grid-group-expand").css("cursor",e?"default":"pointer");else if("columnsheight"==c)b._render();else if("theme"==c){if(a.jqx.utilities.setTheme(d,e,b.host),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.hScrollBar.jqxScrollBar({theme:b.theme}),b.pageable&&b.pagernexttop&&(b.pagernexttop.jqxButton({theme:b.theme}),b.pagerprevioustop.jqxButton({theme:b.theme}),b.pagernextbottom.jqxButton({theme:b.theme}),b.pagerpreviousbottom.jqxButton({theme:b.theme}),b.pagerfirsttop.jqxButton({theme:b.theme}),b.pagerfirstbottom.jqxButton({theme:b.theme}),b.pagerlasttop.jqxButton({theme:b.theme}),b.pagerlastbottom.jqxButton({theme:b.theme}),b.pagershowrowscombotop.jqxDropDownList&&"advanced"==b.pagermode&&(b.pagershowrowscombotop.jqxDropDownList({theme:b.theme}),b.pagershowrowscombobottom.jqxDropDownList({theme:b.theme}))),b.filterable){var k=a(".filterconditions");k.length>0&&k.jqxDropDownList({theme:b.theme}),b.filtercolumnsList&&b.filtercolumnsList.jqxDropDownList({theme:b.theme})}b.refresh()}else b.refresh()}},_rendercolumnheader:function(a,b,c,d){var e="4px";return d.columngroups?(e=c/2-this._columnheight/2,0>e&&(e=4),e+="px"):25!=this.columnsheight&&(e=this.columnsheight/2-this._columnheight/2,0>e&&(e=4),e+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>"}}),a.jqx.collection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginupdate=function(){
this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b},this.isempty=function(a){return void 0==this.records[a]?!0:!1},this.initialize=function(a){1>a&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null==a?!1:(this.records[this.records.length]=a,!0)},this.insertAt=function(a,b){return null==a||void 0==a?!1:null==b?!1:a>=0?a<this.records.length?(this.records.splice(a,0,b),!0):this.add(b):!1},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return-1!=b?(this.records.splice(b,1),!0):!1},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(0>a)return!1;if(a<this.records.length){this.records[a];return this.records.splice(a,1),!0}return!1},this},a.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(b,c){var d=b._source?!0:!1,e=null;this._sortData=null,this._sortHierarchyData=null,d?(e=b,b=b._source):e=new a.jqx.dataAdapter(b,{autoBind:!1});var f=function(a){e.recordids=[],e.records=new Array,e.cachedrecords=new Array,e.originaldata=new Array,e._options.totalrecords=a.totalrecords,e._options.originaldata=a.originaldata,e._options.recordids=a.recordids,e._options.cachedrecords=new Array,e._options.pagenum=a.pagenum,e._options.pageable=a.pageable,void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async),void 0!=b.updaterow&&(e._options.updaterow=b.updaterow),void 0!=b.addrow&&(e._options.addrow=b.addrow),void 0!=b.deleterow&&(e._options.deleterow=b.deleterow),0==a.pagesize&&(a.pagesize=10),e._options.pagesize=a.pagesize},g=function(a){a.originaldata=e.originaldata,a.records=e.records,a.hierarchy=e.hierarchy,a.hierarchy||(a.hierarchy=new Array,e.hierarchy=new Array),e._source.totalrecords?a.totalrecords=e._source.totalrecords:e._source.totalRecords?a.totalrecords=e._source.totalRecords:0!==a.hierarchy.length?a.totalrecords=a.hierarchy.length:a.totalrecords=a.records.length,a.cachedrecords=e.cachedrecords};f(this),this.source=b,void 0!==c&&(uniqueId=c);var h=this;switch(b.datatype){case"local":case"array":default:if(null==b.localdata&&(b.localdata=[]),null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(){g(h),h.update()};i(),e.bindBindingUpdate(h.grid.element.id,i)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(a){g(h),h.update()};return i(),void e.bindBindingUpdate(h.grid.element.id,i)}for(var j=0,k={},l=0;l<this.filters.length;l++){var m=this.filters[l].datafield,n=this.filters[l].filter,o=n.getfilters();k[m+"operator"]=n.operator;for(var p=0;p<o.length;p++){o[p].datafield=m;var q=o[p].value;k["filtervalue"+j]=q.toString(),k["filtercondition"+j]=o[p].condition,k["filteroperator"+j]=o[p].operator,k["filterdatafield"+j]=m,j++}}k.filterslength=j,a.extend(k,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pagesize});var r=e._options.data;e._options.data?a.extend(e._options.data,k):(b.data&&a.extend(k,b.data),e._options.data=k);var i=function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9,c=function(){g(h),h.update()};if(b)try{c()}catch(d){}else c()};e.unbindDownloadComplete(h.grid.element.id),e.bindDownloadComplete(h.grid.element.id,i),e._source.loaderror=function(a,b,c){i()},(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind(),e._options.data=r}},this.addFilter=function(a,b){this._sortData=null,this._sortHierarchyData=null;for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}-1==c?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removeFilter=function(a){this._sortData=null,this._sortHierarchyData=null;for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this.sortBy=function(a,b){return null==b?(this.sortfield="",void(this.sortfielddirection="")):(void 0==b&&(b=!0),b="a"==b||"asc"==b||"ascending"==b||1==b?!0:!1,"constructor"==a&&(a=""),this.sortfield=a,void(this.sortfielddirection=b?"asc":"desc"))},this._sort=function(b){if(!this.sortfield||!this.sortfielddirection)return b;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var c=this,d=Object.prototype.toString;Object.prototype.toString="function"==typeof c.sortfield?c.sortfield:function(){return this[c.sortfield]};var e="";this.source.datafields&&a.each(this.source.datafields,function(){return this.name==c.sortfield?(this.type&&(e=this.type),!1):void 0});for(var f=new Array,g=0;g<b.length;g++)f.push(a.extend({originalRecord:b[g]},b[g]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var h=f.sort(function(a,b){return c._compare(a,b,e)}).reverse();else var h=f.sort(function(a,b){return c._compare(a,b,e)});return this._sortData=h,Object.prototype.toString=d,h},this._compare=function(b,c,d){var b=b,c=c;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return 1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat)if(d&&""!=d)switch(d){case"number":case"int":case"float":return c>b?-1:b>c?1:0;case"date":case"time":return c>b?-1:b>c?1:0;case"string":case"text":b=String(b).toLowerCase(),c=String(c).toLowerCase()}else{if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return c>b?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return c>b?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase())}try{if(c>b)return-1;if(b>c)return 1}catch(e){}return 0},this._equals=function(a,b){return 0===this._compare(a,b)},this.evaluate=function(b){if(this.grid.serverProcessing){if(b&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var c=this.grid.pagesize*this.pagenum;this.grid.rowsByKey=new Array;var d=this;a.each(b,function(a){this.uid=c,d.grid.rowsByKey[this.uid]=this,c++})}return b}var e=new Array;if(this.filters.length){var f=new Array,g=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];d._visible=!0;for(var e=void 0,g=0;g<this.filters.length;g++){var h=this.filters[g].filter,i=d[this.filters[g].datafield],j=h.evaluate(i);e=void 0==e?j:"or"==h.operator?e||j:e&&j}d._visible=!1,(e||d.aggregate)&&(d._visible=!0,b.push(d),f[d.uid]=d)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var h=new Array,i=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];h.push(d),d.records&&d.records.length>0&&i(d,d.records)}};i(null,b),g.call(this,h,e);for(var j=0;j<e.length;j++)for(var k=e[j];k.parent;){var l=k.parent;f[l.uid]||(l._visible=!0,f[l.uid]=l),k=l}e=b}else g.call(this,b,e);this._filteredData=e,this.rows=e}}else this.rows=b;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var d=this,m=new Array;this._sortData=null;var n=function(b,c){d._sortData=null;var e=null;if(d.source.hierarchy.groupingDataFields)if(c&&c.length>0&&c[0].level<d.source.hierarchy.groupingDataFields.length){e=new Array;for(var f=0;f<c.length;f++)e.push(a.extend({originalRecord:c[f]},c[f]))}else e=d._sort(c);else e=d._sort(c);b.records?b.records=e:b=b.concat(e);for(var f=0;f<e.length;f++)e[f].records&&e[f].records.length&&n(e[f],e[f].records);return b};(this.sortfield||this.sortfielddirection)&&(m=this._sortHierarchyData?this._sortHierarchyData:n(m,b),this.rows=m,this._sortHierarchyData=m)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(this.rows&&""!=b&&void 0!=b&&this.rows.length>0){var e=this.rows[this.rows.length-1][b];null==e&&(e=null);for(var f=1;100>=f;f++){var g=this.grid.rowsByKey[f+e];if(!g){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var g=this.grid.rowsByKey["jqx"+e+f];if(g)continue;return"jqx"+e+f}return e+f}}}if(void 0!=b&&b.toString().length>0){var h=a(c).attr(b);if(null!=h&&h.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+h:h}if(this.rows&&this.rows.length>0){var g=this.grid.rowsByKey[d];if(g){var e=this.rows[this.rows.length-1][b];null==e&&(e="");for(var f=1;100>=f;f++){var g=this.grid.rowsByKey[f+e];if(!g){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var g=this.grid.rowsByKey["jqx"+e+f];if(g)continue;return"jqx"+e+f}return e+f}}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var g=this.grid.rowsByKey["jqx"+d];if(!g)return"jqx"+d;for(var f=d+1;100>=f;f++){var g=this.grid.rowsByKey["jqx"+f];if(!g){var g=this.grid.rowsByKey["jqx"+f];if(g)continue;return"jqx"+f}}}return d},this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()},this}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),a.extend(a.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"},this.checkboxes=!1,this.icons=!1,this.showSubAggregates=!1,this.rowDetailsRenderer=null,this.virtualModeCreateRecords=null,this.virtualModeRecordCreating=null,this.loadingFailed=!1},createInstance:function(a){this.theme=this.base.theme},deleteRow:function(a){var b=this.base;b.deleterowbykey(a)},updateRow:function(a,b){var c=this.base;c.updaterowbykey(a,b)},setCellValue:function(a,b,c){var d=this.base;d.setCellValueByKey(a,b,c)},getCellValue:function(a,b){var c=this.base;return c.getCellValueByKey(a,b)},lockRow:function(a){var b=this.base;b.lockrowbykey(a)},unlockRow:function(a){var b=this.base;b.unlockrowbykey(a)},selectRow:function(a){var b=this.base;b.selectrowbykey(a)},unselectRow:function(a){var b=this.base;b.unselectrowbykey(a)},ensureRowVisible:function(a){var b=this.base;b.ensurerowvisiblebykey(a)},beginCellEdit:function(a,b){var c=this.base,d=c.getcolumn(b);c.beginroweditbykey(a,d)},beginRowEdit:function(a){var b=this.base;b.beginroweditbykey(a)},endCellEdit:function(a,b,c){var d=this.base;d.endroweditbykey(a,c)},endRowEdit:function(a,b){var c=this.base;c.endroweditbykey(a,b)},_showLoadElement:function(){var b=this.base;"block"==b.host.css("display")&&b.autoshowloadelement&&(a(b.dataloadelement).css("visibility","visible"),a(b.dataloadelement).css("display","block"),b.dataloadelement.width(b.host.width()),b.dataloadelement.height(b.host.height()))},_hideLoadElement:function(){var b=this.base;"block"==b.host.css("display")&&b.autoshowloadelement&&(a(b.dataloadelement).css("visibility","hidden"),a(b.dataloadelement).css("display","none"),b.dataloadelement.width(b.host.width()),b.dataloadelement.height(b.host.height()))},getKey:function(a){return a?a.uid:void 0},getRows:function(){var a=this.base;return a.source.hierarchy?a.source.hierarchy:a.source.records},getRow:function(a){var b=this.base,c=b.source.records;if(b.source.hierarchy){var d=function(b){for(var c=0;c<b.length;c++)if(b[c]){if(b[c].uid==a)return b[c];if(b[c].records){var e=d(b[c].records);if(e)return e}}},e=d(b.source.hierarchy);return e}for(var f=0;f<c.length;f++)if(c[f]&&c[f].uid==a)return c[f]},_renderrows:function(){var b=this.base,c=this;if(!b._loading&&!b._updating){var d=b._names();if(0===b.source.hierarchy.length&&!b.loadingFailed&&this.virtualModeCreateRecords){var e=function(a){if(a===!1||a&&0==a.length)return b._loading=!1,b.loadingFailed=!0,b.source.hierarchy=new Array,c._hideLoadElement(),b._renderrows(),b._updateScrollbars(),void b._arrange();for(var d=0;d<a.length;d++)a[d].level=0,c.virtualModeRecordCreating(a[d]),b.rowsByKey[a[d].uid]=a[d];b.source.hierarchy=a,b.source._source.hierarchy||(b.source._source.hierarchy={}),b._loading=!1,c._hideLoadElement(),b._renderrows(),b._updateScrollbars(),b._arrange()};b._loading=!0,this.virtualModeCreateRecords(null,e),this._showLoadElement()}b.rendering&&b.rendering();var f=0;b.table[0].rows=new Array;var g=b.toTP("jqx-cell")+" "+b.toTP("jqx-widget-content")+" "+b.toTP("jqx-item");b.rtl&&(g+=" "+b.toTP("jqx-cell-rtl"));var h=b.columns.records.length,i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&b.host.attr("hideFocus","true");var j=new Array,k=function(a,c){for(var e=0;e<a.length;e++){var f=a[e];if(f){var g=b.rowinfo[f.uid]?b.rowinfo[f.uid].expanded:f.expanded;if(0==b.dataview.filters.length&&(f._visible=!0),f._visible!==!1)if(g||f[d.leaf]){if(c.push(f),f.records&&f.records.length>0)for(var h=k(f.records,new Array),i=0;i<h.length;i++)c.push(h[i])}else c.push(f)}}return c},l=0===b.source.hierarchy.length?b.source.records:b.source.hierarchy;if(l=b.dataview.evaluate(l),b.dataViewRecords=l,this.showSubAggregates){var m=function(b,c){0!=b&&c.length>0&&(c[c.length-1]?c[c.length-1].aggregate||c.push({_visible:!0,level:b,siblings:c,aggregate:!0,leaf:!0}):a.jqx.browser.msie&&a.jqx.browser.version<9&&c[c.length-2]&&(c[c.length-2].aggregate||c.push({_visible:!0,level:b,siblings:c,aggregate:!0,leaf:!0})));for(var d=0;d<c.length;d++)c[d]&&c[d].records&&m(b+1,c[d].records)};m(0,l)}if(0===b.source.hierarchy.length){if("all"==b.dataview.pagesize||!b.pageable||b.serverProcessing){var n=l;if(b.pageable&&b.serverProcessing&&l.length>b.dataview.pagesize)var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize)}else var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);var j=n}else{var l=k.call(b,l,new Array);if("all"!=b.dataview.pagesize&&b.pageable)var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);else var n=l;var j=n,o=b.dataview.pagenum;if(b.updatepagerdetails(),b.dataview.pagenum!=o){if("all"!=b.dataview.pagesize&&b.pageable)var n=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);else var n=l;var j=n}}b.renderedRecords=j;var p=j.length,q=b.tableZIndex,r=0,s=0;if(i)for(var t=0;h>t;t++){var u=b.columns.records[t],v=u.width;v<u.minwidth&&(v=u.minwidth),v>u.maxwidth&&(v=u.maxwidth);var w=a('<table><tr><td role="gridcell" style="max-width: '+v+"px; width:"+v+'px;" class="'+g+'"></td></tr></table>');a(document.body).append(w);var x=w.find("td");r=1+parseInt(x.css("padding-left"))+parseInt(x.css("padding-right")),w.remove();break}for(var y=b.rtl?" "+b.toTP("jqx-grid-table-rtl"):"",z="<table cellspacing='0' class='"+b.toTP("jqx-grid-table")+y+"' id='table"+b.element.id+"'><colgroup>",A="<table cellspacing='0' class='"+b.toTP("jqx-grid-table")+y+"' id='pinnedtable"+b.element.id+"'><colgroup>",B=null,t=0;h>t;t++){var u=b.columns.records[t];if(!u.hidden){B=u;var v=u.width;if(v<u.minwidth&&(v=u.minwidth),v>u.maxwidth&&(v=u.maxwidth),v-=r,0>v&&(v=0),i){var C=v;0==t&&C++,A+="<col style='max-width: "+v+"px; width: "+C+"px;'>",z+="<col style='max-width: "+v+"px; width: "+C+"px;'>"}else A+="<col style='max-width: "+v+"px; width: "+v+"px;'>",z+="<col style='max-width: "+v+"px; width: "+v+"px;'>";s+=v}}z+="</colgroup>",A+="</colgroup>",b._hiddencolumns=!1;var D=!1;if(0===p){var E='<tr role="row">',F=b.host.height();if(b.pageable&&(F-=b.pagerheight,"both"===b.pagerposition&&(F-=b.pagerheight)),F-=b.columnsheight,b.filterable){var G=b.filter.find(".filterrow"),H=b.filter.find(".filterrow-hidden"),I=1;H.length>0&&(I=0),F-=b.filterheight+b.filterheight*G.length*I}b.showstatusbar&&(F-=b.statusbarheight),b.showaggregates&&(F-=b.aggregatesheight),25>F&&(F=25),"hidden"!=b.hScrollBar[0].style.visibility&&(F-=b.hScrollBar.outerHeight()),("auto"===b.height||null===b.height||b.autoheight)&&(F=100);var v=b.host.width()+2,w='<td colspan="'+b.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+F+"px; height: "+F+"px;  min-width:"+s+"px; max-width:"+s+"px; width:"+s+"px;",g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");g+=" "+b.toTP("jqx-center-align"),w+='" class="'+g+'">',b._loading||(w+=b.gridlocalization.emptydatastring),w+="</td>",E+=w,z+=E,A+=E,b.table[0].style.width=s+2+"px",f=s}for(var J=b.source._source.hierarchy&&b.source._source.hierarchy.groupingDataFields?b.source._source.hierarchy.groupingDataFields.length:0,K=0;K<j.length;K++){var L=j[K],M=L.uid;J>0&&L[d.level]<J&&(M=L.uid),void 0===L.uid&&(L.uid=b.dataview.generatekey());var E='<tr data-key="'+M+'" role="row" id="row'+K+b.element.id+'">',N='<tr data-key="'+M+'" role="row" id="row'+K+b.element.id+'">';if(L.aggregate)var E='<tr data-role="summaryrow" role="row" id="row'+K+b.element.id+'">',N='<tr data-role="summaryrow" role="row" id="row'+K+b.element.id+'">';var O=0;b.rowinfo[M]?(void 0===b.rowinfo[M].checked&&(b.rowinfo[M].checked=L[d.checked]),void 0===b.rowinfo[M].icon&&(b.rowinfo[M].icon=L[d.icon]),void 0===b.rowinfo[M].aggregate&&(b.rowinfo[M].aggregate=L[d.aggregate]),void 0===b.rowinfo[M].row&&(b.rowinfo[M].row=L),void 0===b.rowinfo[M].leaf&&(b.rowinfo[M].leaf=L[d.leaf]),void 0===b.rowinfo[M].expanded&&(b.rowinfo[M].expanded=L[d.expanded])):b.rowinfo[M]={selected:L[d.selected],checked:L[d.checked],icon:L[d.icon],aggregate:L.aggregate,row:L,leaf:L[d.leaf],expanded:L[d.expanded]};var P=b.rowinfo[M];P.row=L,L.originalRecord&&(P.originalRecord=L.originalRecord);for(var Q=0,t=0;h>t;t++){var R=b.columns.records[t];(R.pinned||b.rtl&&b.columns.records[h-1].pinned)&&(D=!0);var v=R.width;v<R.minwidth&&(v=R.minwidth),v>R.maxwidth&&(v=R.maxwidth),v-=r,0>v&&(v=0);var g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");R.pinned&&(g+=" "+b.toTP("jqx-grid-cell-pinned")),b.sortcolumn===R.displayfield&&(g+=" "+b.toTP("jqx-grid-cell-sort")),b.altrows&&K%2!=0&&(g+=" "+b.toTP("jqx-grid-cell-alt")),b.rtl&&(g+=" "+b.toTP("jqx-cell-rtl"));var S="";if(J>0&&!i&&L[d.level]<J){S+=' colspan="'+h+'"';for(var C=0,T=0;h>T;T++){var U=b.columns.records[T];if(!U.hidden){var V=U.width;V<U.minwidth&&(v=U.minwidth),V>U.maxwidth&&(v=U.maxwidth),V-=r,0>V&&(V=0),C+=V}}v=C}var w='<td role="gridcell"'+S+' style="max-width:'+v+"px; width:"+v+"px;",W='<td role="gridcell"'+S+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+v+"px; width:"+v+"px;";t==h-1&&1==h&&(w+="border-right-color: transparent;",W+="border-right-color: transparent;"),J>0&&L[d.level]<J?b.rtl&&(g+=" "+b.toTP("jqx-right-align")):"left"!=R.cellsalign&&(g+="right"===R.cellsalign?" "+b.toTP("jqx-right-align"):" "+b.toTP("jqx-center-align")),P&&(P.selected&&b.editKey!==M&&"none"!==b.selectionmode&&(g+=" "+b.toTP("jqx-grid-cell-selected"),g+=" "+b.toTP("jqx-fill-state-pressed")),P.locked&&(g+=" "+b.toTP("jqx-grid-cell-locked")),P.aggregate&&(g+=" "+b.toTP("jqx-grid-cell-pinned"))),R.hidden?(w+="display: none;",W+="display: none;",b._hiddencolumns=!0):(0!=Q||b.rtl?(w+="border-right-width: 0px;",W+="border-right-width: 0px;"):(w+="border-left-width: 0px;",W+="border-left-width: 0px;"),Q++,O+=r+v),R.pinned&&(w+="pointer-events: auto;",W+="pointer-events: auto;");var X="";if(0!=b.source.hierarchy.length&&L.records&&(!L.records||0!==L.records.length)||this.virtualModeCreateRecords||(P.leaf=!0),L.records&&L.records.length>0&&(P.leaf=!1),b.dataview.filters.length>0&&L.records&&L.records.length>0){for(var Y=!1,Z=0;Z<L.records.length;Z++)if(L.records[Z]._visible!==!1&&void 0==L.records[Z].aggregate){Y=!0;break}Y?P.leaf=!1:P.leaf=!0}P&&!P.leaf&&(P.expanded?(X+=b.toTP("jqx-tree-grid-expand-button")+" ",X+=b.rtl?b.toTP("jqx-grid-group-expand-rtl"):b.toTP("jqx-grid-group-expand"),X+=" "+b.toTP("jqx-icon-arrow-down")):(X+=b.toTP("jqx-tree-grid-collapse-button")+" ",b.rtl?(X+=b.toTP("jqx-grid-group-collapse-rtl"),X+=" "+b.toTP("jqx-icon-arrow-left")):(X+=b.toTP("jqx-grid-group-collapse"),X+=" "+b.toTP("jqx-icon-arrow-right")))),b.autorowheight&&1!=Q||(g+=" "+b.toTP("jqx-grid-cell-nowrap "));var $=b._getcellvalue(R,P.row);if(J>0&&L[d.level]<J&&($=L.label),""!=R.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate($)?$=a.jqx.dataFormat.formatdate($,R.cellsformat,b.gridlocalization):(a.jqx.dataFormat.isNumber($)||!isNaN(parseFloat($))&&isFinite($))&&($=a.jqx.dataFormat.formatnumber($,R.cellsformat,b.gridlocalization))),""!=R.cellclassname&&R.cellclassname)if("string"==typeof R.cellclassname)g+=" "+R.cellclassname;else{var _=R.cellclassname(K,R.datafield,b._getcellvalue(R,P.row),P.row,$);_&&(g+=" "+_)}if(""!=R.cellsrenderer&&R.cellsrenderer){var aa=R.cellsrenderer(M,R.datafield,b._getcellvalue(R,P.row),P.row,$);void 0!==aa&&($=aa)}if(P.aggregate&&R.aggregates){var ba=L.siblings.slice(0,L.siblings.length-1),ca=b._calculateaggregate(R,null,!0,ba);if(L[R.displayfield]="",ca)if(R.aggregatesrenderer){if(ca){var da=R.aggregatesrenderer(ca[R.datafield],R,null,b.getcolumnaggregateddata(R.datafield,R.aggregates,!1,ba),"subAggregates");$=da,L[R.displayfield]+=name+":"+ca[R.datafield]+"\n"}}else $="",L[R.displayfield]="",a.each(ca,function(){var a=this;for(obj in a){var c=obj;c=b._getaggregatename(c);var d='<div style="position: relative; margin: 0px; overflow: hidden;">'+c+":"+a[obj]+"</div>";$+=d,L[R.displayfield]+=c+":"+a[obj]+"\n"}});else $=""}if(1===Q&&!b.rtl||R==B&&b.rtl||J>0&&L[d.level]<J){for(var ea="",fa=b.toThemeProperty("jqx-tree-grid-indent"),ga=P.leaf?1:0,ha=0;ha<L[d.level]+ga;ha++)ea+="<span class='"+fa+"'></span>";var ia="<span class='"+X+"'></span>",ja="",ka="";if(this.checkboxes&&!L.aggregate){var la=b.toThemeProperty("jqx-tree-grid-checkbox")+" "+fa+" "+b.toThemeProperty("jqx-checkbox-default")+" "+b.toThemeProperty("jqx-fill-state-normal")+" "+b.toThemeProperty("jqx-rc-all"),ma=!0;if(a.isFunction(this.checkboxes)&&(ma=this.checkboxes(M,L),void 0==ma&&(ma=!1)),ma)if(P){var na=P.checked;ja+=na?"<span class='"+la+"'><div class='"+b.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+b.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":"<span class='"+la+"'></span>"}else ja+="<span class='"+la+"'></span>"}if(this.icons&&!L.aggregate){var oa=b.toThemeProperty("jqx-tree-grid-icon")+" "+fa;if(b.rtl)var oa=b.toThemeProperty("jqx-tree-grid-icon")+" "+b.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+fa;var pa=b.toThemeProperty("jqx-tree-grid-icon-size")+" "+fa,qa=P.icon;a.isFunction(this.icons)&&(P.icon=this.icons(M,L),P.icon&&(qa=!0)),qa&&(ka+=P.icon?"<span class='"+oa+"'><img class='"+pa+"' src='"+P.icon+"'/></span>":"<span class='"+oa+"'></span>")}var ra=ea+ia+ja+ka+"<span class='"+b.toThemeProperty("jqx-tree-grid-title")+"'>"+$+"</span>";$=b.rtl?"<span class='"+b.toThemeProperty("jqx-tree-grid-title")+"'>"+$+"</span>"+ka+ja+ia+ea:ra}if(J>0&&i&&t>=J&&L[d.level]<J&&(w+="padding-left: 5px; border-left-width: 0px;",W+="padding-left: 5px; border-left-width: 0px;",$="<span style='visibility: hidden;'>-</span>"),w+='" class="'+g+'">',w+=$,w+="</td>",W+='" class="'+g+'">',W+=$,W+="</td>",R.pinned?(N+=w,E+=w):(E+=w,D&&(N+=W)),J>0&&!i&&L[d.level]<J)break}if(0==f&&(b.table[0].style.width=O+2+"px",f=O),E+="</tr>",N+="</tr>",z+=E,A+=N,b.rowdetails&&!L.aggregate&&this.rowDetailsRenderer){var sa='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+v+"px; width:"+v+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+b.columns.records.length+'" role="gridcell"',g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");g+=" "+b.toTP("jqx-details"),g+=" "+b.toTP("jqx-reset");var ta=this.rowDetailsRenderer(M,L);ta&&(sa+='" class="'+g+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+ta+"</div></div></td></tr>",z+=sa,A+=sa)}}if(z+="</table>",A+="</table>",D){b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(A+z)}):b.table[0].innerHTML=A+z;var ua=b.table.find("#table"+b.element.id),va=b.table.find("#pinnedtable"+b.element.id);va.css("float","left"),va.css("pointer-events","none"),ua.css("float","left"),va[0].style.position="absolute",ua[0].style.position="relative",ua[0].style.zIndex=q-10,va[0].style.zIndex=q+10,b._table=ua,b._table[0].style.left="0px",b._pinnedTable=va,b._table[0].style.width=f+"px",b._pinnedTable[0].style.width=f+"px",b.rtl&&b._haspinned&&(b._pinnedTable[0].style.left=3-f+parseInt(b.element.style.width)+"px")}else{b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(z)}):b.table[0].innerHTML=z;var T=b.table.find("#table"+b.element.id);b._table=T,a.jqx.browser.msie&&a.jqx.browser.version<10&&(b._table[0].style.width=f+"px"),0===p&&(b._table[0].style.width=2+f+"px")}0===p&&(b._table[0].style.tableLayout="auto",b._pinnedTable&&(b._pinnedTable[0].style.tableLayout="auto")),b.showaggregates&&b._updatecolumnsaggregates(),b._loading&&0==p&&(b._arrange(),this._showLoadElement()),b.rendered&&b.rendered()}},propertyChangedHandler:function(a,b,c,d){void 0==a.isInitialized||0==a.isInitialized},checkRow:function(a,b){var c=this.base,d=c._names();if(!c._loading){var e=c.rowinfo[a];if(e)e.checked=!0,e.row[d.checked]=!0,b!==!1&&c._renderrows(),c._raiseEvent("rowCheck",{key:a,row:e.row});else{var f=this.getRow(a);f&&(c.rowinfo[a]={row:f,checked:!0},c._raiseEvent("rowCheck",{key:a,row:f}))}}},uncheckRow:function(a,b){var c=this.base,d=c._names();if(!c._loading){var e=c.rowinfo[a];if(e)e.checked=!1,e.row[d.checked]=!1,b!==!1&&c._renderrows(),c._raiseEvent("rowUncheck",{key:a,row:e.row});else{var f=this.getRow(a);f&&(c.rowinfo[a]={row:f,checked:!1},c._raiseEvent("rowUncheck",{key:a,row:f}))}}},expandRow:function(a){var b=this.base;if(!b._loading){var c=b._names(),d=this,e=b.rowinfo[a];if(e){if(e.expanded)return void(e.row[c.expanded]=!0);if(e.expanded=!0,e.row[c.expanded]=!0,e.originalRecord&&(e.originalRecord[c.expanded]=!0),this.virtualModeCreateRecords&&!e.row._loadedOnDemand){var f=function(a){if(e.row._loadedOnDemand=!0,a===!1)return b._loading=!1,d._hideLoadElement(),e.leaf=!0,e.row[c.leaf]=!0,void b._renderrows();for(var f=0;f<a.length;f++){if(a[f][c.level]=e.row[c.level]+1,a[f][c.parent]=e.row,b.rowsByKey[a[f].uid])throw b._loading=!1,d._hideLoadElement(),e.leaf=!0,e.row[c.leaf]=!0,b._renderrows(),new Error("Please, check whether you Add Records with unique ID/Key. ");b.rowsByKey[a[f].uid]=a[f],d.virtualModeRecordCreating(a[f])}e.row.records?e.row.records=e.row.records.concat(a):e.row.records=a,(!a||a&&0==a.length)&&(e.leaf=!0,e.row[c.leaf]=!0),e.originalRecord&&(e.originalRecord.records=a,e.originalRecord[c.expanded]=!0,0==a.length&&(e.originalRecord[c.leaf]=!0)),b._loading=!1,d._hideLoadElement();var g=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var h=g!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||h)&&b._arrange(),b._renderhorizontalscroll()};if(!e.row[c.leaf])return b._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(e.row,f)}if(!b.updating()){var g=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var h=g!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||h)&&b._arrange(),b._renderhorizontalscroll(),b._raiseEvent("rowExpand",{row:e.row,rowKey:a})}}}},collapseRow:function(a){var b=this.base,c=b._names();if(!b._loading){var d=b.rowinfo[a];if(d){if(!d.expanded)return void(d.row[c.expanded]=!1);if(d.expanded=!1,d.row[c.expanded]=!1,d.originalRecord&&(d.originalRecord[c.expanded]=!1),!b.updating()){var e=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var f=e!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||f)&&b._arrange(),b._renderhorizontalscroll(),b._raiseEvent("rowCollapse",{row:d.row,rowKey:a})}}}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxBulletChart","",{}),a.extend(a.jqx._jqxBulletChart.prototype,{defineInstance:function(){var b={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};a.extend(!0,this,b)},createInstance:function(b){if(!a.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var c=this;a.jqx.utilities.resize(this.host,function(){c._timer&&clearTimeout(c._timer),c._timer=setTimeout(function(){var a=c.animationDuration;c.animationDuration=0,c.render(),setTimeout(function(){c.animationDuration=a},0)},10)},!1,!0)},render:function(){this.host.children().length>0&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var b,c=this.host.width(),d=this.host.height(),e=this.rtl?"rtl":"ltr";"horizontal"==this.orientation?b=a("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+e+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+e+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(b=a("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+c+"px; direction: "+e+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+e+";'>"+this.description+"</div></div>")),this.host.append(b);var f=b.outerWidth(),g=b.outerHeight();b.remove();var h,i,j,k,l,m,n,o;if("horizontal"==this.orientation){if(h="jqx-bulletchart-title-container-horizontal",i="jqx-bulletchart-chart-container-horizontal",j=this._checkPercentage(this.barSize,this.host),k=f,l=this.barSize,m=0,n=c-k,o=l,this.width&&this.width.toString().indexOf("%")>=0){var n=parseFloat(parseFloat(100*n)/c).toString()+"%",k=parseFloat(parseFloat(100*k)/c).toString()+"%";this._percentageWidth=!0}}else"vertical"==this.orientation&&(h="jqx-bulletchart-title-container-vertical",i="jqx-bulletchart-chart-container-vertical",j=0,k="100%",l=g,m=this._checkPercentage(this.barSize,this.host),n=this.barSize,o=d-l);if((0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+h+"' style='top: "+j+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+i+"' style='top: "+j+"; left: "+m+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+h+"' style='top: "+j+";'></div>"),this._titleContainer=a("#"+this.element.id+"titleContainer"),this._chartContainer=a("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:k,height:l}),this._chartContainer.css({width:n,height:o}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,
this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(a){a||this.render()},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this.pointer.value:(a>this._max?a=this._max:a<this._min&&(a=this._min),void(a!=this.pointer.value&&(this._updateValue(a,this.pointer.value),this.pointer.value=a,1==this.showTooltip&&this._updateTooltip())))},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(b,c,d,e){if(d!=e||e instanceof Object){var f=!0,g=function(){a.each(d,function(a,d){void 0==e[a]&&(b[c][a]=d)})};switch(c){case"barSize":break;case"ranges":a.each(d,function(d,f){a.each(f,function(a,f){void 0==e[d][a]&&(b[c][d][a]=f)})}),this._setDefaultValues();break;case"pointer":return g(),void this._updatePointer(e,d);case"target":return g(),void this._updateTarget(e,d);case"ticks":f=!1,g(),a.each(d,function(a,e){d[a]!=b[c][a]&&(f=!0)});break;case"showTooltip":if(1==e){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==e?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==f&&this.render()}},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},_removeHandlers:function(){var b=a("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(b,"mouseenter.bulletchart"+this.element.id),this.removeHandler(b,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var a=this.ranges,b=this.ranges.length,c=0;b>c;c++){if(void 0==a[c].startValue||void 0==a[c].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");void 0==a[c].color&&(this.ranges[c].color="#000000"),void 0==a[c].opacity&&(this.ranges[c].opacity=1-1/b*c)}var d=this.pointer;void 0==d.value&&(this.pointer.value=65),void 0==d.label&&(this.pointer.label="Value"),void 0==d.size&&(this.pointer.size="25%"),void 0==d.color&&(this.pointer.color="");var e=this.target;void 0==e.value&&(this.target.value=85),void 0==e.label&&(this.target.label="Target"),void 0==e.size&&(this.target.size=5),void 0==e.color&&(this.target.color="");var f=this.ticks;void 0==f.position&&(this.ticks.position="near"),void 0==f.interval&&(this.ticks.interval=20),void 0==f.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var a="",b=this.ranges.length,c=0;b>c;c++){var d,e=this.ranges[c];if("horizontal"==this.orientation){var f=this.rtl?"right":"left",g=(e.startValue-this._min)*this._valueToPixelsHorizontal,h=(e.endValue-e.startValue)*this._valueToPixelsHorizontal;d="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+f+": "+g+"px; width: "+h+"px; background-color: "+e.color+"; opacity: "+e.opacity+"'></div>"}else if("vertical"==this.orientation){var i=(e.startValue-this._min)*this._valueToPixelsVertical,j=(e.endValue-e.startValue)*this._valueToPixelsVertical;d="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+i+"px; height: "+j+"px; background-color: "+e.color+"; opacity: "+e.opacity+"'></div>"}a+=d}this._chartContainer.append(a)},_appendPointerAndTarget:function(){var a="",b=this.element.id+"Pointer",c=this.element.id+"Target",d=this.pointer.size,e=this.target.value,f=this.target.size,g=e>0?0:parseInt(f),h=this.pointer.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed"),i=this.target.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");if("horizontal"==this.orientation){var j=this._normaliseValue(d),k=this._checkPercentage(d,this._chartContainer),l=this.rtl?"right":"left",m=(e-this._min)*this._valueToPixelsHorizontal-g,n=m+parseInt(f)-this._chartContainer.width();0>m?m=0:n>0&&(m-=n);var o=this._normaliseValue(f);a+="<div class='"+i+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+c+"' style='"+l+": "+m+"px; width: "+o+"; background-color: "+this.target.color+"'></div>",a+="<div class='"+h+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+b+"' style='top: "+k+"; height: "+j+"; background-color: "+this.pointer.color+"'></div>"}else if("vertical"==this.orientation){var p=(this._chartContainer.width(),this._normaliseValue(d)),q=this._checkPercentage(d,this._chartContainer),r=(e-this._min)*this._valueToPixelsVertical-g,n=r+parseInt(f)-this._chartContainer.height();0>r?r=0:n>0&&(r-=n);var s=this._normaliseValue(f);a+="<div class='"+i+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+c+"' style='bottom: "+r+"px; height: "+s+"; background-color: "+this.target.color+"'></div>",a+="<div class='"+h+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+b+"' style='left: "+q+"; width: "+p+"; background-color: "+this.pointer.color+"'></div>"}this._chartContainer.append(a)},_updatePointer:function(b,c){var d=a("#"+this.element.id+"Pointer");if(b.value>this._max?this.pointer.value=this._max:b.value<this._min&&(this.pointer.value=this._min),b.value!=c.value&&(this._updateValue(b.value,c.value),1==this.showTooltip&&this._updateTooltip()),b.label!=c.label&&1==this.showTooltip&&this._updateTooltip(),b.size!=c.size){var e=b.size;if("horizontal"==this.orientation){var f=this._checkPercentage(e,this._chartContainer),g=this._normaliseValue(e);d.css({top:f,height:g})}else if("vertical"==this.orientation){var h=this._checkPercentage(e,this._chartContainer),i=this._normaliseValue(e);d.css({left:h,width:i})}}b.color!=c.color&&(""==b.color?(d.css("background-color",""),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),d.css("background-color",b.color)))},_updateTarget:function(b,c){var d=a("#"+this.element.id+"Target");if(b.value>this._max?this.target.value=this._max:b.value<this._min&&(this.target.value=this._min),b.value!=c.value||b.size!=c.size){var e=b.value,f=parseInt(b.size),g=e>0?0:f;if("horizontal"==this.orientation){var h=(this.rtl?"right":"left",(e-this._min)*this._valueToPixelsHorizontal-g),i=h+f-this._chartContainer.width();0>h?h=0:i>0&&(h-=i),0==this.rtl?d.css("left",h):d.css("right",h),d.width(f)}else if("vertical"==this.orientation){var j=(e-this._min)*this._valueToPixelsVertical-g,i=j+f-this._chartContainer.height();0>j?j=0:i>0&&(j-=i),d.css({bottom:j,height:f})}1==this.showTooltip&&this._updateTooltip()}b.label!=c.label&&1==this.showTooltip&&this._updateTooltip(),b.color!=c.color&&(""==b.color?(d.css("background-color",""),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),d.css("background-color",b.color)))},_appendTitleAndDescription:function(){var b;b="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical");var c=this.rtl?"rtl":"ltr",d="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+b+"' style='direction: "+c+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+b+"' style='direction: "+c+";'>"+this.description+"</div>",e=a("<div style='position: absolute; visibility: hidden;'>"+d+"</div>");this._titleContainer.append(e);var f=e.children(),g=a(f[0]).height()+a(f[1]).height();e.remove();var h;h="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+h+"' style='height: "+g+"px;'>"+d+"</div>")},_appendTicksAndLabels:function(){var b=a("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(b);var c="",d=this._min<0?!0:!1,e=this.ticks.size;if("horizontal"==this.orientation){var f=this._titleContainer.width(),g=this._chartContainer.offset().top-this.host.offset().top;if("both"==this.ticks.position||"far"==this.ticks.position)var h=this._chartContainer.height()+g;for(var i=0;i<=this._interval;i+=this.ticks.interval){var j=i*this._valueToPixelsHorizontal+f;if(i+this.ticks.interval>this._interval&&(j-=1),d){var k=i+this._min==0?!0:!1;k&&(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+g+"px; "+n+": "+j+"px; height: "+this._chartContainer.height()+"px;'></div>",d=!1)}var l=this._labelValue(i);b.html(l);var m=j-b.width()/2,n=this.rtl?"right":"left";("both"==this.ticks.position||"far"==this.ticks.position)&&(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+h+"px; "+n+": "+j+"px; height: "+e+"px;'></div>",c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(h+e+2)+"px; "+n+": "+m+"px;'>"+l+"</div>"),("both"==this.ticks.position||"near"==this.ticks.position)&&(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(g-e)+"px; "+n+": "+j+"px; height: "+e+"px;'></div>",c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(g-(e+b.height()+2))+"px; "+n+": "+m+"px;'>"+l+"</div>")}}else if("vertical"==this.orientation){var o=this._chartContainer.offset().left-this.host.offset().left;if("both"==this.ticks.position||"far"==this.ticks.position)var p=this._chartContainer.width();for(var i=0;i<=this._interval;i+=this.ticks.interval){var q=i*this._valueToPixelsVertical;if(i+this.ticks.interval>this._interval&&(q-=1),d){var k=i+this._min==0?!0:!1;k&&(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+o+"px; bottom: "+q+"px; width: "+p+"px;'></div>",d=!1)}if("both"==this.ticks.position||"near"==this.ticks.position){c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(o-e)+"px; bottom: "+q+"px; width: "+e+"px;'></div>";var l=this._labelValue(i,"near");b.html(l);var m=b.height()/2-1;c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(o-(e+b.width()+2))+"px; bottom: "+(q-m)+"px;'>"+l+"</div>"}if("both"==this.ticks.position||"far"==this.ticks.position){c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(p+o)+"px; bottom: "+q+"px; width: "+e+"px;'></div>";var l=this._labelValue(i,"far");b.html(l);var m=b.height()/2-1;c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(p+o+e+2)+"px; bottom: "+(q-m)+"px;'>"+l+"</div>"}}}this.host.append(c),b.remove()},_labelValue:function(b,c){var d,e=b+this._min;return d=this.labelsFormatFunction?this.labelsFormatFunction(e,c):a.jqx.dataFormat.formatnumber(e,this.labelsFormat)},_initializeTooltip:function(){var b=this,c=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:c,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=a.proxy(this.val,this);var d=a("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(d,"mouseenter.bulletchart"+this.element.id,function(c){0==b.disabled&&(b.host.jqxTooltip("open",c.pageX,c.pageY),(c.target.id==b.element.id+"Pointer"&&""==b.pointer.color||c.target.id==b.element.id+"Target"&&""==b.target.color)&&(a(c.target).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.target).addClass(b.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(d,"mouseleave.bulletchart"+this.element.id,function(c){0==b.disabled&&(b.host.jqxTooltip("close"),(c.target.id==b.element.id+"Pointer"&&""==b.pointer.color||c.target.id==b.element.id+"Target"&&""==b.target.color)&&(a(c.target).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a(c.target).addClass(b.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var b;if(this.tooltipFormatFunction)b=this.tooltipFormatFunction(this.pointer.value,this.target.value);else{var c=a.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),d=a.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);b="<div>"+this.pointer.label+": "+c+"</div><div>"+this.target.label+": "+d+"</div>"}return b},_updateValue:function(b,c,d){var e,f,g,h=this,i=a("#"+this.element.id+"Pointer"),j=function(a,d,j){if(h._min>=0)"vertical"==a?i.css("bottom",0):1==h.rtl&&"horizontal"==a&&i.css("right",0),e=(b-h._min)*d;else{if(b>=0){"horizontal"==a?1==h.rtl?(f="right",g="left"):f="left":"vertical"==a&&(f="bottom",g="top");var k=-h._min*d}else{"horizontal"==a?1==h.rtl?f="left":(f="right",g="left"):"vertical"==a&&(f="top");var k=j+h._min*d}i.css(f,k),g&&i.css(g,""),0>b*c&&("horizontal"==a?i.width(0):"vertical"==a&&i.height(0)),e=Math.abs(b*d)}return e},k=function(){d||h._raiseEvent("0")};if("horizontal"==this.orientation){var l=j("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){i.animate({width:l},h.animationDuration,k)},0)}else if("vertical"==this.orientation){var m=j("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){i.animate({height:m},h.animationDuration,k)},0)}},_checkPercentage:function(a,b){var c=-1;a.indexOf&&(c=a.indexOf("%"));var d=function(b){return a.indexOf&&-1!=a.indexOf("px")?parseFloat(b.slice(0,a.indexOf("px"))):b},e=function(a){return parseFloat(a.slice(0,c))};if(-1==c){var f;return"horizontal"==this.orientation?f=b.height():"vertical"==this.orientation&&(f=b.width()),(f-d(a))/2+"px"}return(100-e(a))/2+"%"},_normaliseValue:function(a){return!a.indexOf||-1==a.indexOf("px")&&-1==a.indexOf("%")?a+"px":a}})}(jqxBaseFramework),function(a){$.jqx.jqxWidget("jqxEditor","",{}),$.extend($.jqx._jqxEditor.prototype,{defineInstance:function(){var a={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",toolbarPosition:"top",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,events:["change"]};$.extend(!0,this,a),this.localization=this.defaultLocalization},createInstance:function(a){var c=this;c.textArea=c.host;var d=c.host.attr("contenteditable");if(c.host.addClass(c.toThemeProperty("jqx-widget")),1==d||"true"==d){c.inline=!0,c.widget=c.host,c.editorDocument=document,c.selection=new b(c.editorDocument);var e=$("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");e.insertBefore(c.host),c.toolbarContainer=e,c.toolbar=e.find(".jqx-editor-toolbar"),c.editor=c.host,c.contentEditableElement=c.element}else{var f=$("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:void(0)' allowtransparency='true' frameborder='0'></iframe></div></div></div>");c.widget=f,c.widget[0].className=c.widget[0].className+" "+c.element.className;try{c.widget[0].style=c.element.style}catch(g){}var h=$.trim(c.host.html())+"&#8203;";"default"==c.lineBreak||"div"==c.lineBreak?h="<div>"+h+"</div>":"p"==c.lineBreak&&(h="<p>"+h+"</p>"),h=h.replace(/&lt;/gi,"<"),h=h.replace(/&gt;/gi,">"),c.host.css("display","none"),c.host.after(f),f.find("iframe").after(c.host),c.container=f.find(".jqx-editor-container"),c.toolbarContainer=f.find(".jqx-editor-toolbar-container"),c.toolbar=f.find(".jqx-editor-toolbar"),c.iframe=f.find("iframe"),c.content=f.find(".jqx-editor-content"),c.editorDocument=c.iframe[0].contentWindow.document,c.selection=new b(c.editorDocument),$.jqx.browser.mozilla||(c.editorDocument.designMode="On"),c.editorDocument.open();var i=c.rtl?"direction:rtl;":"",j=$.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";if(c.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family:Verdana,Geneva,sans-serif; background:#fff; min-height:100%;}"+j+i+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+$.map(c.stylesheets,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),c.contentEditableElement=c.editorDocument.body,c.host.is("textarea")){c._textArea=c.element;var k=c.host.data();k.jqxEditor.host=f,k.jqxEditor.element=f[0],c.element=f[0],f[0].id=c._textArea.id,c._textArea.id=c._textArea.id+"TextArea",$(c.element).addClass(c.toThemeProperty("jqx-widget")),c.host=$(c.element),c.host.data(k)}try{c.editorDocument.execCommand("useCSS",!1,!1),c.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(l){}try{c.editorDocument.execCommand("styleWithCSS",0,!0)}catch(l){}c.editorDocument.close(),c.editor=$(c.editorDocument.body),c.editor.html(h).attr("spellcheck",!1).attr("autocorrect","off"),$.jqx.utilities.resize(f,function(){c.widget.css("width",c.width),c.widget.css("height",c.height),c._arrange()})}},focus:function(){var a=this;$.jqx.browser.mozilla&&(a.focused||(a.iframe&&a.iframe.focus(),
a.selection.selectNode(a.editor[0].firstChild,!0),a.selection.getRange().collapse(!0))),a.editor.focus();var b=null!=a.range?a.range:a.getRange();a.selectRange(b)},print:function(){var a=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");a.document.open(),a.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),a.document.close()},refresh:function(a){var b=this;$.each(this.defaultLocalization,function(a,c){b.localization[a]||(b.localization[a]=c)}),b._removeHandlers(),b.toolbar.addClass(b.toThemeProperty("jqx-widget-header")),b.content?(b.widget.css("width",b.width),b.widget.css("height",b.height),b.widget.addClass(b.toThemeProperty("jqx-editor")),b.widget.addClass(b.toThemeProperty("jqx-widget")),b.widget.addClass(b.toThemeProperty("jqx-rc-all")),b.widget.addClass(b.toThemeProperty("jqx-widget-header")),b.content.addClass(b.toThemeProperty("jqx-widget-content")),b.container.addClass(b.toThemeProperty("jqx-editor-container"))):(b.toolbarContainer.addClass(b.toThemeProperty("jqx-widget-header")),b.toolbarContainer.addClass(b.toThemeProperty("jqx-editor-toolbar-inline")),b.toolbarContainer.addClass(b.toThemeProperty("jqx-widget")),b.toolbarContainer.addClass(b.toThemeProperty("jqx-rc-all")),b.toolbarContainer.hide(),b.toolbarContainer.css("position","absolute"),b.editor.addClass(b.toThemeProperty("jqx-editor-inline")),b.toolbarContainer.css("width",b.host.outerWidth()+"px"));var c=b.toolbarContainer.index();if("top"==b.toolbarPosition&&0!=c||"bottom"==b.toolbarPosition&&1!=c)switch(b.toolbarPosition){case"bottom":b.toolbarContainer.insertAfter(b.content);break;case"top":default:b.toolbarContainer.insertBefore(b.content)}var d=b.tools;if(d!==!1){var e=d.split(" "),f=d.split(" | "),g=function(a,c){$.each(c,function(d,e){var f=b.commands[this];if(f){if(b.createCommand){var g=b.createCommand(this.toString());f=$.extend(f,g)}}else{if(!b.createCommand)return!0;if(f=b.createCommand(this.toString()),!f)return!0;b.commands[this]||(b.commands[this]=f)}switch(b.localization[this]&&(f.tooltip=b.localization[this]),f.type){case"list":f.widget&&f.widget.jqxDropDownList("destroy");var h=function(a,b,c){return"formatblock"==f.command?"<"+c+' unselectable="on" style="padding: 0px; margin: 0px;">'+b+"</"+c+">":"fontname"==f.command?'<span unselectable="on" style="font-family: '+c+';">'+b+"<span>":"fontsize"==f.command?'<span unselectable="on" style="font-size: '+c+';">'+b+"<span>":void 0},i=function(){var a=b.toThemeProperty("jqx-editor-toolbar-icon")+" "+b.toThemeProperty("jqx-editor-toolbar-icon-"+f.command),c="<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+a+"'></div>";return c},j="formatblock"==f.command||"fontname"==f.command||"fontsize"==f.command,k=f.value||[],l=new Array,m=f.placeHolder||"Please Choose:";"fontname"==f.command?$.each(k,function(){var a=b.localization[this.label];l.push({label:a,value:this.value})}):"formatblock"==f.command?(m=b.localization.format,$.each(k,function(){if(this.label.indexOf("Header")>=0)var a=this.label.replace("Header",b.localization.Header);else var a=b.localization[this.label];l.push({label:a,value:this.value})})):l=k;var n={enableBrowserBoundsDetection:!0,touchMode:b.touchMode,width:f.width||100,height:f.height||25,dropDownWidth:f.dropDownWidth||"auto",autoDropDownHeight:(f.value&&f.value.length)<12?!0:!1,placeHolder:m,source:l,theme:b.theme,keyboardSelection:!1,focusable:!1,disabled:b.disabled,rtl:b.rtl,selectionRenderer:"fontsize"==f.command?i:null,renderer:j?h:null},o="jqx-disableselect "+b.toThemeProperty("jqx-editor-dropdownlist")+" "+b.toThemeProperty("jqx-editor-toolbar-item"),p=$("<div unselectable='on' class='"+o+"'></div>");p.appendTo(a),p.jqxDropDownList(n),f.init&&f.init(p);var e=null,q=null,r="";b.addHandler(p,"mousedown",function(a){if($(".jqx-editor-dropdownpicker").length>0&&$(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),$(".jqx-editor-dropdownlist").length>0){var b=$(".jqx-editor-dropdownlist");$.each(b,function(a,b){b!=p[0]&&$(b).jqxDropDownList("close")})}}),b.addHandler(p,"open",function(a){b.focused||b.focus(),b.updating=!0,b.activeElement=p,e=p.val(),r=""}),b.addHandler(p,"change",function(a){b.updating=!1,b.activeElement=null,q=p.val(),r=a.args.type,$.jqx.browser.msie&&$.jqx.browser.version<9&&b.focus()}),b.addHandler(p,"close",function(a){b.updating=!1,b.activeElement=null,e!=q&&("mouse"==r||"keyboard"==r)&&b._refreshTools()}),b._addCommandHandler(p,"change",f.command,null,f);break;case"colorPicker":f.widget&&($(f.colorPicker).remove(),f.widget.jqxDropDownButton("destroy"));var s=$('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+f.command),o="jqx-disableselect "+b.toThemeProperty("jqx-editor-dropdownpicker")+" "+b.toThemeProperty("jqx-editor-toolbar-item"),p=$("<div unselectable='on' class='"+o+"'></div>");p.appendTo(a),p.append(s),p.jqxDropDownButton({touchMode:b.touchMode,disabled:b.disabled,enableBrowserBoundsDetection:!0,width:f.width||45,height:f.height||25,rtl:b.rtl,focusable:!1,theme:b.theme});var t=$('<div unselectable="on" style="z-index: 55;">'),u=b.toThemeProperty("jqx-editor-toolbar-icon")+" "+b.toThemeProperty("jqx-editor-toolbar-icon-"+f.command),v=$("<div unselectable='on' class='"+u+"'></div>");t.append(v);var w=$('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+f.command).css("background-color",f.value);t.append(w),p.jqxDropDownButton("setContent",t),s.append($(b.colorPickerTemplate)),f.colorPicker=s,f.init&&f.init(p),s.find("tr").attr("role","row").attr("unselectable","on"),s.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),s.find("div").attr("unselectable","on"),b.addHandler(p,"mousedown",function(a){if($(".jqx-editor-dropdownlist").length>0&&$(".jqx-editor-dropdownlist").jqxDropDownList("close"),$(".jqx-editor-dropdownpicker").length>0){var b=$(".jqx-editor-dropdownpicker");$.each(b,function(a,b){b!=p[0]&&$(b).jqxDropDownButton("close")})}}),b.addHandler(p,"open",function(){b.focused||b.focus(),b.updating=!0,b.activeElement=s}),b.addHandler(p,"close",function(a){b.updating=!1,b.activeElement=null,e!=q&&("mouse"==r||"keyboard"==r)&&b._refreshTools()}),b.addHandler(s,"keydown",function(a){var b=a.keyCode,c=$(s).find(".jqx-editor-color-picker-selected-cell"),d=s.find("tr"),e=d.length,g=c.parent().children().length,h=c.index(),i=-999,j=c.parent();switch($.each(d,function(a,b){return this==j[0]?(i=a,!1):void 0}),b){case 27:p.jqxDropDownButton("close");break;case 13:$(c).trigger("mousedown");break;case 38:i--;break;case 40:i++;break;case 39:h++;break;case 37:h--}if(i>=0&&e>=i&&h>=0&&g>=h){var j=s.find("tr")[i],k=$(j).children()[h],l=$(k).children().css("background-color");f.val(l)}});var x=$(s).find("td");f.val=function(a){var c=b._rgbToHex(a);$.each(x,function(){var a=$(this).children().css("background-color"),d=b._rgbToHex(a);return d==c?(x.removeClass("jqx-editor-color-picker-selected-cell"),$(this).addClass("jqx-editor-color-picker-selected-cell"),$("#bar-"+f.command).css("background",a),!1):void 0})},f.val(f.value),b._addCommandHandler(x,"mousedown",f.command,null,f);break;case"button":case"toggleButton":default:f.widget&&("button"==f.type?f.widget.jqxButton("destroy"):f.widget.jqxToggleButton("destroy"));var y=f.command,z=f.action,u=b.toThemeProperty("jqx-editor-toolbar-icon")+" "+b.toThemeProperty("jqx-editor-toolbar-icon-"+y),v=$("<div unselectable='on' class='"+u+"'></div>"),p=$("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(b.toThemeProperty("jqx-editor-toolbar-button"));f.init?y&&p.append(v):p.append(v),p.appendTo(a),"button"==f.type?p.jqxButton({disabled:b.disabled,rtl:b.rtl,theme:b.theme}):"toggleButton"==f.type&&p.jqxToggleButton({disabled:b.disabled,rtl:b.rtl,uiToggle:!1,theme:b.theme}),f.init&&f.init(p),f.toggled=!1,f.toggle=function(){f.toggled=!f.toggled},b.addHandler(p,"mousedown",function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1}),$.jqx.mobile.isTouchDevice()?b._addCommandHandler(p,"mousedown",y,z,f):b._addCommandHandler(p,"click",y,z,f)}if(f.widget=p,p){try{""!=f.tooltip&&(f.widget.attr("title",f.tooltip),f.widget.attr("data-tooltip",f.tooltip)),f.command&&f.widget.attr("data-command",f.command),f.widget.attr("aria-label",f.tooltip)}catch(A){}("button"==f.type||"toggleButton"==f.type)&&(c.length>2&&(0==d?(p.css("border-right-radius","0px"),p.addClass(b.toThemeProperty("jqx-rc-l"))):d==c.length-1&&(p.css("border-left-radius","0px"),p.addClass(b.toThemeProperty("jqx-rc-r"))),p.removeClass(b.toThemeProperty("jqx-rc-all"))),0!=d&&d!=c.length-1&&c.length>2?(p.css("border-left-radius","0px"),p.css("border-right-radius","0px"),p.removeClass(b.toThemeProperty("jqx-rc-all"))):2==c.length?(0==d?(p.css("border-right-radius","0px"),p.addClass(b.toThemeProperty("jqx-rc-l"))):(p.css("border-left-radius","0px"),p.addClass(b.toThemeProperty("jqx-rc-r"))),p.removeClass(b.toThemeProperty("jqx-rc-all"))):1==c.length&&p.css("margin-right","0px"))}})};if(b.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==f.length)g(b.toolbar,e);else{for(var h=0;h<f.length;h++){var i=f[h],e=i.split(" "),j=b.toThemeProperty("jqx-editor-toolbar-group")+" "+b.toThemeProperty("jqx-fill-state-normal"),k=$("<div class='"+j+"'></div>");k.addClass(b.toThemeProperty("jqx-rc-all")),b.toolbar.append(k),g(k,e)}for(var l=b.toolbar.find(".jqx-editor-toolbar-group"),m=l.length,h=0;m>h;h++)0==$(l[h]).children().length&&$(l[h]).remove()}$.jqx.browser.msie&&$.jqx.browser.version<8&&($(".jqx-editor-toolbar-group").css("float","left"),$(".jqx-editor-toolbar-group").children().css("float","left"),$(".jqx-editor-toolbar-group").css("zoom","1"),$(".jqx-editor-toolbar-group").children().css("zoom","1"))}b._arrange(),b._addHandlers()},_arrange:function(){var a=this;a.content&&(""==a.tools||0==a.tools?(a.content.height(a.container.outerHeight()-parseInt(a.container.css("padding-top"))-parseInt(a.container.css("padding-bottom"))-6),a.content.css("margin-top","4px"),a.toolbar.hide()):(a.toolbar.show(),a.content.css("margin-top","0px"),a.content.height(a.container.outerHeight()-a.toolbar.outerHeight()-parseInt(a.container.css("padding-top"))-parseInt(a.container.css("padding-bottom"))-2),"top"!=a.toolbarPosition&&(a.content.css("margin-top","4px"),a.content.css("margin-bottom","0px"))),$.jqx.browser.msie&&$.jqx.browser.version<8&&(a.content.css("margin-top","4px"),a.content.height(a.container.height()-a.toolbar.outerHeight()-2*parseInt(a.container.css("padding-bottom"))-10),a.content.width(a.container.width()-2*parseInt(a.container.css("padding-left"))-2)),a.editor.height()<a.content.height()&&a.editor.height(a.content.height()))},propertyChangedHandler:function(a,b,c,d){var e=a;if(void 0!=e.isInitialized&&0!=e.isInitialized&&"pasteMode"!=b&&"lineBreak"!=b&&"editable"!=b)return"disabled"==b&&a._refreshTools(),"width"==b||"height"==b||"toolbarPosition"==b?void a._arrange():void a.refresh()},selectRange:function(a){var b=this;a||(a=b.getRange()),b.selection.selectRange(a)},getRange:function(){var a=this;return a.selection.getRange()},getSelectedElement:function(){var a,b,c,d,e=this;try{if(e.editorDocument.getSelection){var f=e.editorDocument.getSelection();return a=f.getRangeAt(f.rangeCount-1),c=a.startContainer,d=a.endContainer,b=a.commonAncestorContainer,"#text"==c.nodeName&&(b=b.parentNode),"#text"==c.nodeName&&(c=c.parentNode),"body"==c.nodeName.toLowerCase()&&(c=c.firstChild),"#text"==d.nodeName&&(d=d.parentNode),"body"==d.nodeName.toLowerCase()&&(d=d.lastChild),c==d&&(b=c),d}if(e.editorDocument.selection){if(a=e.editorDocument.selection.createRange(),!a.duplicate)return null;b=a.parentElement();var g=a.duplicate(),h=a.duplicate();return g.collapse(!0),h.moveToElementText(g.parentElement()),h.setEndPoint("EndToStart",g),c=g.parentElement(),g=a.duplicate(),h=a.duplicate(),h.collapse(!1),g.moveToElementText(h.parentElement()),g.setEndPoint("StartToEnd",h),d=h.parentElement(),"body"==c.nodeName.toLowerCase()&&(c=c.firstChild),"body"==d.nodeName.toLowerCase()&&(d=d.lastChild),c==d&&(b=c),d}}catch(i){return null}return null},_addHandlers:function(){var a=this;a.addHandler(a.toolbar,"mousedown.editor"+a.element.id,function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1});var b=function(){if(a._textArea&&(a.updating||(a._textArea.value=a.val())),a.changed&&(a._raiseEvent("change"),a.changed=!1),a.focused=!1,a.inline){if(a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-editor-inline-focus")),""==a.tools||null==a.tools)return;a.toolbarContainer.fadeOut("fast")}},c=function(){if(a.focused=!0,a.inline){if(a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")),a.host.addClass(a.toThemeProperty("jqx-editor-inline-focus")),a.host.addClass(a.toThemeProperty("jqx-rc-all")),""==a.tools||null==a.tools)return;a.toolbarContainer.fadeIn("fast");var b=a.host.coord();"bottom"!=a.toolbarPosition?a.toolbarContainer.offset({left:b.left,top:b.top-a.toolbarContainer.outerHeight()-5}):a.toolbarContainer.offset({left:b.left,top:b.top+5+a.host.height()})}};$.jqx.browser.mozilla&&this.addHandler($(document),"mousedown.editor"+a.element.id,function(a){b()}),a.addHandler(a.editor,"blur.editor"+a.element.id,function(a){b()}),a.addHandler(a.editor,"focus.editor"+a.element.id,function(a){c()}),a.addHandler(a.editor,"beforedeactivate.editor"+a.element.id,function(b){a.range=a.getRange()}),a.addHandler(a.editor,"mousedown.editor"+a.element.id,function(b){a.range=a.getRange(),$.jqx.browser.mozilla&&(c(),b.stopPropagation()),$(".jqx-editor-dropdownpicker").length>0&&$(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),$(".jqx-editor-dropdownlist").length>0&&$(".jqx-editor-dropdownlist").jqxDropDownList("close"),a.inline&&a.editor.focus()}),$.jqx.mobile.isTouchDevice()&&(a.addHandler($(a.editorDocument),"selectionchange.editor"+a.element.id,function(){a.editorDocument.activeElement!=a.editor[0]&&setTimeout(function(){a.iframe&&a.iframe[0].contentWindow.focus()},500)}),a.addHandler($(a.editorDocument),"touchstart.editor"+a.element.id,function(){setTimeout(function(){a.iframe&&a.iframe[0].contentWindow.focus()},500)})),a.addHandler(a.editor,"mouseup.editor"+a.element.id,function(b){return"source"==a._documentMode?!0:(a.range=a.getRange(),void a._refreshTools(null,!0))}),a.addHandler(a.editor,"keydown.editor"+a.element.id,function(b){if("source"==a._documentMode)return!0;if($.jqx.browser.mozilla&&(a.focused||c()),a.disabled)return b.preventDefault&&b.preventDefault(),!1;if(a.updating){if(a.activeElement){var d=$.Event("keydown");$.extend(d,b),a.activeElement.trigger(d)}return b.preventDefault&&b.preventDefault(),!1}var e=b||window.event,f=e.keyCode,g=String.fromCharCode(f).toLowerCase();if(!a.editable){var h=[8,9,33,34,35,36,37,38,39,40,40,45,46];-1!=$.inArray(e.keyCode,h)||e.ctrlKey&&"c"==g||e.ctrlKey&&"a"==g||b.preventDefault()}if(a.selection.getText().length>0||a.linkPopup){var h=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];(-1!=!$.inArray(e.keyCode,h)||65==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey)&&(a._refreshToolsTimer&&clearTimeout(a._refreshToolsTimer),a._refreshToolsTimer=setTimeout(function(){a._refreshTools(null,!0,e.keyCode)},10))}if(13==f&&"default"!=a.lineBreak){var i=a.getSelectedElement();if(i){var j=i.nodeName.toLowerCase();switch(j){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var k=i;null!=k;){if("#document"==k.nodeName){k=a.editorDocument.body;break}if(k.parentNode==a.editorDocument.body||k==a.editorDocument.body)break;k=k.parentNode}}if(k){var l=a.getRange();"<div></div>"==a.editorDocument.body.innerHTML&&"br"!=a.lineBreak&&a.selection.insertContent("&#8203;"),"div"==a.lineBreak?k==a.editorDocument.body?$(k).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):$("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(k):"p"==a.lineBreak?k==a.editorDocument.body?$(k).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):$("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(k):a.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),a.selectRange(l);var m=$(a.editorDocument).find("#INSERTION_MARKER");return"br"!=a.lineBreak?a.selection.selectNode($(m).prev()[0],!0):(a.selection.selectNode(m[0],!0),a.getRange().setStartAfter&&a.getRange().setStartAfter(m[0])),m.remove(),a.selection.collapse(!1),k&&k.nodeName&&"br"==a.lineBreak&&"#text"!=k.nodeName.toLowerCase()&&(a.selection.selectNode(k,!0),a.getRange().setStartAfter&&a.getRange().setStartAfter(k),a.selection.collapse(!1)),"br"!=a.lineBreak&&(l=a.getRange(),l.select&&l.select()),b.preventDefault&&b.preventDefault(),!1}}if(e.ctrlKey&&("k"==g||"u"==g||"b"==g||"i"==g)){b.preventDefault&&b.preventDefault();var n=null;switch(g){case"k":n="link";break;case"u":n="underline";break;case"b":n="bold";break;case"i":n="italic"}return a.commands[n].widget&&a.commands[n].widget.trigger("click"),!1}}),a.addHandler(a.editor,"paste.editor"+a.element.id,function(b){if("source"==a._documentMode)return!0;if(a.readOnly)return!0;a.updating=!0,a.readOnly=!0;var c=function(b,c){if(c)a.paragraphise?(b="<p>"+b+"</p>",b=b.replace(/\n/g,"</p><p>"),b=b.replace(/<p>\s<\/p>/gi,"")):b=b.replace(/\n/g,"<br />");else{if(b=b.replace(/<html[^>]*?>(.*)/gim,"$1"),b=b.replace(/<\/html>/gi,""),b=b.replace(/<body[^>]*?>(.*)/gi,"$1"),b=b.replace(/<\/body>/gi,""),b=b.replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,""),b=b.replace(/<(?:meta|link)[^>]*>\s*/gi,""),b=b.replace(/<\\?\?xml[^>]*>/gi,""),b=b.replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,""),b=b.replace(/<o:p>\s*<\/o:p>/g,""),b=b.replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;"),b=b.replace(/<\/?\w+:[^>]*>/gi,""),b=b.replace(/<\!--[\s\S]*?-->/g,""),b=b.replace(/<\!\[[\s\S]*?\]>/g,""),b=b.replace(/\s*mso-[^:]+:[^;"']+;?/gi,""),b=b.replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3"),b=b.replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3"),b=b.replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,""),b=b.replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"'),b=b.replace(/\s*text-indent: 0cm\s*;/gi,""),b=b.replace(/\s*text-indent: 0cm\s*"/gi,'"'),b=b.replace(/\s*text-align: [^\s;]+;?"/gi,'"'),b=b.replace(/\s*page-break-before: [^\s;]+;?"/gi,'"'),b=b.replace(/\s*font-variant: [^\s;]+;?"/gi,'"'),b=b.replace(/\s*tab-stops:[^;"']*;?/gi,""),b=b.replace(/\s*tab-stops:[^"']*/gi,""),b=b.replace(/\s*face="[^"']*"/gi,""),b=b.replace(/\s*face=[^ >]*/gi,""),b=b.replace(/\s*font-family:[^;"']*;?/gi,""),b=b.replace(/\s*font-size:[^;"']*;?/gi,""),b=b.replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3"),b=b.replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,""),b=b.replace(/\s*style='\s*'/gi,""),b=b.replace(/\s*style="\s*"/gi,""),b=b.replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;"),b=b.replace(/<span\s*[^>]*><\/span>/gi,""),b=b.replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3"),b=b.replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3"),b=b.replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2"),b=b.replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1"),b=b.replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;"),b=b.replace(/<h\d>\s*<\/h\d>/gi,""),b=b.replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3"),b=b.replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3"),b=b.replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3"),b=b.replace(/<h(\d)([^>]*)>/gi,"<h$1>"),b=b.replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>"),b=b.replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>"),b=b.replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>"),b=b.replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>"),b=b.replace(/<\s+[^>]*>/gi,""),b=b.replace(/<span>([\s\S]*?)<\/span>/gi,"$1"),b=b.replace(/<span>([\s\S]*?)<\/span>/gi,"$1"),b=b.replace(/<div>([\s\S]*?)<\/div>/gi,"$1"),b=b.replace(/<div>([\s\S]*?)<\/div>/gi,"$1"),b=b.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),b=b.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),b=b.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),b.trim&&(b=b.trim()),a.paragraphise){var d=b.substr(0,2);"<p"!==d&&(b="<p>"+b+"</p>",b=b.replace(/\n/g,"</p><p>"),b=b.replace(/<br[^>]*>/gi,"</p><p>"))}else b.replace(/<p>/gi,"<br />"),b.replace(/<\/p>/gi,"");b=b.replace(/<br>/gi,"<br />"),b=b.replace(/<br[^>]*><\/p>/gim,"</p>"),b=b.replace(/<p>&nbsp;<\/p>/gi,""),b=b.replace(/<p>\s<\/p>/gi,""),b=b.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),b=b.replace(/MsoNormal/gi,""),b=b.replace(/<\/?meta[^>]*>/gi,""),b=b.replace(/<\/?xml[^>]*>/gi,""),b=b.replace(/<\?xml[^>]*\/>/gi,""),b=b.replace(/<!--(.*)-->/gi,""),b=b.replace(/<!--(.*)>/gi,""),b=b.replace(/<!(.*)-->/gi,""),b=b.replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,""),b=b.replace(/<w:[^>]*\/>/gi,""),b=b.replace(/<\/?w:[^>]*>/gi,""),b=b.replace(/<m:[^>]*\/>/gi,""),b=b.replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,""),b=b.replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,""),b=b.replace(/<o:[^>]*\/>/gi,""),b=b.replace(/<\/?m:[^>]*>/gi,""),b=b.replace(/style=\"([^>]*)\"/gi,""),b=b.replace(/style=\'([^>]*)\'/gi,""),b=b.replace(/class=\"(.*)\"/gi,""),b=b.replace(/class=\'(.*)\'/gi,""),b=b.replace(/<b>/gi,"<strong>"),b=b.replace(/<\/b>/gi,"</strong>"),b=b.replace(/<p[^>]*>/gi,"<p>"),b=b.replace(/<\/p[^>]*>/gi,"</p>"),b=b.replace(/<span[^>]*>/gi,""),b=b.replace(/<\/span[^>]*>/gi,""),b=b.replace(/<st1:[^>]*>/gi,""),b=b.replace(/<\/st1:[^>]*>/gi,""),b=b.replace(/<font[^>]*>/gi,""),b=b.replace(/<\/font[^>]*>/gi,""),b=b.replace("  ",""),b=b.replace(/<strong><\/strong>/gi,""),b=b.replace(/<p><\/p>/gi,""),b=b.replace(/\/\*(.*)\*\//gi,""),b=b.replace(/<!--/gi,""),b=b.replace(/-->/gi,""),b=b.replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,""),b=b.trim()}return b},d=a.getRange();"text"==a.pasteMode?a.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>'):a.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>');var e=$(a.editorDocument).find(".jqx-editor-paste-element");if(a.editor[0].createTextRange){b.preventDefault();var f=a.editor[0].createTextRange();f.moveToElementText(e[0]),f.execCommand("Paste")}else{var g=a.editorDocument.createRange();g.selectNodeContents(e[0]),a.selectRange(g)}"text"==a.pasteMode&&e.select(),a.marker=e,setTimeout(function(){a.selectRange(d);var b=function(b){var c=a.editorDocument.createElement("div"),d=a.editorDocument.createDocumentFragment();for(c.innerHTML=b;c.firstChild;)d.appendChild(c.firstChild);return d};if("text"!=a.pasteMode){var e=b(a.marker.html());if(e.firstChild&&"jqx-editor-paste-element"===e.firstChild.className){for(var f=[],g=0,h=e.childNodes.length;h>g;g++)f.push(e.childNodes[g].innerHTML);e=b(f.join("<br />"))}var i=document.createElement("div");i.appendChild(e.cloneNode(!0));var j=i.innerHTML}else{var j=a.marker.val();if(""!=a.marker.html()&&-1==a.marker.val().indexOf("\n")){var j=a.marker.html();j=j.replace(/&nbsp;/gm,""),j=j.replace(/\n\n/gm,"\n"),j=j.replace(/<br[^>]*>/gi,"\n"),a.marker.html(j);var j=a.marker.text()}}var k=c(j,"text"==a.pasteMode);a.getRange();a.selection.insertContent(k+"<span id='INSERTION_MARKER'>&nbsp;</span>"),a.marker.remove();var l=$(a.editorDocument).find("#INSERTION_MARKER");a.selection.selectNode(l[0],!0),a.getRange().setStartAfter&&a.getRange().setStartAfter(l[0]),l.remove(),a.selection.collapse(!1),l.removeAttr("id"),a._refreshTools()},100),a.updating=!1,a.readOnly=!1}),a.addHandler(a.editor,"keyup.editor"+a.element.id,function(b){if("source"==a._documentMode)return!0;if(a.updating||a.disabled||!a.editable)return b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1;a.range=a.getRange(),a.changed=!0;var c=b||window.event,d=(c.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46]);(-1!=$.inArray(c.keyCode,d)||65==c.keyCode&&c.ctrlKey&&!c.altKey&&!c.shiftKey)&&a._refreshTools(null,!0,c.keyCode)}),a.addHandler(a.editor,"click.editor"+a.element.id,function(b){if("source"==a._documentMode)return!0;if(a.editImage&&($(a.editImage).removeClass("jqx-editor-focus"),a.editImage=null),"img"==b.target.tagName.toLowerCase()){var c=b.target;a.editImage=c,$(a.editImage).addClass("jqx-editor-focus")}}),a.addHandler(a.editor,"dblclick.editor"+a.element.id,function(b){if("source"==a._documentMode)return!0;if("img"==b.target.tagName.toLowerCase()){var c=b.target;$(".jqx-editor-image-window").length>0&&(a.editImage=c,a._updateImageWindow())}})},_updateLinkWindow:function(){var a=this,b=$(".jqx-editor-link-window");b.jqxWindow({position:{center:a.widget}}),b.jqxWindow("open");var c=b.find("input"),d=b.find(".jqx-editor-link-checkbox"),e=b.find("button:first"),f=$(b.find("button")[1]);if(a.editLink&&a.editLink.href)c[0].value=a.editLink.href||"",c[1].value=$(a.editLink).text()||a.editLink.href,d.val("_blank"==$(a.editLink).attr("target")),f.show();else{if(c[0].value="",c[1].value="",!a.selection.isCollapsed()){var g=a.selection.getText();g.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?c[0].value=g:c[1].value=g}d.val(!1),f.hide()}c[0].value.length>0?e.jqxButton({disabled:!1}):e.jqxButton({disabled:!0})},_updateImageWindow:function(){var a=this,b=a.editImage;b||(b=$("<img>")[0]);var c=$(".jqx-editor-image-window");c.jqxWindow({position:{center:a.widget}}),c.jqxWindow("open");var d=c.find("input"),e=$(c.find("button")[1]);a.editImage?e.show():e.hide(),d[0].value=b.src,""==d[0].value&&(d[0].value=""),d[1].value=b.alt,"auto"!=b.style.width?d[2].value=b.style.width:d[2].value="","auto"!=b.style.height?d[3].value=b.style.height:d[3].value="",b.style.marginLeft&&"0px"!=b.style.marginLeft?d[4].value=b.style.marginLeft:d[4].value="",b.style.marginTop&&"0px"!=b.style.marginTop?d[5].value=b.style.marginTop:d[5].value="";var f=c.find(".jqx-editor-align"),g=$(b).css("float");"left"==g?f.jqxDropDownList({selectedIndex:1}):"right"==g?f.jqxDropDownList({selectedIndex:2}):f.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var a=this;a.editor&&(a.removeHandler(a.editor,"blur.editor"+a.element.id),a.removeHandler(a.editor,"focus.editor"+a.element.id),a.removeHandler(a.editor,"click.editor"+a.element.id),a.removeHandler(a.editor,"mousedown.editor"+a.element.id),a.removeHandler(a.editor,"mouseup.editor"+a.element.id),a.removeHandler(a.editor,"keyup.editor"+a.element.id),a.removeHandler(a.editor,"keydown.editor"+a.element.id),a.removeHandler(a.editor,"beforedeactivate.editor"+a.element.id),a.removeHandler(a.editor,"dblclick.editor"+a.element.id)),a.toolbar&&a.removeHandler(a.toolbar,"mousedown.editor"+a.element.id)},getParentByTag:function(a,b){var b=b.toLowerCase(),c=a;do if(""==b||c.nodeName.toLowerCase()==b)return c;while(c=c.parentNode);return a},isStyleProperty:function(a,b,c,d){var b=b.toLowerCase(),e=a;do if(e.nodeName.toLowerCase()==b&&e.style[c]==d)return!0;while(e=e.parentNode);return!1},setStyleProperty:function(a,b){this.style[b]=!1;var c=this.getParentByTag(a,b);c&&c.tagName.toLowerCase()==b&&(this.style[b]=!0),"del"==b&&this.getParentByTag(a,"strike")&&"strike"==this.getParentByTag(a,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(a){var b=this,a=b.getSelectedElement()?b.getSelectedElement():a;if(a&&b.setStyleProperty)try{if(window.getComputedStyle){"#text"==a.nodeName.toLowerCase()&&(a=b.editor[0]);var c=window.getComputedStyle(a,null),d=401==c.getPropertyValue("font-weight")?700:c.getPropertyValue("font-weight");b.style={fontStyle:c.getPropertyValue("font-style"),fontSize:c.getPropertyValue("font-size"),textDecoration:c.getPropertyValue("text-decoration"),fontWeight:d,fontFamily:c.getPropertyValue("font-family"),textAlign:c.getPropertyValue("text-align"),color:b._rgbToHex(c.color),backColor:b._rgbToHex(c.backgroundColor)},b.style.fontStyle=c.getPropertyValue("font-style"),b.style.vAlign=c.getPropertyValue("vertical-align"),b.style.del=b.isStyleProperty(a,"span","textDecoration","line-through"),b.style.u=b.isStyleProperty(a,"span","textDecoration","underline");var e=function(a){for(var b="transparent",c="rgba(0, 0, 0, 0)";a&&(window.getComputedStyle(a).backgroundColor==b||window.getComputedStyle(a).backgroundColor==c);)a=a.parentNode;return a?window.getComputedStyle(a).backgroundColor:b};b.style.backColor||(b.style.backColor=b._rgbToHex(e(a)))}else{var c=a.currentStyle;b.style={fontStyle:c.fontStyle,fontSize:c.fontSize,textDecoration:c.textDecoration,fontWeight:c.fontWeight,fontFamily:c.fontFamily,textAlign:c.textAlign,color:b._rgbToHex(c.color),backColor:b._rgbToHex(c.backgroundColor)}}b.setStyleProperty(a,"h1"),b.setStyleProperty(a,"h2"),b.setStyleProperty(a,"h3"),b.setStyleProperty(a,"h4"),b.setStyleProperty(a,"h5"),b.setStyleProperty(a,"h6"),b.setStyleProperty(a,"del"),b.setStyleProperty(a,"sub"),b.setStyleProperty(a,"sup"),b.setStyleProperty(a,"u"),"a"==a.nodeName.toLowerCase()&&"underline"==b.style.textDecoration&&(b.style.u=!0),(b.style.h1||b.style.h2||b.style.h3||b.style.h4||b.style.h5||b.style.h6)&&(b.style.heading=!0)}catch(f){return null}},_refreshTools:function(a,b,c){var d=this;if(!d.updating){var a=d.getSelectedElement()?d.getSelectedElement():a;if(a&&d.setStyleProperty){d.updateStyle(a);var e=d.readOnly;if(d.readOnly=!0,d.tools!==!1){var f=d.tools.split(" "),g=d.tools.split(" | "),h=function(a){$.each(a,function(a,b){var c=d.commands[this];if(!c)return!0;switch(c.type){case"list":c.widget.jqxDropDownList("clearSelection"),c.widget.jqxDropDownList({disabled:d.disabled});break;case"colorPicker":c.val(c.value),c.widget.jqxDropDownButton({disabled:d.disabled});break;case"toggleButton":c.widget.jqxToggleButton("unCheck"),c.widget.jqxToggleButton({disabled:d.disabled});break;case"button":default:c.widget.jqxButton({disabled:d.disabled})}})};if(0==g.length)h(f);else for(var i=0;i<g.length;i++){var j=g[i],f=j.split(" ");h(f)}if(d.style){var k=function(c){$.each(c,function(c,e){var f=d.commands[this];if(!f)return!0;if(f.refresh)return f.refresh(f.widget,d.style),!0;switch(f.type){case"list":if("fontname"==f.command){for(var g=-1,h=999,i=0;i<f.value.length;i++){var e=f.value[i].label.toLowerCase(),j=d.style.fontFamily.toLowerCase().indexOf(e);j>=0&&(h>j&&(g=i),h=Math.min(h,j))}f.widget.jqxDropDownList("selectIndex",g)}else if("formatblock"==f.command){var e=null;d.style.h1?e="h1":d.style.h2?e="h2":d.style.h3?e="h3":d.style.h4?e="h4":d.style.h5?e="h5":d.style.h6&&(e="h6"),f.widget.jqxDropDownList("selectItem",e)}else if("fontsize"==f.command){var k="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),l=-1;try{var l=a.getAttribute("size")-1;-1==l&&(l=d.editorDocument.queryCommandValue(f.command)-1)}catch(m){}var n=k[l];f.widget.val(n)}break;case"colorPicker":var o=function(a){return"number"!=typeof a?a:"rgb("+(255&a)+", "+((65280&a)>>8)+", "+((16711680&a)>>16)+")"},p=o(d.editorDocument.queryCommandValue(f.command));"backcolor"==f.command&&null==d.style.backColor&&(p="#FFFFFF");var q=d._rgbToHex(p);q?f.val(q):"forecolor"==f.command?f.val(d.style.color):"backcolor"==f.command&&f.val(d.style.backColor);break;case"toggleButton":if("viewsource"==f.command)return;if(!f.command)return;var r=!1,s=d.editorDocument.queryCommandState(f.command)&&d.editorDocument.queryCommandEnabled(f.command);if(d.linkPopup&&d.linkPopup.remove(),"createlink"==f.command&&"a"==a.nodeName.toLowerCase()){var t=!0;if(-1==$(a).text().indexOf(d.selection.getText())&&""!=d.selection.getText()&&(t=!1),t){s=!0,d.linkPopup=$("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+d.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+a.href+"'>"+a.href+"</a> - <a style='color:#222222;' href='#change'>"+d.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+d.localization.Remove+"</a></div>").appendTo(d.editor);var u=$(a).coord(),v=u.left;
u.left+d.linkPopup.width()>d.editor.width()&&(v=d.editor.width()-d.linkPopup.width()-15),d.linkPopup.offset({top:$(a).height()+u.top+5,left:v}),d.addHandler(d.linkPopup,"mousedown",function(b){if(b.target&&b.target.href){var c=$(b.target).index();switch(c){case 1:d.editor.focus(),d.selection.selectNode(a,!0),d.commands.link.widget.trigger("click");break;case 2:try{d.editor.focus(),d.selection.selectNode(a),d.execute("unlink"),d.commands.underline.toggled=!1,d.selection.collapse(!1),d._refreshTools()}catch(e){}break;default:window.open(b.target.href,"_blank")}}return b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1})}}"bold"==f.command?(d.style.fontWeight&&(d.style.fontWeight>=600||"bold"==d.style.fontWeight)&&(r=!0),d.selection.isCollapsed()?f.toggled=s:f.toggled=s||r,s=f.toggled):"italic"==f.command?(d.style.fontStyle&&"italic"==d.style.fontStyle&&(r=!0),b?f.toggled=s:s=f.toggled):"underline"==f.command?(d.style.u&&(r=!0),b?f.toggled=s:s=f.toggled):"justifyleft"==f.command?"left"==d.style.textAlign&&(r=!0):"justifyright"==f.command?"right"==d.style.textAlign&&(r=!0):"justifycenter"==f.command?"center"==d.style.textAlign&&(r=!0):"justifyfull"==f.command?"justify"==d.style.textAlign&&(r=!0):$.each(d.style,function(a,b){f.command==a.toLowerCase()&&(r=!0)});var w=s;r&&-1!=f.command.indexOf("justify")?f.widget.jqxToggleButton("check"):w?f.widget.jqxToggleButton("check"):r&&d.range.collapsed===!1?f.widget.jqxToggleButton("check"):$.jqx.browser.msie&&$.jqx.browser.version<9&&r&&!d.selection.isCollapsed()&&f.widget.jqxToggleButton("check");break;case"button":default:f.refresh&&f.refresh(f.widget,d.style)}})};if(0==g.length)k(f);else for(var i=0;i<g.length;i++){var j=g[i],f=j.split(" ");k(f)}}}d.readOnly=e}}},_rgbToHex:function(a){if(a){if("#"===a.substr(0,1)){if(4==a.length){var b=a.substr(1,1),c=a.substr(2,1),d=a.substr(3,1);return"#"+b+b+c+c+d+d}return a}var e=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(a);if(!e)return null;var b=parseInt(e[2],10).toString(16),c=parseInt(e[3],10).toString(16),d=parseInt(e[4],10).toString(16);return"#"+((1==b.length?"0"+b:b)+(1==c.length?"0"+c:c)+(1==d.length?"0"+d:d))}return null},_preventDefault:function(a,b){b!==!1&&($(".jqx-editor-dropdownpicker").length>0&&$(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),$(".jqx-editor-dropdownlist").length>0&&$(".jqx-editor-dropdownlist").jqxDropDownList("close")),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.returnValue=!1},_addCommandHandler:function(a,b,c,d,e){var f=this;switch(!c&&e.init&&(c="custom"),c){case"custom":switch(e.type){case"list":action=function(a){"source"!=f._documentMode&&"none"!=a.args.type&&(e.value=$(this).val(),f.execute("custom",e),f.readOnly||f._refreshTools()),f._preventDefault(a,!1)};break;case"colorPicker":action=function(a){if("source"!=f._documentMode){$(e.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==a.target.nodeName.toLowerCase()){var b=$(a.target).css("background-color");$(a.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var b=$(a.target).find("div").css("background-color");$(a.target).addClass("jqx-editor-color-picker-selected-cell")}$("#bar-"+c).css("background",b),e.widget.val=function(){var a=function(a){return"number"!=typeof a?a:"rgb("+(255&a)+", "+((65280&a)>>8)+", "+((16711680&a)>>16)+")"},c=a(b),d=f._rgbToHex(c);return d},e.widget.jqxDropDownButton("close"),f.execute("custom",e)}return f._preventDefault(a),!1};break;case"button":case"toggleButton":default:action=function(a){$(".jqx-editor-dropdownpicker").length>0&&$(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),$(".jqx-editor-dropdownlist").length>0&&$(".jqx-editor-dropdownlist").jqxDropDownList("close"),f._preventDefault(a);$(this).attr("data-command");return"source"!=f._documentMode&&(e.toggle&&e.toggle(),f.execute("custom",e),f._refreshTools()),!1}}break;case"formatblock":action=function(a){"source"!=f._documentMode&&"none"!=a.args.type&&(f.execute($(this).attr("data-command"),"<"+$(this).val()+">",e),f.readOnly||(f.commands.bold.toggled=!1,f._refreshTools())),f._preventDefault(a,!1)};break;case"fontsize":action=function(a){if("source"!=f._documentMode&&"none"!=a.args.type){var b=$(this).val(),c="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),d=$(this).jqxDropDownList("getSelectedIndex")+1,d=1+c.indexOf(b);f.execute($(this).attr("data-command"),d,e)}f._preventDefault(a,!1)};break;case"fontname":action=function(a){if("source"!=f._documentMode&&"none"!=a.args.type){var b=$(this).val();f.execute($(this).attr("data-command"),b,e)}f._preventDefault(a,!1)};break;case"forecolor":case"backcolor":action=function(a){if("source"!=f._documentMode){$(e.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==a.target.nodeName.toLowerCase()){var b=$(a.target).css("background-color");$(a.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var b=$(a.target).find("div").css("background-color");$(a.target).addClass("jqx-editor-color-picker-selected-cell")}$("#bar-"+c).css("background",b),e.widget.jqxDropDownButton("close"),f.execute(c,b,e)}return f._preventDefault(a),!1};break;case"viewsource":action=function(a){return f.linkPopup&&f.linkPopup.remove(),e.toggle(),f.setMode(e.toggled),$(".jqx-editor-dropdownpicker").length>0&&$(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),$(".jqx-editor-dropdownlist").length>0&&$(".jqx-editor-dropdownlist").jqxDropDownList("close"),f._preventDefault(a),!1};break;case"insertimage":action=function(a){f._insertImageAction(a,f,e)};break;case"createlink":action=function(a){f._createLinkAction(a,f,e)};break;default:action=function(a){$(".jqx-editor-dropdownpicker").length>0&&$(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),$(".jqx-editor-dropdownlist").length>0&&$(".jqx-editor-dropdownlist").jqxDropDownList("close"),f._preventDefault(a);var b=$(this).attr("data-command");if("source"!=f._documentMode){if("underline"==b&&f.getSelectedElement()){var c=f.getSelectedElement();if(c&&"a"==c.nodeName.toLowerCase())return e.toggled?$(c).css("text-decoration","none"):$(c).css("text-decoration","underline"),e.toggle(),f._refreshTools(),!1}e.toggle&&e.toggle(),f.execute(b,$(this).val(),e),f._refreshTools()}return!1}}return f.addHandler(a,b,action),!1},_createLinkAction:function(a,b,c){var b=this;if("source"==b._documentMode)return void b._preventDefault(a);b.focused||b.editor.focus(),b.range=b.getRange();var d=b.getSelectedElement();if("a"==d.nodeName.toLowerCase()?b.editLink=d:b.editLink=null,$(".jqx-editor-link-window").length>0)return b.editLink&&b.selection.selectNode(d,!0),b._updateLinkWindow(),b._preventDefault(a),!1;var e=$("<div class='jqx-editor-window jqx-editor-link-window'><div>"+b.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+b.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+b.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+b.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>"),f=e.find("input");f.addClass(b.toThemeProperty("jqx-widget")),f.addClass(b.toThemeProperty("jqx-widget-content")),f.addClass(b.toThemeProperty("jqx-input"));var g=e.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:b.theme,height:23,width:180}),h=e.find("button:first").jqxButton({theme:b.theme,disabled:!0}),i=$(e.find("button")[1]).jqxButton({theme:b.theme}),j=e.find("button:last").jqxButton({theme:b.theme});h.val(b.localization.Ok),j.val(b.localization.Cancel),i.val(b.localization.Remove),b.addHandler(j,$.jqx.mobile.isTouchDevice()?$.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){b.editor.focus(),b.selectRange(b.range),b._refreshTools(),b._preventDefault(a)}),(!b.editLink||b.editLink&&!b.editLink.href)&&i.hide();var k=!1;if(b.addHandler($(f[0]),"focus",function(){k=""==f[1].value||f[1].value==f[0].value?!0:!1}),b.addHandler($(f[1]),"keyup",function(a){a.keyCode&&(13==a.keyCode&&h.trigger("click"),27==a.keyCode&&j.trigger("click"))}),b.addHandler($(f[0]),"keyup change",function(a){f[0].value.length>0?h.jqxButton({disabled:!1}):h.jqxButton({disabled:!0}),k&&(f[1].value=f[0].value),a.keyCode&&(13==a.keyCode&&h.trigger("click"),27==a.keyCode&&j.trigger("click"))}),b.addHandler(i,$.jqx.mobile.isTouchDevice()?$.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){e.jqxWindow("close");try{b.editor.focus(),b.selection.selectNode(b.editLink),b.execute("unlink"),b.selection.collapse(!1),b.commands.underline.toggled=!1,b._refreshTools()}catch(c){}b._preventDefault(a)}),b.addHandler(h,$.jqx.mobile.isTouchDevice()?$.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){var d=e.find("input"),f=$("<a>"+(d[1].value||d[0].value)+"</a>");g.val()&&f.attr("target","_blank"),f[0].href=$.trim(d[0].value),-1==d[0].value.indexOf("http")&&-1==d[0].value.indexOf("mailto")&&(f[0].href="http://"+$.trim(d[0].value)),b.focused||b.editor.focus(),b.range&&b.selectRange(b.range),b.execute("insertHTML",""+f[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",c),b.editor.focus();var h=$(b.editorDocument).find("#INSERTION_MARKER");b.selection.selectNode(h[0],!0),b.getRange().setStartAfter&&b.getRange().setStartAfter(h[0]),h.remove(),b.selection.collapse(!1),b._refreshTools(),b._preventDefault(a)}),b.updating=!0,e.appendTo(document.body),b.addHandler(e,"open",function(){b.updating=!0,setTimeout(function(){b.range=b.getRange(),$(f[0]).focus()},25)}),e.jqxWindow({resizable:!1,width:280,okButton:h,cancelButton:j,theme:b.theme,isModal:!0,position:{center:b.widget}}),b.addHandler(e,"close",function(){b.updating=!1}),b.focused||(b.editor.focus(),b.selectRange(b.range)),b.editLink)f[0].value=b.editLink.href||"",f[1].value=$(b.editLink).text(),g.val("_blank"==$(b.editLink).attr("target"));else if(!b.selection.isCollapsed()){var l=b.selection.getText();l.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?f[0].value=l:f[1].value=l}return f[0].value.length>0?h.jqxButton({disabled:!1}):h.jqxButton({disabled:!0}),b._preventDefault(a),!1},_insertImageAction:function(a,b,c){if("source"==b._documentMode)return void b._preventDefault(a);if(b.focused||b.editor.focus(),b.range=b.getRange(),$(".jqx-editor-image-window").length>0)return b._updateImageWindow(),b._preventDefault(a),!1;var d=$("<div class='jqx-editor-window jqx-editor-image-window'><div>"+b.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+b.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+b.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+b.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+b.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+b.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+b.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+b.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>"),e=d.find("input");e.addClass(b.toThemeProperty("jqx-widget")),e.addClass(b.toThemeProperty("jqx-widget-content")),e.addClass(b.toThemeProperty("jqx-input")),d.find(".jqx-editor-align").jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0,theme:b.theme,height:23,width:180,source:[b.localization["not set"],b.localization.Left,b.localization.Right]});var f=d.find("button:first").jqxButton({theme:b.theme}),g=d.find("button:last").jqxButton({theme:b.theme}),h=$(d.find("button")[1]).jqxButton({theme:b.theme});return f.val(b.localization.Ok),g.val(b.localization.Cancel),h.val(b.localization.Remove),h.hide(),b.addHandler(h,$.jqx.mobile.isTouchDevice()?$.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){$(b.editImage).removeClass("jqx-editor-focus"),$(b.editImage).remove(),b.editImage=null,b._preventDefault(a),d.jqxWindow("close"),b._raiseEvent("change")}),b.addHandler(g,$.jqx.mobile.isTouchDevice()?$.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){$(b.editImage).removeClass("jqx-editor-focus"),b.editImage=null,b._preventDefault(a)}),b.addHandler(f,$.jqx.mobile.isTouchDevice()?$.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){$(b.editImage).removeClass("jqx-editor-focus");var e=d.find("input"),f=b.editImage?$(b.editImage):$('<img style="border: 1px solid transparent;">'),g=f.attr("src",e[0].value).attr("unselectable","on");e[1].value&&g.attr("alt",e[1].value).attr("title",e[1].value),e[2].value&&!isNaN(parseInt(e[2].value))?g.width(e[2].value):g.css("width","auto"),e[3].value&&!isNaN(parseInt(e[3].value))?g.height(e[3].value):g.css("height","auto"),e[4].value?"auto"==e[4].value.toString()?(g.css("margin-left","auto"),g.css("margin-right","auto")):-1!=e[4].value.toString().indexOf("%")?(g.css("margin-left",parseInt(e[4].value)+"%"),g.css("margin-right",parseInt(e[4].value)+"%")):(g.css("margin-left",parseInt(e[4].value)+"px"),g.css("margin-right",parseInt(e[4].value)+"px")):(g.css("margin-left","0px"),g.css("margin-right","0px")),e[5].value?"auto"==e[5].value.toString()?(g.css("margin-top","auto"),g.css("margin-bottom","auto")):-1!=e[5].value.toString().indexOf("%")?(g.css("margin-top",parseInt(e[5].value)+"%"),g.css("margin-bottom",parseInt(e[5].value)+"%")):(g.css("margin-top",parseInt(e[5].value)+"px"),g.css("margin-bottom",parseInt(e[5].value)+"px")):(g.css("margin-top","0px"),g.css("margin-bottom","0px"));var h=d.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(1==h?g.css("float","left"):2==h?g.css("float","right"):0==h&&g.css("float","none"),g.css("resize",!1),g[0].oncontrolselect=function(){return!1},g[0].selectstart=function(){return!1},!b.editImage){b.focused||b.editor.focus(),b.range&&b.selectRange(b.range),b.execute("insertHTML",g[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",c),b.editor.focus();var i=$(b.editorDocument).find("#INSERTION_MARKER");b.selection.selectNode(i[0],!0),b.getRange().setStartAfter&&b.getRange().setStartAfter(i[0]),i.remove(),b.selection.collapse(!1),b._refreshTools(),b._preventDefault(a)}b.editImage=null,b._preventDefault(a)}),d.appendTo(document.body),b.updating=!0,b.addHandler(d,"open",function(){b.updating=!0,setTimeout(function(){b.range=b.getRange(),$(e[0]).focus()},25)}),d.jqxWindow({resizable:!1,width:280,okButton:f,cancelButton:g,theme:b.theme,isModal:!0,position:{center:b.widget}}),b.addHandler(d,"close",function(){b.updating=!1}),b.focused||(b.editor.focus(),b.selectRange(b.range)),b._preventDefault(a),!1},editmode:function(a){var b=this;if(a||b.readOnly){if(a&&b.readOnly){var c=b.editor.find("#sourceText").text();b.editor.html(c),b.buttons.hasOwnProperty("html")&&b.buttons.html.removeClass("active"),b.editor.attr("contentEditable",!0),b._addHandlers()}}else{b._removeHandlers(),b.editor.attr("contentEditable",!1);var c=document.createTextNode(b.editor.html()),d=$("<pre>");d.html(c).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),b.editor.html(d),b.buttons.hasOwnProperty("html")&&b.buttons.html.addClass("active"),d.focus()}b.readOnly=!a},setMode:function(a){var b=this;b.range||(b.editor.focus(),b.range=b.getRange());var d,e=b.editor[0];if(a){b._documentMode="source";var f=new c,g=f.HTMLtoXML(e.innerHTML);g=f.FormatHTML(g),d=document.createTextNode(g),e.innerHTML="";var h=document.createElement("pre");e.contentEditable=!1,h.style.height="100%",h.style.margin="0px",h.style.outline="none",h.style.display="block",h.id="sourceText",h.contentEditable=!0,h.appendChild(d),e.appendChild(h),this.readOnly=!0}else this._documentMode="html",document.all?e.innerHTML=e.innerText:e.textContent?e.innerHTML=e.textContent:(d=document.createRange(),d.selectNodeContents(e.firstChild),e.innerHTML=d.toString()),e.contentEditable=!0,b.readOnly=!1,b._refreshTools(),b.editor.focus(),b.selection.selectNode(b.editor[0]),b.editor.scrollTop(0),b.selection.collapse(!0);if($.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:a});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:a});break;case"button":this.widget.jqxButton({disabled:a});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:a})}}),b.editor.focus(),$.jqx.browser.mozilla){var i=$("<a href='#'>anchor</a>");b.editor.prepend(i),i.focus(),i.remove(),b.selection.collapse(!0)}b.commands.html.widget.jqxToggleButton({toggled:"source"==a||1==a}),b.commands.html.toggled="source"==a||1==a},execute:function(a,b,c){var d=this;if(!d.readOnly){var e=d.editorDocument;if("source"==d._documentMode)return;d.linkPopup&&d.linkPopup.remove(),d.editor.focus(),$.jqx.browser.mozilla&&d.focus(),$.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);var f=function(a){try{if(a.command&&"inserthtml"==a.command.toLowerCase()){var b=d.getRange(),c=a.value;-1==c.toString().indexOf("<")&&(c="<span>"+a.value+"</span>"),d.selection.insertContent(""+c+"<span id='INSERTION_MARKER'>&nbsp;</span>"),d.selectRange(b),setTimeout(function(){var a=$(d.editorDocument).find("#INSERTION_MARKER");d.selection.selectNode($(a).prev()[0],!0),a.remove(),d.selection.collapse(!1)},10)}else if(a.command){if(!e.queryCommandEnabled(a.command))return!1;e.execCommand(a.command,!1,a.value)}else{if(!e.queryCommandEnabled(a))return!1;e.execCommand(a,!1,a)}}catch(f){}};if("custom"==a){var g=b.action(b.widget,d.editor);g&&f(g)}else try{if(c&&c.action){var g=c.action(c.widget,d.editor);f(g)}else if(e.queryCommandEnabled(a))e.execCommand(a,!1,b);else{if("insertHTML"!=a)return!1;d.selection.insertContent(b)}}catch(h){if("insertHTML"!=a)return!1;d.selection.insertContent(b)}$.jqx.mobile.isTouchDevice()&&setTimeout(function(){d.iframe&&d.iframe[0].contentWindow.focus()},500),d._raiseEvent("change",{command:a,args:b}),d.changed=!0,d.range=d.getRange()}},destroy:function(){var a=this;a._removeHandlers();var b=a.tools.split(" "),c=a.tools.split(" | "),d=function(b){$.each(b,function(b,c){var d=a.commands[this];if(!d)return!0;switch(d.type){case"list":d.widget.jqxDropDownList("destroy");break;case"colorPicker":d.colorPicker.remove(),d.widget.jqxDropDownButton("destroy");break;case"toggleButton":d.widget.jqxToggleButton("destroy");break;case"custom":a.destroyTool&&a.destroyTool(this);break;case"button":default:d.widget.jqxToggleButton("destroy")}})};if(0==c.length)d(b);else for(var e=0;e<c.length;e++){var f=c[e],b=f.split(" ");d(b)}a.inline?a.toolbar.remove():(a.widget.remove(),a.host.remove())},val:function(a){return void 0!=a&&"object"!=typeof a&&this.editor.html(a),this.editor.html()},_raiseEvent:function(a,b){if(void 0==b&&(b={owner:null}),"source"==this._documentMode)return!0;var c=a;args=b,args.owner=this;var d=new $.Event(c);d.owner=this,d.args=args;var e=this.host.trigger(d);return this._textArea&&$(this._textArea).trigger(d),b=d.args,e}});var b=function(a){var b={initialize:function(a){this.document=a},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var a=this.getSelection();if(!a)return null;try{return a.rangeCount>0?a.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch(b){return this.document.body.createTextRange()}},selectRange:function(a){if(a.select)a.select();else{var b=this.getSelection();b.addRange&&(b.removeAllRanges(),b.addRange(a))}},selectNode:function(a,b){var c=this.getRange(),d=this.getSelection();if(c.moveToElementText)c.moveToElementText(a),c.select();else if(d.addRange)try{b?c.selectNodeContents(a):c.selectNode(a),d.removeAllRanges(),d.addRange(c)}catch(e){}else d.setBaseAndExtent(a,0,a,1);return a},isCollapsed:function(){var a=this.getRange();return a.item?!1:0==a.boundingWidth||this.getSelection().isCollapsed},collapse:function(a){var b=this.getRange(),c=this.getSelection();b.select?(b.collapse(a),b.select()):a?c.collapseToStart():c.collapseToEnd()},getContent:function(){var a=this.getRange(),b=$("<div>")[0];if(this.isCollapsed())return"";a.cloneContents?b.appendChild(a.cloneContents()):void 0!=a.item||void 0!=a.htmlText?$(b).html(a.item?a.item(0).outerHTML:a.htmlText):$(b).html(a.toString());var c=$(b).html();return c},getText:function(){var a=this.getRange(),b=this.getSelection();return this.isCollapsed()?"":a.text||(b.toString?b.toString():"")},getNode:function(){var b=this.getRange();if(!$.jqx.browser.msie||$.jqx.browser.version>=9){var c=null;if(b)for(c=b.commonAncestorContainer,b.collapsed||b.startContainer==b.endContainer&&b.startOffset-b.endOffset<2&&b.startContainer.hasChildNodes()&&(c=b.startContainer.childNodes[b.startOffset]);"element"!=typeof c;)c=c.parentNode;return a.id(c)}return a.id(b.item?b.item(0):b.parentElement())},insertContent:function(a){var b=this.getRange();if(b.pasteHTML)b.pasteHTML(a),b.collapse(!1),b.select();else if(b.insertNode)if(b.deleteContents(),b.createContextualFragment)b.insertNode(b.createContextualFragment(a));else{var c=this.document,d=c.createDocumentFragment(),e=c.createElement("div");d.appendChild(e),e.outerHTML=a,b.insertNode(d)}}};return b.initialize(a),b},c=function(){function a(a){for(var b={},c=a.split(","),d=0;d<c.length;d++)b[c[d]]=!0;return b}var b=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,c=/^<\/([-A-Za-z0-9_]+)[^>]*>/,d=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,e=a("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),f=a("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),g=a("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),h=a("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),i=a("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),j=a("script,style"),k=this.HTMLParser=function(a,k){function l(a,b,c,j){if(b=b.toLowerCase(),f[b])for(;q.last()&&g[q.last()];)m("",q.last());if(h[b]&&q.last()==b&&m("",b),j=e[b]||!!j,j||q.push(b),k.start){var l=[];c.replace(d,function(a,b){var c=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:i[b]?b:"";l.push({name:b,value:c,escaped:c.replace(/(^|[^\\])"/g,'$1\\"')})}),k.start&&k.start(b,l,j)}}function m(a,b){if(b)for(var c=q.length-1;c>=0&&q[c].toLowerCase()!=b.toLowerCase();c--);else var c=0;if(c>=0){for(var d=q.length-1;d>=c;d--)k.end&&k.end(q[d]);q.length=c}}var n,o,p,q=[],r=a;for(q.last=function(){return this[this.length-1]};a;){if(o=!0,q.last()&&j[q.last()])a=a.replace(new RegExp("(.*)</"+q.last()+"[^>]*>"),function(a,b){return b=b.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),k.chars&&k.chars(b),""}),m("",q.last());else if(0==a.indexOf("<!--")?(n=a.indexOf("-->"),n>=0&&(k.comment&&k.comment(a.substring(4,n)),a=a.substring(n+3),o=!1)):0==a.indexOf("</")?(p=a.match(c),p&&(a=a.substring(p[0].length),p[0].replace(c,m),o=!1)):0==a.indexOf("<")&&(p=a.match(b),p&&(a=a.substring(p[0].length),p[0].replace(b,l),o=!1)),o){n=a.indexOf("<");var s=0>n?a:a.substring(0,n);a=0>n?"":a.substring(n),k.chars&&k.chars(s)}r=a}m()};this.HTMLtoXML=function(a){var b="";return a=a.replace(/\r/gi,""),a=a.replace(/\n/gi,""),k(a,{start:function(a,c,d){b+="<"+a;for(var e=0;e<c.length;e++)b+=" "+c[e].name+'="'+c[e].escaped+'"';b+=(d?"/":"")+">"},end:function(a){b+="</"+a+">\r\n"},chars:function(a){b+=a},comment:function(a){b+="<!--"+a+"-->"}}),b},this.FormatHTML=function(a,b){function c(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}},this.get_content=function(){for(var a="",b=[],c=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];if(a=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(a,this.Utils.whitespace))b.length&&(c=!0),this.line_char_count--;else{if(c){if(this.line_char_count>=this.max_char){b.push("\n");for(var d=0;d<this.indent_level;d++)b.push(this.indent_string);this.line_char_count=0}else b.push(" "),this.line_char_count++;c=!1}b.push(a)}}return b.length?b.join(""):""},this.get_contents_to=function(a){if(this.pos==this.input.length)return["","TK_EOF"];var b="",c=new RegExp("</"+a+"\\s*>","igm");c.lastIndex=this.pos;var d=c.exec(this.input),e=d?d.index:this.input.length;return this.pos<e&&(b=this.input.substring(this.pos,e),this.pos=e),b},this.record_tag=function(a){this.tags[a+"count"]?(this.tags[a+"count"]++,this.tags[a+this.tags[a+"count"]]=this.indent_level):(this.tags[a+"count"]=1,this.tags[a+this.tags[a+"count"]]=this.indent_level),this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent,this.tags.parent=a+this.tags[a+"count"]},this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]),delete this.tags[a+this.tags[a+"count"]+"parent"],delete this.tags[a+this.tags[a+"count"]],1==this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}},this.get_tag=function(){var a,b,c="",d=[],e=!1;do{if(this.pos>=this.input.length)return d.length?d.join(""):["","TK_EOF"];c=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(c,this.Utils.whitespace)?(e=!0,this.line_char_count--):(("'"===c||'"'===c)&&(d[1]&&"!"===d[1]||(c+=this.get_unformatted(c),e=!0)),"="===c&&(e=!1),d.length&&"="!==d[d.length-1]&&">"!==c&&e&&(this.line_char_count>=this.max_char?(this.print_newline(!1,d),this.line_char_count=0):(d.push(" "),this.line_char_count++),e=!1),"<"===c&&(a=this.pos-1),d.push(c))}while(">"!==c);var f,g=d.join("");f=-1!=g.indexOf(" ")?g.indexOf(" "):g.indexOf(">");var h=g.substring(1,f).toLowerCase();if("/"===g.charAt(g.length-2)||this.Utils.in_array(h,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===h)this.record_tag(h),this.tag_type="SCRIPT";else if("style"===h)this.record_tag(h),this.tag_type="STYLE";else if(this.Utils.in_array(h,i)){var j=this.get_unformatted("</"+h+">",g);d.push(j),a>0&&this.Utils.in_array(this.input.charAt(a-1),this.Utils.whitespace)&&d.splice(0,0,this.input.charAt(a-1)),b=this.pos-1,this.Utils.in_array(this.input.charAt(b+1),this.Utils.whitespace)&&d.push(this.input.charAt(b+1)),this.tag_type="SINGLE"}else if("!"===h.charAt(0))if(-1!=h.indexOf("[if")){if(-1!=g.indexOf("!IE")){var j=this.get_unformatted("-->",g);d.push(j)}this.tag_type="START"}else if(-1!=h.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=h.indexOf("[cdata[")){var j=this.get_unformatted("]]>",g);d.push(j),this.tag_type="SINGLE"}else{var j=this.get_unformatted("-->",g);d.push(j),this.tag_type="SINGLE"}else"/"===h.charAt(0)?(this.retrieve_tag(h.substring(1)),this.tag_type="END"):(this.record_tag(h),this.tag_type="START"),this.Utils.in_array(h,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return d.join("")},this.get_unformatted=function(a,b){if(b&&-1!=b.indexOf(a))return"";var c="",d="",e=!0;do{if(this.pos>=this.input.length)return d;if(c=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(c,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if("\n"===c||"\r"===c){d+="\n",this.line_char_count=0;continue}}d+=c,this.line_char_count++,e=!0}while(-1==d.indexOf(a));return d},this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);return a=this.get_contents_to(b),"string"!=typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!=typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode){if(a=this.get_tag(),"string"!=typeof a)return a;var c="TK_TAG_"+this.tag_type;return[a,c]}},this.get_full_indent=function(a){return a=this.indent_level+a||0,1>a?"":Array(a+1).join(this.indent_string)},this.printer=function(a,b,c,d,e){this.input=a||"",this.output=[],this.indent_character=b,this.indent_string="",this.indent_size=c,this.brace_style=e,this.indent_level=0,this.max_char=d,this.line_char_count=0;for(var f=0;f<this.indent_size;f++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){if(this.line_char_count=0,b&&b.length){if(!a)for(;this.Utils.in_array(b[b.length-1],this.Utils.whitespace);)b.pop();b.push("\n");for(var c=0;c<this.indent_level;c++)b.push(this.indent_string)}},this.print_token=function(a){this.output.push(a)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var d,e,f,g,h,i;for(b=b||{},e=b.indent_size||4,f=b.indent_char||" ",h=b.brace_style||"collapse",g=1/0,i=b.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],d=new c,d.printer(a,f,e,g,h);;){var j=d.get_token();if(d.token_text=j[0],d.token_type=j[1],"TK_EOF"===d.token_type)break;switch(d.token_type){case"TK_TAG_START":d.print_newline(!1,d.output),d.print_token(d.token_text),d.indent(),d.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":d.print_newline(!1,d.output),d.print_token(d.token_text),d.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===d.last_token&&""===d.last_text){var k=d.token_text.match(/\w+/)[0],l=d.output[d.output.length-1].match(/<\s*(\w+)/);(null===l||l[1]!==k)&&d.print_newline(!0,d.output)}d.print_token(d.token_text),d.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var m=d.token_text.match(/^\s*<([a-z]+)/i);m&&d.Utils.in_array(m[1],i)||d.print_newline(!1,d.output),d.print_token(d.token_text),d.current_mode="CONTENT";break;case"TK_CONTENT":""!==d.token_text&&d.print_token(d.token_text),d.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==d.token_text){d.output.push("\n");var n=d.token_text;if("keep"==b.indent_scripts)var o=0;else if("separate"==b.indent_scripts)var o=-d.indent_level;else var o=1;var p=d.get_full_indent(o),q=n.match(/^\s*/)[0],r=q.match(/[^\n\r]*$/)[0].split(d.indent_string).length-1,s=d.get_full_indent(o-r);n=n.replace(/^\s*/,p).replace(/\r\n|\r|\n/g,"\n"+s).replace(/\s*$/,""),n&&(d.print_token(n),d.print_newline(!0,d.output))}d.current_mode="TAG"}d.last_token=d.token_type,d.last_text=d.token_text}return d.output.join("")}}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxNotification","",{}),a.extend(a.jqx._jqxNotification.prototype,{
defineInstance:function(){var b={width:"auto",height:"auto",appendContainer:null,position:"top-right",browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};a.extend(!0,this,b)},createInstance:function(a){var b=this;b.render(),1==b.autoOpen&&b.open()},render:function(){var b=this;if(0==b.host.hasClass("jqx-notification")){b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-notification")),b.host.css({display:"none",opacity:b.opacity}),b._container=b._notificationContainer(),b._appendContent(),b._setHoverFunctions(),b._instances=new Array,b._instanceKey=0;var c=a.data(document.body,"jqxNotifications");void 0==c&&(c=0),a.data(document.body,"jqxNotifications",c+1)}else b.refresh()},refresh:function(a){a||this._appendContent(!0)},open:function(){var a=this;if(0==a.disabled){var b=a.host.clone();b.removeAttr("id"),b.width(a.width),b.height(a.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&b.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&b.css("height",this.height),a.appendContainer||"bottom-left"!=a.position&&"bottom-right"!=a.position?(b.css("margin-bottom",a.notificationOffset),a._container.append(b)):(b.css("margin-top",a.notificationOffset),a._container.prepend(b)),a._addHandlers(b),b.fadeIn(a.animationOpenDelay,function(){a._raiseEvent("0")}),1==a.blink&&(b._blinkInterval=setInterval(function(){b.fadeTo(400,a.opacity/1.5,function(){b.fadeTo(400,a.opacity)})},850)),1==a.autoClose&&(b._autoCloseTimeout=setTimeout(function(){a._close(b)},a.autoCloseDelay)),b._key=a._instanceKey,a._instances[a._instanceKey]=b,a._instanceKey++}},closeAll:function(){for(var a=this,b=0;b<a._instances.length;b++)a._instances[b]&&a._close(a._instances[b])},closeLast:function(){for(var a=this,b=a._instances.length;b>=0;b--)if(a._instances[b]){a._close(a._instances[b]);break}},destroy:function(){var b=this;b.closeAll(),b.host.remove();var c=a.data(document.body,"jqxNotifications");a.data(document.body,"jqxNotifications",c-1),b._destroyContainers(c-1)},propertyChangedHandler:function(a,b,c,d){var e=this;if(d!=c)switch(b){case"width":case"height":var f=c.indexOf&&-1!=c.indexOf("%");f=void 0==f?!1:f;var g=d.indexOf&&-1!=d.indexOf("%");g=void 0==g?!1:g,g!=f&&(e[b]=c);break;case"appendContainer":case"position":e._container=e._notificationContainer();break;case"browserBoundsOffset":e.appendContainer||e._position(e._container);break;case"opacity":e.host.css("opacity",d);break;case"showCloseButton":case"template":case"icon":case"rtl":e._appendContent(!0)}},_raiseEvent:function(b,c){var d=this,e=d.events[b],f=new a.Event(e);f.owner=d,f.args=c;try{var g=d.host.trigger(f)}catch(h){}return g},_close:function(a){var b=this;b._instances[a._key]&&(b._instances[a._key]=!1,clearInterval(a._blinkInterval),clearTimeout(a._autoCloseTimeout),a.fadeOut(b.animationCloseDelay,function(){b._removeHandlers(a),a.remove(),b._raiseEvent("1")}))},_addHandlers:function(a){var b=this;if(b.addHandler(a,"click.notification"+b.element.id,function(c){b._raiseEvent("2"),1==b.closeOnClick&&b._close(a)}),b.addHandler(a,"mouseenter.notification"+b.element.id,function(c){a._blinkInterval||b.mouseenterFunction(a)}),b.addHandler(a,"mouseleave.notification"+b.element.id,function(c){a._blinkInterval||"none"==a.css("display")||b.mouseleaveFunction(a)}),1==b.showCloseButton){var c=a.find(".jqx-notification-close-button");b.addHandler(c,"click.notification"+b.element.id,function(c){c.stopPropagation(),b._close(a)})}},_removeHandlers:function(a){var b=this;b.removeHandler(a,"click.notification"+b.element.id),b.removeHandler(a,"click.mouseenter"+b.element.id),b.removeHandler(a,"click.mouseleave"+b.element.id);var c=a.find(".jqx-notification-close-button");c.length>0&&b.removeHandler(c,"click.notification"+b.element.id)},_appendContent:function(b){var c,d=this,e=d.host.html();b||(c=d.host.children().detach()),b&&(d.host.removeAttr("class"),d.host.addClass(d.toThemeProperty("jqx-rc-all")),d.host.addClass(d.toThemeProperty("jqx-notification")));var f=a("<table class='"+d.toThemeProperty("jqx-notification-table")+"'></table>"),g=a("<tr></tr>");f.append(g);var h=d.rtl?"jqx-notification-content-rtl":"";if(b){var i=d.host.find(".jqx-notification-content");e=i.html(),c=i.detach(),d.rtl?i.addClass("jqx-notification-content-rtl"):i.removeClass("jqx-notification-content-rtl")}else var i=a("<td class='"+d.toThemeProperty("jqx-notification-content")+" "+h+"'></td>");g.html(i);var j,k=function(){0==d.rtl?(j.addClass("jqx-notification-icon-ltr"),i.before(j)):(j.addClass("jqx-notification-icon-rtl"),i.after(j))};if(d.template?(d.host.addClass("jqx-widget"),d.host.addClass("jqx-popup"),d.host.addClass("jqx-notification-"+d.template),j=a("<td class='"+d.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+d.template+"'></td>"),k()):(d.host.addClass(d.toThemeProperty("jqx-widget")),d.host.addClass(d.toThemeProperty("jqx-popup")),d.host.addClass(d.toThemeProperty("jqx-fill-state-normal")),d.icon&&(j=a("<td class='"+d.toThemeProperty("jqx-notification-icon")+"'></td>"),d.icon.padding=d.icon.padding?parseInt(d.icon.padding):5,j.css({width:parseInt(d.icon.width)+d.icon.padding,height:d.icon.height,"background-image":"url('"+d.icon.url+"')"}),k())),1==d.showCloseButton){var l;l=d.template?"jqx-notification-close-button jqx-notification-close-button-"+d.template:d.toThemeProperty("jqx-icon-close")+" "+d.toThemeProperty("jqx-notification-close-button");var m=a("<td class='"+d.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+l+" "+d.element.id+"CloseButton' title='Close'></div></td>");0==d.rtl?(m.find("div").addClass("jqx-notification-close-button-ltr"),i.after(m)):(m.find("div").addClass("jqx-notification-close-button-rtl"),i.before(m))}d.host[0].innerHTML="",d.host.append(f),c.length>0?d.host.find(".jqx-notification-content").append(c):d.host.find(".jqx-notification-content").html(e)},_position:function(a){var b,c,d,e,f=this;switch(f.position){case"top-right":b="",c=f.browserBoundsOffset,d=f.browserBoundsOffset,e="";break;case"top-left":b=f.browserBoundsOffset,c="",d=f.browserBoundsOffset,e="";break;case"bottom-left":b=f.browserBoundsOffset,c="",d="",e=f.browserBoundsOffset;break;case"bottom-right":b="",c=f.browserBoundsOffset,d="",e=f.browserBoundsOffset}a.css({left:b,right:c,top:d,bottom:e})},_notificationContainer:function(){var b,c=this;if(c.appendContainer){if(b=a(c.appendContainer),0==b.length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+c.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else b=a("#jqxNotificationDefaultContainer-"+c.position),0==b.length&&(a("body").append("<div id='jqxNotificationDefaultContainer-"+c.position+"' class='jqx-notification-container'></div>"),b=a("#jqxNotificationDefaultContainer-"+c.position),c.width.indexOf&&-1!=c.width.indexOf("%")&&b.addClass(c.toThemeProperty("jqx-notification-container-full-width")),c.height.indexOf&&-1!=c.height.indexOf("%")&&b.addClass(c.toThemeProperty("jqx-notification-container-full-height")),c._position(b));return b},_destroyContainers:function(b){0==b&&a(".jqx-notification-container").remove()},_setHoverFunctions:function(){var b=this,c=!1;"msie"==a.jqx.browser.browser&&"9.0"==a.jqx.browser.version&&(c=!0),0==c?(b.mouseenterFunction=function(a){a.fadeTo("fast",b.hoverOpacity)},b.mouseleaveFunction=function(a){a.fadeTo("fast",b.opacity)}):(b.mouseenterFunction=function(a){a.css("filter","alpha(opacity = "+100*b.hoverOpacity+")")},b.mouseleaveFunction=function(a){a.css("filter","alpha(opacity = "+100*b.opacity+")")})}})}(jqxBaseFramework),function(a,b,c){function d(b,c,d,e,f){if(e&&f)switch(b){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(d.columns){var g=e.columns||e,h=f.columns||f;if(g.length!=h.length)return!1;var i={};if(a.each(g,function(a,b){var c=this;for(var d in this)if(c[d]!=h[a][d]){var e=c.datafield||c.dataField;i[e]||(i[e]={}),i[e][d]=c[d]}}),!a.isEmptyObject(i))return a.each(i,function(b,d){for(var e in d){var f=a(c).jqxProxy("getcolumnproperty",b,e);f!==d[e]&&a(c).jqxProxy("setcolumnproperty",b,e,d[e])}}),!0}}return!1}function e(b,c,d,e,f){var g=function(b){if("object"==typeof b&&null!=b._bindingUpdate)return b;var c={};a.isArray(b)||b instanceof Object&&!b.url?(c.localData=b,c.type="array"):c.url&&(c=b);var d=new a.jqx.dataAdapter(c);return d};if(b.jqxSource)b.$watchCollection("jqxSource",function(b,d){if(b!=d){var e=g(b);a(c).jqxProxy({source:e})}});else{var h=null;for(var i in f)if(b.$parent[i]==b.jqxSettings.source){h=i;break}h&&f.$watchCollection(h,function(b,d){if(b!=d){var e=g(b);a(c).jqxProxy({source:e})}}),b.$watchCollection("jqxSettings",function(b,d){if(b.source!=d.source){var e=g(b.source);a(c).jqxProxy({source:e})}})}return g(e)}function f(b){if(null==b)return"";var c="";return a.each(b,function(b){var d=this;b>0&&(c+=", "),c+="[";var e=0;if("object"==a.type(d))for(var f in d)e>0&&(c+=", "),c+="{"+f+":"+d[f]+"}",e++;else e>0&&(c+=", "),c+="{"+b+":"+d+"}",e++;c+="]"}),c}function g(g,h,i,j,k){var l=b.extend({},g.$eval("jqxSettings"));if(l.source)l.source=e(g,h,i,l.source,k);else if(g.jqxSource){var m=b.extend({},g.$eval("jqxSource"));l.source=e(g,h,i,m,k)}g.$watch("ngDisabled",function(b,d){if(b!=c&&(b!=d||a(h).jqxProxy("disabled")!==b)){var e={};e.disabled=b,a(h).jqxProxy(e)}});var n={},o={},s=!1;r[j]&&a.each(r[j],function(){var b=this.label,c=this.value,e=a.camelCase(c.substring("4"));if("undefined"!=typeof g[b]){var f=g.$eval(b);if("instance"==e)return s=!0,!0;n[e]=f;var k=function(b,e){if(b!=e){var f=a.camelCase(c.substring("4"));if("watch"==f)for(var g=i.jqxWatch.split("."),k=0;k<g.length;k++)if(g[k]in a(h).data().jqxWidget){f=g[k];break}var l={};l[f]=b;var m=d(j,a(h),l,b,e);m||a(h).jqxProxy(l)}};"watch"==e?(delete n[e],g.$watch(b,k,!0)):g.$watch(b,k)}}),""==h[0].id&&(c==p[j]&&(p[j]=0),h[0].id=j+p[j]++);var t=a(h)[j];if(!t)throw new Error("Missing required JavaScript references for: "+j);a.each(l,function(b,c){return"data"===b?!0:void(a.isFunction(c)&&!b.match(/(ready|render|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/g)?o[b]=c:n[b]=c)}),a.extend(a.jqx["_"+j].prototype,{definedInstance:function(){var b=this;a.each(o,function(c,d){b.addHandler(a(h),c,function(b){g.$parent?a.proxy(d,k)(b):d(b),"$apply"!=g.$root.$$phase&&"$digest"!=g.$root.$$phase&&g.$apply()})});var c=i.$attr;a.each(i,function(d,e){if(d.indexOf("jqxOn")>=0){var f=c[d].substring(7),i=a.camelCase(f),j=e;b.addHandler(a(h),i,function(a){if(j.indexOf("(")>=0){var b=j.indexOf("(");if(g.$parent){var c=k[j.substring(0,b)];c&&c(a)}else if(g[j.substring(0,b)]){var c=g[j.substring(0,b)];c&&c(a)}else g.$emit(i,a)}else g.$emit(j,a);"$apply"!=g.$root.$$phase&&"$digest"!=g.$root.$$phase&&g.$apply()})}else if((d.indexOf("ngClick")>=0||d.indexOf("ngDblclick")>=0)&&k!=g.$parent){var f=c[d].substring(3),i=a.camelCase(f),j=e;b.addHandler(a(h),i,function(a){if(j.indexOf("(")>=0){var b=j.indexOf("(");if(g.$parent){var c=k[j.substring(0,b)];c&&c(a)}else if(g[j.substring(0,b)]){var c=g[j.substring(0,b)];c&&c(a)}else g.$emit(i,a)}else g.$emit(j,a);"$apply"!=g.$root.$$phase&&"$digest"!=g.$root.$$phase&&g.$apply()})}}),i.jqxInstance&&(g.jqxInstance=b,k[i.jqxInstance]!=b&&(k[i.jqxInstance]=b),"$apply"!=g.$root.$$phase&&"$digest"!=g.$root.$$phase&&g.$apply())}});var u=h[0];g.jqxSettings&&(g.jqxSettings.apply?(q[j]||(q[j]=new Array),q[j].push(u)):(g.jqxSettings.apply=g.jqxSettings[j]=function(){var b=arguments,c=new Array;return 0==b.length?!0:(a.each(q[j],function(d,e){var f=this;c.push({widgetName:j,element:f,result:a.jqx.jqxWidgetProxy(j,f,b)})}),1==c.length?c[0].result:c)},q[j]=new Array,q[j].push(u)));var v={},w="";for(var w in g)w.indexOf("jqx")>=0&&"jqxInstance"!=w&&(v[w]=b.copy(g[w]));var x=(a(h)[j](n),a(h)[j]("getInstance")),w="";for(var w in v)g[w]=v[w];return g.jqxSettings&&g.$watch("jqxSettings",function(b,c){var l={},m=!1;if(b!=c&&(a.each(b,function(a,b){if("source"===a){if(null!=c)return!0;var d=e(g,h,i,b,k);l[a]=d}if("data"===a)return g.$apply(),!0;var n=x.events||x._events;return n&&n.indexOf(a)>=0||a.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g)?!0:void(b instanceof Object||null!=c&&b===c[a]?a!==j&&"apply"!==a&&b instanceof Object&&(null==c||f(b)!==f(c[a])||""==f(b)&&""==f(c[a]))&&(l[a]=b,m=!0):(l[a]=b,m=!0))}),l!=={}&&m)){var n=d(j,a(h),l,b,c);n||a(h).jqxProxy(l)}}),g.$on("$destroy",function(){a(h)[j]("destroy")}),x}function h(b){var c=b[0].nodeName.toLowerCase(),d=a(b).parent(),e=a(b).html(),f='<div id="jqx-ngwidget">'+e+"</div>";if(c.indexOf("jqx")>=0){var g=b[0].attributes,h=b;if(c.indexOf("input")>=0)c.indexOf("date")>=0||c.indexOf("number")>=0?a(b).replaceWith('<div id="jqx-ngwidget"></div>'):c.indexOf("password")>=0?a(b).replaceWith('<input id="jqx-ngwidget" type="password"/>'):a(b).replaceWith('<input id="jqx-ngwidget"/>');else if(c.indexOf("jqx-button")>=0&&-1==c.indexOf("jqx-button-group"))a(b).replaceWith('<button id="jqx-ngwidget">'+e+"</button>");else if(c.indexOf("jqx-toggle-button")>=0)a(b).replaceWith('<button id="jqx-ngwidget">'+e+"</button>");else if(c.indexOf("jqx-link-button")>=0)a(b).replaceWith('<a id="jqx-ngwidget">'+e+"</a>");else if(c.indexOf("jqx-data-table")>=0)a(b).find("tr").length>0?a(b).replaceWith('<table id="jqx-ngwidget"></table>'):a(b).replaceWith('<div id="jqx-ngwidget"></div>');else if(c.indexOf("jqx-list-box")>=0||c.indexOf("jqx-drop-down-list")>=0||c.indexOf("jqx-combo-box")>=0)a(b).find("option").length>0?a(b).replaceWith('<select id="jqx-ngwidget">'+e+"</select>"):a(b).replaceWith('<div id="jqx-ngwidget"></div>');else if(c.indexOf("jqx-list-menu")>=0)a(b).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+e+"</ul>");else if(c.indexOf("jqx-tooltip")>=0){var i=a(b).children();i.detach(),a(i).insertAfter(a(b)),a.each(g,function(){a(i)[0]&&a(i)[0].setAttribute(this.name,this.value)}),a(b).remove()}else a(b).replaceWith(f);h=d.find("#jqx-ngwidget").removeAttr("id"),a.each(g,function(){a(h)[0]&&a(h)[0].setAttribute(this.name,this.value)})}}function i(b){(!a.fn||a.fn[b])&&j.directive(b,["$timeout","$interval","$parse","$compile","$log",function(d,e,f,i,j){l=d,m=e,k=f,n=i,o=j;var p;return{restrict:"ACE",require:["?ngModel"],scope:{jqxNgModel:"=",jqxSettings:"=",jqxSource:"=",ngDisabled:"=",jqxCreate:"=",data:"=jqxData"},template:function(c,d){h(c);var e=this;a.each(d,function(a,c){a!==b&&"jqxNgModel"!=a&&-1==a.indexOf("jqxOn")&&"jqxData"!=a&&"jqxSource"!=a&&"jqxCreate"!=a&&"jqxSettings"!=a&&a.indexOf("jqx")>=0&&(e.scope[a]="=",r[b]||(r[b]=new Array),r[b].push({label:a,value:d.$attr[a]}))}),p=this.scope},controller:["$scope","$attrs","$element","$transclude",function(a,b,c,d){n(c.contents())}],link:function(d,e,f,h,i){var j=e[0].style.visibility,k=e[0].style.display;e[0].style.visibility="hidden",e[0].style.display="none";var n=0,o=function(a){return"jqxCreate"in a.$parent?(n++,o(a.$parent)):0==n?a.$parent:a?a.$parent:null},p=o(d);p&&n>0&&a.each(f,function(a){if(a.indexOf("jqx")>=0){if(a.indexOf("jqxOn")>=0)return!0;d[a]=p.$eval(f[a]),p.$watch(f[a],function(b,c){d[a]!==b&&(d[a]=b)})}});var q=m(function(){m.cancel(q),q=c;var i=function(){var i=h[0];e[0].style.visibility=j,e[0].style.display=k;var m=(g(d,e,f,b,p),b.toLowerCase(),b.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|calendar|switch|button)/gi)),n={element:e[0],name:b,id:e[0].id};d.$emit(b+"Created",n),l(function(){if(i){if(i.$render=function(){var d=i.$viewValue;d===c&&(d=i.$modelValue),"jqxRadioButton"!==b&&"jqxCheckBox"!==b&&d!=a(e).val()&&l(function(){a(e).val(d)})},m){var g="keyup change";"jqxScrollBar"==b&&(g="valueChanged"),a(e).on(g,function(g){var h=g.args;l(function(){if("jqxRadioButton"===b)"api"!=h.type&&i.$setViewValue(d.$eval(a(e).attr("value")));else if("jqxCheckBox"===b)a(e).attr("ng-true-value")!=c&&h.checked?i.$setViewValue(a(e).attr("ng-true-value")):a(e).attr("ng-false-value")==c||h.checked?i.$setViewValue(a(e).val()):i.$setViewValue(a(e).attr("ng-false-value"));else if("jqxDropDownList"===b||"jqxComboBox"===b||"jqxListBox"===b||"jqxInput"===b){var g=a(e).val();if(f.jqxNgModel!=c){var j=a(e).data().jqxWidget;j.getSelectedItem&&(g=j.getSelectedItem(),g.originalItem&&(g=g.originalItem)),"jqxInput"===b&&(g=j.selectedItem),i.$setViewValue(g)}else i.$setViewValue(g)}else if("jqxDateTimeInput"===b||"jqxCalendar"===b)if(f.jqxNgModel!=c){var j=a(e).data().jqxWidget;"range"==j.selectionMode?i.$setViewValue(j.getRange()):i.$setViewValue(j.getDate())}else i.$setViewValue(a(e).val());else i.$setViewValue(a(e).val())})})}if("jqxRadioButton"===b)d.$eval(a(e).attr("value"))==i.$viewValue?a(e).val(!0):"true"==d.$eval(a(e).attr("value"))&&1==i.$viewValue?a(e).val(!0):a(e).val(!1);else if("jqxCheckBox"===b)d.$eval(a(e).attr("ng-true-value"))==i.$viewValue&&a(e).val(!0),d.$eval(a(e).attr("ng-false-value"))==i.$viewValue?a(e).val(!1):a(e).val(i.$viewValue);else if("jqxDropDownList"===b||"jqxComboBox"===b||"jqxListBox"===b||"jqxInput"===b)if(f.jqxNgModel!=c){var h=a(e).data().jqxWidget;"jqxInput"!=b?h.valueMember?h.selectItem(i.$viewValue[h.valueMember]):h.displayMember?h.selectItem(i.$viewValue[h.displayMember]):a(e).val(i.$viewValue):a(e).val(i.$viewValue)}else a(e).val(i.$viewValue);else if("jqxDateTimeInput"===b||"jqxCalendar"===b)if(f.jqxNgModel!=c){var h=a(e).data().jqxWidget;"range"==h.selectionMode?h.setRange(i.$viewValue):h.setDate(i.$viewValue)}else a(e).val(i.$viewValue);else a(e).val(i.$viewValue)}})};if(null!=d.jqxCreate||null!=f.jqxCreate)var n=d.$watch("jqxCreate",function(a,b){"number"==typeof a?(l(i,a),n()):a&&(i(),n())});else i()})}}}])}if(b){a.jqx=a.jqx||{};var j=b.module("jqwidgets",[]),k=null,l=null,m=null,n=null,o=null,p=new Array,q=new Array,r={};i("jqxBulletChart"),i("jqxButtonGroup"),i("jqxButton"),i("jqxRepeatButton"),i("jqxToggleButton"),i("jqxLinkButton"),i("jqxCalendar"),i("jqxChart"),i("jqxCheckBox"),i("jqxColorPicker"),i("jqxComboBox"),i("jqxDataTable"),i("jqxDateTimeInput"),i("jqxDocking"),i("jqxDockPanel"),i("jqxDragDrop"),i("jqxDraw"),i("jqxDropDownButton"),i("jqxDropDownList"),i("jqxEditor"),i("jqxExpander"),i("jqxGauge"),i("jqxGrid"),i("jqxInput"),i("jqxListBox"),i("jqxListMenu"),i("jqxMaskedInput"),i("jqxMenu"),i("jqxNavigationBar"),i("jqxNotification"),i("jqxNumberInput"),i("jqxPanel"),i("jqxPasswordInput"),i("jqxProgressBar"),i("jqxRadioButton"),i("jqxRangeSelector"),i("jqxRating"),i("jqxScrollBar"),i("jqxScrollView"),i("jqxSlider"),i("jqxSplitter"),i("jqxSwitchButton"),i("jqxTabs"),i("jqxTooltip"),i("jqxTouch"),i("jqxTree"),i("jqxTreeGrid"),i("jqxTreeMap"),i("jqxValidator"),i("jqxWindow")}}(jqxBaseFramework,window.angular),define("jqx/jqx-all",function(){}),define("models/chart",["require","backbone","views/loading","helpers/report","adapters/adapter"],function(a){"use strict";var b=a("backbone"),c=a("views/loading"),d=a("helpers/report"),e=a("adapters/adapter"),f=b.Model.extend({}),g=b.Collection.extend({Model:f,sync:function(b,f,g){var h=this;"read"===b&&"undefined"!=typeof this.idCategory&&"undefined"!=typeof this.idReport&&a(["jqx/jqx-all"],function(){e.findChartsByReportId(h.idCategory,h.idReport).done(function(a){var b=[];$.each(a,function(e,f){var i=f["jqx.dataAdapter"].source;"undefined"!==h.params&&(i.data=$.extend(i.data,h.params));var j=new $.jqx.dataAdapter(f["jqx.dataAdapter"].source,{loadComplete:function(c){switch(f.widget){case"jqxGrid":f.opciones.localization={"/":"/",":":":",firstDay:1,days:{names:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],namesAbbr:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],namesShort:["Do","Lu","Ma","Mi","Ju","Vi","Sa"]},months:{names:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre",""],namesAbbr:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"dd/MM/yyyy",D:"d MMMM/yyyy",t:"HH:mm",T:"HH:mm:ss",f:"dddd, d/ MMMM yyyy HH:mm",F:"dddd, d/ MMMM yyyy HH:mm:ss",M:"dd MMMM",Y:"MMMM yyyy"},pagergotopagestring:"Ir a la página:",pagershowrowsstring:"Mostrar filas:",pagerrangestring:" de ",pagerpreviousbuttonstring:"anterior",pagernextbuttonstring:"siguiente",pagerfirstbuttonstring:"primero",pagerlastbuttonstring:"último",loadtext:"Cargando...",clearstring:"Limpiar",todaystring:"Hoy",sortascendingstring:"Orden Ascendente",sortdescendingstring:"Orden Descendente",sortremovestring:"Limpiar Orden",groupsheaderstring:"Arrastre aquí una columna para agrupar los valores",groupbystring:"Agrupar por esta columna",groupremovestring:"Eliminar de los grupos",decimalseparator:",",thousandsseparator:"."},f.opciones.pagesizeoptions=[20,50,100,500];for(var e=f.opciones.columns,i=c.rows,j=new $.jqx.dataAdapter({datafields:f["jqx.dataAdapter"].source.datafields,localdata:i,pagesize:100}),k=0;k<e.length;k++)"undefined"!==e[k].cellsrenderer&&(e[k].cellsrenderer=d[e[k].cellsrenderer]);"undefined"!==f.opciones.groupsrenderer&&(f.opciones.groupsrenderer=d[f.opciones.groupsrenderer]),f.opciones.source=j;break;case"highstock":if(f.opciones.exporting={enabled:!1},f.opciones.credits={enabled:!1},f.opciones.chart={renderTo:"chart"+h.idReport+"-"+f.idGrafica},"undefined"!=typeof c.subtitle&&""!==c.subtitle&&null!==c.subtitle&&(f.opciones.subtitle.text=c.subtitle),"undefined"!=typeof c.series){for(var l=[],m=0;m<c.series.length;m++){for(var n=c.series[m].data,o=0;o<n.length;o++)n[o].x=parseInt(n[o].name+"000",0),"NaN"===n[o].y&&(n[o].y=0),delete n[o].name;l.push(c.series[m])}f.opciones.series=l}break;case"highcharts":if(f.opciones.exporting={enabled:!1},f.opciones.credits={enabled:!1},f.opciones.chart=$.extend(f.opciones.chart,{renderTo:"chart"+h.idReport+"-"+f.idGrafica}),"undefined"!=typeof c.subtitle&&""!==c.subtitle&&null!==c.subtitle&&(f.opciones.subtitle.text=c.subtitle),"undefined"!=typeof c.series){for(var p=[],q=0;q<c.series.length;q++){if("undefined"!=typeof f.opciones.xAxis&&"datetime"===f.opciones.xAxis.type)for(var r=c.series[q].data,s=0;s<r.length;s++)r[s].x=parseInt(r[s].name+"000",0),"NaN"===r[s].y&&(r[s].y=0),delete r[s].name;p.push($.extend(f.opciones.series[q],c.series[q]))}f.opciones.series=p}"undefined"!=typeof f.opciones.tooltip&&"string"==typeof f.opciones.tooltip.formatter&&(f.opciones.tooltip.formatter=d[f.opciones.tooltip.formatter])}b.push(f),b.length===a.length&&(b.sort(function(a,b){return a.idGrafica-b.idGrafica}),g.success(b))},loadError:function(a,b,c){var d="";switch(a.status){case 0:d="Error de conexión, verifica tu conexión ó intétalo más tarde.";break;case 404:d="Error 404, no encontramos resultados con tu búsqueda.";break;case 500:d="Error 500, hay problemas con el servidor de datos."}g.error(d)},beforeSend:function(a){AgronetEstadisticas.xhrPool.push(a);var b=new c;b.message="gráficos","homeView"===h.tipo?(b.height=849,AgronetEstadisticas.mainRegion.currentView.homeReportsRegion.show(b)):"reportView"===h.tipo&&(b.height=716,AgronetEstadisticas.mainRegion.currentView.chartsRegion.show(b))}});j.dataBind()})})})}});return{Model:f,Collection:g}}),define("text!tpl/error.html",[],function(){return'<div class="row row-centered">\n	<div class="col-md-10 col-centered">		\n		<div class="alert alert-danger" role="alert">\n			<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>\n			<span><%= message %></span></div>\n	</div>\n</div>'}),define("views/error",["require","backbone.marionette","underscore","text!tpl/error.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("text!tpl/error.html");return b.ItemView.extend({tagName:"div",className:"container-fluid error-state",template:c.template(d),onShow:function(){this.$el.height(this.height)},render:function(){this.$el.html(this.template({message:this.message}))}})}),define("views/homeReports",["require","backbone.marionette","underscore","jquery","text!tpl/homeReports.html","highstock","helpers/hchartexport","models/chart","views/error"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("jquery"),e=a("text!tpl/homeReports.html");a("highstock"),a("helpers/hchartexport");a("models/chart"),a("views/error");return b.LayoutView.extend({tagName:"div",template:c.template(e),events:{"click .reportItem":"openReport"},openReport:function(a){var b=this.collection.where({idReporte:d(a.currentTarget).data("report")}),c=AgronetEstadisticas.Router.toFragment("reporte/"+b[0].get("idCategoria")+"/"+b[0].get("idReporte"),b[0].get("parametrosIniciales"));AgronetEstadisticas.Router.navigate(c,{trigger:!0})},render:function(){this.$el.html(this.template({data:this.collection.toJSON()}))}})}),define("text!tpl/reports.html",[],function(){return'<div class="main-nav row navbar navbar-default" role="navigation">\n  <div class="container-fluid">\n    <div class="navbar-header" id="mainTitle"></div>\n    <div class="navbar-collapse collapse in" id="search-navbar-collapse">\n      <div class="navbar-form navbar-right" role="search">\n        <div class="input-group">\n          <input id="searchText" type="text" class="form-control" placeholder="Buscar">\n          <span class="input-group-btn">\n            <button id="searchBtn" class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="main-content row">\n  <!-- CATEGORY -->\n  <div id="category" class="col-sm-12 col-md-1">\n\n  </div>\n\n  <!-- REPORTS -->\n  <div id="reports" class="col-md-3 grey">\n\n  </div>\n\n  <div class="clearfix visible-xs-block"></div>\n\n  <!-- FILTERS AND CHARTS -->\n  <div class="filters-charts col-sm-12 col-md-8">\n    <div id="filters">\n\n    </div>    \n    <div  id="charts">\n\n    </div>\n  </div>\n</div>\n'}),define("views/reports",["require","backbone.marionette","underscore","jquery","text!tpl/reports.html","views/searchList","models/report"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("jquery"),e=a("text!tpl/reports.html"),f=a("views/searchList"),g=a("models/report");return b.LayoutView.extend({id:"main",tagName:"div",className:"container-fluid",template:c.template(e),events:{"click #searchBtn":"searchEvent"},searchEvent:function(a){var b=new g.Collection,c=d("#searchText").val(),e=new f;e.data=c,b.searchText=c,b.fetch({success:function(a){e.collection=a,AgronetEstadisticas.searchRegion.show(e)}}),ga("send","event",{eventCategory:"General",eventAction:"buscar",eventLabel:c,page:Backbone.history.location.hash})},regions:{titleRegion:"#mainTitle",categoriesRegion:"#category",reportsRegion:"#reports",chartsRegion:"#charts",filtersRegion:"#filters"}})}),define("text!tpl/reportsList.html",[],function(){return'<% _.each(data, function(d){ %>                  \n<div id="report<%= d.idReporte %>" class="media reportItem tipo<%= d.tipo %>" data-report="<%= d.idReporte %>">\n    <div class="media-body">\n      <h4 class="media-heading"><span class="title"><%= d.titulo %></span></h4>\n      <p class="text"><%= d.descripcion %></p>\n    </div>\n    <div class="media-footer report-tags-left">\n    	<ul class="button-green">\n    	  <% _.each(d.etiquetas, function(e){ %>\n	      <li><%= e %></li>\n	      <% }); %>\n    	</ul>      \n    </div>\n</div>\n<% }); %>'}),define("views/reportsList",["require","backbone.marionette","underscore","text!tpl/reportsList.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("text!tpl/reportsList.html");return b.ItemView.extend({template:c.template(d),events:{"click .reportItem":"openReport"},openReport:function(a){var b=this.collection.where({idReporte:$(a.currentTarget).data("report")}),c=AgronetEstadisticas.Router.toFragment("reporte/"+b[0].get("idCategoria")+"/"+b[0].get("idReporte"),b[0].get("parametrosIniciales"));AgronetEstadisticas.Router.navigate(c,{trigger:!0})},scrollReports:function(a){AgronetEstadisticas.scrolls.reportsList=$(a.currentTarget).scrollTop()},onShow:function(){$("#report"+AgronetEstadisticas.idReport).addClass("activeItem"),$("#reports").scrollTop(AgronetEstadisticas.scrolls.reportsList)},render:function(){this.$el.html(this.template({data:this.collection.toJSON()})),$("#reports").on("scroll",this.scrollReports)}})}),define("text!tpl/chartsList.html",[],function(){return'<% _.each(data, function(d){ %>\n  <div class="panel panel-default <% if (d.widget === "jqxGrid") { %>no-print<% } %>">    \n    <div class="panel-heading">\n      <div class="container-fluid">\n        <div class="row">\n          <div class="col-md-12">\n            <div class="pull-right btn-group btn-group-sm" role="group" aria-label="...">\n            <% if (d.widget === "jqxGrid") { %>\n            <button data-chart="chart<%= idReporte %>-<%= d.idGrafica %>" type="button" class="btn btn-success exportBtn">\n            Excel <span class="glyphicon glyphicon glyphicon-paperclip" aria-hidden="true"></span></button>\n            <% } else { %>\n            <button type="button" data-chart="<%= d.idGrafica %>" class="btn btn-success jpgBtn">JPEG</button>\n            <button type="button" data-chart="<%= d.idGrafica %>" class="btn btn-success svgBtn">SVG</button>\n            <button type="button" data-chart="chart<%= idReporte %>-<%= d.idGrafica %>" class="btn btn-success printBtn"><span class="glyphicon glyphicon-print" aria-hidden="true"></span></button>\n            <% } %>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id="chart<%= idReporte %>-<%= d.idGrafica %>" class="panel-body text"></div>\n  </div>\n<% }); %>\n'}),define("helpers/technical-indicators",["require","highstock"],function(a){"use strict";function b(a,b,c){var e,f,g=9,h=[],i=[],j=[],k=[],l=[];e=d(a,b,12),f=d(a,b,26);for(var m=0;m<e.length;m++)null==f[m][1]?h.push([a[m],null]):h.push([a[m],e[m][1]-f[m][1]]);for(var m=0;m<h.length;m++)i.push(h[m][0]),j.push(h[m][1]);k=d(i,j,g);for(var m=0;m<h.length;m++)null==h[m][1]?l.push([h[m][0],null]):l.push([h[m][0],h[m][1]-k[m][1]]);return[h,k,l]}function c(a,b,c){var d,e=[],f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;d=a.length;for(var q=0;d>q;q++)f+=a[q]*b[q],h+=a[q],i+=b[q],j+=Math.pow(a[q],2),l+=a[q],n+=b[q];return f=d*f,g=h*i,j=d*j,k=Math.pow(l,2),m=(f-g)/(j-k),o=m*l,p=(n-o)/d,e.push([a[0],b[0]]),step10=m*a[d-1]+p,e.push([a[d-1],step10]),e}function d(a,b,c){for(var d,e,g=!1,h=c,i=2/(h+1),j=[],k=[],l=b.length,m=(a[0],0);l>m;m++)b[m-1]&&k.push(b[m]),h==k.length?(d=b[m],g?(e=d*i+g*(1-i),g=e):g=f(k),j.push([a[m],g]),k.splice(0,1)):j.push([a[m],null]);return j}function e(a,b,c){for(var d=[],e=[],g=b.length,h=(a[0],0);g>h;h++)d.push(b[h]),c==d.length?(e.push([a[h],f(d)]),d.splice(0,1)):e.push([a[h],null]);return e}function f(a){for(var b=0,c=a.length,d=c;d--;)b+=a[d];return b/c}var g=a("highstock"),h=g.getOptions(),i=h.plotOptions,j=g.seriesTypes;i.trendline=g.merge(i.line,{marker:{enabled:!1},tooltip:{valueDecimals:2}}),j.trendline=g.extendClass(j.line,{type:"trendline",animate:null,requiresSorting:!1,processData:function(){var a;this.linkedParent&&(a=[].concat(this.linkedParent.options.data),this.setData(this.runAlgorithm(),!1)),g.Series.prototype.processData.call(this)},runAlgorithm:function(){var a=this.linkedParent.xData,b=this.linkedParent.yData,c=this.options.periods||100,d=this.options.algorithm||"linear";return this[d](a,b,c)},MACD:function(a,c,d){return b(a,c,d)[0]},signalLine:function(a,c,d){return b(a,c,d)[1]},SMA:function(a,b,c){return e(a,b,c)},EMA:function(a,b,c){
return d(a,b,c)},linear:function(a,b,d){return c(a,b,d)}}),i.histogram=g.merge(i.column,{borderWidth:0,tooltip:{valueDecimals:2}}),j.histogram=g.extendClass(j.column,{type:"histogram",animate:null,requiresSorting:!1,processData:function(){var a;this.linkedParent&&(a=[].concat(this.linkedParent.options.data),this.setData(this.runAlgorithm(),!1)),g.Series.prototype.processData.call(this)},runAlgorithm:function(){var a=this.linkedParent.xData,b=this.linkedParent.yData,c=this.options.periods||100,d=this.options.algorithm||"histogram";return this[d](a,b,c)},histogram:function(a,c,d){return b(a,c,d)[2]}})}),function(a){a.extend(a.jqx._jqxGrid.prototype,{exportdata:function(b,c,d,e,f,g,h){if(!a.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";void 0==d&&(d=!0);var i=this;if(void 0==e){var e=this.getrows();if(0==e.length)throw"No data to export."}this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var j=void 0!=f?f:!1,k={},l={},m=this.host.find(".jqx-grid-cell:first"),n=this.host.find(".jqx-grid-cell-alt:first");m.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),m.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),m.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),m.removeClass(this.toThemeProperty("jqx-fill-state-hover")),n.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),n.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var o="cell",p=1,q="column",r=1,s=[],t=0;t<this.columns.records.length;t++){var u=this.columns.records[t];if(""!=u.cellclassname)if(u.customCellStyles=new Array,"string"==typeof u.cellclassname)for(var v=0;v<e.length;v++)u.customCellStyles[v]=u.cellclassname;else for(var v=0;v<e.length;v++){var w=this.getrowboundindex(v),x=u.cellclassname(w,u.displayfield,e[v][u.displayfield],e[v]);x&&(u.customCellStyles[v]=x)}}var y=new Array;if(a.each(this.columns.records,function(c){var f=a(i.table[0].rows[0].cells[c]);if(i.table[0].rows.length>1)var g=a(i.table[0].rows[1].cells[c]);var h=this,m=function(a){if(a.removeClass(i.toThemeProperty("jqx-grid-cell-selected")),a.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(i.toThemeProperty("jqx-grid-cell-hover")),a.removeClass(i.toThemeProperty("jqx-fill-state-hover")),h.customCellStyles)for(var b in h.customCellStyles)a.removeClass(h.customCellStyles[b])};if(m(f),g&&m(g),null==this.displayfield)return!0;i.showaggregates&&i.getcolumnaggregateddata&&s.push(i.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,e));var n=i._getexportcolumntype(this);!this.exportable||this.hidden&&!j||(k[this.displayfield]={},k[this.displayfield].text=this.text,k[this.displayfield].width=parseInt(this.width),isNaN(k[this.displayfield].width)&&(k[this.displayfield].width=60),k[this.displayfield].formatString=this.cellsformat,k[this.displayfield].localization=i.gridlocalization,k[this.displayfield].type=n,k[this.displayfield].cellsAlign=this.cellsalign,k[this.displayfield].hidden=!d,k[this.displayfield].displayfield=this.displayfield,y.push(k[this.displayfield])),o="cell"+p;var t=a(this.element);if(void 0==this.element&&(t=a(this.uielement)),q="column"+r,"html"==b||"xls"==b||"pdf"==b){var u=function(a,c,d,e,f,g,h,i,m){l[a]={},l[a]["font-size"]=c.css("font-size"),l[a]["font-weight"]=c.css("font-weight"),l[a]["font-style"]=c.css("font-style"),l[a]["background-color"]=g._getexportcolor(c.css("background-color")),l[a].color=g._getexportcolor(c.css("color")),l[a]["border-color"]=g._getexportcolor(c.css("border-top-color")),d?l[a]["text-align"]=f.align:(l[a]["text-align"]=f.cellsalign,l[a].formatString=f.cellsformat,l[a].dataType=n),("html"==b||"pdf"==b)&&(l[a]["border-top-width"]=c.css("border-top-width"),l[a]["border-left-width"]=c.css("border-left-width"),l[a]["border-right-width"]=c.css("border-right-width"),l[a]["border-bottom-width"]=c.css("border-bottom-width"),l[a]["border-top-style"]=c.css("border-top-style"),l[a]["border-left-style"]=c.css("border-left-style"),l[a]["border-right-style"]=c.css("border-right-style"),l[a]["border-bottom-style"]=c.css("border-bottom-style"),d?(0==h&&(l[a]["border-left-width"]=c.css("border-right-width")),l[a]["border-top-width"]=c.css("border-right-width"),l[a]["border-bottom-width"]=c.css("border-bottom-width")):0==h&&(l[a]["border-left-width"]=c.css("border-right-width")),l[a].height=c.css("height")),!f.exportable||f.hidden&&!j||(1==i?(k[f.displayfield].customCellStyles||(k[f.displayfield].customCellStyles=new Array),k[f.displayfield].customCellStyles[m]=a):d?k[f.displayfield].style=a:e?k[f.displayfield].cellAltStyle=a:k[f.displayfield].cellStyle=a)};if(u(q,t,!0,!1,this,i,c),r++,u(o,f,!1,!1,this,i,c),i.altrows&&(o="cellalt"+p,u(o,g,!1,!0,this,i,c)),this.customCellStyles){for(var v in h.customCellStyles)f.removeClass(h.customCellStyles[v]);for(var v in h.customCellStyles)f.addClass(h.customCellStyles[v]),u(o+h.customCellStyles[v],f,!1,!1,this,i,c,!0,v),f.removeClass(h.customCellStyles[v])}p++}}),a.each(this.columns.records,function(a){k[this.displayfield]&&(k[this.displayfield].columnsDataFields=y)}),this.showaggregates){var z=[],A="xls"==b?"AG":"",B=this.groupable?this.groups.length:0;this.rowdetails&&B++,s.length>0&&(a.each(this.columns.records,function(a){if(this.aggregates)for(var b=0;b<this.aggregates.length;b++)if(z[b]||(z[b]={}),z[b]){var c=i._getaggregatename(this.aggregates[b]),d=i._getaggregatetype(this.aggregates[b]),e=s[a-B];e&&(z[b][this.displayfield]=A+c+": "+e[d])}}),a.each(this.columns.records,function(a){for(var b=0;b<z.length;b++)void 0==z[b][this.displayfield]&&(z[b][this.displayfield]=A)})),a.each(z,function(){e.push(this)})}var C=this,D=a.jqx.dataAdapter.ArrayExporter(e,k,l);if(void 0==c){this._renderrows(this.virtualsizeinfo);var E=D.exportTo(b);return this.showaggregates&&a.each(z,function(){e.pop(this)}),setTimeout(function(){C.exporting=!1},50),E}D.exportToFile(b,c,g,h),this.showaggregates&&a.each(z,function(){e.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){C.exporting=!1},50)},_getexportcolor:function(a){var b=a;if("transparent"==a&&(b="#FFFFFF"),b&&b.toString()||(b="#FFFFFF"),-1!=b.toString().indexOf("rgb")){var c=b.split(",");if(-1!=b.toString().indexOf("rgba")){var d=parseInt(c[0].substring(5)),e=parseInt(c[1]),f=parseInt(c[2]),g=parseInt(c[3].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return 0==d&&0==e&&0==f&&0==g?"#ffffff":"#"+i}var d=parseInt(c[0].substring(4)),e=parseInt(c[1]),f=parseInt(c[2].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return"#"+i}if(-1!=b.toString().indexOf("#")&&4==b.toString().length){var j=b.toString().substring(1,4);b+=j}return b},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},_getexportcolumntype:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){return this.name==b.displayfield?(this.type&&(f=this.type),!1):void 0}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g){if(-1!=b.cellsformat.indexOf("c"))return"number";if(-1!=b.cellsformat.indexOf("n"))return"number";if(-1!=b.cellsformat.indexOf("p"))return"number";if(-1!=b.cellsformat.indexOf("d"))return"date";if(-1!=b.cellsformat.indexOf("y"))return"date";if(-1!=b.cellsformat.indexOf("M"))return"date";if(-1!=b.cellsformat.indexOf("m"))return"date";if(-1!=b.cellsformat.indexOf("t"))return"date";if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}}return d}})}(jqxBaseFramework),define("jqx/jqxgrid.export",function(){}),function(a){"use strict";function b(b){var c=a("");try{c=a(b).clone()}catch(d){c=a("<span />").html(b)}return c}function c(a){return!!("object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName)}a.print=a.fn.print=function(){var d,e,f=this;f instanceof a&&(f=f.get(0)),c(f)?(e=a(f),arguments.length>0&&(d=arguments[0])):arguments.length>0?(e=a(arguments[0]),c(e[0])?arguments.length>1&&(d=arguments[1]):(d=arguments[0],e=a("html"))):e=a("html");var g={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null};d=a.extend({},g,d||{});var h=a("");d.globalStyles?h=a("style, link, meta, title"):d.mediaPrint&&(h=a("link[media=print]")),d.stylesheet&&(h=a.merge(h,a('<link rel="stylesheet" href="'+d.stylesheet+'">')));var i=e.clone();i=a("<span/>").append(i),i.find(d.noPrintSelector).remove(),i.append(h.clone()),i.append(b(d.append)),i.prepend(b(d.prepend));var j=i.html();i.remove();var k,l;if(d.iframe)try{var m=a(d.iframe+""),n=m.length;0===n&&(m=a('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),k=m.get(0),k=k.contentWindow||k.contentDocument||k,l=k.document||k.contentDocument||k,l.open(),l.write(j),l.close(),setTimeout(function(){k.focus(),k.print(),setTimeout(function(){0===n&&m.remove()},100)},250)}catch(o){console.error("Failed to print from iframe",o.stack,o.message),k=window.open(),k.document.write(j),k.document.close(),k.focus(),k.print(),k.close()}else k=window.open(),k.document.write(j),k.document.close(),k.focus(),k.print(),k.close();return this}}(jQuery),define("jQuery.print",function(){}),define("views/chartsList",["require","backbone.marionette","underscore","text!tpl/chartsList.html","helpers/hchartexport","helpers/technical-indicators"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=a("text!tpl/chartsList.html");return a("helpers/hchartexport"),a("helpers/technical-indicators"),b.ItemView.extend({tagName:"div",className:"pad-top",template:c.template(d),events:{"click .exportBtn":"exportEvent","click .jpgBtn":"jpgPageEvent","click .svgBtn":"svgPageEvent","click .printBtn":"printPageEvent"},exportEvent:function(b){var c=this.report.toJSON(),d=$(b.currentTarget).data("chart");a(["jqx/jqx-all","jqx/jqxgrid.export"],function(){$("#"+d).jqxGrid("exportdata","xls",c.titulo)}),ga("send","event",{eventCategory:c.idReporte+" "+c.titulo,eventAction:"descargar",eventLabel:"Excel, "+d,page:Backbone.history.location.hash})},jpgPageEvent:function(a){var b=this.report.toJSON(),c=$(a.currentTarget).data("chart"),d=this.collection.findWhere({idGrafica:c}),e=d.get("hchart"),f=d.get("hstock");"undefined"!=typeof e?e.exportChartLocal({name:b.titulo}):"undefined"!=typeof f&&f.exportChartLocal({name:b.titulo}),ga("send","event",{eventCategory:b.idReporte+" "+b.titulo,eventAction:"descargar PDF",eventLabel:"chart"+c,page:Backbone.history.location.hash})},svgPageEvent:function(a){var b=this.report.toJSON(),c=$(a.currentTarget).data("chart"),d=this.collection.findWhere({idGrafica:c}),e=d.get("hchart"),f=d.get("hstock");"undefined"!=typeof e?e.exportChartLocal({name:b.titulo,type:"image/svg+xml"}):"undefined"!=typeof f&&f.exportChartLocal({name:b.titulo,type:"image/svg+xml"}),ga("send","event",{eventCategory:b.idReporte+" "+b.titulo,eventAction:"descargar PDF",eventLabel:"chart"+c,page:Backbone.history.location.hash})},printPageEvent:function(b){var c=$(b.currentTarget).data("chart");a(["jQuery.print"],function(){$("#"+c).print()});var d=this.report.toJSON();ga("send","event",{eventCategory:d.idReporte+" "+d.titulo,eventAction:"imprimir",eventLabel:c,page:Backbone.history.location.hash})},onShow:function(){setTimeout(function(){$("#charts").animate({scrollTop:AgronetEstadisticas.scrolls.chartsList},"600","swing",function(){})},100)},scrollCharts:function(a){AgronetEstadisticas.scrolls.chartsList=$(a.currentTarget).scrollTop()},render:function(){var b=this.report.get("idReporte");this.$el.html(this.template({idReporte:b,data:this.collection.toJSON()})),c.each(this.collection.models,function(c){var d=c.toJSON();switch(d.widget){case"jqxGrid":a(["jqx/jqx-all"],function(){$("#chart"+b+"-"+d.idGrafica)[d.widget](d.opciones)});break;case"highstock":setTimeout(function(){var a=new Highcharts.StockChart(d.opciones);c.set("hstock",a)},300);break;case"highcharts":setTimeout(function(){var a=new Highcharts.Chart(d.opciones);c.set("hchart",a)},300)}}),$("#charts").on("scroll",this.scrollCharts)}})}),define("text!tpl/filtersList.html",[],function(){return'<div class="panel-heading">\n  <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="pull-right btn-group btn-group-sm" role="group" aria-label="...">\n            <a id="sourceSpecsBtn" href="<%= report.fuentesInformacion.url %>" target="_blank" class="btn btn-default">\n              Fuente: <%= report.fuentesInformacion.titulo %> <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>\n            </a>\n            <a id="specsBtn" href="<%= report.fichaTecnica %>" target="_blank" class="btn btn-success">\n              Ficha técnica <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>\n            </a>\n          </div>\n        </div>\n      </div>\n  </div>\n</div>\n<div class="panel-body panel-body1">\n  <form role="form" class="form-inline">\n    <% _.each(data, function(d){ %>\n    <div class="form-group">\n      <label for="inputfilter<%= d.idParametro %>"><%= d.label %></label>\n      <div id="inputfilter<%= d.idParametro %>" style="min-width:150px;" class="filter" data-bind="<%= d.bind %>" data-widget="<%= d.widget %>" <% if (!_.isUndefined(d.checkAllItem)) { %>data-checkall="<%= d.checkAllItem.value %>"<% } %>></div>\n    </div>\n    <% }); %>\n  </form>\n</div>\n'}),function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c=function(a){return new c.prototype.init(a)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:a.Globalize=c,c.cultures={},c.prototype={constructor:c,init:function(a){return this.cultures=c.cultures,this.cultureSelector=a,this}},c.prototype.init.prototype=c.prototype,c.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},c.cultures["default"].calendar=c.cultures["default"].calendars.standard,c.cultures.en=c.cultures["default"],c.cultureSelector="en",d=/^0x[a-f0-9]+$/i,e=/^[+\-]?infinity$/i,f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,g=/^\s+|\s+$/g,h=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},i=function(a,b){return a.substr(a.length-b.length)===b},j=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,n=arguments.length,o=!1;for("boolean"==typeof h&&(o=h,h=arguments[1]||{},i=2),"object"==typeof h||l(h)||(h={});n>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(o&&e&&(m(e)||(f=k(e)))?(f?(f=!1,g=d&&k(d)?d:[]):g=d&&m(d)?d:{},h[c]=j(o,g,e)):e!==b&&(h[c]=e));return h},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(a){return"[object Function]"===Object.prototype.toString.call(a)},m=function(a){return"[object Object]"===Object.prototype.toString.call(a)},n=function(a,b){return 0===a.indexOf(b)},o=function(a){return(a+"").replace(g,"")},p=function(a){return isNaN(a)?NaN:Math[0>a?"ceil":"floor"](a)},q=function(a,b,c){var d;for(d=a.length;b>d;d+=1)a=c?"0"+a:a+"0";return a},r=function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},s=function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},t=function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=u[b-2]+d,c.substr(c.length-b,b)):c=d}function e(){return o||p?o:(o=y.test(b),p=!0,o)}function f(a,b){if(q)return q[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b}}var g,h=c.calendar,i=h.convert;if(!b||!b.length||"i"===b){if(c&&c.name.length)if(i)g=t(a,h.patterns.F,c);else{var j=new Date(a.getTime()),k=w(a,h.eras);j.setFullYear(x(a,h,k)),g=j.toLocaleString()}else g=a.toString();return g}var l=h.eras,m="s"===b;b=s(h,b),g=[];var n,o,p,q,u=["0","00","000"],y=/([^d]|^)(d|dd)([^d]|$)/g,z=0,A=v();for(!m&&i&&(q=i.fromGregorian(a));;){var B=A.lastIndex,C=A.exec(b),D=b.slice(B,C?C.index:b.length);if(z+=r(D,g),!C)break;if(z%2)g.push(C[0]);else{var E=C[0],F=E.length;switch(E){case"ddd":case"dddd":var G=3===F?h.days.namesAbbr:h.days.names;g.push(G[a.getDay()]);break;case"d":case"dd":o=!0,g.push(d(f(a,2),F));break;case"MMM":case"MMMM":var H=f(a,1);g.push(h.monthsGenitive&&e()?h.monthsGenitive[3===F?"namesAbbr":"names"][H]:h.months[3===F?"namesAbbr":"names"][H]);break;case"M":case"MM":g.push(d(f(a,1)+1,F));break;case"y":case"yy":case"yyyy":H=q?q[0]:x(a,h,w(a,l),m),4>F&&(H%=100),g.push(d(H,F));break;case"h":case"hh":n=a.getHours()%12,0===n&&(n=12),g.push(d(n,F));break;case"H":case"HH":g.push(d(a.getHours(),F));break;case"m":case"mm":g.push(d(a.getMinutes(),F));break;case"s":case"ss":g.push(d(a.getSeconds(),F));break;case"t":case"tt":H=a.getHours()<12?h.AM?h.AM[0]:" ":h.PM?h.PM[0]:" ",g.push(1===F?H.charAt(0):H);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,F));break;case"z":case"zz":n=a.getTimezoneOffset()/60,g.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),F));break;case"zzz":n=a.getTimezoneOffset()/60,g.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":h.eras&&g.push(h.eras[w(a,l)].name);break;case"/":g.push(h["/"]);break;default:throw"Invalid date format pattern '"+E+"'."}}}return g.join("")},function(){var a;a=function(a,b,c){var d=c.groupSizes,e=d[0],f=1,g=Math.pow(10,b),h=Math.round(a*g)/g;isFinite(h)||(h=a),a=h;var i=a+"",j="",k=i.split(/e/i),l=k.length>1?parseInt(k[1],10):0;i=k[0],k=i.split("."),i=k[0],j=k.length>1?k[1]:"";l>0?(j=q(j,l,!1),i+=j.slice(0,l),j=j.substr(l)):0>l&&(l=-l,i=q(i,l+1,!0),j=i.slice(-l,i.length)+j,i=i.slice(0,-l)),j=b>0?c["."]+(j.length>b?j.slice(0,b):q(j,b)):"";for(var m=i.length-1,n=c[","],o="";m>=0;){if(0===e||e>m)return i.slice(0,m+1)+(o.length?n+o+j:j);o=i.slice(m-e+1,m+1)+(o.length?n+o:""),m-=e,f<d.length&&(e=d[f],f++)}return i.slice(0,m+1)+n+o+j},u=function(b,c,d){if(!isFinite(b))return b===1/0?d.numberFormat.positiveInfinity:b===-(1/0)?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";var e,f=d.numberFormat,g=Math.abs(b),h=-1;c.length>1&&(h=parseInt(c.slice(1),10));var i,j=c.charAt(0).toUpperCase();switch(j){case"D":e="n",g=p(g),-1!==h&&(g=q(""+g,h,!0)),0>b&&(g="-"+g);break;case"N":i=f;case"C":i=i||f.currency;case"P":i=i||f.percent,e=0>b?i.pattern[0]:i.pattern[1]||"n",-1===h&&(h=i.decimals),g=a(g*("P"===j?100:1),h,i);break;default:throw"Bad number format specifier: "+j}for(var k=/n|\$|-|%/g,l="";;){var m=k.lastIndex,n=k.exec(e);if(l+=e.slice(m,n?n.index:e.length),!n)break;switch(n[0]){case"n":l+=g;break;case"$":l+=f.currency.symbol;break;case"-":/[1-9]/.test(g)&&(l+=f["-"]);break;case"%":l+=f.percent.symbol}}return l}}(),v=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},x=function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},function(){var a,b,c,d,e,f,g;a=function(a,b){if(100>b){var c=new Date,d=w(c),e=x(c,a,d),f=a.twoDigitYearMax;f="string"==typeof f?(new Date).getFullYear()%100+parseInt(f,10):f,b+=e-e%100,b>f&&(b-=100)}return b},b=function(a,b,c){var d,e=a.days,i=a._upperDays;return i||(a._upperDays=i=[g(e.names),g(e.namesAbbr),g(e.namesShort)]),b=f(b),c?(d=h(i[1],b),-1===d&&(d=h(i[2],b))):d=h(i[0],b),d},c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,i=a._upperMonths,j=a._upperMonthsGen;i||(a._upperMonths=i=[g(d.names),g(d.namesAbbr)],a._upperMonthsGen=j=[g(e.names),g(e.namesAbbr)]),b=f(b);var k=h(c?i[1]:i[0],b);return 0>k&&(k=h(c?j[1]:j[0],b)),k},d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=s(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=v();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=r(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\/)";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}r(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},e=function(a,b,c){return b>a||a>c},f=function(a){return a.split(" ").join(" ").toUpperCase()},g=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=f(a[c]);return b},y=function(f,g,h){f=o(f);var i=h.calendar,j=d(i,g),k=new RegExp(j.regExp).exec(f);if(null===k)return null;for(var l,m=j.groups,p=null,q=null,r=null,s=null,t=null,u=0,v=0,w=0,x=0,y=null,z=!1,A=0,B=m.length;B>A;A++){var C=k[A+1];if(C){var D=m[A],E=D.length,F=parseInt(C,10);switch(D){case"dd":case"d":if(s=F,e(s,1,31))return null;break;case"MMM":case"MMMM":if(r=c(i,C,3===E),e(r,0,11))return null;break;case"M":case"MM":if(r=F-1,e(r,0,11))return null;break;case"y":case"yy":case"yyyy":if(q=4>E?a(i,F):F,e(q,0,9999))return null;break;case"h":case"hh":if(u=F,12===u&&(u=0),e(u,0,11))return null;break;case"H":case"HH":if(u=F,e(u,0,23))return null;break;case"m":case"mm":if(v=F,e(v,0,59))return null;break;case"s":case"ss":if(w=F,e(w,0,59))return null;break;case"tt":case"t":if(z=i.PM&&(C===i.PM[0]||C===i.PM[1]||C===i.PM[2]),!z&&(!i.AM||C!==i.AM[0]&&C!==i.AM[1]&&C!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(x=F*Math.pow(10,3-E),e(x,0,999))return null;break;case"ddd":case"dddd":if(t=b(i,C,3===E),e(t,0,6))return null;break;case"zzz":var G=C.split(/:/);if(2!==G.length)return null;if(l=parseInt(G[0],10),e(l,-12,13))return null;var H=parseInt(G[1],10);if(e(H,0,59))return null;y=60*l+(n(C,"-")?-H:H);break;case"z":case"zz":if(l=F,e(l,-12,13))return null;y=60*l;break;case"g":case"gg":var I=C;if(!I||!i.eras)return null;I=o(I.toLowerCase());for(var J=0,K=i.eras.length;K>J;J++)if(I===i.eras[J].name.toLowerCase()){p=J;break}if(null===p)return null}}}var L,M=new Date,N=i.convert;if(L=N?N.fromGregorian(M)[0]:M.getFullYear(),null===q?q=L:i.eras&&(q+=i.eras[p||0].offset),null===r&&(r=0),null===s&&(s=1),N){if(M=N.toGregorian(q,r,s),null===M)return null}else{if(M.setFullYear(q,r,s),M.getDate()!==s)return null;if(null!==t&&M.getDay()!==t)return null}if(z&&12>u&&(u+=12),M.setHours(u,v,w,x),null!==y){var O=M.getMinutes()-(y+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(O/60,10),O%60)}return M}}(),z=function(a,b,c){var d,e=b["-"],f=b["+"];switch(c){case"n -":e=" "+e,f=" "+f;case"n-":i(a,e)?d=["-",a.substr(0,a.length-e.length)]:i(a,f)&&(d=["+",a.substr(0,a.length-f.length)]);break;case"- n":e+=" ",f+=" ";case"-n":n(a,e)?d=["-",a.substr(e.length)]:n(a,f)&&(d=["+",a.substr(f.length)]);break;case"(n)":n(a,"(")&&i(a,")")&&(d=["-",a.substr(1,a.length-2)])}return d||["",a]},c.prototype.findClosestCulture=function(a){return c.findClosestCulture.call(this,a)},c.prototype.format=function(a,b,d){return c.format.call(this,a,b,d)},c.prototype.localize=function(a,b){return c.localize.call(this,a,b)},c.prototype.parseInt=function(a,b,d){return c.parseInt.call(this,a,b,d)},c.prototype.parseFloat=function(a,b,d){return c.parseFloat.call(this,a,b,d)},c.prototype.culture=function(a){return c.culture.call(this,a)},c.addCultureInfo=function(a,b,c){var d={},e=!1;"string"!=typeof a?(c=a,a=this.culture().name,d=this.cultures[a]):"string"!=typeof b?(c=b,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]),this.cultures[a]=j(!0,{},d,c),e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)},c.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof a&&(a=a.split(",")),k(a)){var c,d,e=this.cultures,f=a,g=f.length,h=[];for(d=0;g>d;d++){a=o(f[d]);var i,j=a.split(";");c=o(j[0]),1===j.length?i=1:(a=o(j[1]),0===a.indexOf("q=")?(a=a.substr(2),i=parseFloat(a),i=isNaN(i)?0:i):i=1),h.push({lang:c,pri:i})}for(h.sort(function(a,b){return a.pri<b.pri?1:a.pri>b.pri?-1:0}),d=0;g>d;d++)if(c=h[d].lang,b=e[c])return b;for(d=0;g>d;d++)for(c=h[d].lang;;){var l=c.lastIndexOf("-");if(-1===l)break;if(c=c.substr(0,l),b=e[c])return b}for(d=0;g>d;d++){c=h[d].lang;for(var m in e){var n=e[m];if(n.language==c)return n}}}else if("object"==typeof a)return a;return b||null},c.format=function(a,b,c){var d=this.findClosestCulture(c);return a instanceof Date?a=t(a,b,d):"number"==typeof a&&(a=u(a,b,d)),a},c.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]},c.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e,f;if(b){if("string"==typeof b&&(b=[b]),b.length)for(var g=0,h=b.length;h>g;g++){var i=b[g];if(i&&(d=y(a,i,c)))break}}else{f=c.calendar.patterns;for(e in f)if(d=y(a,f[e],c))break}return d||null},c.parseInt=function(a,b,d){return p(c.parseFloat(a,b,d))},c.parseFloat=function(a,b,c){"number"!=typeof b&&(c=b,b=10);var g=this.findClosestCulture(c),h=NaN,i=g.numberFormat;if(a.indexOf(g.numberFormat.currency.symbol)>-1&&(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."])),a.indexOf(g.numberFormat.percent.symbol)>-1&&(a=a.replace(g.numberFormat.percent.symbol,"")),a=a.replace(/ /g,""),e.test(a))h=parseFloat(a);else if(!b&&d.test(a))h=parseInt(a,16);else{var j=z(a,i,i.pattern[0]),k=j[0],l=j[1];""===k&&"(n)"!==i.pattern[0]&&(j=z(a,i,"(n)"),k=j[0],l=j[1]),""===k&&"-n"!==i.pattern[0]&&(j=z(a,i,"-n"),k=j[0],l=j[1]),k=k||"+";var m,n,o=l.indexOf("e");0>o&&(o=l.indexOf("E")),0>o?(n=l,m=null):(n=l.substr(0,o),m=l.substr(o+1));var p,q,r=i["."],s=n.indexOf(r);0>s?(p=n,q=null):(p=n.substr(0,s),q=n.substr(s+r.length));var t=i[","];p=p.split(t).join("");var u=t.replace(/\u00A0/g," ");t!==u&&(p=p.split(u).join(""));var v=k+p;if(null!==q&&(v+="."+q),null!==m){var w=z(m,i,"-n");v+="e"+(w[0]||"+")+w[1]}f.test(v)&&(h=parseFloat(v))}return h},c.culture=function(a){return"undefined"!=typeof a&&(this.cultureSelector=a),this.findClosestCulture(a)||this.cultures["default"]}}(this),define("globalize",function(){}),function(a,b){var c;c="undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?require("globalize"):a.Globalize,c.addCultureInfo("es-CO","default",{name:"es-CO",englishName:"Spanish (Colombia)",nativeName:"Español (Colombia)",language:"es",numberFormat:{",":".",".":",",NaN:"NeuN",negativeInfinity:"-Infinito",positiveInfinity:"Infinito",percent:{",":".",".":","},currency:{pattern:["($ n)","$ n"],",":".",".":","}},calendars:{standard:{days:{names:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],namesAbbr:["dom","lun","mar","mié","jue","vie","sáb"],namesShort:["do","lu","ma","mi","ju","vi","sá"]},months:{names:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],namesAbbr:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},AM:["a.m.","a.m.","A.M."],PM:["p.m.","p.m.","P.M."],eras:[{name:"d.C.",start:null,offset:0}],patterns:{d:"dd/MM/yyyy",D:"dddd, dd' de 'MMMM' de 'yyyy",t:"hh:mm tt",T:"hh:mm:ss tt",f:"dddd, dd' de 'MMMM' de 'yyyy hh:mm tt",F:"dddd, dd' de 'MMMM' de 'yyyy hh:mm:ss tt",M:"dd MMMM",Y:"MMMM' de 'yyyy"}}}})}(this),define("globalize.culture.es-CO",["globalize"],function(a){return function(){var b;return b||a.globalize}}(this)),define("views/filtersList",["require","backbone.marionette","underscore","moment","text!tpl/filtersList.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=(a("moment"),a("text!tpl/filtersList.html"));return b.ItemView.extend({className:"panel panel-default text panel-h",template:c.template(d),events:{"click #specsBtn":"downloadSpecsEvent","click #sourceSpecsBtn":"downloadSourceSpecsEvent"},checkChangeEvent:function(a){var b=$(a.currentTarget).data("checkall");a.args&&(a.args.value!=b&&"undefined"!=typeof a.args.value||!a.args.checked?a.args.value!=b&&"undefined"!=typeof a.args.value||a.args.checked||$(this).jqxComboBox("uncheckAll"):$(this).jqxComboBox("checkAll"))},closeEvent:function(a){var b={},c=$(a.currentTarget).data("bind"),d=$(a.currentTarget).data("checkall"),e=$(a.currentTarget).data("widget");if("jqxDateTimeInput"===e)b[c]=a.args.date.toJSON();else if("jqxComboBox"===e){var f=$(this).jqxComboBox("getCheckedItems");if(f)b[c]=[],$.each(f,function(a,e){return d==e.value?(b[c]=[d],!1):void b[c].push(e.value)});else{var g=$(this).jqxComboBox("getSelectedItem");b[c]=g.value}}"undefined"!==b&&(AgronetEstadisticas.params=$.extend(AgronetEstadisticas.params,b),setTimeout(function(){var a=AgronetEstadisticas.Router.toFragment("reporte/"+AgronetEstadisticas.idCategory+"/"+AgronetEstadisticas.idReport,AgronetEstadisticas.params);AgronetEstadisticas.Router.navigate(a,{trigger:!0})},1e3))},downloadSpecsEvent:function(){var a=this.report.toJSON();ga("send","event",{eventCategory:a.idReporte+" "+a.titulo,eventAction:"descargar",eventLabel:"Ficha Técnica",page:Backbone.history.location.hash})},downloadSourceSpecsEvent:function(){var a=this.report.toJSON();ga("send","event",{eventCategory:a.idReporte+" "+a.titulo,eventAction:"descargar",eventLabel:"Ficha metodológica, "+a.fuentesInformacion.titulo,page:Backbone.history.location.hash})},reloadURL:function(){var a=AgronetEstadisticas.Router.toFragment("reporte/"+AgronetEstadisticas.idCategory+"/"+AgronetEstadisticas.idReport,AgronetEstadisticas.params);
AgronetEstadisticas.Router.navigate(a,{trigger:!0})},onShow:function(){var a=this;setTimeout(function(){c.each(a.collection.models,function(a){var b=a.toJSON();$.each(AgronetEstadisticas.params,function(a,c){b.bind===a&&"jqxComboBox"===b.widget&&(b.opciones.checkboxes?$.each(c,function(a,c){$("#inputfilter"+b.idParametro).jqxComboBox("checkItem",c)}):$("#inputfilter"+b.idParametro).jqxComboBox("selectItem",c))})}),$("#charts").css("height",848-$("#filters").height())},600)},render:function(){this.$el.html(this.template({report:this.report.toJSON(),data:this.collection.toJSON()}));var b=this;a(["jqx/jqx-all","globalize.culture.es-CO"],function(){c.each(b.collection.models,function(a){var c=a.toJSON();"jqxComboBox"==c.widget&&c.opciones.checkboxes&&"undefined"!=typeof c.checkAllItem&&c.opciones.source.unshift(c.checkAllItem),$("#inputfilter"+c.idParametro)[c.widget](c.opciones),$("#inputfilter"+c.idParametro).on("close",b.closeEvent),$("#inputfilter"+c.idParametro).on("checkChange",b.checkChangeEvent)})})}})}),define("text!tpl/filesList.html",[],function(){return'<div class="panel-heading">\n  <h3 class="panel-title"><strong><%= report.titulo %></strong></h3>\n</div>\n<ul class="panel-body list-group" style="padding: 0;">\n  <% _.each(data, function(d){ %>\n    <a href="<%= d.url %>" target="_blank" class="list-group-item">\n      <span class="badge alert-info">\n        Descargar\n        <i class="glyphicon glyphicon-download-alt" aria-hidden="true"></i>\n      </span>\n      <p><strong><%= d.titulo %></strong></p>\n    </a>\n  <% }); %>\n</ul>\n'}),define("views/filesList",["require","backbone.marionette","underscore","moment","text!tpl/filesList.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=(a("moment"),a("text!tpl/filesList.html"));return b.ItemView.extend({className:"panel panel-default file-list",template:c.template(d),render:function(){$("#charts").css("height","777px"),this.$el.html(this.template({data:this.collection.toJSON(),report:this.report.toJSON()}))}})}),define("text!tpl/filesHeader.html",[],function(){return'<div class="panel-heading">\n  <div class="container-fluid">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="pull-right btn-group btn-group-sm" role="group" aria-label="...">\n            <a id="sourceSpecsBtn" href="<%= report.fuentesInformacion.url %>" target="_blank" class="btn btn-default">\n              Fuente: <%= report.fuentesInformacion.titulo %> <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>\n            </a>\n          </div>\n        </div>\n      </div>\n  </div>\n</div>\n'}),define("views/filesHeader",["require","backbone.marionette","underscore","moment","text!tpl/filesHeader.html"],function(a){"use strict";var b=a("backbone.marionette"),c=a("underscore"),d=(a("moment"),a("text!tpl/filesHeader.html"));return b.ItemView.extend({className:"panel panel-default text filters-h",template:c.template(d),events:{"click #sourceSpecsBtn":"downloadSourceSpecsEvent"},downloadSourceSpecsEvent:function(){var a=this.report.toJSON();ga("send","event",{eventCategory:a.idReporte+" "+a.titulo,eventAction:"descargar",eventLabel:"Ficha metodológica, "+a.fuentesInformacion.titulo,page:Backbone.history.location.hash})},render:function(){this.$el.html(this.template({report:this.report.toJSON()}))}})}),define("models/category",["require","backbone","adapters/adapter"],function(a){"use strict";var b=a("backbone"),c=a("adapters/adapter"),d=b.Model.extend({}),e=b.Collection.extend({Model:d,sync:function(a,b,d){"read"===a&&c.findAll().done(function(a){a.sort(function(a,b){return a.ordenamiento-b.ordenamiento}),d.success(a)})}});return{Model:d,Collection:e}}),define("models/homeReport",["require","backbone","views/loading","adapters/adapter"],function(a){"use strict";var b=a("backbone"),c=a("views/loading"),d=a("adapters/adapter"),e=b.Model.extend({}),f=b.Collection.extend({Model:e,sync:function(b,e,f){var g=this;"read"===b&&"undefined"!=typeof this.homeReports&&this.homeReports.length>0&&a(["helpers/report","jqx/jqx-all"],function(a){d.findReportsByIds(g.homeReports).done(function(b){var d=[];$.each(b,function(e,g){var h=g,i=h.graficas[Math.floor(Math.random()*h.graficas.length)],j=new $.jqx.dataAdapter(i["jqx.dataAdapter"].source,{loadComplete:function(c){switch(i.widget){case"jqxGrid":i.opciones.localization={pagergotopagestring:"Ir a la página:",pagershowrowsstring:"Mostrar filas:",pagerrangestring:" de ",pagerpreviousbuttonstring:"anterior",pagernextbuttonstring:"siguiente",pagerfirstbuttonstring:"primero",pagerlastbuttonstring:"último",loadtext:"Cargando...",clearstring:"Limpiar",todaystring:"Hoy",sortascendingstring:"Orden Ascendente",sortdescendingstring:"Orden Descendente",sortremovestring:"Limpiar Orden",groupsheaderstring:"Arrastre aquí una columna para agrupar los valores",groupbystring:"Agrupar por esta columna",groupremovestring:"Eliminar de los grupos",decimalseparator:",",thousandsseparator:"."};for(var e=i.opciones.columns,j=c.rows,k=new $.jqx.dataAdapter({localdata:j}),l=0;l<e.length;l++)"undefined"!==e[l].cellsrenderer&&(e[l].cellsrenderer=a[e[l].cellsrenderer]);"undefined"!==i.opciones.groupsrenderer&&(i.opciones.groupsrenderer=a[i.opciones.groupsrenderer]),i.opciones.source=k;break;case"highstock":if(i.opciones.exporting={enabled:!1},i.opciones.chart={renderTo:"chart"+g.idReporte},"undefined"!=typeof c.subtitle&&""!==c.subtitle&&null!==c.subtitle&&(i.opciones.subtitle.text=c.subtitle),"undefined"!=typeof c.series){for(var m=[],n=0;n<c.series.length;n++){for(var o=c.series[n].data,p=0;p<o.length;p++)o[p].x=parseInt(o[p].name+"000",0),"NaN"===o[p].y&&(o[p].y=0),delete o[p].name;m.push(c.series[n])}i.opciones.series=m}break;case"highcharts":if(i.opciones.exporting={enabled:!1},i.opciones.chart={renderTo:"chart"+g.idReporte},"undefined"!=typeof c.subtitle&&""!==c.subtitle&&null!==c.subtitle&&(i.opciones.subtitle.text=c.subtitle),"undefined"!=typeof c.series){for(var q=[],r=0;r<c.series.length;r++)q.push($.extend(i.opciones.series[r],c.series[r]));i.opciones.series=q}}h.graficas=[],h.graficas.push(i),d.push(h),d.length===b.length&&f.success(d)},loadError:function(a,c,e){var g="";switch(a.status){case 0:g="Error de conexión, verifica tu conexión ó intétalo más tarde.";break;case 404:g="Error 404, no encontramos resultados con tu búsqueda.";break;case 500:g="Error 500, hay problemas con el servidor de datos."}d.length===b.length&&f.error(g)},beforeSend:function(a){var b=new c;b.message="gráficos",b.height=849,AgronetEstadisticas.mainRegion.currentView.homeReportsRegion.show(b)}});j.dataBind()})})})}});return{Model:e,Collection:f}}),define("models/filter",["require","backbone","adapters/adapter","views/loading"],function(a){"use strict";var b=a("backbone"),c=(a("adapters/adapter"),a("views/loading")),d=b.Model.extend({}),e=b.Collection.extend({Model:d,sync:function(b,d,e){var f=this;"read"===b&&"undefined"!=typeof this.idCategory&&"undefined"!=typeof this.idReport&&a(["adapters/adapter","jqx/jqx-all"],function(a){a.findFiltersByReportId(f.idCategory,f.idReport).done(function(a){var b=[];$.each(a,function(d,g){var h=g["jqx.dataAdapter"].source;"undefined"!==f.params&&(h.data=$.extend(h.data,f.params));var i=new $.jqx.dataAdapter(g["jqx.dataAdapter"].source,{loadComplete:function(c){"undefined"!=typeof c.data&&(g.opciones.source=c.data),b.push(g),b.length===a.length&&(b.sort(function(a,b){return a.idParametro-b.idParametro}),e.success(b))},loadError:function(a,b,c){var d="";switch(a.status){case 0:d="Error de conexión, verifica tu conexión ó intétalo más tarde.";break;case 404:d="Error 404, no encontramos resultados con tu búsqueda.";break;case 500:d="Error 500, hay problemas con el servidor de datos."}e.error(d)},beforeSend:function(a){AgronetEstadisticas.xhrPool.push(a);var b=new c;b.message="parámetros",b.height=132,AgronetEstadisticas.mainRegion.currentView.filtersRegion.show(b)}});i.dataBind()})})})}});return{Model:d,Collection:e}}),define("models/file",["require","backbone","adapters/adapter"],function(a){"use strict";var b=a("backbone"),c=a("adapters/adapter"),d=b.Model.extend({}),e=b.Collection.extend({Model:d,sync:function(a,b,d){var e=this;"read"===a&&"undefined"!=typeof this.idCategory&&"undefined"!=typeof this.idReport&&c.findFilesByReportId(e.idCategory,e.idReport).done(function(a){a.sort(function(a,b){return b.ordenamiento-a.ordenamiento}),d.success(a)})}});return{Model:d,Collection:e}}),define("routers/main",["require","backbone.marionette","views/home","views/categories","views/homeReports","views/reports","views/reportsList","views/chartsList","views/filtersList","views/filesList","views/filesHeader","views/error","models/category","models/homeReport","models/report","models/chart","models/filter","models/file"],function(a){"use strict";var b=a("backbone.marionette"),c=a("views/home"),d=a("views/categories"),e=a("views/homeReports"),f=a("views/reports"),g=a("views/reportsList"),h=a("views/chartsList"),i=a("views/filtersList"),j=a("views/filesList"),k=a("views/filesHeader"),l=a("views/error"),m=a("models/category"),n=(a("models/homeReport"),a("models/report")),o=a("models/chart"),p=a("models/filter"),q=a("models/file");return b.AppRouter.extend({appRoutes:{"":"home","reporte/:idCategory/:idReport":"report"},controller:{home:function(b){$.map(AgronetEstadisticas.xhrPool,function(a){a.abort()});var f=new m.Collection,g=new n.Collection,h=new d,i=new e,j=new c;AgronetEstadisticas.mainRegion.show(j),f.fetch({success:function(a){h.collection=a,AgronetEstadisticas.mainRegion.currentView.categoriesRegion.show(h)}}),"undefined"!=typeof b&&(g.homeReports=b.masVistos),g.fetch({success:function(b){i.collection=b,b.each(function(b){if("reporte"===b.get("tipo")){var c=new o.Collection;c.idCategory=b.get("idCategoria"),c.idReport=b.get("idReporte"),c.tipo="homeView",c.fetch({success:function(c){AgronetEstadisticas.mainRegion.currentView.homeReportsRegion.show(i),c.each(function(c){var d=c.toJSON();switch(d.widget){case"jqxGrid":a(["jqx/jqx-all"],function(){$("#chart"+b.get("idReporte")+"-"+d.idGrafica)[d.widget](d.opciones),$("#chart"+b.get("idReporte")+"-"+d.idGrafica).jqxGrid("autoresizecolumns")});break;case"highstock":setTimeout(function(){var a=new Highcharts.StockChart(d.opciones);c.set("hstock",a)},300);break;case"highcharts":setTimeout(function(){var a=new Highcharts.Chart(d.opciones);c.set("hchart",a)},300)}})},error:function(a,b){var c=new l;c.message=b,c.height=849,AgronetEstadisticas.mainRegion.currentView.homeReportsRegion.show(c)}})}})}}),ga("send","pageview",{title:"Inicio",page:Backbone.history.location.hash})},report:function(a,b,c){$.map(AgronetEstadisticas.xhrPool,function(a){a.abort()}),AgronetEstadisticas.xhrPool=[],AgronetEstadisticas.params=[];var e=new m.Collection,r=new n.Collection,s=new n.Model,t=new o.Collection,u=new p.Collection,v=new q.Collection,w=new f,x=new d,y=new g,z=new h,A=new i,B=new j,C=new k;AgronetEstadisticas.mainRegion.show(w),"undefined"!=typeof a&&(r.idCategory=a,s.idCategory=a,t.idCategory=a,u.idCategory=a,v.idCategory=a,AgronetEstadisticas.idCategory=a),e.fetch({success:function(b){x.collection=b,AgronetEstadisticas.mainRegion.currentView.categoriesRegion.show(x),b.each(function(b){if(b.get("idCategoria")==a){var c=Backbone.View.extend({tagName:"span",className:"navbar-brand title",render:function(){this.$el.html(b.get("tituloPrincipal"))}});AgronetEstadisticas.mainRegion.currentView.titleRegion.show(new c)}})}}),"undefined"!=typeof b&&(s.idReport=b,t.idReport=b,u.idReport=b,v.idReport=b,AgronetEstadisticas.idReport=b),r.fetch({success:function(a){y.collection=a,AgronetEstadisticas.mainRegion.currentView.reportsRegion.show(y)}}),s.fetch({success:function(a){switch(document.title=a.get("titulo"),ga("send","pageview",{title:a.get("idReporte")+" "+a.get("titulo"),page:Backbone.history.location.hash}),"undefined"!=typeof c&&(t.params=c,u.params=c,AgronetEstadisticas.params=c),a.get("tipo")){case"reporte":t.tipo="reportView",t.fetch({success:function(b){z.collection=b,z.report=a,AgronetEstadisticas.mainRegion.currentView.chartsRegion.show(z)},error:function(a,b){var c=new l;c.message=b,c.height=716,AgronetEstadisticas.mainRegion.currentView.chartsRegion.show(c)}}),u.fetch({success:function(b){A.collection=b,A.report=a,AgronetEstadisticas.mainRegion.currentView.filtersRegion.show(A)},error:function(a,b){var c=new l;c.message=b,c.height=132,AgronetEstadisticas.mainRegion.currentView.filtersRegion.show(c)}});break;case"descargable":v.fetch({success:function(b){B.report=a,B.collection=b,AgronetEstadisticas.mainRegion.currentView.chartsRegion.show(B),C.report=a,AgronetEstadisticas.mainRegion.currentView.filtersRegion.show(C)},error:function(a,b){var c=new l;c.message=b,c.height=777,AgronetEstadisticas.mainRegion.currentView.filtersRegion.show(c)}})}}})}}})}),function(a,b){"function"==typeof define&&define.amd?define("backbone.query.parameters",["underscore","backbone"],function(c,d){return b(c||a._,d||a.Backbone)}):"object"==typeof exports?module.exports=b(require("underscore"),require("backbone")):b(_,Backbone)}(this,function(a,b){function c(d,e){function f(a){return String(a).replace(g,encodeURIComponent(g))}var g=b.Router.arrayValueSplit;if(!d)return"";e=e||"";var h=[];return a.each(d,function(b,d){if(d=e+d,a.isString(b)||a.isNumber(b)||a.isBoolean(b)||a.isDate(b))null!=b&&h.push(d+"="+f(encodeURIComponent(b)));else if(a.isArray(b)){for(var i="",j=0;j<b.length;j++){var k=b[j];null!=k&&(i+=g+f(k))}i&&h.push(d+"="+i)}else{var l=c(b,d+".");l&&h.push(l)}}),h.join("&")}function d(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}function e(b,c){var d=b.split("&");a.each(d,function(a){var b=a.split("=");c(b.shift(),b.join("="))})}var f=/^\?(.*)/,g=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,i=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g,k=/^([^\?]*)/,l=/[\:\*]([^\:\?\/]+)/g,m=/^[#\/]|\s+$/g,n=/\/$/;b.Router.arrayValueSplit="|",a.extend(b.History.prototype,{getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(n,""),d=this.location.search;a.indexOf(c)||(a=a.substr(c.length)),d&&this._hasPushState&&(a+=d)}else a=this.getHash();return a.replace(m,"")},getQueryParameters:function(b,c){b=this.getFragment(b,c);var g=b.replace(k,""),h=g.match(f);if(h){g=h[1];var i={};return e(g,function(b,c){c=d(c),i[b]?a.isString(i[b])?i[b]=[i[b],c]:i[b].push(c):i[b]=c}),i}return{}}}),a.extend(b.Router.prototype,{initialize:function(a){this.encodedSplatParts=a&&a.encodedSplatParts},_routeToRegExp:function(b){var c=i.exec(b)||{index:-1},d=h.exec(b)||{index:-1},e=b.match(l)||[];b=b.replace(j,"\\$&").replace(g,"(?:$1)?").replace(h,function(a,b){return b?a:"([^\\/\\?]+)"}).replace(i,"([^??]*?)"),b+="(\\?.*)?";var f=new RegExp("^"+b+"$");return c.index>=0&&(d>=0?f.splatMatch=c.index-d.index:f.splatMatch=-1),f.paramNames=a.map(e,function(a){return a.replace(/\)$/,"").substring(1)}),f.namedParameters=this.namedParameters,f},_extractParameters:function(c,g){var h=c.exec(g).slice(1),i={};h.length>0&&!h[h.length-1]&&h.splice(h.length-1,1);var j=h.length&&h[h.length-1]&&h[h.length-1].match(f);if(j){var k=j[1],l={};if(k){var m=this;e(k,function(a,b){m._setParamValue(a,b,l)})}h[h.length-1]=l,a.extend(i,l)}var n=h.length;if(c.splatMatch&&this.encodedSplatParts){if(c.splatMatch<0)return h;n-=1}for(var o=0;n>o;o++)a.isString(h[o])&&(h[o]=d(h[o]),c.paramNames&&c.paramNames.length>=o-1&&(i[c.paramNames[o]]=h[o]));return b.Router.namedParameters||c.namedParameters?[i]:h},_setParamValue:function(a,b,c){a=a.replace("[]",""),a=a.replace("%5B%5D","");for(var d=a.split("."),e=c,f=0;f<d.length;f++){var g=d[f];f===d.length-1?e[g]=this._decodeParamValue(b,e[g]):e=e[g]=e[g]||{}}},_decodeParamValue:function(c,e){var f=b.Router.arrayValueSplit;if(f&&c.indexOf(f)>=0){for(var g=c.split(f),h=g.length-1;h>=0;h--)g[h]?g[h]=d(g[h]):g.splice(h,1);return g}return c=d(c),e?a.isArray(e)?(e.push(c),e):[e,c]:c},toFragment:function(b,d){return d&&(a.isString(d)||(d=c(d)),d&&(b+="?"+d)),b}})}),function(a){"function"==typeof define&&define.amd?define("momentEs",["moment"],a):"object"==typeof exports?module.exports=a(require("../moment")):a(("undefined"!=typeof global?global:this).moment)}(function(a){var b="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),c="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return a.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,d){return/-MMM-/.test(d)?c[a.month()]:b[a.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),window.AgronetEstadisticas={},require.config({shim:{"bootstrap/modal":{deps:["jquery"],exports:"jquery"},"backbone.marionette":{deps:["backbone"],exports:"backbone.marionette"},"globalize.culture.es-CO":{deps:["globalize"],exports:"globalize"},highstock:{deps:["jquery"],exports:"Highcharts"},"highcharts.exporting":{deps:["highstock"]}},paths:{jquery:"../bower_components/jquery/dist/jquery",backbone:"../bower_components/backbone/backbone","backbone.marionette":"../bower_components/marionette/lib/backbone.marionette","backbone.query.parameters":"../bower_components/backbone-query-parameters/backbone.queryparams","backbone.localstorage":"../bower_components/backbone.localstorage/backbone.localStorage",underscore:"../bower_components/lodash/dist/lodash",bootstrap:"../bower_components/bootstrap-sass-official/assets/javascripts/bootstrap",highcharts:"../bower_components/highcharts/highcharts","highcharts.exporting":"../bower_components/highcharts/modules/exporting",highstock:"../bower_components/highstock-release/highstock",highmaps:"../bower_components/highmaps-release",jqx:"../vendor/jqwidgets",globalize:"../vendor/jqwidgets/globalization/globalize","globalize.culture.es-CO":"../vendor/jqwidgets/globalization/globalize.culture.es-CO",text:"../bower_components/requirejs-plugins/lib/text",json:"../bower_components/requirejs-plugins/src/json","jQuery.print":"../bower_components/jQuery.print/jQuery.print",moment:"../bower_components/momentjs/moment",momentEs:"../bower_components/momentjs/locale/es"}}),require(["backbone","backbone.marionette","routers/main","backbone.query.parameters","highstock","moment","momentEs"],function(a,b,c){AgronetEstadisticas=new b.Application,AgronetEstadisticas.addRegions({mainRegion:"#main-region",searchRegion:"#search-region"}),AgronetEstadisticas.params=[],AgronetEstadisticas.xhrPool=[],AgronetEstadisticas.scrolls={reportsList:0,chartsList:0},AgronetEstadisticas.addInitializer(function(){AgronetEstadisticas.Router=new c}),AgronetEstadisticas.navigate=function(b,c){c||(c={}),a.history.navigate(b,c)},AgronetEstadisticas.getCurrentRoute=function(){return a.history.fragment},AgronetEstadisticas.on("start",function(){a.history&&a.history.start(),Highcharts.setOptions({lang:{thousandsSep:".",decimalPoint:",",shortMonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],rangeSelectorFrom:"Desde",rangeSelectorTo:"Hasta",rangeSelectorZoom:"Ampliar/Reducir"}})}),AgronetEstadisticas.start(),moment.locale("es"),ga("create","UA-38798230-1","auto"),ga("set",{appName:"AgronetEstadisticas",appVersion:"1.0",appInstallerId:"com.cool4code"})}),define("main",function(){})}();